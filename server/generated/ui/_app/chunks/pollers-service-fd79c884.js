import{r as n}from"./request-from-api-da859ff0.js";async function k({queue:r,namespace:i},T=fetch){const c=await n(`/namespaces/${i}/task-queues/${r}`,{request:T,params:{taskQueueType:"1"}}),t=await n(`/namespaces/${i}/task-queues/${r}`,{request:T,params:{taskQueueType:"2"}});t.pollers.forEach(e=>{e.taskQueueTypes=["ACTIVITY"]}),c.pollers.forEach(e=>{e.taskQueueTypes=["WORKFLOW"]});const o=e=>(s,a)=>{const u=s[a.identity]||{lastAccessTime:void 0,taskQueueTypes:[]};return s[a.identity]={lastAccessTime:!u.lastAccessTime||u.lastAccessTime<a.lastAccessTime?a.lastAccessTime:u.lastAccessTime,taskQueueTypes:u.taskQueueTypes.concat([e])},s};return t.pollers.filter(e=>c.pollers.some(s=>{if(e.identity===s.identity)return e.taskQueueTypes=[...s.taskQueueTypes,...e.taskQueueTypes],e})),t.pollers.reduce(o("ACTIVITY"),c.pollers.reduce(o("WORKFLOW"),{})),{pollers:t.pollers,taskQueueStatus:t.taskQueueStatus}}export{k as g};
