var d=Object.defineProperty,p=Object.defineProperties;var f=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var u=(t,r,e)=>r in t?d(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,s=(t,r)=>{for(var e in r||(r={}))m.call(r,e)&&u(t,e,r[e]);if(c)for(var e of c(r))I.call(r,e)&&u(t,e,r[e]);return t},i=(t,r)=>p(t,f(r));import{r as O,a as _,i as g}from"./route-for-api-b8046903.js";const h=t=>{const r=t.indexOf("["),e=t.indexOf("]");return t.slice(r+1,e).split(" ").filter(a=>a!=="__stack_trace")},l=async(t,r)=>(r=await r,{namespace:t,executionId:r.id,runId:r.runId});async function y({workflow:t,namespace:r,queryType:e},a=fetch,n){t=await t;const o=await l(r,t);return await O(_("query",o),{options:{method:"POST",body:JSON.stringify({execution:{workflowId:t.id,runId:t.runId},query:{queryType:e}})},request:a,onError:n})}async function Q(t,r=fetch){return new Promise(e=>{y(i(s({},t),{queryType:"@@temporal-internal__list"}),r,({body:a})=>{g(a)&&e(h(a.message))})})}async function q(t,r=fetch){return y(t,r).then(e=>{const{queryResult:a}=e!=null?e:{queryResult:{payloads:[]}},n=window.atob(a.payloads[0].data);return JSON.parse(n)})}async function S(t,r=fetch){return q(i(s({},t),{queryType:"__stack_trace"}),r)}export{Q as a,q as b,S as g};
