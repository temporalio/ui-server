import{r as ee,a as te}from"./route-for-api-b8046903.js";import{S as ne,i as oe,s as ce,K as _e,e as T,t as H,k as P,c as b,a as g,h as S,d as v,m as C,b as I,g as ie,L as a,M as de,N as pe,O as me,q as A,o as Q,j as se,n as le,p as ae,P as R,aP as ue,w as Y,x as N,y as j,T as B,B as M,aE as fe}from"./vendor-1f328e1e.js";import{f as re}from"./format-date-c17c610d.js";async function Ae(r,e=fetch){const s=await ee(te("task-queue",r),{request:e,params:{taskQueueType:"1"}}),t=await ee(te("task-queue",r),{request:e,params:{taskQueueType:"2"}});t.pollers.forEach(i=>{i.taskQueueTypes=["ACTIVITY"]}),s.pollers.forEach(i=>{i.taskQueueTypes=["WORKFLOW"]});const l=i=>(_,k)=>{const $=_[k.identity]||{lastAccessTime:void 0,taskQueueTypes:[]};return _[k.identity]={lastAccessTime:!$.lastAccessTime||$.lastAccessTime<k.lastAccessTime?k.lastAccessTime:$.lastAccessTime,taskQueueTypes:$.taskQueueTypes.concat([i])},_};return t.pollers.filter(i=>s.pollers.some(_=>{if(i.identity===_.identity)return i.taskQueueTypes=[..._.taskQueueTypes,...i.taskQueueTypes],i})),t.pollers.reduce(l("ACTIVITY"),s.pollers.reduce(l("WORKFLOW"),{})),{pollers:t.pollers,taskQueueStatus:t.taskQueueStatus}}function ve(r){let e,s,t,l,i,_,k,$,w,D,x,h,V,m,p;const O=r[1].default,u=_e(O,r,r[0],null);return{c(){e=T("section"),s=T("div"),t=T("div"),l=H("ID"),i=P(),_=T("div"),k=H("Last Accessed"),$=P(),w=T("div"),D=H("Workflow Table Handler"),x=P(),h=T("div"),V=H("Activity Handler"),m=P(),u&&u.c(),this.h()},l(d){e=b(d,"SECTION",{class:!0});var o=g(e);s=b(o,"DIV",{class:!0});var f=g(s);t=b(f,"DIV",{class:!0});var E=g(t);l=S(E,"ID"),E.forEach(v),i=C(f),_=b(f,"DIV",{class:!0});var q=g(_);k=S(q,"Last Accessed"),q.forEach(v),$=C(f),w=b(f,"DIV",{class:!0});var y=g(w);D=S(y,"Workflow Table Handler"),y.forEach(v),x=C(f),h=b(f,"DIV",{class:!0});var K=g(h);V=S(K,"Activity Handler"),K.forEach(v),f.forEach(v),m=C(o),u&&u.l(o),o.forEach(v),this.h()},h(){I(t,"class","w-3/12 text-left"),I(_,"class","w-3/12 text-left"),I(w,"class","w-3/12 text-left"),I(h,"class","w-2/12 text-left"),I(s,"class","bg-gray-200 flex flex-row p-2"),I(e,"class","flex flex-col border-2 border-gray-300 w-full rounded-lg")},m(d,o){ie(d,e,o),a(e,s),a(s,t),a(t,l),a(s,i),a(s,_),a(_,k),a(s,$),a(s,w),a(w,D),a(s,x),a(s,h),a(h,V),a(e,m),u&&u.m(e,null),p=!0},p(d,[o]){u&&u.p&&(!p||o&1)&&de(u,O,d,d[0],p?me(O,d[0],o,null):pe(d[0]),null)},i(d){p||(A(u,d),p=!0)},o(d){Q(u,d),p=!1},d(d){d&&v(e),u&&u.d(d)}}}function ke(r,e,s){let{$$slots:t={},$$scope:l}=e;return r.$$set=i=>{"$$scope"in i&&s(0,l=i.$$scope)},[l,t]}class Qe extends ne{constructor(e){super();oe(this,e,ke,ve,ce,{})}}function $e(r){let e,s;return e=new R({props:{icon:ue,color:"black"}}),{c(){Y(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,l){j(e,t,l),s=!0},p:B,i(t){s||(A(e.$$.fragment,t),s=!0)},o(t){Q(e.$$.fragment,t),s=!1},d(t){M(e,t)}}}function he(r){let e,s;return e=new R({props:{icon:fe,color:"blue"}}),{c(){Y(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,l){j(e,t,l),s=!0},p:B,i(t){s||(A(e.$$.fragment,t),s=!0)},o(t){Q(e.$$.fragment,t),s=!1},d(t){M(e,t)}}}function Te(r){let e,s;return e=new R({props:{icon:ue,color:"black"}}),{c(){Y(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,l){j(e,t,l),s=!0},p:B,i(t){s||(A(e.$$.fragment,t),s=!0)},o(t){Q(e.$$.fragment,t),s=!1},d(t){M(e,t)}}}function be(r){let e,s;return e=new R({props:{icon:fe,color:"blue"}}),{c(){Y(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,l){j(e,t,l),s=!0},p:B,i(t){s||(A(e.$$.fragment,t),s=!0)},o(t){Q(e.$$.fragment,t),s=!1},d(t){M(e,t)}}}function ge(r){let e,s,t=r[0].identity+"",l,i,_,k,$,w=re(r[0].lastAccessTime)+"",D,x,h,V,m,p,O,u,d,o,f,E;const q=[he,$e],y=[];function K(c,n){return n&1&&(V=null),V==null&&(V=!!c[0].taskQueueTypes.includes("WORKFLOW")),V?0:1}m=K(r,-1),p=y[m]=q[m](r);const z=[be,Te],W=[];function G(c,n){return n&1&&(d=null),d==null&&(d=!!c[0].taskQueueTypes.includes("ACTIVITY")),d?0:1}return o=G(r,-1),f=W[o]=z[o](r),{c(){e=T("article"),s=T("div"),l=H(t),i=P(),_=T("div"),k=T("h3"),$=T("p"),D=H(w),x=P(),h=T("div"),p.c(),O=P(),u=T("div"),f.c(),this.h()},l(c){e=b(c,"ARTICLE",{class:!0});var n=g(e);s=b(n,"DIV",{class:!0});var L=g(s);l=S(L,t),L.forEach(v),i=C(n),_=b(n,"DIV",{class:!0});var F=g(_);k=b(F,"H3",{});var J=g(k);$=b(J,"P",{});var U=g($);D=S(U,w),U.forEach(v),J.forEach(v),F.forEach(v),x=C(n),h=b(n,"DIV",{class:!0});var X=g(h);p.l(X),X.forEach(v),O=C(n),u=b(n,"DIV",{class:!0});var Z=g(u);f.l(Z),Z.forEach(v),n.forEach(v),this.h()},h(){I(s,"class","links w-3/12 text-left"),I(_,"class","links w-3/12 text-left"),I(h,"class","w-3/12 text-left"),I(u,"class","w-3/12 text-left"),I(e,"class","w-full h-full flex flex-row border-b-2 last:border-b-0 no-underline p-2")},m(c,n){ie(c,e,n),a(e,s),a(s,l),a(e,i),a(e,_),a(_,k),a(k,$),a($,D),a(e,x),a(e,h),y[m].m(h,null),a(e,O),a(e,u),W[o].m(u,null),E=!0},p(c,[n]){(!E||n&1)&&t!==(t=c[0].identity+"")&&se(l,t),(!E||n&1)&&w!==(w=re(c[0].lastAccessTime)+"")&&se(D,w);let L=m;m=K(c,n),m===L?y[m].p(c,n):(le(),Q(y[L],1,1,()=>{y[L]=null}),ae(),p=y[m],p?p.p(c,n):(p=y[m]=q[m](c),p.c()),A(p,1),p.m(h,null));let F=o;o=G(c,n),o===F?W[o].p(c,n):(le(),Q(W[F],1,1,()=>{W[F]=null}),ae(),f=W[o],f?f.p(c,n):(f=W[o]=z[o](c),f.c()),A(f,1),f.m(u,null))},i(c){E||(A(p),A(f),E=!0)},o(c){Q(p),Q(f),E=!1},d(c){c&&v(e),y[m].d(),W[o].d()}}}function we(r,e,s){let{poller:t}=e;return r.$$set=l=>{"poller"in l&&s(0,t=l.poller)},[t]}class De extends ne{constructor(e){super();oe(this,e,we,ge,ce,{poller:0})}}export{Qe as W,De as a,Ae as g};
