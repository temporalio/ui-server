import{d as a,r as p,w as t}from"./index-5dff130b.js";import{p as n}from"./stores-62bcca1c.js";import{w as f}from"./with-loading-f07bedaf.js";import{f as w}from"./workflow-service-f6a64dec.js";import{g as d}from"./pollers-service-8c87c778.js";import{m as k}from"./route-for-cc3652eb.js";const g=t(0),b=a([n],([r])=>r.params.namespace),h=a([n],([r])=>r.params.workflow),R=a([n],([r])=>r.params.run),I=a([b,h,R,g],([r,e,o,s])=>({namespace:r,workflowId:k(e!=null?e:""),runId:o,refresh:s})),W={workflow:null,workers:null},v=r=>I.subscribe(({namespace:e,workflowId:o,runId:s})=>{e&&o&&s?f(u,m,async()=>{const c=await w({namespace:e,workflowId:o,runId:s}),{taskQueue:l}=c,i=await d({queue:l,namespace:e});r({workflow:c,workers:i})}):(u.set(!0),m.set(!1))}),m=t(!0),u=t(!0),Q=p(W,v);export{u as l,g as r,Q as w};
