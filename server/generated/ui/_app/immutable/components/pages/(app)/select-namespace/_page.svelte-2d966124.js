import{S as _e,i as fe,s as he,k as N,l as S,m as z,h as b,p as F,av as ee,aa as de,b as C,K as E,ap as ge,R as le,g as se,ac as ve,ad as ke,d as re,f as V,t as H,o as be,F as we,a as M,c as q,G as ye,H as Ee,I as Te,A as x,Z as te,q as Q,r as X,w as B,x as j,n as P,y as G,W as ne,z as J,J as $,a2 as Ie,B as me,e as ae,u as Le}from"../../../../chunks/index-9c2f34db.js";import{g as Ne}from"../../../../chunks/navigation-1cc047a6.js";import{p as Se}from"../../../../chunks/stores-ae349ac7.js";import{l as oe,n as Ve}from"../../../../chunks/namespaces-00b1314a.js";import{r as He}from"../../../../chunks/route-for-9e2a964e.js";import{E as pe}from"../../../../chunks/empty-state-60fc9b08.js";import{I as Ue}from"../../../../chunks/icon-1d11e133.js";import{P as We}from"../../../../chunks/page-title-d37abd4e.js";import{d as ze}from"../../../../chunks/workflow-service-cc18b928.js";import{t as Pe}from"../../../../chunks/toaster-6798b4b4.js";function ie(r,e,t){const l=r.slice();return l[23]=e[t],l}const Re=r=>({item:r&16}),ce=r=>({item:r[23].data});function Ae(r){let e;return{c(){e=Q("Missing template")},l(t){e=X(t,"Missing template")},m(t,l){C(t,e,l)},d(t){t&&b(e)}}}function ue(r,e){let t,l,a;const h=e[14].default,f=we(h,e,e[13],ce),o=f||Ae();return{key:r,first:null,c(){t=N("svelte-virtual-list-row"),o&&o.c(),l=M(),this.h()},l(s){t=S(s,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var _=z(t);o&&o.l(_),l=q(_),_.forEach(b),this.h()},h(){ee(t,"class","svelte-1kdxoed"),this.first=t},m(s,_){C(s,t,_),o&&o.m(t,null),E(t,l),a=!0},p(s,_){e=s,f&&f.p&&(!a||_&8208)&&ye(f,h,e,e[13],a?Te(h,e[13],_,Re):Ee(e[13]),ce)},i(s){a||(V(o,s),a=!0)},o(s){H(o,s),a=!1},d(s){s&&b(t),o&&o.d(s)}}}function Ce(r){let e,t,l=[],a=new Map,h,f,o,s,_=r[4];const m=u=>u[23].index;for(let u=0;u<_.length;u+=1){let i=ie(r,_,u),g=m(i);a.set(g,l[u]=ue(g,i))}return{c(){e=N("svelte-virtual-list-viewport"),t=N("svelte-virtual-list-contents");for(let u=0;u<l.length;u+=1)l[u].c();this.h()},l(u){e=S(u,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var i=z(e);t=S(i,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var g=z(t);for(let c=0;c<l.length;c+=1)l[c].l(g);g.forEach(b),i.forEach(b),this.h()},h(){F(t,"padding-top",r[5]+"px"),F(t,"padding-bottom",r[6]+"px"),ee(t,"class","svelte-1kdxoed"),F(e,"height",r[0]),ee(e,"class","svelte-1kdxoed"),de(()=>r[17].call(e))},m(u,i){C(u,e,i),E(e,t);for(let g=0;g<l.length;g+=1)l[g].m(t,null);r[15](t),r[16](e),h=ge(e,r[17].bind(e)),f=!0,o||(s=le(e,"scroll",r[7]),o=!0)},p(u,[i]){i&8208&&(_=u[4],se(),l=ve(l,i,m,1,u,_,a,t,ke,ue,null,ie),re()),(!f||i&32)&&F(t,"padding-top",u[5]+"px"),(!f||i&64)&&F(t,"padding-bottom",u[6]+"px"),(!f||i&1)&&F(e,"height",u[0])},i(u){if(!f){for(let i=0;i<_.length;i+=1)V(l[i]);f=!0}},o(u){for(let i=0;i<l.length;i+=1)H(l[i]);f=!1},d(u){u&&b(e);for(let i=0;i<l.length;i+=1)l[i].d();r[15](null),r[16](null),h(),o=!1,s()}}}function Fe(r,e,t){let{$$slots:l={},$$scope:a}=e,{items:h}=e,{height:f="100%"}=e,{itemHeight:o=void 0}=e,{start:s=0}=e,{end:_=0}=e,m=[],u,i,g,c=0,T,I,k=0,w=0,L;async function D(n,p,v){const{scrollTop:y}=i;await x();let W=k-y,d=s;for(;W<p&&d<n.length;){let O=u[d-s];O||(t(9,_=d+1),await x(),O=u[d-s]);const A=m[d]=v||O.offsetHeight;W+=A,d+=1}t(9,_=d);const R=n.length-_;L=(k+W)/_,t(6,w=R*L),m.length=n.length}async function K(){const{scrollTop:n}=i,p=s;for(let d=0;d<u.length;d+=1)m[s+d]=o||u[d].offsetHeight;let v=0,y=0;for(;v<h.length;){const d=m[v]||L;if(y+d>n){t(8,s=v),t(5,k=y);break}y+=d,v+=1}for(;v<h.length&&(y+=m[v]||L,v+=1,!(y>n+c)););t(9,_=v);const W=h.length-_;for(L=y/_;v<h.length;)m[v++]=L;if(t(6,w=W*L),s<p){await x();let d=0,R=0;for(let A=s;A<p;A+=1)u[A-s]&&(d+=m[A],R+=o||u[A-s].offsetHeight);const O=R-d;i.scrollTo(0,n+O)}}be(()=>{u=g.getElementsByTagName("svelte-virtual-list-row"),t(12,I=!0)});function Y(n){te[n?"unshift":"push"](()=>{g=n,t(3,g)})}function U(n){te[n?"unshift":"push"](()=>{i=n,t(2,i)})}function Z(){c=this.offsetHeight,t(1,c)}return r.$$set=n=>{"items"in n&&t(10,h=n.items),"height"in n&&t(0,f=n.height),"itemHeight"in n&&t(11,o=n.itemHeight),"start"in n&&t(8,s=n.start),"end"in n&&t(9,_=n.end),"$$scope"in n&&t(13,a=n.$$scope)},r.$$.update=()=>{r.$$.dirty&1792&&t(4,T=h.slice(s,_).map((n,p)=>({index:p+s,data:n}))),r.$$.dirty&7170&&I&&D(h,c,o)},[f,c,i,g,T,k,w,K,s,_,h,o,I,a,l,Y,U,Z]}class Me extends _e{constructor(e){super(),fe(this,e,Fe,Ce,he,{items:10,height:0,itemHeight:11,start:8,end:9})}}function qe(r){let e,t;return e=new pe({props:{title:"No Namespaces. Contact your admin to create one."}}),{c(){B(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p:me,i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function De(r){let e,t,l,a;const h=[Be,Oe],f=[];function o(s,_){return s[3].length?0:1}return e=o(r),t=f[e]=h[e](r),{c(){t.c(),l=ae()},l(s){t.l(s),l=ae()},m(s,_){f[e].m(s,_),C(s,l,_),a=!0},p(s,_){let m=e;e=o(s),e===m?f[e].p(s,_):(se(),H(f[m],1,1,()=>{f[m]=null}),re(),t=f[e],t?t.p(s,_):(t=f[e]=h[e](s),t.c()),V(t,1),t.m(l.parentNode,l))},i(s){a||(V(t),a=!0)},o(s){H(t),a=!1},d(s){f[e].d(s),s&&b(l)}}}function Oe(r){let e,t;return e=new pe({props:{title:"No results."}}),{c(){B(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p:me,i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Be(r){let e,t;return e=new Me({props:{items:r[3],itemHeight:50,$$slots:{default:[je,({item:l})=>({11:l}),({item:l})=>l?2048:0]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p(l,a){const h={};a&8&&(h.items=l[3]),a&6144&&(h.$$scope={dirty:a,ctx:l}),e.$set(h)},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){H(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function je(r){let e,t=r[11].namespace+"",l,a,h;function f(){return r[9](r[11])}return{c(){e=N("li"),l=Q(t),this.h()},l(o){e=S(o,"LI",{class:!0});var s=z(e);l=X(s,t),s.forEach(b),this.h()},h(){P(e,"class","link-item svelte-1eqf4j7")},m(o,s){C(o,e,s),E(e,l),a||(h=le(e,"click",f),a=!0)},p(o,s){r=o,s&2048&&t!==(t=r[11].namespace+"")&&Le(l,t)},d(o){o&&b(e),a=!1,h()}}}function Ge(r){let e,t,l,a,h,f,o,s,_,m,u,i,g,c,T,I,k,w,L,D,K;e=new We({props:{title:"Select Namespace",url:r[4].url.href}}),i=new Ue({props:{name:"search"}});const Y=[De,qe],U=[];function Z(n,p){return n[1].length?0:1}return k=Z(r),w=U[k]=Y[k](r),{c(){B(e.$$.fragment),t=M(),l=N("div"),a=N("h1"),h=Q("Welcome to Temporal"),f=M(),o=N("p"),s=Q("Select a Namespace to get started."),_=M(),m=N("div"),u=N("div"),B(i.$$.fragment),g=M(),c=N("input"),T=M(),I=N("ul"),w.c(),this.h()},l(n){j(e.$$.fragment,n),t=q(n),l=S(n,"DIV",{class:!0});var p=z(l);a=S(p,"H1",{class:!0});var v=z(a);h=X(v,"Welcome to Temporal"),v.forEach(b),f=q(p),o=S(p,"P",{class:!0});var y=z(o);s=X(y,"Select a Namespace to get started."),y.forEach(b),_=q(p),m=S(p,"DIV",{class:!0});var W=z(m);u=S(W,"DIV",{class:!0});var d=z(u);j(i.$$.fragment,d),d.forEach(b),g=q(W),c=S(W,"INPUT",{class:!0,placeholder:!0}),W.forEach(b),T=q(p),I=S(p,"UL",{class:!0});var R=z(I);w.l(R),R.forEach(b),p.forEach(b),this.h()},h(){P(a,"class","my-4 text-3xl"),P(o,"class","mb-8"),P(u,"class","ml-4 mr-2"),P(c,"class","w-full"),P(c,"placeholder","Search"),P(m,"class","mb-5 flex rounded-full border p-1 pr-4"),P(I,"class","h-screen w-full"),P(l,"class","w-full p-8 xl:w-1/2")},m(n,p){G(e,n,p),C(n,t,p),C(n,l,p),E(l,a),E(a,h),E(l,f),E(l,o),E(o,s),E(l,_),E(l,m),E(m,u),G(i,u,null),E(m,g),E(m,c),ne(c,r[0]),r[8](c),E(l,T),E(l,I),U[k].m(I,null),L=!0,D||(K=le(c,"input",r[7]),D=!0)},p(n,[p]){const v={};p&16&&(v.url=n[4].url.href),e.$set(v),p&1&&c.value!==n[0]&&ne(c,n[0]);let y=k;k=Z(n),k===y?U[k].p(n,p):(se(),H(U[y],1,1,()=>{U[y]=null}),re(),w=U[k],w?w.p(n,p):(w=U[k]=Y[k](n),w.c()),V(w,1),w.m(I,null))},i(n){L||(V(e.$$.fragment,n),V(i.$$.fragment,n),V(w),L=!0)},o(n){H(e.$$.fragment,n),H(i.$$.fragment,n),H(w),L=!1},d(n){J(e,n),n&&b(t),n&&b(l),J(i),r[8](null),U[k].d(),D=!1,K()}}}function Je(r,e,t){let l,a,h,f,o,s;$(r,oe,c=>t(10,f=c)),$(r,Ve,c=>t(6,o=c)),$(r,Se,c=>t(4,s=c));let _=null,m="";function u(){m=this.value,t(0,m)}function i(c){te[c?"unshift":"push"](()=>{_=c,t(2,_)})}const g=c=>c==null?void 0:c.onClick(c.namespace);return r.$$.update=()=>{r.$$.dirty&64&&t(5,l=o.map(c=>{var T;return(T=c==null?void 0:c.namespaceInfo)===null||T===void 0?void 0:T.name})),r.$$.dirty&32&&t(1,a=l.map(c=>({namespace:c,onClick:async T=>{const{authorized:I}=await ze(T);I?(Ie(oe,f=T,f),Ne(He({namespace:T}))):Pe.push({variant:"error",message:"You do not have access to this namespace."})}}))),r.$$.dirty&3&&t(3,h=a.filter(({namespace:c})=>c.includes(m)))},[m,a,_,h,s,l,o,u,i,g]}class st extends _e{constructor(e){super(),fe(this,e,Je,Ge,he,{})}}export{st as default};
