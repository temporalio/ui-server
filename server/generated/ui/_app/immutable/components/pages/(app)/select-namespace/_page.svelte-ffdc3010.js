import{S as _e,i as fe,s as he,k as L,l as N,m as W,h as b,p as D,av as te,aa as de,b as C,K as E,ap as ge,R as Q,g as le,ac as ve,ad as ke,d as se,f as S,t as V,o as be,F as we,a as M,c as O,G as ye,H as Ee,I as Te,A as $,Z as re,q as X,r as x,w as B,x as j,n as z,y as G,W as ae,U as Ie,z as J,D as Le,J as ee,a2 as Ne,O as Se,B as me,e as ne,u as Ve}from"../../../../chunks/index-eadb3ae7.js";import{g as He}from"../../../../chunks/navigation-5dc32ad3.js";import{p as Ue}from"../../../../chunks/stores-46e0fa40.js";import{l as oe,n as We}from"../../../../chunks/namespaces-2ac6f928.js";import{r as ze}from"../../../../chunks/route-for-9e2a964e.js";import{E as pe}from"../../../../chunks/empty-state-dbeb9103.js";import{I as Pe}from"../../../../chunks/icon-4da365da.js";import{P as Re}from"../../../../chunks/page-title-17707827.js";import{d as Ae}from"../../../../chunks/workflow-service-e73dc9d3.js";import{t as Ce}from"../../../../chunks/toaster-7990e2ff.js";function ie(r,e,t){const l=r.slice();return l[23]=e[t],l}const De=r=>({item:r&16}),ce=r=>({item:r[23].data});function Me(r){let e;return{c(){e=X("Missing template")},l(t){e=x(t,"Missing template")},m(t,l){C(t,e,l)},d(t){t&&b(e)}}}function ue(r,e){let t,l,n;const h=e[14].default,f=we(h,e,e[13],ce),o=f||Me();return{key:r,first:null,c(){t=L("svelte-virtual-list-row"),o&&o.c(),l=M(),this.h()},l(s){t=N(s,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var c=W(t);o&&o.l(c),l=O(c),c.forEach(b),this.h()},h(){te(t,"class","svelte-1kdxoed"),this.first=t},m(s,c){C(s,t,c),o&&o.m(t,null),E(t,l),n=!0},p(s,c){e=s,f&&f.p&&(!n||c&8208)&&ye(f,h,e,e[13],n?Te(h,e[13],c,De):Ee(e[13]),ce)},i(s){n||(S(o,s),n=!0)},o(s){V(o,s),n=!1},d(s){s&&b(t),o&&o.d(s)}}}function Oe(r){let e,t,l=[],n=new Map,h,f,o,s,c=r[4];const p=u=>u[23].index;for(let u=0;u<c.length;u+=1){let i=ie(r,c,u),_=p(i);n.set(_,l[u]=ue(_,i))}return{c(){e=L("svelte-virtual-list-viewport"),t=L("svelte-virtual-list-contents");for(let u=0;u<l.length;u+=1)l[u].c();this.h()},l(u){e=N(u,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var i=W(e);t=N(i,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var _=W(t);for(let m=0;m<l.length;m+=1)l[m].l(_);_.forEach(b),i.forEach(b),this.h()},h(){D(t,"padding-top",r[5]+"px"),D(t,"padding-bottom",r[6]+"px"),te(t,"class","svelte-1kdxoed"),D(e,"height",r[0]),te(e,"class","svelte-1kdxoed"),de(()=>r[17].call(e))},m(u,i){C(u,e,i),E(e,t);for(let _=0;_<l.length;_+=1)l[_].m(t,null);r[15](t),r[16](e),h=ge(e,r[17].bind(e)),f=!0,o||(s=Q(e,"scroll",r[7]),o=!0)},p(u,[i]){i&8208&&(c=u[4],le(),l=ve(l,i,p,1,u,c,n,t,ke,ue,null,ie),se()),(!f||i&32)&&D(t,"padding-top",u[5]+"px"),(!f||i&64)&&D(t,"padding-bottom",u[6]+"px"),(!f||i&1)&&D(e,"height",u[0])},i(u){if(!f){for(let i=0;i<c.length;i+=1)S(l[i]);f=!0}},o(u){for(let i=0;i<l.length;i+=1)V(l[i]);f=!1},d(u){u&&b(e);for(let i=0;i<l.length;i+=1)l[i].d();r[15](null),r[16](null),h(),o=!1,s()}}}function qe(r,e,t){let{$$slots:l={},$$scope:n}=e,{items:h}=e,{height:f="100%"}=e,{itemHeight:o=void 0}=e,{start:s=0}=e,{end:c=0}=e,p=[],u,i,_,m=0,P,I,k=0,w=0,T;async function q(a,d,v){const{scrollTop:y}=i;await $();let U=k-y,g=s;for(;U<d&&g<a.length;){let F=u[g-s];F||(t(9,c=g+1),await $(),F=u[g-s]);const A=p[g]=v||F.offsetHeight;U+=A,g+=1}t(9,c=g);const R=a.length-c;T=(k+U)/c,t(6,w=R*T),p.length=a.length}async function K(){const{scrollTop:a}=i,d=s;for(let g=0;g<u.length;g+=1)p[s+g]=o||u[g].offsetHeight;let v=0,y=0;for(;v<h.length;){const g=p[v]||T;if(y+g>a){t(8,s=v),t(5,k=y);break}y+=g,v+=1}for(;v<h.length&&(y+=p[v]||T,v+=1,!(y>a+m)););t(9,c=v);const U=h.length-c;for(T=y/c;v<h.length;)p[v++]=T;if(t(6,w=U*T),s<d){await $();let g=0,R=0;for(let A=s;A<d;A+=1)u[A-s]&&(g+=p[A],R+=o||u[A-s].offsetHeight);const F=R-g;i.scrollTo(0,a+F)}}be(()=>{u=_.getElementsByTagName("svelte-virtual-list-row"),t(12,I=!0)});function Y(a){re[a?"unshift":"push"](()=>{_=a,t(3,_)})}function H(a){re[a?"unshift":"push"](()=>{i=a,t(2,i)})}function Z(){m=this.offsetHeight,t(1,m)}return r.$$set=a=>{"items"in a&&t(10,h=a.items),"height"in a&&t(0,f=a.height),"itemHeight"in a&&t(11,o=a.itemHeight),"start"in a&&t(8,s=a.start),"end"in a&&t(9,c=a.end),"$$scope"in a&&t(13,n=a.$$scope)},r.$$.update=()=>{r.$$.dirty&1792&&t(4,P=h.slice(s,c).map((a,d)=>({index:d+s,data:a}))),r.$$.dirty&7170&&I&&q(h,m,o)},[f,m,i,_,P,k,w,K,s,c,h,o,I,n,l,Y,H,Z]}class Fe extends _e{constructor(e){super(),fe(this,e,qe,Oe,he,{items:10,height:0,itemHeight:11,start:8,end:9})}}function Be(r){let e,t;return e=new pe({props:{title:"No Namespaces. Contact your admin to create one."}}),{c(){B(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,n){G(e,l,n),t=!0},p:me,i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function je(r){let e,t,l,n;const h=[Je,Ge],f=[];function o(s,c){return s[2].length?0:1}return e=o(r),t=f[e]=h[e](r),{c(){t.c(),l=ne()},l(s){t.l(s),l=ne()},m(s,c){f[e].m(s,c),C(s,l,c),n=!0},p(s,c){let p=e;e=o(s),e===p?f[e].p(s,c):(le(),V(f[p],1,1,()=>{f[p]=null}),se(),t=f[e],t?t.p(s,c):(t=f[e]=h[e](s),t.c()),S(t,1),t.m(l.parentNode,l))},i(s){n||(S(t),n=!0)},o(s){V(t),n=!1},d(s){f[e].d(s),s&&b(l)}}}function Ge(r){let e,t;return e=new pe({props:{title:"No results."}}),{c(){B(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,n){G(e,l,n),t=!0},p:me,i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Je(r){let e,t;return e=new Fe({props:{items:r[2],itemHeight:50,$$slots:{default:[Ke,({item:l})=>({10:l}),({item:l})=>l?1024:0]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,n){G(e,l,n),t=!0},p(l,n){const h={};n&4&&(h.items=l[2]),n&3072&&(h.$$scope={dirty:n,ctx:l}),e.$set(h)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){V(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Ke(r){let e,t=r[10].namespace+"",l,n,h;function f(){return r[8](r[10])}return{c(){e=L("li"),l=X(t),this.h()},l(o){e=N(o,"LI",{class:!0});var s=W(e);l=x(s,t),s.forEach(b),this.h()},h(){z(e,"class","link-item svelte-dj8kqg")},m(o,s){C(o,e,s),E(e,l),n||(h=Q(e,"click",f),n=!0)},p(o,s){r=o,s&1024&&t!==(t=r[10].namespace+"")&&Ve(l,t)},d(o){o&&b(e),n=!1,h()}}}function Ye(r){let e,t,l,n,h,f,o,s,c,p,u,i,_,m,P,I,k,w,T,q,K;e=new Re({props:{title:"Select Namespace",url:r[3].url.href}}),i=new Pe({props:{name:"search"}});const Y=[je,Be],H=[];function Z(a,d){return a[1].length?0:1}return k=Z(r),w=H[k]=Y[k](r),{c(){B(e.$$.fragment),t=M(),l=L("div"),n=L("h1"),h=X("Welcome to Temporal"),f=M(),o=L("p"),s=X("Select a Namespace to get started."),c=M(),p=L("div"),u=L("div"),B(i.$$.fragment),_=M(),m=L("input"),P=M(),I=L("ul"),w.c(),this.h()},l(a){j(e.$$.fragment,a),t=O(a),l=N(a,"DIV",{class:!0});var d=W(l);n=N(d,"H1",{class:!0});var v=W(n);h=x(v,"Welcome to Temporal"),v.forEach(b),f=O(d),o=N(d,"P",{class:!0});var y=W(o);s=x(y,"Select a Namespace to get started."),y.forEach(b),c=O(d),p=N(d,"DIV",{class:!0});var U=W(p);u=N(U,"DIV",{class:!0});var g=W(u);j(i.$$.fragment,g),g.forEach(b),_=O(U),m=N(U,"INPUT",{class:!0,placeholder:!0}),U.forEach(b),P=O(d),I=N(d,"UL",{class:!0});var R=W(I);w.l(R),R.forEach(b),d.forEach(b),this.h()},h(){z(n,"class","my-4 text-3xl"),z(o,"class","mb-8"),z(u,"class","ml-4 mr-2"),z(m,"class","w-full"),z(m,"placeholder","Search"),z(p,"class","mb-5 flex rounded-full border p-1 pr-4"),z(I,"class","h-screen w-full"),z(l,"class","w-full p-8 xl:w-1/2")},m(a,d){G(e,a,d),C(a,t,d),C(a,l,d),E(l,n),E(n,h),E(l,f),E(l,o),E(o,s),E(l,c),E(l,p),E(p,u),G(i,u,null),E(p,_),E(p,m),ae(m,r[0]),E(l,P),E(l,I),H[k].m(I,null),T=!0,q||(K=[Q(m,"keydown",Ie(r[6])),Q(m,"input",r[7])],q=!0)},p(a,[d]){const v={};d&8&&(v.url=a[3].url.href),e.$set(v),d&1&&m.value!==a[0]&&ae(m,a[0]);let y=k;k=Z(a),k===y?H[k].p(a,d):(le(),V(H[y],1,1,()=>{H[y]=null}),se(),w=H[k],w?w.p(a,d):(w=H[k]=Y[k](a),w.c()),S(w,1),w.m(I,null))},i(a){T||(S(e.$$.fragment,a),S(i.$$.fragment,a),S(w),T=!0)},o(a){V(e.$$.fragment,a),V(i.$$.fragment,a),V(w),T=!1},d(a){J(e,a),a&&b(t),a&&b(l),J(i),H[k].d(),q=!1,Le(K)}}}function Ze(r,e,t){let l,n,h,f,o,s;ee(r,oe,_=>t(9,f=_)),ee(r,We,_=>t(5,o=_)),ee(r,Ue,_=>t(3,s=_));let c="";function p(_){Se.call(this,r,_)}function u(){c=this.value,t(0,c)}const i=_=>_==null?void 0:_.onClick(_.namespace);return r.$$.update=()=>{r.$$.dirty&32&&t(4,l=o.map(_=>{var m;return(m=_==null?void 0:_.namespaceInfo)===null||m===void 0?void 0:m.name})),r.$$.dirty&16&&t(1,n=l.map(_=>({namespace:_,onClick:async m=>{const{authorized:P}=await Ae(m);P?(Ne(oe,f=m,f),He(ze({namespace:m}))):Ce.push({variant:"error",message:"You do not have access to this namespace."})}}))),r.$$.dirty&3&&t(2,h=n.filter(({namespace:_})=>_.includes(c)))},[c,n,h,s,l,o,p,u,i]}class nt extends _e{constructor(e){super(),fe(this,e,Ze,Ye,he,{})}}export{nt as default};
