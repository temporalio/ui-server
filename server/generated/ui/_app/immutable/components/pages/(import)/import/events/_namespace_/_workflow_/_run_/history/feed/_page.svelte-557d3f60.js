import{S as C,i as N,s as S,w as _,x as $,y as g,f as u,t as c,z as h,J as d,a2 as q,e as p,b as A,g as v,ac as z,d as y,h as I,ad as J}from"../../../../../../../../../../chunks/index-9c2f34db.js";import{p as M}from"../../../../../../../../../../chunks/stores-ae349ac7.js";import{i as j}from"../../../../../../../../../../chunks/import-events-6a883053.js";import{a as x,b as B,E as D}from"../../../../../../../../../../chunks/event-empty-row-acf3d261.js";import{P as F}from"../../../../../../../../../../chunks/pagination-f32c5382.js";import{c as b}from"../../../../../../../../../../chunks/event-view-0d98deae.js";function w(i,t,a){const e=i.slice();return e[8]=t[a],e}function k(i){let t,a;return t=new B({}),{c(){_(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,o){g(t,e,o),a=!0},i(e){a||(u(t.$$.fragment,e),a=!0)},o(e){c(t.$$.fragment,e),a=!1},d(e){h(t,e)}}}function E(i,t){let a,e,o;return e=new D({props:{event:t[8],compact:P,expandAll:t[1]==="true",initialItem:t[7],visibleItems:t[6]}}),{key:i,first:null,c(){a=p(),_(e.$$.fragment),this.h()},l(r){a=p(),$(e.$$.fragment,r),this.h()},h(){this.first=a},m(r,f){A(r,a,f),g(e,r,f),o=!0},p(r,f){t=r;const s={};f&64&&(s.event=t[8]),f&2&&(s.expandAll=t[1]==="true"),f&128&&(s.initialItem=t[7]),f&64&&(s.visibleItems=t[6]),e.$set(s)},i(r){o||(u(e.$$.fragment,r),o=!0)},o(r){c(e.$$.fragment,r),o=!1},d(r){r&&I(a),h(e,r)}}}function G(i){let t=[],a=new Map,e,o,r=i[6];const f=l=>`${l[8].id}-${l[8].timestamp}`;for(let l=0;l<r.length;l+=1){let n=w(i,r,l),m=f(n);a.set(m,t[l]=E(m,n))}let s=null;return r.length||(s=k()),{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=p(),s&&s.c()},l(l){for(let n=0;n<t.length;n+=1)t[n].l(l);e=p(),s&&s.l(l)},m(l,n){for(let m=0;m<t.length;m+=1)t[m].m(l,n);A(l,e,n),s&&s.m(l,n),o=!0},p(l,n){n&194&&(r=l[6],v(),t=z(t,n,f,1,l,r,a,e.parentNode,J,E,e,w),y(),r.length?s&&(v(),c(s,1,1,()=>{s=null}),y()):s||(s=k(),s.c(),u(s,1),s.m(e.parentNode,e)))},i(l){if(!o){for(let n=0;n<r.length;n+=1)u(t[n]);o=!0}},o(l){for(let n=0;n<t.length;n+=1)c(t[n]);o=!1},d(l){for(let n=0;n<t.length;n+=1)t[n].d(l);l&&I(e),s&&s.d(l)}}}function H(i){let t,a;return t=new x({props:{compact:P,$$slots:{default:[G]},$$scope:{ctx:i}}}),t.$on("expandAll",i[2]),{c(){_(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,o){g(t,e,o),a=!0},p(e,o){const r={};o&2242&&(r.$$scope={dirty:o,ctx:e}),t.$set(r)},i(e){a||(u(t.$$.fragment,e),a=!0)},o(e){c(t.$$.fragment,e),a=!1},d(e){h(t,e)}}}function K(i){let t,a;return t=new F({props:{items:i[0],floatId:"event-view-toggle",$$slots:{default:[H,({visibleItems:e,initialItem:o})=>({6:e,7:o}),({visibleItems:e,initialItem:o})=>(e?64:0)|(o?128:0)]},$$scope:{ctx:i}}}),{c(){_(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,o){g(t,e,o),a=!0},p(e,[o]){const r={};o&1&&(r.items=e[0]),o&2242&&(r.$$scope={dirty:o,ctx:e}),t.$set(r)},i(e){a||(u(t.$$.fragment,e),a=!0)},o(e){c(t.$$.fragment,e),a=!1},d(e){h(t,e)}}}let P=!1;function L(i,t,a){let e,o,r,f,s;d(i,b,n=>a(1,r=n)),d(i,j,n=>a(4,f=n)),d(i,M,n=>a(5,s=n));function l(n){q(b,r=n.detail.expanded,r)}return i.$$.update=()=>{i.$$.dirty&32&&a(3,e=s.url.searchParams.get("category")),i.$$.dirty&24&&a(0,o=f.filter(n=>e?n.category===e:n))},[o,r,l,e,f,s]}class W extends C{constructor(t){super(),N(this,t,L,K,S,{})}}export{W as default};
