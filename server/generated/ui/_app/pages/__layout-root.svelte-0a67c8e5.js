var Ce=Object.defineProperty,Se=Object.defineProperties;var Ue=Object.getOwnPropertyDescriptors;var me=Object.getOwnPropertySymbols;var Oe=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable;var pe=(o,e,t)=>e in o?Ce(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,_e=(o,e)=>{for(var t in e||(e={}))Oe.call(e,t)&&pe(o,t,e[t]);if(me)for(var t of me(e))Le.call(e,t)&&pe(o,t,e[t]);return o},$e=(o,e)=>Se(o,Ue(e));import{S as F,i as H,s as q,W as G,X as Q,e as T,w as h,c as A,a as K,x as v,d as p,b as d,g as w,y as b,Y as x,q as u,o as m,B as k,N as R,l as y,n as oe,p as ae,Z as Me,t as L,h as M,j as Ie,E as re,I as le,J as ie,K as fe,L as ue,k as U,m as O,_ as We,$ as ge,M as I,T as je,C as de,U as he,a0 as Fe}from"../chunks/index-e4881ae7.js";import{g as He}from"../chunks/get-namespace-d08f200a.js";import{n as qe}from"../chunks/notifications-0d3ffac1.js";import{r as De,a as Ke}from"../chunks/route-for-api-35baa078.js";import{N as J,A as Ne,f as Re,a as ze,b as Je,E as Pe}from"../chunks/error-boundary-b4a5346b.js";import{N as Xe,H as Ye,f as Ze}from"../chunks/hamburger-header-f3184c66.js";/* empty css                    */import{p as P}from"../chunks/stores-7881199b.js";import{r as j,a as ee,b as ne}from"../chunks/route-for-9a2d1abe.js";import{g as Ge}from"../chunks/navigation-3f1ea447.js";import{S as Qe,O as ye}from"../chunks/select-3be5a91a.js";import{p as xe}from"../chunks/persist-store-9945befd.js";import"../chunks/index-1910a742.js";import"../chunks/is-network-error-ac7c8caf.js";import"../chunks/index-52d04a45.js";import"../chunks/error-887ac076.js";import"../chunks/link-7383cd42.js";import"../chunks/index.es-2b23329e.js";import"../chunks/data-converter-config-c59b4456.js";import"../chunks/is-http-2893a8e8.js";import"../chunks/tooltip-c83fc3d4.js";import"../chunks/copyable-5827f997.js";import"../chunks/modal-160bea77.js";import"../chunks/button-2b025179.js";import"../chunks/singletons-d1fb5791.js";const en=(o,e)=>!o.auth.enabled||Boolean(e==null?void 0:e.email),nn=async(o=fetch)=>{const e=await o("https://api.github.com/repos/temporalio/ui-server/releases"),t=await e.json();if(!e.ok)return;let n;if(t.length>0){const{tag_name:r}=t[0];n=r.replace("v","")}return n},ve={namespaces:[]};async function tn(o,e=fetch){if(o.runtimeEnvironment.isCloud)return ve;const t=await De(Ke("namespaces"),{request:e,onError:()=>qe.add("error","Unable to fetch namespaces")});return t!=null?t:ve}function be(o,e,t){const n=o.slice();return n[9]=e[t],n}function rn(o){let e,t,n=o[2],r=[];for(let a=0;a<n.length;a+=1)r[a]=ke(be(o,n,a));const s=a=>m(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=y()},l(a){for(let i=0;i<r.length;i+=1)r[i].l(a);e=y()},m(a,i){for(let l=0;l<r.length;l+=1)r[l].m(a,i);w(a,e,i),t=!0},p(a,i){if(i&4){n=a[2];let l;for(l=0;l<n.length;l+=1){const f=be(a,n,l);r[l]?(r[l].p(f,i),u(r[l],1)):(r[l]=ke(f),r[l].c(),u(r[l],1),r[l].m(e.parentNode,e))}for(oe(),l=n.length;l<r.length;l+=1)s(l);ae()}},i(a){if(!t){for(let i=0;i<n.length;i+=1)u(r[i]);t=!0}},o(a){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)m(r[i]);t=!1},d(a){Me(r,a),a&&p(e)}}}function sn(o){let e,t;return e=new ye({props:{value:o[0],$$slots:{default:[an]},$$scope:{ctx:o}}}),{c(){h(e.$$.fragment)},l(n){v(e.$$.fragment,n)},m(n,r){b(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.value=n[0]),r&4097&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(u(e.$$.fragment,n),t=!0)},o(n){m(e.$$.fragment,n),t=!1},d(n){k(e,n)}}}function on(o){let e=o[9]+"",t;return{c(){t=L(e)},l(n){t=M(n,e)},m(n,r){w(n,t,r)},p:re,d(n){n&&p(t)}}}function ke(o){let e,t;return e=new ye({props:{value:o[9],$$slots:{default:[on]},$$scope:{ctx:o}}}),{c(){h(e.$$.fragment)},l(n){v(e.$$.fragment,n)},m(n,r){b(e,n,r),t=!0},p(n,r){const s={};r&4096&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(u(e.$$.fragment,n),t=!0)},o(n){m(e.$$.fragment,n),t=!1},d(n){k(e,n)}}}function an(o){let e;return{c(){e=L(o[0])},l(t){e=M(t,o[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&Ie(e,t[0])},d(t){t&&p(e)}}}function ln(o){let e,t,n,r;const s=[sn,rn],a=[];function i(l,f){return l[1]?0:1}return e=i(o),t=a[e]=s[e](o),{c(){t.c(),n=y()},l(l){t.l(l),n=y()},m(l,f){a[e].m(l,f),w(l,n,f),r=!0},p(l,f){t.p(l,f)},i(l){r||(u(t),r=!0)},o(l){m(t),r=!1},d(l){a[e].d(l),l&&p(n)}}}function fn(o){let e,t,n,r;function s(i){o[4](i)}let a={dark:!0,id:"namespace-select",class:"namespace-select",$$slots:{default:[ln]},$$scope:{ctx:o}};return o[0]!==void 0&&(a.value=o[0]),t=new Qe({props:a}),G.push(()=>Q(t,"value",s)),t.$on("change",o[3]),{c(){e=T("div"),h(t.$$.fragment),this.h()},l(i){e=A(i,"DIV",{class:!0});var l=K(e);v(t.$$.fragment,l),l.forEach(p),this.h()},h(){d(e,"class","w-full")},m(i,l){w(i,e,l),b(t,e,null),r=!0},p(i,[l]){const f={};l&4097&&(f.$$scope={dirty:l,ctx:i}),!n&&l&1&&(n=!0,f.value=i[0],x(()=>n=!1)),t.$set(f)},i(i){r||(u(t.$$.fragment,i),r=!0)},o(i){m(t.$$.fragment,i),r=!1},d(i){i&&p(e),k(t)}}}function un(o,e,t){let n;R(o,P,$=>t(7,n=$));var r,s;const{showTemporalSystemNamespace:a}=n.stuff.settings,{isCloud:i}=n.stuff.settings.runtimeEnvironment;let l=n.params.namespace||((s=(r=n.stuff)===null||r===void 0?void 0:r.settings)===null||s===void 0?void 0:s.defaultNamespace),f=(n.stuff.namespaces||[]).map($=>{var B;return(B=$==null?void 0:$.namespaceInfo)===null||B===void 0?void 0:B.name}).filter($=>a||$!=="temporal-system");const _=$=>{const V=$.target.value;V&&Ge(j({namespace:V}),{replaceState:!0,keepfocus:!0,noscroll:!0})};function c($){l=$,t(0,l)}return[l,i,f,_,c]}class Ve extends F{constructor(e){super(),H(this,e,un,fn,q,{})}}const cn=o=>({}),we=o=>({});function mn(o){let e;const t=o[2].default,n=le(t,o,o[1],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&2)&&ie(n,t,r,r[1],e?ue(t,r[1],s,null):fe(r[1]),null)},i(r){e||(u(n,r),e=!0)},o(r){m(n,r),e=!1},d(r){n&&n.d(r)}}}function pn(o){let e;const t=o[2].fallback,n=le(t,o,o[1],we);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&2)&&ie(n,t,r,r[1],e?ue(t,r[1],s,cn):fe(r[1]),we)},i(r){e||(u(n,r),e=!0)},o(r){m(n,r),e=!1},d(r){n&&n.d(r)}}}function _n(o){let e,t,n,r;const s=[pn,mn],a=[];function i(l,f){return l[0].stuff.settings.runtimeEnvironment.isCloud?0:1}return e=i(o),t=a[e]=s[e](o),{c(){t.c(),n=y()},l(l){t.l(l),n=y()},m(l,f){a[e].m(l,f),w(l,n,f),r=!0},p(l,[f]){let _=e;e=i(l),e===_?a[e].p(l,f):(oe(),m(a[_],1,1,()=>{a[_]=null}),ae(),t=a[e],t?t.p(l,f):(t=a[e]=s[e](l),t.c()),u(t,1),t.m(n.parentNode,n))},i(l){r||(u(t),r=!0)},o(l){m(t),r=!1},d(l){a[e].d(l),l&&p(n)}}}function $n(o,e,t){let n;R(o,P,a=>t(0,n=a));let{$$slots:r={},$$scope:s}=e;return o.$$set=a=>{"$$scope"in a&&t(1,s=a.$$scope)},[n,s,r]}class Ee extends F{constructor(e){super(),H(this,e,$n,_n,q,{})}}function gn(o){let e,t;return e=new Ve({}),{c(){h(e.$$.fragment)},l(n){v(e.$$.fragment,n)},m(n,r){b(e,n,r),t=!0},i(n){t||(u(e.$$.fragment,n),t=!0)},o(n){m(e.$$.fragment,n),t=!1},d(n){k(e,n)}}}function dn(o){let e;return{c(){e=L("Workflows")},l(t){e=M(t,"Workflows")},m(t,n){w(t,e,n)},d(t){t&&p(e)}}}function hn(o){let e;return{c(){e=L("Settings")},l(t){e=M(t,"Settings")},m(t,n){w(t,e,n)},d(t){t&&p(e)}}}function vn(o){let e;return{c(){e=L("Archival")},l(t){e=M(t,"Archival")},m(t,n){w(t,e,n)},d(t){t&&p(e)}}}function bn(o){let e,t,n,r;return e=new J({props:{href:ee({namespace:o[1]}),$$slots:{default:[hn]},$$scope:{ctx:o}}}),n=new J({props:{href:ne({namespace:o[1]}),$$slots:{default:[vn]},$$scope:{ctx:o}}}),{c(){h(e.$$.fragment),t=U(),h(n.$$.fragment)},l(s){v(e.$$.fragment,s),t=O(s),v(n.$$.fragment,s)},m(s,a){b(e,s,a),w(s,t,a),b(n,s,a),r=!0},p(s,a){const i={};a&2&&(i.href=ee({namespace:s[1]})),a&32&&(i.$$scope={dirty:a,ctx:s}),e.$set(i);const l={};a&2&&(l.href=ne({namespace:s[1]})),a&32&&(l.$$scope={dirty:a,ctx:s}),n.$set(l)},i(s){r||(u(e.$$.fragment,s),u(n.$$.fragment,s),r=!0)},o(s){m(e.$$.fragment,s),m(n.$$.fragment,s),r=!1},d(s){k(e,s),s&&p(t),k(n,s)}}}function kn(o){let e,t,n,r;return e=new J({props:{href:j({namespace:o[1]}),$$slots:{default:[dn]},$$scope:{ctx:o}}}),n=new Ee({props:{$$slots:{default:[bn]},$$scope:{ctx:o}}}),{c(){h(e.$$.fragment),t=U(),h(n.$$.fragment)},l(s){v(e.$$.fragment,s),t=O(s),v(n.$$.fragment,s)},m(s,a){b(e,s,a),w(s,t,a),b(n,s,a),r=!0},p(s,a){const i={};a&2&&(i.href=j({namespace:s[1]})),a&32&&(i.$$scope={dirty:a,ctx:s}),e.$set(i);const l={};a&34&&(l.$$scope={dirty:a,ctx:s}),n.$set(l)},i(s){r||(u(e.$$.fragment,s),u(n.$$.fragment,s),r=!0)},o(s){m(e.$$.fragment,s),m(n.$$.fragment,s),r=!1},d(s){k(e,s),s&&p(t),k(n,s)}}}function wn(o){let e,t;return e=new Ne({props:{user:o[0]}}),{c(){h(e.$$.fragment)},l(n){v(e.$$.fragment,n)},m(n,r){b(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.user=n[0]),e.$set(s)},i(n){t||(u(e.$$.fragment,n),t=!0)},o(n){m(e.$$.fragment,n),t=!1},d(n){k(e,n)}}}function Bn(o){let e,t;return e=new Xe({props:{href:j({namespace:o[1]}),user:o[0],$$slots:{user:[wn],links:[kn],logo:[gn]},$$scope:{ctx:o}}}),{c(){h(e.$$.fragment)},l(n){v(e.$$.fragment,n)},m(n,r){b(e,n,r),t=!0},p(n,[r]){const s={};r&2&&(s.href=j({namespace:n[1]})),r&1&&(s.user=n[0]),r&35&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(u(e.$$.fragment,n),t=!0)},o(n){m(e.$$.fragment,n),t=!1},d(n){k(e,n)}}}function In(o,e,t){let n,r;R(o,P,l=>t(4,r=l));var s,a;let{user:i}=e;return o.$$set=l=>{"user"in l&&t(0,i=l.user)},o.$$.update=()=>{o.$$.dirty&28&&t(1,n=r.params.namespace||(t(3,a=t(2,s=r.stuff)===null||s===void 0?void 0:s.settings)===null||a===void 0?void 0:a.defaultNamespace))},[i,n,s,a,r]}class Nn extends F{constructor(e){super(),H(this,e,In,Bn,q,{user:0})}}function yn(o){let e,t;return e=new Ve({}),{c(){h(e.$$.fragment)},l(n){v(e.$$.fragment,n)},m(n,r){b(e,n,r),t=!0},i(n){t||(u(e.$$.fragment,n),t=!0)},o(n){m(e.$$.fragment,n),t=!1},d(n){k(e,n)}}}function Vn(o){let e;return{c(){e=L("Workflows")},l(t){e=M(t,"Workflows")},m(t,n){w(t,e,n)},d(t){t&&p(e)}}}function En(o){let e;return{c(){e=L("Settings")},l(t){e=M(t,"Settings")},m(t,n){w(t,e,n)},d(t){t&&p(e)}}}function Tn(o){let e;return{c(){e=L("Archival")},l(t){e=M(t,"Archival")},m(t,n){w(t,e,n)},d(t){t&&p(e)}}}function An(o){let e,t,n,r;return e=new J({props:{href:ee({namespace:o[1]}),$$slots:{default:[En]},$$scope:{ctx:o}}}),n=new J({props:{href:ne({namespace:o[1]}),$$slots:{default:[Tn]},$$scope:{ctx:o}}}),{c(){h(e.$$.fragment),t=U(),h(n.$$.fragment)},l(s){v(e.$$.fragment,s),t=O(s),v(n.$$.fragment,s)},m(s,a){b(e,s,a),w(s,t,a),b(n,s,a),r=!0},p(s,a){const i={};a&2&&(i.href=ee({namespace:s[1]})),a&32&&(i.$$scope={dirty:a,ctx:s}),e.$set(i);const l={};a&2&&(l.href=ne({namespace:s[1]})),a&32&&(l.$$scope={dirty:a,ctx:s}),n.$set(l)},i(s){r||(u(e.$$.fragment,s),u(n.$$.fragment,s),r=!0)},o(s){m(e.$$.fragment,s),m(n.$$.fragment,s),r=!1},d(s){k(e,s),s&&p(t),k(n,s)}}}function Cn(o){let e,t,n,r;return e=new J({props:{href:j({namespace:o[1]}),$$slots:{default:[Vn]},$$scope:{ctx:o}}}),n=new Ee({props:{$$slots:{default:[An]},$$scope:{ctx:o}}}),{c(){h(e.$$.fragment),t=U(),h(n.$$.fragment)},l(s){v(e.$$.fragment,s),t=O(s),v(n.$$.fragment,s)},m(s,a){b(e,s,a),w(s,t,a),b(n,s,a),r=!0},p(s,a){const i={};a&2&&(i.href=j({namespace:s[1]})),a&32&&(i.$$scope={dirty:a,ctx:s}),e.$set(i);const l={};a&34&&(l.$$scope={dirty:a,ctx:s}),n.$set(l)},i(s){r||(u(e.$$.fragment,s),u(n.$$.fragment,s),r=!0)},o(s){m(e.$$.fragment,s),m(n.$$.fragment,s),r=!1},d(s){k(e,s),s&&p(t),k(n,s)}}}function Sn(o){let e,t;return e=new Ne({props:{user:o[0]}}),{c(){h(e.$$.fragment)},l(n){v(e.$$.fragment,n)},m(n,r){b(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.user=n[0]),e.$set(s)},i(n){t||(u(e.$$.fragment,n),t=!0)},o(n){m(e.$$.fragment,n),t=!1},d(n){k(e,n)}}}function Un(o){let e,t;return e=new Ye({props:{href:j({namespace:o[1]}),user:o[0],$$slots:{user:[Sn],links:[Cn],action:[yn]},$$scope:{ctx:o}}}),{c(){h(e.$$.fragment)},l(n){v(e.$$.fragment,n)},m(n,r){b(e,n,r),t=!0},p(n,[r]){const s={};r&2&&(s.href=j({namespace:n[1]})),r&1&&(s.user=n[0]),r&35&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(u(e.$$.fragment,n),t=!0)},o(n){m(e.$$.fragment,n),t=!1},d(n){k(e,n)}}}function On(o,e,t){let n,r;R(o,P,l=>t(4,r=l));var s,a;let{user:i}=e;return o.$$set=l=>{"user"in l&&t(0,i=l.user)},o.$$.update=()=>{o.$$.dirty&28&&t(1,n=r.params.namespace||(t(3,a=t(2,s=r.stuff)===null||s===void 0?void 0:s.settings)===null||a===void 0?void 0:a.defaultNamespace))},[i,n,s,a,r]}class Ln extends F{constructor(e){super(),H(this,e,On,Un,q,{user:0})}}var te=(o=>(o[o.TemporalVersion=1]="TemporalVersion",o[o.UIVersion=2]="UIVersion",o))(te||{});const Te=(o,e)=>{if(!o||!e)return!1;const[t,n,r]=o.split(".").map(Number),[s,a,i]=e.split(".").map(Number);return t!==s?t>s:n!==a?n>a:r>i},se=xe("closedBanners",null),Mn=o=>{var t;let e=(t=We(se))!=null?t:[];e=[...e,o],e=e.slice(e.length-10,e.length),se.set(e)};function Be(o){let e,t,n,r,s,a,i,l,f,_;return{c(){e=T("section"),t=T("a"),n=L(o[2]),r=U(),s=T("button"),a=L("\u2715"),this.h()},l(c){e=A(c,"SECTION",{class:!0,"data-cy":!0});var $=K(e);t=A($,"A",{href:!0,target:!0});var B=K(t);n=M(B,o[2]),B.forEach(p),r=O($),s=A($,"BUTTON",{class:!0,"data-cy":!0});var V=K(s);a=M(V,"\u2715"),V.forEach(p),$.forEach(p),this.h()},h(){d(t,"href",o[3]),d(t,"target","_blank"),d(s,"class","absolute top-0 right-0 mr-5 text-black-600"),d(s,"data-cy","close-banner"),d(e,"class",i=ge(`block leading-10 text-center ${o[1]}`)+" svelte-1xgik0j"),d(e,"data-cy",l=o[5].dataCy)},m(c,$){w(c,e,$),I(e,t),I(t,n),I(e,r),I(e,s),I(s,a),f||(_=je(s,"click",o[8]),f=!0)},p(c,$){$&4&&Ie(n,c[2]),$&8&&d(t,"href",c[3]),$&2&&i!==(i=ge(`block leading-10 text-center ${c[1]}`)+" svelte-1xgik0j")&&d(e,"class",i),$&32&&l!==(l=c[5].dataCy)&&d(e,"data-cy",l)},d(c){c&&p(e),f=!1,_()}}}function Wn(o){let e,t=o[4]&&Be(o);return{c(){t&&t.c(),e=y()},l(n){t&&t.l(n),e=y()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,[r]){n[4]?t?t.p(n,r):(t=Be(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:re,o:re,d(n){t&&t.d(n),n&&p(e)}}}function jn(o,e,t){let n,r;R(o,se,c=>t(7,r=c));let{key:s}=e,{severity:a}=e,{message:i}=e,{link:l}=e,{shownBanner:f}=e;const _=()=>Mn(s);return o.$$set=c=>{t(5,e=de(de({},e),he(c))),"key"in c&&t(0,s=c.key),"severity"in c&&t(1,a=c.severity),"message"in c&&t(2,i=c.message),"link"in c&&t(3,l=c.link),"shownBanner"in c&&t(6,f=c.shownBanner)},o.$$.update=()=>{o.$$.dirty&129&&t(4,n=!(r!=null?r:[]).includes(s)),o.$$.dirty&80&&(n||t(6,f++,f))},e=he(e),[s,a,i,l,n,e,f,r,_]}class Ae extends F{constructor(e){super(),H(this,e,jn,Wn,q,{key:0,severity:1,message:2,link:3,shownBanner:6})}}function Fn(o){let e,t,n;function r(a){o[6](a)}let s={key:o[2],severity:o[1],message:o[5],link:o[3],dataCy:"temporal-version-banner"};return o[0]!==void 0&&(s.shownBanner=o[0]),e=new Ae({props:s}),G.push(()=>Q(e,"shownBanner",r)),{c(){h(e.$$.fragment)},l(a){v(e.$$.fragment,a)},m(a,i){b(e,a,i),n=!0},p(a,i){const l={};!t&&i&1&&(t=!0,l.shownBanner=a[0],x(()=>t=!1)),e.$set(l)},i(a){n||(u(e.$$.fragment,a),n=!0)},o(a){m(e.$$.fragment,a),n=!1},d(a){k(e,a)}}}function Hn(o){let e,t,n=o[4]&&Fn(o);return{c(){n&&n.c(),e=y()},l(r){n&&n.l(r),e=y()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[4]&&n.p(r,s)},i(r){t||(u(n),t=!0)},o(r){m(n),t=!1},d(r){n&&n.d(r),r&&p(e)}}}function qn(o,e,t){let n;R(o,P,g=>t(12,n=g));var r,s,a,i,l;let{shownBanner:f}=e;const{cluster:_}=n.stuff,c={High:"high",Medium:"medium",Low:"low"},{recommended:$,current:B}=(r=_==null?void 0:_.versionInfo)!==null&&r!==void 0?r:{},V=(a=(s=_==null?void 0:_.versionInfo)===null||s===void 0?void 0:s.alerts)===null||a===void 0?void 0:a[0],C=V?c[V.severity]:c.Low,X=`server-v${B==null?void 0:B.version}`,W=`https://github.com/temporalio/temporal/releases/tag/v${(l=(i=_==null?void 0:_.versionInfo)===null||i===void 0?void 0:i.recommended)===null||l===void 0?void 0:l.version}`,D=Te($==null?void 0:$.version,B==null?void 0:B.version),S=C===c.Low?`\u{1F4E5} Temporal v${$==null?void 0:$.version} is available`:`\u{1F4E5} ${V==null?void 0:V.message}`;function z(g){f=g,t(0,f)}return o.$$set=g=>{"shownBanner"in g&&t(0,f=g.shownBanner)},[f,C,X,W,D,S,z]}class Dn extends F{constructor(e){super(),H(this,e,qn,Hn,q,{shownBanner:0})}}function Kn(o){let e,t,n;function r(a){o[6](a)}let s={key:o[1],severity:zn,message:o[2],link:o[4],dataCy:"ui-version-banner"};return o[0]!==void 0&&(s.shownBanner=o[0]),e=new Ae({props:s}),G.push(()=>Q(e,"shownBanner",r)),{c(){h(e.$$.fragment)},l(a){v(e.$$.fragment,a)},m(a,i){b(e,a,i),n=!0},p(a,i){const l={};!t&&i&1&&(t=!0,l.shownBanner=a[0],x(()=>t=!1)),e.$set(l)},i(a){n||(u(e.$$.fragment,a),n=!0)},o(a){m(e.$$.fragment,a),n=!1},d(a){k(e,a)}}}function Rn(o){let e,t,n=o[3]&&Kn(o);return{c(){n&&n.c(),e=y()},l(r){n&&n.l(r),e=y()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[3]&&n.p(r,s)},i(r){t||(u(n),t=!0)},o(r){m(n),t=!1},d(r){n&&n.d(r),r&&p(e)}}}const zn="low";function Jn(o,e,t){let{shownBanner:n}=e,{uiVersionInfo:r}=e;const s=`ui-v${r==null?void 0:r.current}`,a=`\u{1F4E5} Temporal UI v${r==null?void 0:r.recommended} is available`,i=Te(r==null?void 0:r.recommended,r==null?void 0:r.current),l=`https://github.com/temporalio/ui-server/releases/tag/v${r==null?void 0:r.recommended}`;function f(_){n=_,t(0,n)}return o.$$set=_=>{"shownBanner"in _&&t(0,n=_.shownBanner),"uiVersionInfo"in _&&t(5,r=_.uiVersionInfo)},[n,s,a,i,l,r,f]}class Pn extends F{constructor(e){super(),H(this,e,Jn,Rn,q,{shownBanner:0,uiVersionInfo:5})}}function Xn(o){let e,t,n,r;const s=[Zn,Yn],a=[];function i(l,f){return l[1]===te.TemporalVersion?0:l[1]===te.UIVersion?1:-1}return~(e=i(o))&&(t=a[e]=s[e](o)),{c(){t&&t.c(),n=y()},l(l){t&&t.l(l),n=y()},m(l,f){~e&&a[e].m(l,f),w(l,n,f),r=!0},p(l,f){let _=e;e=i(l),e===_?~e&&a[e].p(l,f):(t&&(oe(),m(a[_],1,1,()=>{a[_]=null}),ae()),~e?(t=a[e],t?t.p(l,f):(t=a[e]=s[e](l),t.c()),u(t,1),t.m(n.parentNode,n)):t=null)},i(l){r||(u(t),r=!0)},o(l){m(t),r=!1},d(l){~e&&a[e].d(l),l&&p(n)}}}function Yn(o){let e,t,n;function r(a){o[4](a)}let s={uiVersionInfo:o[0]};return o[1]!==void 0&&(s.shownBanner=o[1]),e=new Pn({props:s}),G.push(()=>Q(e,"shownBanner",r)),{c(){h(e.$$.fragment)},l(a){v(e.$$.fragment,a)},m(a,i){b(e,a,i),n=!0},p(a,i){const l={};i&1&&(l.uiVersionInfo=a[0]),!t&&i&2&&(t=!0,l.shownBanner=a[1],x(()=>t=!1)),e.$set(l)},i(a){n||(u(e.$$.fragment,a),n=!0)},o(a){m(e.$$.fragment,a),n=!1},d(a){k(e,a)}}}function Zn(o){let e,t,n;function r(a){o[3](a)}let s={};return o[1]!==void 0&&(s.shownBanner=o[1]),e=new Dn({props:s}),G.push(()=>Q(e,"shownBanner",r)),{c(){h(e.$$.fragment)},l(a){v(e.$$.fragment,a)},m(a,i){b(e,a,i),n=!0},p(a,i){const l={};!t&&i&2&&(t=!0,l.shownBanner=a[1],x(()=>t=!1)),e.$set(l)},i(a){n||(u(e.$$.fragment,a),n=!0)},o(a){m(e.$$.fragment,a),n=!1},d(a){k(e,a)}}}function Gn(o){let e,t,n=o[2]&&Xn(o);return{c(){n&&n.c(),e=y()},l(r){n&&n.l(r),e=y()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[2]&&n.p(r,s)},i(r){t||(u(n),t=!0)},o(r){m(n),t=!1},d(r){n&&n.d(r),r&&p(e)}}}function Qn(o,e,t){let n;R(o,P,f=>t(5,n=f));let{uiVersionInfo:r}=e,s=te.TemporalVersion;const a=n.stuff.settings.notifyOnNewVersion;function i(f){s=f,t(1,s)}function l(f){s=f,t(1,s)}return o.$$set=f=>{"uiVersionInfo"in f&&t(0,r=f.uiVersionInfo)},[r,s,a,i,l]}class xn extends F{constructor(e){super(),H(this,e,Qn,Gn,q,{uiVersionInfo:0})}}function et(o){let e;const t=o[2].default,n=le(t,o,o[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ie(n,t,r,r[3],e?ue(t,r[3],s,null):fe(r[3]),null)},i(r){e||(u(n,r),e=!0)},o(r){m(n,r),e=!1},d(r){n&&n.d(r)}}}function nt(o){let e,t,n,r,s,a,i,l,f,_,c,$,B,V,C,X,W,D,S,z;return f=new Je({}),c=new xn({props:{uiVersionInfo:o[1]}}),B=new Nn({props:{user:o[0]}}),C=new Ln({props:{user:o[0]}}),S=new Pe({props:{onError:tt,$$slots:{default:[et]},$$scope:{ctx:o}}}),{c(){e=T("link"),t=T("link"),n=T("meta"),r=T("meta"),s=T("meta"),a=T("meta"),i=U(),l=T("main"),h(f.$$.fragment),_=U(),h(c.$$.fragment),$=U(),h(B.$$.fragment),V=U(),h(C.$$.fragment),X=U(),W=T("section"),D=T("div"),h(S.$$.fragment),this.h()},l(g){const N=Fe('[data-svelte="svelte-15ltrtv"]',document.head);e=A(N,"LINK",{rel:!0,href:!0}),t=A(N,"LINK",{rel:!0,href:!0}),n=A(N,"META",{property:!0,content:!0}),r=A(N,"META",{property:!0,content:!0}),s=A(N,"META",{property:!0,content:!0}),a=A(N,"META",{property:!0,content:!0}),N.forEach(p),i=O(g),l=A(g,"MAIN",{class:!0});var E=K(l);v(f.$$.fragment,E),_=O(E),v(c.$$.fragment,E),$=O(E),v(B.$$.fragment,E),V=O(E),v(C.$$.fragment,E),X=O(E),W=A(E,"SECTION",{id:!0,class:!0});var Y=K(W);D=A(Y,"DIV",{class:!0});var Z=K(D);v(S.$$.fragment,Z),Z.forEach(p),Y.forEach(p),E.forEach(p),this.h()},h(){document.title="Temporal",d(e,"rel","manifest"),d(e,"href","/site.webmanifest"),d(t,"rel","apple-touch-icon"),d(t,"href","/apple-touch-icon.png"),d(n,"property","og:title"),d(n,"content","Temporal"),d(r,"property","og:type"),d(r,"content","website"),d(s,"property","og:url"),d(s,"content","https://temporal.io"),d(a,"property","og:image"),d(a,"content","/banner.png"),d(D,"class","flex flex-col h-full gap-4 mt-12 xl:mt-0"),d(W,"id","content"),d(W,"class","h-full mx-10 mb-10 mt-8"),d(l,"class","flex flex-col h-screen")},m(g,N){I(document.head,e),I(document.head,t),I(document.head,n),I(document.head,r),I(document.head,s),I(document.head,a),w(g,i,N),w(g,l,N),b(f,l,null),I(l,_),b(c,l,null),I(l,$),b(B,l,null),I(l,V),b(C,l,null),I(l,X),I(l,W),I(W,D),b(S,D,null),z=!0},p(g,[N]){const E={};N&2&&(E.uiVersionInfo=g[1]),c.$set(E);const Y={};N&1&&(Y.user=g[0]),B.$set(Y);const Z={};N&1&&(Z.user=g[0]),C.$set(Z);const ce={};N&8&&(ce.$$scope={dirty:N,ctx:g}),S.$set(ce)},i(g){z||(u(f.$$.fragment,g),u(c.$$.fragment,g),u(B.$$.fragment,g),u(C.$$.fragment,g),u(S.$$.fragment,g),z=!0)},o(g){m(f.$$.fragment,g),m(c.$$.fragment,g),m(B.$$.fragment,g),m(C.$$.fragment,g),m(S.$$.fragment,g),z=!1},d(g){p(e),p(t),p(n),p(r),p(s),p(a),g&&p(i),g&&p(l),k(f),k(c),k(B),k(C),k(S)}}}const At=async function({url:o,fetch:e}){const t=await Ze({url:o},e),n=await Re(e);if(!en(t,n))return{status:302,redirect:"/login"};const r=await tn(t,e),s=He({namespaces:r==null?void 0:r.namespaces,settings:t}),a=await ze(t,e),i={current:t.version,recommended:t.notifyOnNewVersion?await nn(e):void 0};return{props:{user:n,uiVersionInfo:i},stuff:{namespaces:r==null?void 0:r.namespaces,settings:$e(_e({},t),{defaultNamespace:s}),cluster:a}}},tt=()=>{};function rt(o,e,t){let{$$slots:n={},$$scope:r}=e,{user:s}=e,{uiVersionInfo:a}=e;return o.$$set=i=>{"user"in i&&t(0,s=i.user),"uiVersionInfo"in i&&t(1,a=i.uiVersionInfo),"$$scope"in i&&t(3,r=i.$$scope)},[s,a,n,r]}class Ct extends F{constructor(e){super(),H(this,e,rt,nt,q,{user:0,uiVersionInfo:1})}}export{Ct as default,At as load};
