import{S as B,i as F,s as H,j as $,m as g,o as k,x as m,u as h,v as d,R as K,e as b,t as O,k as j,c as x,a as v,g as P,d as _,n as y,b as R,f as W,K as w,w as E,I as T,r as q}from"../../../../../chunks/vendor-ea4e1b17.js";import{g as z,W as A,a as D}from"../../../../../chunks/workers-row-3a1ef628.js";import{E as G}from"../../../../../chunks/empty-state-0143a30c.js";import"../../../../../chunks/request-from-api-fc543812.js";import"../../../../../chunks/notifications-2aab2c71.js";import"../../../../../chunks/route-for-api-a5ba59e5.js";import"../../../../../chunks/format-date-fc0480a7.js";function S(i,e,s){const t=i.slice();return t[1]=e[s],t}function C(i){let e,s;return e=new G({props:{title:"No Workers Found"}}),{c(){$(e.$$.fragment)},l(t){g(e.$$.fragment,t)},m(t,r){k(e,t,r),s=!0},p:K,i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){h(e.$$.fragment,t),s=!1},d(t){d(e,t)}}}function J(i){let e,s,t;return e=new D({props:{poller:i[1]}}),{c(){$(e.$$.fragment),s=j()},l(r){g(e.$$.fragment,r),s=y(r)},m(r,u){k(e,r,u),W(r,s,u),t=!0},p(r,u){const f={};u&1&&(f.poller=r[1]),e.$set(f)},i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){h(e.$$.fragment,r),t=!1},d(r){d(e,r),r&&_(s)}}}function I(i){let e,s;return e=new A({props:{$$slots:{default:[J]},$$scope:{ctx:i}}}),{c(){$(e.$$.fragment)},l(t){g(e.$$.fragment,t)},m(t,r){k(e,t,r),s=!0},p(t,r){const u={};r&17&&(u.$$scope={dirty:r,ctx:t}),e.$set(u)},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){h(e.$$.fragment,t),s=!1},d(t){d(e,t)}}}function L(i){let e,s,t,r,u,f=i[0].pollers,o=[];for(let n=0;n<f.length;n+=1)o[n]=I(S(i,f,n));const N=n=>h(o[n],1,1,()=>{o[n]=null});let c=null;return f.length||(c=C()),{c(){e=b("section"),s=b("h1"),t=O("Workers"),r=j();for(let n=0;n<o.length;n+=1)o[n].c();c&&c.c(),this.h()},l(n){e=x(n,"SECTION",{});var a=v(e);s=x(a,"H1",{class:!0});var l=v(s);t=P(l,"Workers"),l.forEach(_),r=y(a);for(let p=0;p<o.length;p+=1)o[p].l(a);c&&c.l(a),a.forEach(_),this.h()},h(){R(s,"class","text-4xl mb-4")},m(n,a){W(n,e,a),w(e,s),w(s,t),w(e,r);for(let l=0;l<o.length;l+=1)o[l].m(e,null);c&&c.m(e,null),u=!0},p(n,[a]){if(a&1){f=n[0].pollers;let l;for(l=0;l<f.length;l+=1){const p=S(n,f,l);o[l]?(o[l].p(p,a),m(o[l],1)):(o[l]=I(p),o[l].c(),m(o[l],1),o[l].m(e,null))}for(q(),l=f.length;l<o.length;l+=1)N(l);E(),!f.length&&c?c.p(n,a):f.length?c&&(q(),h(c,1,1,()=>{c=null}),E()):(c=C(),c.c(),m(c,1),c.m(e,null))}},i(n){if(!u){for(let a=0;a<f.length;a+=1)m(o[a]);u=!0}},o(n){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)h(o[a]);u=!1},d(n){n&&_(e),T(o,n),c&&c.d()}}}async function te({fetch:i,page:e}){const{namespace:s,queue:t}=e.params;return await z({queue:t,namespace:s},i).then(r=>({props:{pollers:r}}))}function M(i,e,s){let{pollers:t}=e;return i.$$set=r=>{"pollers"in r&&s(0,t=r.pollers)},[t]}class re extends B{constructor(e){super();F(this,e,M,L,H,{pollers:0})}}export{re as default,te as load};
