import{S as B,i as F,s as H,j as $,m as g,o as d,x as m,u as h,v as k,R as K,e as b,t as O,k as x,c as j,a as v,g as P,d as _,n as y,b as R,f as W,K as w,w as E,I as T,r as S}from"../../../../../chunks/vendor-c7e306c1.js";import{g as z,W as A,a as D}from"../../../../../chunks/workers-row-4533f668.js";import{E as G}from"../../../../../chunks/empty-state-eadefdad.js";import"../../../../../chunks/route-for-api-aecf4d21.js";import"../../../../../chunks/notifications-939cb4a5.js";import"../../../../../chunks/format-date-ef16df5d.js";function q(i,e,s){const t=i.slice();return t[1]=e[s],t}function C(i){let e,s;return e=new G({props:{title:"No Workers Found"}}),{c(){$(e.$$.fragment)},l(t){g(e.$$.fragment,t)},m(t,r){d(e,t,r),s=!0},p:K,i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){h(e.$$.fragment,t),s=!1},d(t){k(e,t)}}}function J(i){let e,s,t;return e=new D({props:{poller:i[1]}}),{c(){$(e.$$.fragment),s=x()},l(r){g(e.$$.fragment,r),s=y(r)},m(r,u){d(e,r,u),W(r,s,u),t=!0},p(r,u){const f={};u&1&&(f.poller=r[1]),e.$set(f)},i(r){t||(m(e.$$.fragment,r),t=!0)},o(r){h(e.$$.fragment,r),t=!1},d(r){k(e,r),r&&_(s)}}}function I(i){let e,s;return e=new A({props:{$$slots:{default:[J]},$$scope:{ctx:i}}}),{c(){$(e.$$.fragment)},l(t){g(e.$$.fragment,t)},m(t,r){d(e,t,r),s=!0},p(t,r){const u={};r&17&&(u.$$scope={dirty:r,ctx:t}),e.$set(u)},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){h(e.$$.fragment,t),s=!1},d(t){k(e,t)}}}function L(i){let e,s,t,r,u,f=i[0].pollers,l=[];for(let n=0;n<f.length;n+=1)l[n]=I(q(i,f,n));const N=n=>h(l[n],1,1,()=>{l[n]=null});let c=null;return f.length||(c=C()),{c(){e=b("section"),s=b("h1"),t=O("Workers"),r=x();for(let n=0;n<l.length;n+=1)l[n].c();c&&c.c(),this.h()},l(n){e=j(n,"SECTION",{});var a=v(e);s=j(a,"H1",{class:!0});var o=v(s);t=P(o,"Workers"),o.forEach(_),r=y(a);for(let p=0;p<l.length;p+=1)l[p].l(a);c&&c.l(a),a.forEach(_),this.h()},h(){R(s,"class","text-4xl mb-4")},m(n,a){W(n,e,a),w(e,s),w(s,t),w(e,r);for(let o=0;o<l.length;o+=1)l[o].m(e,null);c&&c.m(e,null),u=!0},p(n,[a]){if(a&1){f=n[0].pollers;let o;for(o=0;o<f.length;o+=1){const p=q(n,f,o);l[o]?(l[o].p(p,a),m(l[o],1)):(l[o]=I(p),l[o].c(),m(l[o],1),l[o].m(e,null))}for(S(),o=f.length;o<l.length;o+=1)N(o);E(),!f.length&&c?c.p(n,a):f.length?c&&(S(),h(c,1,1,()=>{c=null}),E()):(c=C(),c.c(),m(c,1),c.m(e,null))}},i(n){if(!u){for(let a=0;a<f.length;a+=1)m(l[a]);u=!0}},o(n){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)h(l[a]);u=!1},d(n){n&&_(e),T(l,n),c&&c.d()}}}async function ee({fetch:i,page:e}){const{namespace:s,queue:t}=e.params;return await z({queue:t,namespace:s},i).then(r=>({props:{pollers:r}}))}function M(i,e,s){let{pollers:t}=e;return i.$$set=r=>{"pollers"in r&&s(0,t=r.pollers)},[t]}class te extends B{constructor(e){super();F(this,e,M,L,H,{pollers:0})}}export{te as default,ee as load};
