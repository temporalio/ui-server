import{S as ie,i as ue,s as he,e as w,t as H,k as b,c as d,a as v,g as R,d as p,n as $,b as h,K as E,f as B,E as i,$ as be,I as Q,J as me,as as Ie,j as T,m as G,o as J,r as je,u as A,w as Se,x as I,h as _e,v as K,at as De,au as Ne,D as We,F as Ue,G as Pe,H as Fe,a3 as He,a5 as Re,a4 as Me,av as $e}from"../../../../../../chunks/vendor-b03dee8a.js";import{a as Ve,b as qe}from"../../../../../../chunks/workflow-execution-service-1dbf448e.js";import{i as Ee}from"../../../../../../chunks/full-screen-89e5fe1d.js";import{a as Ce}from"../../../../../../chunks/workflow-execution-96f0dc0e.js";import{n as ye}from"../../../../../../chunks/namespace-009eb0fd.js";import{g as Ae,W as Te}from"../../../../../../chunks/workflow-status-a3536f5c.js";import{p as Ge}from"../../../../../../chunks/stores-0cc7c5f3.js";import{p as L}from"../../../../../../chunks/path-matches-cc478998.js";import"../../../../../../chunks/request-from-api-a1f394a2.js";function Je(s){let e,t,r,n,o,l,c,u,_;return{c(){e=w("nav"),t=w("a"),r=H("Summary"),n=b(),o=w("a"),l=H("Events"),c=b(),u=w("a"),_=H("Activities"),this.h()},l(a){e=d(a,"NAV",{class:!0});var f=v(e);t=d(f,"A",{href:!0,class:!0});var k=v(t);r=R(k,"Summary"),k.forEach(p),n=$(f),o=d(f,"A",{href:!0,class:!0});var j=v(o);l=R(j,"Events"),j.forEach(p),c=$(f),u=d(f,"A",{href:!0,class:!0});var M=v(u);_=R(M,"Activities"),M.forEach(p),f.forEach(p),this.h()},h(){h(t,"href",s[2]),h(t,"class","svelte-avitl7"),E(t,"active",L(s[2],s[3].path)),h(o,"href",s[1]),h(o,"class","svelte-avitl7"),E(o,"active",L(s[1],s[3].path)),h(u,"href",s[0]),h(u,"class","svelte-avitl7"),E(u,"active",L(s[0],s[3].path)),h(e,"class","mt-6 border-b-2 px-2 flex")},m(a,f){B(a,e,f),i(e,t),i(t,r),i(e,n),i(e,o),i(o,l),i(e,c),i(e,u),i(u,_)},p(a,[f]){f&4&&h(t,"href",a[2]),f&12&&E(t,"active",L(a[2],a[3].path)),f&2&&h(o,"href",a[1]),f&10&&E(o,"active",L(a[1],a[3].path)),f&1&&h(u,"href",a[0]),f&9&&E(u,"active",L(a[0],a[3].path))},i:be,o:be,d(a){a&&p(e)}}}function Ke(s,e,t){let r,n,o,l,c,u;Q(s,ye,a=>t(6,c=a)),Q(s,Ge,a=>t(3,u=a));let{workflow:_}=e;return s.$$set=a=>{"workflow"in a&&t(4,_=a.workflow)},s.$$.update=()=>{s.$$.dirty&80&&t(5,r=Ae(c,_)),s.$$.dirty&32&&t(2,n=r+"/summary"),s.$$.dirty&32&&t(1,o=r+"/events"),s.$$.dirty&32&&t(0,l=r+"/activities")},[l,o,n,u,_,r,c]}class Le extends ie{constructor(e){super();ue(this,e,Ke,Je,he,{workflow:4})}}function Oe(s){let e,t,r,n;return t=new me({props:{src:De,class:"w-8 h-8 text-gray-500"}}),{c(){e=w("a"),T(t.$$.fragment),this.h()},l(o){e=d(o,"A",{href:!0});var l=v(e);G(t.$$.fragment,l),l.forEach(p),this.h()},h(){h(e,"href",r=s[2]+"/summary")},m(o,l){B(o,e,l),J(t,e,null),n=!0},p(o,l){(!n||l&4&&r!==(r=o[2]+"/summary"))&&h(e,"href",r)},i(o){n||(I(t.$$.fragment,o),n=!0)},o(o){A(t.$$.fragment,o),n=!1},d(o){o&&p(e),K(t)}}}function Xe(s){let e,t,r;return t=new me({props:{src:Ne,class:"w-8 h-8 text-gray-500"}}),{c(){e=w("a"),T(t.$$.fragment),this.h()},l(n){e=d(n,"A",{href:!0});var o=v(e);G(t.$$.fragment,o),o.forEach(p),this.h()},h(){h(e,"href",s[2])},m(n,o){B(n,e,o),J(t,e,null),r=!0},p(n,o){(!r||o&4)&&h(e,"href",n[2])},i(n){r||(I(t.$$.fragment,n),r=!0)},o(n){A(t.$$.fragment,n),r=!1},d(n){n&&p(e),K(t)}}}function ze(s){let e,t,r,n,o,l,c,u,_,a,f,k,j=s[0].name+"",M,se,V,S,ae,D,q,re,ne,O=s[0].id+"",Y,oe,N,C,le,fe,X=s[0].runId+"",Z,ce,W,U;const pe=[Xe,Oe],P=[];function we(m,g){return m[3]?0:1}return r=we(s),n=P[r]=pe[r](s),c=new me({props:{src:Ie,class:"w-8 h-8 text-gray-500"}}),S=new Te({props:{status:s[0].status}}),W=new Le({props:{workflow:s[0]}}),{c(){e=w("header"),t=w("div"),n.c(),o=b(),l=w("a"),T(c.$$.fragment),_=b(),a=w("main"),f=w("div"),k=w("h1"),M=H(j),se=b(),V=w("span"),T(S.$$.fragment),ae=b(),D=w("p"),q=w("span"),re=H("Workflow ID"),ne=b(),Y=H(O),oe=b(),N=w("p"),C=w("span"),le=H("Run ID"),fe=b(),Z=H(X),ce=b(),T(W.$$.fragment),this.h()},l(m){e=d(m,"HEADER",{class:!0});var g=v(e);t=d(g,"DIV",{class:!0});var F=v(t);n.l(F),o=$(F),l=d(F,"A",{href:!0});var z=v(l);G(c.$$.fragment,z),z.forEach(p),F.forEach(p),_=$(g),a=d(g,"MAIN",{class:!0});var y=v(a);f=d(y,"DIV",{class:!0});var x=v(f);k=d(x,"H1",{class:!0});var de=v(k);M=R(de,j),de.forEach(p),se=$(x),V=d(x,"SPAN",{class:!0});var ve=v(V);G(S.$$.fragment,ve),ve.forEach(p),x.forEach(p),ae=$(y),D=d(y,"P",{class:!0});var ee=v(D);q=d(ee,"SPAN",{class:!0});var ge=v(q);re=R(ge,"Workflow ID"),ge.forEach(p),ne=$(ee),Y=R(ee,O),ee.forEach(p),oe=$(y),N=d(y,"P",{class:!0});var te=v(N);C=d(te,"SPAN",{class:!0});var ke=v(C);le=R(ke,"Run ID"),ke.forEach(p),fe=$(te),Z=R(te,X),te.forEach(p),y.forEach(p),ce=$(g),G(W.$$.fragment,g),g.forEach(p),this.h()},h(){h(l,"href",u=`/namespaces/${s[1]}/workflows`),h(t,"class","py-4 px-2 bg-gray-50 border-b-2 border-gray-100 flex justify-end"),h(k,"class","text-lg"),h(V,"class","inline"),h(f,"class","flex m-0 mt-6 justify-between items-center"),h(q,"class","uppercase text-gray-400 mr-2"),h(D,"class","text-gray-500 text-xs"),h(C,"class","uppercase text-gray-400 mr-2"),h(N,"class","text-gray-500 text-xs"),h(a,"class","px-6"),h(e,"class","flex flex-col justify-between")},m(m,g){B(m,e,g),i(e,t),P[r].m(t,null),i(t,o),i(t,l),J(c,l,null),i(e,_),i(e,a),i(a,f),i(f,k),i(k,M),i(f,se),i(f,V),J(S,V,null),i(a,ae),i(a,D),i(D,q),i(q,re),i(D,ne),i(D,Y),i(a,oe),i(a,N),i(N,C),i(C,le),i(N,fe),i(N,Z),i(e,ce),J(W,e,null),U=!0},p(m,[g]){let F=r;r=we(m),r===F?P[r].p(m,g):(je(),A(P[F],1,1,()=>{P[F]=null}),Se(),n=P[r],n?n.p(m,g):(n=P[r]=pe[r](m),n.c()),I(n,1),n.m(t,o)),(!U||g&2&&u!==(u=`/namespaces/${m[1]}/workflows`))&&h(l,"href",u),(!U||g&1)&&j!==(j=m[0].name+"")&&_e(M,j);const z={};g&1&&(z.status=m[0].status),S.$set(z),(!U||g&1)&&O!==(O=m[0].id+"")&&_e(Y,O),(!U||g&1)&&X!==(X=m[0].runId+"")&&_e(Z,X);const y={};g&1&&(y.workflow=m[0]),W.$set(y)},i(m){U||(I(n),I(c.$$.fragment,m),I(S.$$.fragment,m),I(W.$$.fragment,m),U=!0)},o(m){A(n),A(c.$$.fragment,m),A(S.$$.fragment,m),A(W.$$.fragment,m),U=!1},d(m){m&&p(e),P[r].d(),K(c),K(S),K(W)}}}function Be(s,e,t){let r,n,o;Q(s,ye,c=>t(1,n=c)),Q(s,Ee,c=>t(3,o=c));let{workflow:l}=e;return s.$$set=c=>{"workflow"in c&&t(0,l=c.workflow)},s.$$.update=()=>{s.$$.dirty&3&&t(2,r=Ae(n,l))},[l,n,r,o]}class Qe extends ie{constructor(e){super();ue(this,e,Be,ze,he,{workflow:0})}}function Ye(s){let e,t,r,n,o,l,c;r=new Qe({props:{workflow:s[0]}});const u=s[4].default,_=We(u,s,s[3],null);return{c(){e=w("section"),t=w("main"),T(r.$$.fragment),n=b(),_&&_.c(),this.h()},l(a){e=d(a,"SECTION",{class:!0});var f=v(e);t=d(f,"MAIN",{class:!0});var k=v(t);G(r.$$.fragment,k),n=$(k),_&&_.l(k),k.forEach(p),f.forEach(p),this.h()},h(){h(t,"class","w-full"),h(e,"class","border-l-2 h-screen svelte-yclosb"),E(e,"full",s[1]),E(e,"sidebar",!s[1])},m(a,f){B(a,e,f),i(e,t),J(r,t,null),i(t,n),_&&_.m(t,null),c=!0},p(a,[f]){const k={};f&1&&(k.workflow=a[0]),r.$set(k),_&&_.p&&(!c||f&8)&&Ue(_,u,a,a[3],c?Fe(u,a[3],f,null):Pe(a[3]),null),f&2&&E(e,"full",a[1]),f&2&&E(e,"sidebar",!a[1])},i(a){c||(I(r.$$.fragment,a),I(_,a),He(()=>{l&&l.end(1),o=Me(e,$e,{x:500,duration:350}),o.start()}),c=!0)},o(a){A(r.$$.fragment,a),A(_,a),o&&o.invalidate(),l=Re(e,$e,{x:500}),c=!1},d(a){a&&p(e),K(r),_&&_.d(a),a&&l&&l.end()}}}async function ft({fetch:s,page:e}){const{workflow:t,run:r,namespace:n}=e.params,o=await Ve({executionId:t,runId:r,namespace:n},s),l=await qe({executionId:t,runId:r,namespace:n},s);return{props:{execution:o},stuff:{execution:o,events:l}}}function Ze(s,e,t){let r,n;Q(s,Ee,u=>t(1,n=u));let{$$slots:o={},$$scope:l}=e,{execution:c}=e;return s.$$set=u=>{"execution"in u&&t(2,c=u.execution),"$$scope"in u&&t(3,l=u.$$scope)},s.$$.update=()=>{s.$$.dirty&4&&t(0,r=Ce(c))},[r,n,c,l,o]}class ct extends ie{constructor(e){super();ue(this,e,Ze,Ye,he,{execution:2})}}export{ct as default,ft as load};
