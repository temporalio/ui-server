import{S as R,i as C,s as E,e as y,j as _,k as Q,c as d,a as g,m as q,d as f,n as O,b,f as $,K as k,o as v,x as m,u as h,v as T,l as j,r as S,w as x,I as D,t as F,g as N,h as V}from"../../../../../../chunks/vendor-c7e306c1.js";import{a as B,b as K}from"../../../../../../chunks/query-service-dd1f4579.js";import{C as P}from"../../../../../../chunks/code-block-5fd0afdf.js";import{F as z}from"../../../../../../chunks/filter-select-5b0e51e2.js";import{O as A}from"../../../../../../chunks/option-ec7a392f.js";import"../../../../../../chunks/route-for-api-aecf4d21.js";import"../../../../../../chunks/notifications-939cb4a5.js";import"../../../../../../chunks/navigation-51f4a605.js";import"../../../../../../chunks/singletons-12a22614.js";import"../../../../../../chunks/stores-78628462.js";import"../../../../../../chunks/append-query-parameters-b8619cc0.js";function w(c,n,a){const e=c.slice();return e[3]=n[a],e}function G(c){let n=c[3]+"",a;return{c(){a=F(n)},l(e){a=N(e,n)},m(e,s){$(e,a,s)},p(e,s){s&1&&n!==(n=e[3]+"")&&V(a,n)},d(e){e&&f(a)}}}function I(c){let n,a;return n=new A({props:{value:c[3],$$slots:{default:[G]},$$scope:{ctx:c}}}),{c(){_(n.$$.fragment)},l(e){q(n.$$.fragment,e)},m(e,s){v(n,e,s),a=!0},p(e,s){const l={};s&1&&(l.value=e[3]),s&65&&(l.$$scope={dirty:s,ctx:e}),n.$set(l)},i(e){a||(m(n.$$.fragment,e),a=!0)},o(e){h(n.$$.fragment,e),a=!1},d(e){T(n,e)}}}function H(c){let n,a,e=c[0],s=[];for(let t=0;t<e.length;t+=1)s[t]=I(w(c,e,t));const l=t=>h(s[t],1,1,()=>{s[t]=null});return{c(){for(let t=0;t<s.length;t+=1)s[t].c();n=j()},l(t){for(let o=0;o<s.length;o+=1)s[o].l(t);n=j()},m(t,o){for(let r=0;r<s.length;r+=1)s[r].m(t,o);$(t,n,o),a=!0},p(t,o){if(o&1){e=t[0];let r;for(r=0;r<e.length;r+=1){const u=w(t,e,r);s[r]?(s[r].p(u,o),m(s[r],1)):(s[r]=I(u),s[r].c(),m(s[r],1),s[r].m(n.parentNode,n))}for(S(),r=e.length;r<s.length;r+=1)l(r);x()}},i(t){if(!a){for(let o=0;o<e.length;o+=1)m(s[o]);a=!0}},o(t){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)h(s[o]);a=!1},d(t){D(s,t),t&&f(n)}}}function J(c){let n,a,e,s,l,t,o;return e=new z({props:{label:"Query Type",value:c[1],parameter:"query-type",$$slots:{default:[H]},$$scope:{ctx:c}}}),t=new P({props:{content:c[2]}}),{c(){n=y("section"),a=y("div"),_(e.$$.fragment),s=Q(),l=y("div"),_(t.$$.fragment),this.h()},l(r){n=d(r,"SECTION",{});var u=g(n);a=d(u,"DIV",{class:!0});var i=g(a);q(e.$$.fragment,i),i.forEach(f),s=O(u),l=d(u,"DIV",{class:!0});var p=g(l);q(t.$$.fragment,p),p.forEach(f),u.forEach(f),this.h()},h(){b(a,"class","flex items-center gap-4"),b(l,"class","flex items-start h-full")},m(r,u){$(r,n,u),k(n,a),v(e,a,null),k(n,s),k(n,l),v(t,l,null),o=!0},p(r,[u]){const i={};u&2&&(i.value=r[1]),u&65&&(i.$$scope={dirty:u,ctx:r}),e.$set(i);const p={};u&4&&(p.content=r[2]),t.$set(p)},i(r){o||(m(e.$$.fragment,r),m(t.$$.fragment,r),o=!0)},o(r){h(e.$$.fragment,r),h(t.$$.fragment,r),o=!1},d(r){r&&f(n),T(e),T(t)}}}async function ae({page:c,fetch:n}){const{namespace:a,workflow:e,run:s}=c.params,l={id:e,runId:s},t=await B({namespace:a,workflow:l}),o=c.query.get("query-type"),r=t.includes(o)?o:t[0];c.query.set("query-type",r);const u=await K({namespace:a,workflow:l,queryType:r},n);return{props:{queryType:r,queryTypes:t,queryResult:u}}}function L(c,n,a){let{queryTypes:e}=n,{queryType:s}=n,{queryResult:l}=n;return c.$$set=t=>{"queryTypes"in t&&a(0,e=t.queryTypes),"queryType"in t&&a(1,s=t.queryType),"queryResult"in t&&a(2,l=t.queryResult)},[e,s,l]}class oe extends R{constructor(n){super();C(this,n,L,J,E,{queryTypes:0,queryType:1,queryResult:2})}}export{oe as default,ae as load};
