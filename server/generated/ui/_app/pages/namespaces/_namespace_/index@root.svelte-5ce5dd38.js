import{S as Rt,i as Ut,s as kt,e as l,t as i,k as m,c as n,a as o,h as c,d as s,m as u,b as r,g as ot,M as e,j as V,E as bt,N as Ie,v as Dt,a9 as Ht}from"../../../chunks/index-1da60d19.js";import{t as Ot,u as Gt,s as jt}from"../../../chunks/event-view-f19be2d8.js";import{l as Ct}from"../../../chunks/namespaces-77c6b00e.js";import{e as Tt}from"../../../chunks/format-date-f8f72e15.js";import"../../../chunks/index-6843fe21.js";import"../../../chunks/stores-bed2f46e.js";import"../../../chunks/persist-store-f0d328df.js";import"../../../chunks/is-function-b969a126.js";import"../../../chunks/settings-6c50d1a6.js";import"../../../chunks/version-check-a69e2186.js";import"../../../chunks/is-18735aa3.js";import"../../../chunks/to-duration-3f40f60b.js";const Ft=t=>{var E,N;const f=(E=t==null?void 0:t.replicationConfig)==null?void 0:E.clusters,y=(N=t==null?void 0:t.replicationConfig)==null?void 0:N.activeClusterName;return f!=null&&f.length?f.map(({clusterName:P})=>P===y?`${P} (active)`:P).join(", "):"Unknown"};function Lt(t){var it,ct,pt,mt,ut,ft,dt,vt,ht,_t,Et,yt,Nt,Pt;let f,y,E=((ct=(it=t[0])==null?void 0:it.namespaceInfo)==null?void 0:ct.name)+"",N,P,_,a,S,v,be,g,q,Ce,Te,ee=((mt=(pt=t[0])==null?void 0:pt.namespaceInfo)==null?void 0:mt.description)+"",fe,Re,w,z,Ue,ke,te=(((ft=(ut=t[0])==null?void 0:ut.namespaceInfo)==null?void 0:ft.ownerEmail)||"Unknown")+"",de,De,I,B,He,Oe,ae=(dt=t[0])!=null&&dt.isGlobalNamespace?"Yes":"No",ve,Ge,b,J,je,Fe,se=Tt((ht=(vt=t[0])==null?void 0:vt.config)==null?void 0:ht.workflowExecutionRetentionTtl.toString())+"",he,Le,C,K,Me,Ye,re=((Et=(_t=t[0])==null?void 0:_t.config)==null?void 0:Et.historyArchivalState)+"",_e,qe,T,Q,ze,Be,le=((Nt=(yt=t[0])==null?void 0:yt.config)==null?void 0:Nt.visibilityArchivalState)+"",Ee,Je,R,W,Ke,Qe,ne=((Pt=t[0])==null?void 0:Pt.failoverVersion)+"",ye,We,U,X,Xe,Ze,Ne,xe,A,Z,$e,et,k,x,tt,at,Pe,st,D,$,rt,lt,Se,nt;return{c(){f=l("h2"),y=i("Namespace: "),N=i(E),P=m(),_=l("div"),a=l("article"),S=l("h1"),v=i("Details"),be=m(),g=l("p"),q=l("span"),Ce=i("Description:"),Te=m(),fe=i(ee),Re=m(),w=l("p"),z=l("span"),Ue=i("Owner:"),ke=m(),de=i(te),De=m(),I=l("p"),B=l("span"),He=i("Global?"),Oe=m(),ve=i(ae),Ge=m(),b=l("p"),J=l("span"),je=i("Retention Period:"),Fe=m(),he=i(se),Le=m(),C=l("p"),K=l("span"),Me=i("History Archival:"),Ye=m(),_e=i(re),qe=m(),T=l("p"),Q=l("span"),ze=i("Visibility Archival:"),Be=m(),Ee=i(le),Je=m(),R=l("p"),W=l("span"),Ke=i("Failover Version:"),Qe=m(),ye=i(ne),We=m(),U=l("p"),X=l("span"),Xe=i("Clusters:"),Ze=m(),Ne=i(t[1]),xe=m(),A=l("article"),Z=l("h1"),$e=i("Versions"),et=m(),k=l("p"),x=l("span"),tt=i("Temporal Server Version:"),at=m(),Pe=i(t[2]),st=m(),D=l("p"),$=l("span"),rt=i("Temporal UI Version:"),lt=m(),Se=i(t[3]),nt=m(),this.h()},l(p){f=n(p,"H2",{class:!0,"data-cy":!0});var h=o(f);y=c(h,"Namespace: "),N=c(h,E),h.forEach(s),P=u(p),_=n(p,"DIV",{class:!0});var H=o(_);a=n(H,"ARTICLE",{class:!0});var d=o(a);S=n(d,"H1",{class:!0});var oe=o(S);v=c(oe,"Details"),oe.forEach(s),be=u(d),g=n(d,"P",{"data-cy":!0});var O=o(g);q=n(O,"SPAN",{class:!0});var ie=o(q);Ce=c(ie,"Description:"),ie.forEach(s),Te=u(O),fe=c(O,ee),O.forEach(s),Re=u(d),w=n(d,"P",{"data-cy":!0});var G=o(w);z=n(G,"SPAN",{class:!0});var ce=o(z);Ue=c(ce,"Owner:"),ce.forEach(s),ke=u(G),de=c(G,te),G.forEach(s),De=u(d),I=n(d,"P",{"data-cy":!0});var j=o(I);B=n(j,"SPAN",{class:!0});var pe=o(B);He=c(pe,"Global?"),pe.forEach(s),Oe=u(j),ve=c(j,ae),j.forEach(s),Ge=u(d),b=n(d,"P",{"data-cy":!0});var F=o(b);J=n(F,"SPAN",{class:!0});var me=o(J);je=c(me,"Retention Period:"),me.forEach(s),Fe=u(F),he=c(F,se),F.forEach(s),Le=u(d),C=n(d,"P",{"data-cy":!0});var L=o(C);K=n(L,"SPAN",{class:!0});var ue=o(K);Me=c(ue,"History Archival:"),ue.forEach(s),Ye=u(L),_e=c(L,re),L.forEach(s),qe=u(d),T=n(d,"P",{"data-cy":!0});var M=o(T);Q=n(M,"SPAN",{class:!0});var St=o(Q);ze=c(St,"Visibility Archival:"),St.forEach(s),Be=u(M),Ee=c(M,le),M.forEach(s),Je=u(d),R=n(d,"P",{"data-cy":!0});var Ae=o(R);W=n(Ae,"SPAN",{class:!0});var At=o(W);Ke=c(At,"Failover Version:"),At.forEach(s),Qe=u(Ae),ye=c(Ae,ne),Ae.forEach(s),We=u(d),U=n(d,"P",{"data-cy":!0});var Ve=o(U);X=n(Ve,"SPAN",{class:!0});var Vt=o(X);Xe=c(Vt,"Clusters:"),Vt.forEach(s),Ze=u(Ve),Ne=c(Ve,t[1]),Ve.forEach(s),d.forEach(s),xe=u(H),A=n(H,"ARTICLE",{class:!0});var Y=o(A);Z=n(Y,"H1",{class:!0});var gt=o(Z);$e=c(gt,"Versions"),gt.forEach(s),et=u(Y),k=n(Y,"P",{"data-cy":!0});var ge=o(k);x=n(ge,"SPAN",{class:!0});var wt=o(x);tt=c(wt,"Temporal Server Version:"),wt.forEach(s),at=u(ge),Pe=c(ge,t[2]),ge.forEach(s),st=u(Y),D=n(Y,"P",{"data-cy":!0});var we=o(D);$=n(we,"SPAN",{class:!0});var It=o($);rt=c(It,"Temporal UI Version:"),It.forEach(s),lt=u(we),Se=c(we,t[3]),we.forEach(s),nt=u(Y),Y.forEach(s),H.forEach(s),this.h()},h(){r(f,"class","text-2xl"),r(f,"data-cy","namespace-title"),r(S,"class","my-4 text-lg font-medium"),r(q,"class","mr-2 font-medium"),r(g,"data-cy","namespace-description"),r(z,"class","mr-2 font-medium"),r(w,"data-cy","namespace-owner"),r(B,"class","mr-2 font-medium"),r(I,"data-cy","namespace-global"),r(J,"class","mr-2 font-medium"),r(b,"data-cy","namespace-retention"),r(K,"class","mr-2 font-medium"),r(C,"data-cy","namespace-history"),r(Q,"class","mr-2 font-medium"),r(T,"data-cy","namespace-visibility"),r(W,"class","mr-2 font-medium"),r(R,"data-cy","namespace-failover"),r(X,"class","mr-2 font-medium"),r(U,"data-cy","namespace-clusters"),r(a,"class","namespace-info w-full p-4"),r(Z,"class","my-4 text-lg font-medium"),r(x,"class","mr-2 font-medium"),r(k,"data-cy","server-version"),r($,"class","mr-2 font-medium"),r(D,"data-cy","ui-version"),r(A,"class","namespace-info w-full p-4"),r(_,"class","flex")},m(p,h){ot(p,f,h),e(f,y),e(f,N),ot(p,P,h),ot(p,_,h),e(_,a),e(a,S),e(S,v),e(a,be),e(a,g),e(g,q),e(q,Ce),e(g,Te),e(g,fe),e(a,Re),e(a,w),e(w,z),e(z,Ue),e(w,ke),e(w,de),e(a,De),e(a,I),e(I,B),e(B,He),e(I,Oe),e(I,ve),e(a,Ge),e(a,b),e(b,J),e(J,je),e(b,Fe),e(b,he),e(a,Le),e(a,C),e(C,K),e(K,Me),e(C,Ye),e(C,_e),e(a,qe),e(a,T),e(T,Q),e(Q,ze),e(T,Be),e(T,Ee),e(a,Je),e(a,R),e(R,W),e(W,Ke),e(R,Qe),e(R,ye),e(a,We),e(a,U),e(U,X),e(X,Xe),e(U,Ze),e(U,Ne),e(_,xe),e(_,A),e(A,Z),e(Z,$e),e(A,et),e(A,k),e(k,x),e(x,tt),e(k,at),e(k,Pe),e(A,st),e(A,D),e(D,$),e($,rt),e(D,lt),e(D,Se),e(A,nt)},p(p,[h]){var H,d,oe,O,ie,G,ce,j,pe,F,me,L,ue,M;h&1&&E!==(E=((d=(H=p[0])==null?void 0:H.namespaceInfo)==null?void 0:d.name)+"")&&V(N,E),h&1&&ee!==(ee=((O=(oe=p[0])==null?void 0:oe.namespaceInfo)==null?void 0:O.description)+"")&&V(fe,ee),h&1&&te!==(te=(((G=(ie=p[0])==null?void 0:ie.namespaceInfo)==null?void 0:G.ownerEmail)||"Unknown")+"")&&V(de,te),h&1&&ae!==(ae=(ce=p[0])!=null&&ce.isGlobalNamespace?"Yes":"No")&&V(ve,ae),h&1&&se!==(se=Tt((pe=(j=p[0])==null?void 0:j.config)==null?void 0:pe.workflowExecutionRetentionTtl.toString())+"")&&V(he,se),h&1&&re!==(re=((me=(F=p[0])==null?void 0:F.config)==null?void 0:me.historyArchivalState)+"")&&V(_e,re),h&1&&le!==(le=((ue=(L=p[0])==null?void 0:L.config)==null?void 0:ue.visibilityArchivalState)+"")&&V(Ee,le),h&1&&ne!==(ne=((M=p[0])==null?void 0:M.failoverVersion)+"")&&V(ye,ne),h&2&&V(Ne,p[1]),h&4&&V(Pe,p[2]),h&8&&V(Se,p[3])},i:bt,o:bt,d(p){p&&s(f),p&&s(P),p&&s(_)}}}const ea=async function({params:t,url:f,stuff:y}){const{searchParams:E}=f;E.has("time-range")&&E.delete("time-range");const N=t.namespace,_=y.namespaces.find(S=>S.namespaceInfo.name===N);if(!_)return{error:`Namespace ${N} does not exist`,status:404};const a=Ft(_);return{props:{currentNamespace:_,clusters:a}}};function Mt(t,f,y){let E,N,P,_;Ie(t,Ct,v=>y(5,E=v)),Ie(t,Ot,v=>y(2,N=v)),Ie(t,Gt,v=>y(3,P=v)),Ie(t,jt,v=>y(4,_=v));let{currentNamespace:a}=f,{clusters:S}=f;return Dt(()=>{var v;Ht(Ct,E=(v=a==null?void 0:a.namespaceInfo)===null||v===void 0?void 0:v.name,E)}),t.$$set=v=>{"currentNamespace"in v&&y(0,a=v.currentNamespace),"clusters"in v&&y(1,S=v.clusters)},[a,S,N,P,_]}class ta extends Rt{constructor(f){super(),Ut(this,f,Mt,Lt,kt,{currentNamespace:0,clusters:1})}}export{ta as default,ea as load};
