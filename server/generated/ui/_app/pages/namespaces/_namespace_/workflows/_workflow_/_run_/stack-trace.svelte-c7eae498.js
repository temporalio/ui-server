import{S as F,i as O,s as P,e as S,c as $,a as v,d as k,g as b,o as g,p as W,q as w,n as z,w as y,x as D,y as L,T as m,B as R,aC as A,ak as B,k as I,t as E,l as N,m as q,h as C,b as V,L as T,j as G,al as H}from"../../../../../../chunks/vendor-b58bb848.js";import{g as j}from"../../../../../../chunks/query-service-24ebcdec.js";import{C as J}from"../../../../../../chunks/code-block-a24f68a3.js";import{B as K}from"../../../../../../chunks/button-131351bb.js";import{E as M}from"../../../../../../chunks/empty-state-a54f1d18.js";import"../../../../../../chunks/route-for-api-e51d289a.js";import"../../../../../../chunks/notifications-c07f99ce.js";import"../../../../../../chunks/is-network-error-ac7c8caf.js";function Q(c){let e,t;return e=new M({props:{title:"No Stack Traces Found"}}),{c(){y(e.$$.fragment)},l(a){D(e.$$.fragment,a)},m(a,n){L(e,a,n),t=!0},p:m,i(a){t||(w(e.$$.fragment,a),t=!0)},o(a){g(e.$$.fragment,a),t=!1},d(a){R(e,a)}}}function U(c){let e,t,a,n,r,_=c[2].toLocaleTimeString()+"",i,p,o,f,h;t=new K({props:{icon:A,loading:c[3],$$slots:{default:[X]},$$scope:{ctx:c}}}),t.$on("click",c[4]);let u={ctx:c,current:null,token:null,hasCatch:!1,pending:x,then:Z,catch:Y,value:6,blocks:[,,,]};return B(f=c[0],u),{c(){e=S("div"),y(t.$$.fragment),a=I(),n=S("p"),r=E("Stack Trace at "),i=E(_),p=I(),o=N(),u.block.c(),this.h()},l(s){e=$(s,"DIV",{class:!0});var l=v(e);D(t.$$.fragment,l),a=q(l),n=$(l,"P",{});var d=v(n);r=C(d,"Stack Trace at "),i=C(d,_),d.forEach(k),l.forEach(k),p=q(s),o=N(),u.block.l(s),this.h()},h(){V(e,"class","flex items-center gap-4")},m(s,l){b(s,e,l),L(t,e,null),T(e,a),T(e,n),T(n,r),T(n,i),b(s,p,l),b(s,o,l),u.block.m(s,u.anchor=l),u.mount=()=>o.parentNode,u.anchor=o,h=!0},p(s,l){c=s;const d={};l&8&&(d.loading=c[3]),l&128&&(d.$$scope={dirty:l,ctx:c}),t.$set(d),(!h||l&4)&&_!==(_=c[2].toLocaleTimeString()+"")&&G(i,_),u.ctx=c,l&1&&f!==(f=c[0])&&B(f,u)||H(u,c,l)},i(s){h||(w(t.$$.fragment,s),w(u.block),h=!0)},o(s){g(t.$$.fragment,s);for(let l=0;l<3;l+=1){const d=u.blocks[l];g(d)}h=!1},d(s){s&&k(e),R(t),s&&k(p),s&&k(o),u.block.d(s),u.token=null,u=null}}}function X(c){let e;return{c(){e=E("Refresh")},l(t){e=C(t,"Refresh")},m(t,a){b(t,e,a)},d(t){t&&k(e)}}}function Y(c){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function Z(c){let e,t,a;return t=new J({props:{content:c[6],language:"text"}}),{c(){e=S("div"),y(t.$$.fragment),this.h()},l(n){e=$(n,"DIV",{class:!0});var r=v(e);D(t.$$.fragment,r),r.forEach(k),this.h()},h(){V(e,"class","flex items-start h-full")},m(n,r){b(n,e,r),L(t,e,null),a=!0},p(n,r){const _={};r&1&&(_.content=n[6]),t.$set(_)},i(n){a||(w(t.$$.fragment,n),a=!0)},o(n){g(t.$$.fragment,n),a=!1},d(n){n&&k(e),R(t)}}}function x(c){return{c:m,l:m,m,p:m,i:m,o:m,d:m}}function ee(c){let e,t,a,n,r;const _=[U,Q],i=[];function p(o,f){return f&2&&(t=null),t==null&&(t=String(o[1].status)==="Running"),t?0:1}return a=p(c,-1),n=i[a]=_[a](c),{c(){e=S("section"),n.c()},l(o){e=$(o,"SECTION",{});var f=v(e);n.l(f),f.forEach(k)},m(o,f){b(o,e,f),i[a].m(e,null),r=!0},p(o,[f]){let h=a;a=p(o,f),a===h?i[a].p(o,f):(z(),g(i[h],1,1,()=>{i[h]=null}),W(),n=i[a],n?n.p(o,f):(n=i[a]=_[a](o),n.c()),w(n,1),n.m(e,null))},i(o){r||(w(n),r=!0)},o(o){g(n),r=!1},d(o){o&&k(e),i[a].d()}}}const fe=async function({params:c,stuff:e}){const{namespace:t}=c,{workflow:a}=e,n=await j({workflow:a,namespace:t});return{props:{workflow:a,namespace:t,stackTrace:n}}};function te(c,e,t){let{namespace:a}=e,{stackTrace:n}=e,{workflow:r}=e,_=new Date,i=!1;const p=async()=>{t(3,i=!0),t(0,n=await j({workflow:r,namespace:a})),t(3,i=!1),t(2,_=new Date)};return c.$$set=o=>{"namespace"in o&&t(5,a=o.namespace),"stackTrace"in o&&t(0,n=o.stackTrace),"workflow"in o&&t(1,r=o.workflow)},[n,r,_,i,p,a]}class ue extends F{constructor(e){super();O(this,e,te,ee,P,{namespace:5,stackTrace:0,workflow:1})}}export{ue as default,fe as load};
