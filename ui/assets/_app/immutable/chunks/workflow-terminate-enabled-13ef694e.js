import{d as D,r as re,w as v}from"./index-9821ab11.js";import{p as P}from"./stores-4e1b824b.js";import{a as ue,b as ce}from"./workflow-service-9e7e328e.js";import{i as de}from"./version-check-d006b302.js";import{c as j}from"./cluster-ac8838e5.js";import{t as me}from"./versions-0d017ab5.js";import{S as U,i as X,s as Y,w as A,x as O,y as S,f as b,t as k,z as y,ak as _e,J as he,F as $,k as V,a as M,l as E,m as I,h,c as q,n as p,b as g,K as R,g as x,d as ee,G as se,H as te,I as le,Z as ne,q as z,r as N,u as T,ai as be,M as B,N as Q,al as ke,a5 as pe,a6 as ge,B as we,e as F,Q as W}from"./index-3630b6f8.js";import{I as ae}from"./icon-a76a7fcc.js";import{M as ve}from"./menu-item-9c23aa78.js";import{M as Ce,a as Ve,b as Ee}from"./menu-40bde158.js";const Ie=300,Ae=async(t,e,l)=>{e.set(!0);try{await l()}catch(s){console.error(s)}t.set(!1),setTimeout(()=>{e.set(!1)},Ie)},ie=t=>{var e;return(e=t==null?void 0:t.visibilityStore)==null?void 0:e.includes("elasticsearch")},Oe=D([P],([t])=>{var e,l,s;return(s=(l=(e=t.data)==null?void 0:e.settings)==null?void 0:l.runtimeEnvironment)==null?void 0:s.isCloud});D([me,j],([t,e])=>de(t,"1.18.0")&&ie(e));const Se=D([j,Oe],([t,e])=>ie(t)??e),ye=v(0),De=D([P],([t])=>t.params.namespace),Me=D([P],([t])=>t.url.searchParams.get("query")),qe=D([De,Me,ye,Se],([t,e,l,s])=>({namespace:t,query:e,refresh:l,supportsAdvancedVisibility:s})),Re=t=>{Te.set(t)},We=t=>qe.subscribe(({namespace:e,query:l,supportsAdvancedVisibility:s})=>{Ae(Ne,ze,async()=>{const{workflows:n,error:c}=await ue(e,{query:l});if(t(n),s){const u=await ce(e,l);Re(u)}c?G.set(c):G.set("")})}),ns=v({parameters:{},searchType:"basic"}),ze=v(!0),Ne=v(!0),Te=v({count:0,totalCount:0}),G=v(""),as=re([],We),is=v("");function H(t){let e,l;return e=new ae({props:{name:"checkmark"}}),{c(){A(e.$$.fragment)},l(s){O(e.$$.fragment,s)},m(s,n){S(e,s,n),l=!0},i(s){l||(b(e.$$.fragment,s),l=!0)},o(s){k(e.$$.fragment,s),l=!1},d(s){y(e,s)}}}function J(t){let e,l;return{c(){e=V("span"),l=z(t[0]),this.h()},l(s){e=E(s,"SPAN",{class:!0});var n=I(e);l=N(n,t[0]),n.forEach(h),this.h()},h(){p(e,"class","option-description svelte-opscnd")},m(s,n){g(s,e,n),R(e,l)},p(s,n){n&1&&T(l,s[0])},d(s){s&&h(e)}}}function Le(t){let e,l,s,n,c,u,o=t[3]&&H();const a=t[9].default,i=$(a,t,t[11],null);let f=t[0]&&J(t);return{c(){e=V("div"),o&&o.c(),l=M(),s=V("div"),n=V("span"),i&&i.c(),c=M(),f&&f.c(),this.h()},l(r){e=E(r,"DIV",{class:!0});var m=I(e);o&&o.l(m),m.forEach(h),l=q(r),s=E(r,"DIV",{class:!0});var w=I(s);n=E(w,"SPAN",{class:!0});var C=I(n);i&&i.l(C),C.forEach(h),c=q(w),f&&f.l(w),w.forEach(h),this.h()},h(){p(e,"class","mr-2 w-6"),p(n,"class","option-label svelte-opscnd"),p(s,"class","flex w-full flex-col")},m(r,m){g(r,e,m),o&&o.m(e,null),g(r,l,m),g(r,s,m),R(s,n),i&&i.m(n,null),t[10](n),R(s,c),f&&f.m(s,null),u=!0},p(r,m){r[3]?o?m&8&&b(o,1):(o=H(),o.c(),b(o,1),o.m(e,null)):o&&(x(),k(o,1,1,()=>{o=null}),ee()),i&&i.p&&(!u||m&2048)&&se(i,a,r,r[11],u?le(a,r[11],m,null):te(r[11]),null),r[0]?f?f.p(r,m):(f=J(r),f.c(),f.m(s,null)):f&&(f.d(1),f=null)},i(r){u||(b(o),b(i,r),u=!0)},o(r){k(o),k(i,r),u=!1},d(r){r&&h(e),o&&o.d(),r&&h(l),r&&h(s),i&&i.d(r),t[10](null),f&&f.d()}}}function Pe(t){let e,l;return e=new ve({props:{class:"flex flex-row items-start",selected:t[3],dark:t[1],$$slots:{default:[Le]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){A(e.$$.fragment)},l(s){O(e.$$.fragment,s)},m(s,n){S(e,s,n),l=!0},p(s,[n]){const c={};n&8&&(c.selected=s[3]),n&2&&(c.dark=s[1]),n&2061&&(c.$$scope={dirty:n,ctx:s}),e.$set(c)},i(s){l||(b(e.$$.fragment,s),l=!0)},o(s){k(e.$$.fragment,s),l=!1},d(s){y(e,s)}}}function Be(t,e,l){let s,{$$slots:n={},$$scope:c}=e;const u=_e("select-value");he(t,u,_=>l(8,s=_));let{value:o=void 0}=e,{description:a=""}=e,{dark:i=!1}=e,f,r,m;const w=()=>{u.update(_=>({..._,selectValue:r})),s.onChange(r)};function C(_){ne[_?"unshift":"push"](()=>{m=_,l(2,m)})}return t.$$set=_=>{"value"in _&&l(6,o=_.value),"description"in _&&l(0,a=_.description),"dark"in _&&l(1,i=_.dark),"$$scope"in _&&l(11,c=_.$$scope)},t.$$.update=()=>{t.$$.dirty&452&&m&&(l(7,r=o??m.textContent),l(3,f=s.selectValue===r))},[a,i,m,f,u,w,o,r,s,n,C,c]}class os extends U{constructor(e){super(),X(this,e,Be,Pe,Y,{value:6,description:0,dark:1})}}function K(t){let e,l;return{c(){e=V("label"),l=z(t[2]),this.h()},l(s){e=E(s,"LABEL",{for:!0,class:!0});var n=I(e);l=N(n,t[2]),n.forEach(h),this.h()},h(){p(e,"for",t[3]),p(e,"class","svelte-1kzttn7")},m(s,n){g(s,e,n),R(e,l)},p(s,n){n&4&&T(l,s[2]),n&8&&p(e,"for",s[3])},d(s){s&&h(e)}}}function Qe(t){let e=t[9](t[0])+"",l;return{c(){l=z(e)},l(s){l=N(s,e)},m(s,n){g(s,l,n)},p(s,n){n&513&&e!==(e=s[9](s[0])+"")&&T(l,e)},d(s){s&&h(l)}}}function Fe(t){let e;return{c(){e=z(t[5])},l(l){e=N(l,t[5])},m(l,s){g(l,e,s)},p(l,s){s&32&&T(e,l[5])},d(l){l&&h(e)}}}function Z(t){let e,l;return e=new ae({props:{name:"lock",class:"text-gray-500"}}),{c(){A(e.$$.fragment)},l(s){O(e.$$.fragment,s)},m(s,n){S(e,s,n),l=!0},i(s){l||(b(e.$$.fragment,s),l=!0)},o(s){k(e.$$.fragment,s),l=!1},d(s){y(e,s)}}}function Ge(t){let e,l,s,n;function c(i,f){return!i[0]&&i[5]!==""?Fe:Qe}let u=c(t),o=u(t),a=t[6]&&Z();return{c(){e=V("div"),o.c(),l=M(),a&&a.c(),s=F(),this.h()},l(i){e=E(i,"DIV",{class:!0,id:!0});var f=I(e);o.l(f),f.forEach(h),l=q(i),a&&a.l(i),s=F(),this.h()},h(){p(e,"class","select-input svelte-1kzttn7"),p(e,"id",t[3]),W(e,"dark",t[4]),W(e,"disabled",t[6])},m(i,f){g(i,e,f),o.m(e,null),g(i,l,f),a&&a.m(i,f),g(i,s,f),n=!0},p(i,f){u===(u=c(i))&&o?o.p(i,f):(o.d(1),o=u(i),o&&(o.c(),o.m(e,null))),(!n||f&8)&&p(e,"id",i[3]),(!n||f&16)&&W(e,"dark",i[4]),(!n||f&64)&&W(e,"disabled",i[6]),i[6]?a?f&64&&b(a,1):(a=Z(),a.c(),b(a,1),a.m(s.parentNode,s)):a&&(x(),k(a,1,1,()=>{a=null}),ee())},i(i){n||(b(a),n=!0)},o(i){k(a),n=!1},d(i){i&&h(e),o.d(),i&&h(l),a&&a.d(i),i&&h(s)}}}function He(t){let e;const l=t[12].default,s=$(l,t,t[14],null);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,c){s&&s.m(n,c),e=!0},p(n,c){s&&s.p&&(!e||c&16384)&&se(s,l,n,n[14],e?le(l,n[14],c,null):te(n[14]),null)},i(n){e||(b(s,n),e=!0)},o(n){k(s,n),e=!1},d(n){s&&s.d(n)}}}function Je(t){let e,l,s,n,c;function u(a){t[13](a)}let o={hasIndicator:!t[6],class:"select-input-container "+(t[6]?"disabled":"")+" "+(t[7]?"unroundRight":""),keepOpen:t[8],controls:t[3]+"-menu",testId:t[10].testId,dark:t[4],disabled:t[6],$$slots:{default:[Ge]},$$scope:{ctx:t}};return t[1]!==void 0&&(o.show=t[1]),e=new Ve({props:o}),ne.push(()=>pe(e,"show",u)),n=new Ee({props:{id:t[3]+"-menu",class:"h-auto max-h-96 min-w-fit",show:t[1],dark:t[4],$$slots:{default:[He]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment),s=M(),A(n.$$.fragment)},l(a){O(e.$$.fragment,a),s=q(a),O(n.$$.fragment,a)},m(a,i){S(e,a,i),g(a,s,i),S(n,a,i),c=!0},p(a,i){const f={};i&64&&(f.hasIndicator=!a[6]),i&192&&(f.class="select-input-container "+(a[6]?"disabled":"")+" "+(a[7]?"unroundRight":"")),i&256&&(f.keepOpen=a[8]),i&8&&(f.controls=a[3]+"-menu"),i&1024&&(f.testId=a[10].testId),i&16&&(f.dark=a[4]),i&64&&(f.disabled=a[6]),i&17017&&(f.$$scope={dirty:i,ctx:a}),!l&&i&2&&(l=!0,f.show=a[1],ge(()=>l=!1)),e.$set(f);const r={};i&8&&(r.id=a[3]+"-menu"),i&2&&(r.show=a[1]),i&16&&(r.dark=a[4]),i&16384&&(r.$$scope={dirty:i,ctx:a}),n.$set(r)},i(a){c||(b(e.$$.fragment,a),b(n.$$.fragment,a),c=!0)},o(a){k(e.$$.fragment,a),k(n.$$.fragment,a),c=!1},d(a){y(e,a),a&&h(s),y(n,a)}}}function Ke(t){let e,l,s,n,c,u=t[2]&&K(t);return s=new Ce({props:{class:"w-full",$$slots:{default:[Je]},$$scope:{ctx:t}}}),{c(){e=V("div"),u&&u.c(),l=M(),A(s.$$.fragment),this.h()},l(o){e=E(o,"DIV",{class:!0});var a=I(e);u&&u.l(a),l=q(a),O(s.$$.fragment,a),a.forEach(h),this.h()},h(){p(e,"class",n="select "+t[10].class+" svelte-1kzttn7")},m(o,a){g(o,e,a),u&&u.m(e,null),R(e,l),S(s,e,null),c=!0},p(o,[a]){o[2]?u?u.p(o,a):(u=K(o),u.c(),u.m(e,l)):u&&(u.d(1),u=null);const i={};a&18427&&(i.$$scope={dirty:a,ctx:o}),s.$set(i),(!c||a&1024&&n!==(n="select "+o[10].class+" svelte-1kzttn7"))&&p(e,"class",n)},i(o){c||(b(s.$$.fragment,o),c=!0)},o(o){k(s.$$.fragment,o),c=!1},d(o){o&&h(e),u&&u.d(),y(s)}}}function Ze(t,e,l){let{$$slots:s={},$$scope:n}=e,{show:c=!1}=e,{label:u=""}=e,{id:o}=e,{value:a=void 0}=e,{dark:i=!1}=e,{placeholder:f=""}=e,{disabled:r=!1}=e,{unroundRight:m=!1}=e,{keepOpen:w=!1}=e,{displayValue:C=d=>d??""}=e,{onChange:_=we}=e;const L=v({selectValue:a,onChange:_}),oe=L.subscribe(d=>{l(0,a=d.selectValue)});be(()=>{oe()});function fe(d){c=d,l(1,c)}return t.$$set=d=>{l(10,e=B(B({},e),Q(d))),"show"in d&&l(1,c=d.show),"label"in d&&l(2,u=d.label),"id"in d&&l(3,o=d.id),"value"in d&&l(0,a=d.value),"dark"in d&&l(4,i=d.dark),"placeholder"in d&&l(5,f=d.placeholder),"disabled"in d&&l(6,r=d.disabled),"unroundRight"in d&&l(7,m=d.unroundRight),"keepOpen"in d&&l(8,w=d.keepOpen),"displayValue"in d&&l(9,C=d.displayValue),"onChange"in d&&l(11,_=d.onChange),"$$scope"in d&&l(14,n=d.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&(a&&L.update(d=>({...d,selectValue:a})),ke("select-value",L))},e=Q(e),[a,c,u,o,i,f,r,m,w,C,e,_,s,fe,n]}class fs extends U{constructor(e){super(),X(this,e,Ze,Ke,Y,{show:1,label:2,id:3,value:0,dark:4,placeholder:5,disabled:6,unroundRight:7,keepOpen:8,displayValue:9,onChange:11})}}const rs=t=>!t.disableWriteActions&&!t.workflowCancelDisabled,us=t=>!t.disableWriteActions&&!t.workflowTerminateDisabled;export{os as O,fs as S,us as a,ns as b,is as c,as as d,G as e,Te as f,Ne as l,ye as r,Se as s,ze as u,rs as w};
