import{S as he,i as me,s as pe,k as L,l as N,m as V,h as b,p as O,av as le,aa as ve,b as C,K as y,ap as be,R as X,g as se,ac as ke,ad as we,d as ae,f as H,t as U,o as ye,F as Ee,a as D,c as M,G as Te,H as Ie,I as Le,A as ee,Z as re,q as x,r as $,w as q,x as G,n as S,y as J,W as ne,U as Ne,z as K,D as Se,J as te,a2 as Ve,O as He,B as ge,e as oe,Q as j,u as Ue}from"../../../../chunks/index-3630b6f8.js";import{g as We}from"../../../../chunks/navigation-84b4244d.js";import{p as ze}from"../../../../chunks/stores-4e1b824b.js";import{l as ie,n as Pe}from"../../../../chunks/namespaces-c21a8365.js";import{r as Re}from"../../../../chunks/route-for-9e2a964e.js";import{E as de}from"../../../../chunks/empty-state-6c379cd5.js";import{I as Ae}from"../../../../chunks/icon-a76a7fcc.js";import{P as Ce}from"../../../../chunks/page-title-e9267ce5.js";import{d as Oe}from"../../../../chunks/workflow-service-9e7e328e.js";import{t as De}from"../../../../chunks/toaster-ae3b14ff.js";function ce(s,e,t){const l=s.slice();return l[23]=e[t],l}const Me=s=>({item:s&16}),ue=s=>({item:s[23].data});function Be(s){let e;return{c(){e=x("Missing template")},l(t){e=$(t,"Missing template")},m(t,l){C(t,e,l)},d(t){t&&b(e)}}}function _e(s,e){let t,l,o;const h=e[14].default,f=Ee(h,e,e[13],ue),_=f||Be();return{key:s,first:null,c(){t=L("svelte-virtual-list-row"),_&&_.c(),l=D(),this.h()},l(a){t=N(a,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var n=V(t);_&&_.l(n),l=M(n),n.forEach(b),this.h()},h(){le(t,"class","svelte-1kdxoed"),this.first=t},m(a,n){C(a,t,n),_&&_.m(t,null),y(t,l),o=!0},p(a,n){e=a,f&&f.p&&(!o||n&8208)&&Te(f,h,e,e[13],o?Le(h,e[13],n,Me):Ie(e[13]),ue)},i(a){o||(H(_,a),o=!0)},o(a){U(_,a),o=!1},d(a){a&&b(t),_&&_.d(a)}}}function Fe(s){let e,t,l=[],o=new Map,h,f,_,a,n=s[4];const m=c=>c[23].index;for(let c=0;c<n.length;c+=1){let i=ce(s,n,c),u=m(i);o.set(u,l[c]=_e(u,i))}return{c(){e=L("svelte-virtual-list-viewport"),t=L("svelte-virtual-list-contents");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=N(c,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var i=V(e);t=N(i,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var u=V(t);for(let p=0;p<l.length;p+=1)l[p].l(u);u.forEach(b),i.forEach(b),this.h()},h(){O(t,"padding-top",s[5]+"px"),O(t,"padding-bottom",s[6]+"px"),le(t,"class","svelte-1kdxoed"),O(e,"height",s[0]),le(e,"class","svelte-1kdxoed"),ve(()=>s[17].call(e))},m(c,i){C(c,e,i),y(e,t);for(let u=0;u<l.length;u+=1)l[u].m(t,null);s[15](t),s[16](e),h=be(e,s[17].bind(e)),f=!0,_||(a=X(e,"scroll",s[7]),_=!0)},p(c,[i]){i&8208&&(n=c[4],se(),l=ke(l,i,m,1,c,n,o,t,we,_e,null,ce),ae()),(!f||i&32)&&O(t,"padding-top",c[5]+"px"),(!f||i&64)&&O(t,"padding-bottom",c[6]+"px"),(!f||i&1)&&O(e,"height",c[0])},i(c){if(!f){for(let i=0;i<n.length;i+=1)H(l[i]);f=!0}},o(c){for(let i=0;i<l.length;i+=1)U(l[i]);f=!1},d(c){c&&b(e);for(let i=0;i<l.length;i+=1)l[i].d();s[15](null),s[16](null),h(),_=!1,a()}}}function qe(s,e,t){let{$$slots:l={},$$scope:o}=e,{items:h}=e,{height:f="100%"}=e,{itemHeight:_=void 0}=e,{start:a=0}=e,{end:n=0}=e,m=[],c,i,u,p=0,P,T,k=0,w=0,I;async function B(r,g,v){const{scrollTop:E}=i;await ee();let z=k-E,d=a;for(;z<g&&d<r.length;){let F=c[d-a];F||(t(9,n=d+1),await ee(),F=c[d-a]);const A=m[d]=v||F.offsetHeight;z+=A,d+=1}t(9,n=d);const R=r.length-n;I=(k+z)/n,t(6,w=R*I),m.length=r.length}async function Q(){const{scrollTop:r}=i,g=a;for(let d=0;d<c.length;d+=1)m[a+d]=_||c[d].offsetHeight;let v=0,E=0;for(;v<h.length;){const d=m[v]||I;if(E+d>r){t(8,a=v),t(5,k=E);break}E+=d,v+=1}for(;v<h.length&&(E+=m[v]||I,v+=1,!(E>r+p)););t(9,n=v);const z=h.length-n;for(I=E/n;v<h.length;)m[v++]=I;if(t(6,w=z*I),a<g){await ee();let d=0,R=0;for(let A=a;A<g;A+=1)c[A-a]&&(d+=m[A],R+=_||c[A-a].offsetHeight);const F=R-d;i.scrollTo(0,r+F)}}ye(()=>{c=u.getElementsByTagName("svelte-virtual-list-row"),t(12,T=!0)});function Y(r){re[r?"unshift":"push"](()=>{u=r,t(3,u)})}function W(r){re[r?"unshift":"push"](()=>{i=r,t(2,i)})}function Z(){p=this.offsetHeight,t(1,p)}return s.$$set=r=>{"items"in r&&t(10,h=r.items),"height"in r&&t(0,f=r.height),"itemHeight"in r&&t(11,_=r.itemHeight),"start"in r&&t(8,a=r.start),"end"in r&&t(9,n=r.end),"$$scope"in r&&t(13,o=r.$$scope)},s.$$.update=()=>{s.$$.dirty&1792&&t(4,P=h.slice(a,n).map((r,g)=>({index:g+a,data:r}))),s.$$.dirty&7170&&T&&B(h,p,_)},[f,p,i,u,P,k,w,Q,a,n,h,_,T,o,l,Y,W,Z]}class Ge extends he{constructor(e){super(),me(this,e,qe,Fe,pe,{items:10,height:0,itemHeight:11,start:8,end:9})}}function fe(s){const e=s[10]===s[2][0];s[11]=e;const t=s[10]===s[2][s[2].length-1];s[12]=t}function Je(s){let e,t;return e=new de({props:{title:"No Namespaces. Contact your admin to create one."}}),{c(){q(e.$$.fragment)},l(l){G(e.$$.fragment,l)},m(l,o){J(e,l,o),t=!0},p:ge,i(l){t||(H(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Ke(s){let e,t,l,o;const h=[Ye,Qe],f=[];function _(a,n){return a[2].length?0:1}return e=_(s),t=f[e]=h[e](s),{c(){t.c(),l=oe()},l(a){t.l(a),l=oe()},m(a,n){f[e].m(a,n),C(a,l,n),o=!0},p(a,n){let m=e;e=_(a),e===m?f[e].p(a,n):(se(),U(f[m],1,1,()=>{f[m]=null}),ae(),t=f[e],t?t.p(a,n):(t=f[e]=h[e](a),t.c()),H(t,1),t.m(l.parentNode,l))},i(a){o||(H(t),o=!0)},o(a){U(t),o=!1},d(a){f[e].d(a),a&&b(l)}}}function Qe(s){let e,t;return e=new de({props:{title:"No results."}}),{c(){q(e.$$.fragment)},l(l){G(e.$$.fragment,l)},m(l,o){J(e,l,o),t=!0},p:ge,i(l){t||(H(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Ye(s){let e,t;return e=new Ge({props:{items:s[2],itemHeight:50,$$slots:{default:[Ze,({item:l})=>({10:l}),({item:l})=>l?1024:0]},$$scope:{ctx:s}}}),{c(){q(e.$$.fragment)},l(l){G(e.$$.fragment,l)},m(l,o){J(e,l,o),t=!0},p(l,o){const h={};o&4&&(h.items=l[2]),o&9220&&(h.$$scope={dirty:o,ctx:l}),e.$set(h)},i(l){t||(H(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Ze(s){fe(s);let e,t,l=s[10].namespace+"",o,h,f;function _(){return s[8](s[10])}return{c(){e=L("li"),t=L("button"),o=x(l),this.h()},l(a){e=N(a,"LI",{class:!0});var n=V(e);t=N(n,"BUTTON",{class:!0});var m=V(t);o=$(m,l),m.forEach(b),n.forEach(b),this.h()},h(){S(t,"class","w-full p-3 text-left"),S(e,"class","link-item svelte-1up00eb"),j(e,"first",s[11]),j(e,"last",s[12])},m(a,n){C(a,e,n),y(e,t),y(t,o),h||(f=X(t,"click",_),h=!0)},p(a,n){s=a,fe(s),n&1024&&l!==(l=s[10].namespace+"")&&Ue(o,l),n&1028&&j(e,"first",s[11]),n&1028&&j(e,"last",s[12])},d(a){a&&b(e),h=!1,f()}}}function je(s){let e,t,l,o,h,f,_,a,n,m,c,i,u,p,P,T,k,w,I,B,Q;e=new Ce({props:{title:"Select Namespace",url:s[3].url.href}}),i=new Ae({props:{name:"search"}});const Y=[Ke,Je],W=[];function Z(r,g){return r[1].length?0:1}return k=Z(s),w=W[k]=Y[k](s),{c(){q(e.$$.fragment),t=D(),l=L("div"),o=L("h1"),h=x("Welcome to Temporal"),f=D(),_=L("p"),a=x("Select a Namespace to get started."),n=D(),m=L("div"),c=L("div"),q(i.$$.fragment),u=D(),p=L("input"),P=D(),T=L("ul"),w.c(),this.h()},l(r){G(e.$$.fragment,r),t=M(r),l=N(r,"DIV",{class:!0});var g=V(l);o=N(g,"H1",{class:!0});var v=V(o);h=$(v,"Welcome to Temporal"),v.forEach(b),f=M(g),_=N(g,"P",{class:!0});var E=V(_);a=$(E,"Select a Namespace to get started."),E.forEach(b),n=M(g),m=N(g,"DIV",{class:!0});var z=V(m);c=N(z,"DIV",{class:!0});var d=V(c);G(i.$$.fragment,d),d.forEach(b),u=M(z),p=N(z,"INPUT",{class:!0,placeholder:!0}),z.forEach(b),P=M(g),T=N(g,"UL",{class:!0,"aria-label":!0});var R=V(T);w.l(R),R.forEach(b),g.forEach(b),this.h()},h(){S(o,"class","my-4 text-3xl"),S(_,"class","mb-8"),S(c,"class","ml-4 mr-2"),S(p,"class","w-full"),S(p,"placeholder","Search"),S(m,"class","search svelte-1up00eb"),S(T,"class","h-screen w-full"),S(T,"aria-label","namespaces"),S(l,"class","w-full p-8 xl:w-1/2")},m(r,g){J(e,r,g),C(r,t,g),C(r,l,g),y(l,o),y(o,h),y(l,f),y(l,_),y(_,a),y(l,n),y(l,m),y(m,c),J(i,c,null),y(m,u),y(m,p),ne(p,s[0]),y(l,P),y(l,T),W[k].m(T,null),I=!0,B||(Q=[X(p,"keydown",Ne(s[6])),X(p,"input",s[7])],B=!0)},p(r,[g]){const v={};g&8&&(v.url=r[3].url.href),e.$set(v),g&1&&p.value!==r[0]&&ne(p,r[0]);let E=k;k=Z(r),k===E?W[k].p(r,g):(se(),U(W[E],1,1,()=>{W[E]=null}),ae(),w=W[k],w?w.p(r,g):(w=W[k]=Y[k](r),w.c()),H(w,1),w.m(T,null))},i(r){I||(H(e.$$.fragment,r),H(i.$$.fragment,r),H(w),I=!0)},o(r){U(e.$$.fragment,r),U(i.$$.fragment,r),U(w),I=!1},d(r){K(e,r),r&&b(t),r&&b(l),K(i),W[k].d(),B=!1,Se(Q)}}}function Xe(s,e,t){let l,o,h,f,_,a;te(s,ie,u=>t(9,f=u)),te(s,Pe,u=>t(5,_=u)),te(s,ze,u=>t(3,a=u));let n="";function m(u){He.call(this,s,u)}function c(){n=this.value,t(0,n)}const i=u=>u==null?void 0:u.onClick(u.namespace);return s.$$.update=()=>{s.$$.dirty&32&&t(4,l=_.map(u=>{var p;return(p=u==null?void 0:u.namespaceInfo)===null||p===void 0?void 0:p.name})),s.$$.dirty&16&&t(1,o=l.map(u=>({namespace:u,onClick:async p=>{const{authorized:P}=await Oe(p);P?(Ve(ie,f=p,f),We(Re({namespace:p}))):De.push({variant:"error",message:"You do not have access to this namespace."})}}))),s.$$.dirty&3&&t(2,h=o.filter(({namespace:u})=>u.includes(n)))},[n,o,h,a,l,_,m,c,i]}class it extends he{constructor(e){super(),me(this,e,Xe,je,pe,{})}}export{it as default};
