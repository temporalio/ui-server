import{d as Q,r as ke,w as I}from"./index.6fcbae08.js";import{p as le}from"./stores.49cff08c.js";import{a as pe,b as ge}from"./workflow-service.6eb187bd.js";import{s as we}from"./list-workflow-query.58fa3f8f.js";import{S as se,b as ne,a as ae,C as D,D as M,E as R,j as b,g as k,F as q,ah as H,K as T,o as oe,aj as ve,G as ie,m as A,c as z,p as S,q as V,k as _,d as L,u as p,f as g,L as N,z as fe,h as re,H as ue,I as ce,J as de,A as me,w as j,x as F,y as B,ai as J,_ as K,N as Z,O as y,Y as Ce,Z as Ie,n as Oe,e as U,R as P}from"./index.16e2925e.js";import{I as _e}from"./icon.8ce216df.js";import{M as Ee}from"./menu-item.36ab59eb.js";import{M as Ae,a as Se,b as Ve}from"./menu.3550cddf.js";const De=300,Me=async(s,e,l)=>{e.set(!0);try{await l()}catch(t){console.error(t)}s.set(!1),setTimeout(()=>{e.set(!1)},De)},Re=I(0),qe=Q([le],([s])=>s.params.namespace),We=Q([le],([s])=>s.url.searchParams.get("query")),ze=Q([qe,We,Re,we],([s,e,l,t])=>({namespace:s,query:e,refresh:l,supportsAdvancedVisibility:t})),Le=s=>{je.set(s)},Ne=s=>ze.subscribe(({namespace:e,query:l,supportsAdvancedVisibility:t})=>{Me(Te,Pe,async()=>{const{workflows:n,error:c}=await pe(e,{query:l});if(s(n),t){const r=await ge(e,l);Le(r)}c?X.set(c):X.set("")})}),nt=I(""),Pe=I(!0),Te=I(!0),je=I({count:0,totalCount:0}),X=I(""),at=ke([],Ne),ot=I("");function $(s){let e,l;return e=new _e({props:{name:"checkmark"}}),{c(){D(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function x(s){let e,l;return{c(){e=A("span"),l=j(s[0]),this.h()},l(t){e=S(t,"SPAN",{class:!0});var n=V(e);l=F(n,s[0]),n.forEach(_),this.h()},h(){p(e,"class","option-description svelte-opscnd")},m(t,n){g(t,e,n),N(e,l)},p(t,n){n&1&&B(l,t[0])},d(t){t&&_(e)}}}function Fe(s){let e,l,t,n,c,r,f=s[3]&&$();const a=s[10].default,o=ie(a,s,s[12],null);let i=s[0]&&x(s);return{c(){e=A("div"),f&&f.c(),l=z(),t=A("div"),n=A("span"),o&&o.c(),c=z(),i&&i.c(),this.h()},l(u){e=S(u,"DIV",{class:!0});var h=V(e);f&&f.l(h),h.forEach(_),l=L(u),t=S(u,"DIV",{class:!0});var v=V(t);n=S(v,"SPAN",{class:!0});var C=V(n);o&&o.l(C),C.forEach(_),c=L(v),i&&i.l(v),v.forEach(_),this.h()},h(){p(e,"class","mr-2 w-6"),p(n,"class","option-label svelte-opscnd"),p(t,"class","flex w-full flex-col")},m(u,h){g(u,e,h),f&&f.m(e,null),g(u,l,h),g(u,t,h),N(t,n),o&&o.m(n,null),s[11](n),N(t,c),i&&i.m(t,null),r=!0},p(u,h){u[3]?f?h&8&&b(f,1):(f=$(),f.c(),b(f,1),f.m(e,null)):f&&(fe(),k(f,1,1,()=>{f=null}),re()),o&&o.p&&(!r||h&4096)&&ue(o,a,u,u[12],r?de(a,u[12],h,null):ce(u[12]),null),u[0]?i?i.p(u,h):(i=x(u),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},i(u){r||(b(f),b(o,u),r=!0)},o(u){k(f),k(o,u),r=!1},d(u){u&&_(e),f&&f.d(),u&&_(l),u&&_(t),o&&o.d(u),s[11](null),i&&i.d()}}}function Be(s){let e,l;return e=new Ee({props:{class:"flex flex-row items-start",selected:s[3],dark:s[1],$$slots:{default:[Fe]},$$scope:{ctx:s}}}),e.$on("click",s[6]),{c(){D(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,[n]){const c={};n&8&&(c.selected=t[3]),n&2&&(c.dark=t[1]),n&4109&&(c.$$scope={dirty:n,ctx:t}),e.$set(c)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Ge(s,e,l){let t,n,{$$slots:c={},$$scope:r}=e;const f=H("select-value");T(s,f,m=>l(9,n=m));const a=H("select-change"),o=H("select-options");T(s,o,m=>l(14,t=m));let{value:i}=e,{description:u=""}=e,{dark:h=!1}=e,v=!1,C,w,O;oe(()=>{w&&(O=w.textContent,t.push({value:i,label:O}))}),ve(()=>{let m=t.findIndex(W=>W.value===i);m!==void 0&&t.splice(m,1)});const E=()=>{a(C)};function G(m){me[m?"unshift":"push"](()=>{w=m,l(2,w)})}return s.$$set=m=>{"value"in m&&l(7,i=m.value),"description"in m&&l(0,u=m.description),"dark"in m&&l(1,h=m.dark),"$$scope"in m&&l(12,r=m.$$scope)},s.$$.update=()=>{s.$$.dirty&900&&w&&(l(8,C=i??w.textContent),l(3,v=n.value===C),O=w.textContent)},[u,h,w,v,f,o,E,i,C,n,c,G,r]}class it extends se{constructor(e){super(),ne(this,e,Ge,Be,ae,{value:7,description:0,dark:1})}}function ee(s){let e,l;return{c(){e=A("label"),l=j(s[2]),this.h()},l(t){e=S(t,"LABEL",{for:!0,class:!0});var n=V(e);l=F(n,s[2]),n.forEach(_),this.h()},h(){p(e,"for",s[3]),p(e,"class","svelte-1kzttn7")},m(t,n){g(t,e,n),N(e,l)},p(t,n){n&4&&B(l,t[2]),n&8&&p(e,"for",t[3])},d(t){t&&_(e)}}}function He(s){let e=s[9].label+"",l;return{c(){l=j(e)},l(t){l=F(t,e)},m(t,n){g(t,l,n)},p(t,n){n&512&&e!==(e=t[9].label+"")&&B(l,e)},d(t){t&&_(l)}}}function Je(s){let e;return{c(){e=j(s[5])},l(l){e=F(l,s[5])},m(l,t){g(l,e,t)},p(l,t){t&32&&B(e,l[5])},d(l){l&&_(e)}}}function te(s){let e,l;return e=new _e({props:{name:"lock",class:"text-gray-500"}}),{c(){D(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Ke(s){let e,l,t,n;function c(o,i){return!o[0]&&o[5]!==""?Je:He}let r=c(s),f=r(s),a=s[6]&&te();return{c(){e=A("div"),f.c(),l=z(),a&&a.c(),t=U(),this.h()},l(o){e=S(o,"DIV",{class:!0,id:!0});var i=V(e);f.l(i),i.forEach(_),l=L(o),a&&a.l(o),t=U(),this.h()},h(){p(e,"class","select-input svelte-1kzttn7"),p(e,"id",s[3]),P(e,"dark",s[4]),P(e,"disabled",s[6])},m(o,i){g(o,e,i),f.m(e,null),g(o,l,i),a&&a.m(o,i),g(o,t,i),n=!0},p(o,i){r===(r=c(o))&&f?f.p(o,i):(f.d(1),f=r(o),f&&(f.c(),f.m(e,null))),(!n||i&8)&&p(e,"id",o[3]),(!n||i&16)&&P(e,"dark",o[4]),(!n||i&64)&&P(e,"disabled",o[6]),o[6]?a?i&64&&b(a,1):(a=te(),a.c(),b(a,1),a.m(t.parentNode,t)):a&&(fe(),k(a,1,1,()=>{a=null}),re())},i(o){n||(b(a),n=!0)},o(o){k(a),n=!1},d(o){o&&_(e),f.d(),o&&_(l),a&&a.d(o),o&&_(t)}}}function Qe(s){let e;const l=s[14].default,t=ie(l,s,s[16],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,c){t&&t.m(n,c),e=!0},p(n,c){t&&t.p&&(!e||c&65536)&&ue(t,l,n,n[16],e?de(l,n[16],c,null):ce(n[16]),null)},i(n){e||(b(t,n),e=!0)},o(n){k(t,n),e=!1},d(n){t&&t.d(n)}}}function Ye(s){let e,l,t,n,c;function r(a){s[15](a)}let f={hasIndicator:!s[6],class:"select-input-container "+(s[6]?"disabled":"")+" "+(s[7]?"unroundRight":""),keepOpen:s[8],controls:s[3]+"-menu",testId:s[12].testId,dark:s[4],disabled:s[6],$$slots:{default:[Ke]},$$scope:{ctx:s}};return s[1]!==void 0&&(f.show=s[1]),e=new Se({props:f}),me.push(()=>Ce(e,"show",r)),n=new Ve({props:{id:s[3]+"-menu",class:"h-auto max-h-96 min-w-fit",show:s[1],dark:s[4],$$slots:{default:[Qe]},$$scope:{ctx:s}}}),{c(){D(e.$$.fragment),t=z(),D(n.$$.fragment)},l(a){M(e.$$.fragment,a),t=L(a),M(n.$$.fragment,a)},m(a,o){R(e,a,o),g(a,t,o),R(n,a,o),c=!0},p(a,o){const i={};o&64&&(i.hasIndicator=!a[6]),o&192&&(i.class="select-input-container "+(a[6]?"disabled":"")+" "+(a[7]?"unroundRight":"")),o&256&&(i.keepOpen=a[8]),o&8&&(i.controls=a[3]+"-menu"),o&4096&&(i.testId=a[12].testId),o&16&&(i.dark=a[4]),o&64&&(i.disabled=a[6]),o&66169&&(i.$$scope={dirty:o,ctx:a}),!l&&o&2&&(l=!0,i.show=a[1],Ie(()=>l=!1)),e.$set(i);const u={};o&8&&(u.id=a[3]+"-menu"),o&2&&(u.show=a[1]),o&16&&(u.dark=a[4]),o&65536&&(u.$$scope={dirty:o,ctx:a}),n.$set(u)},i(a){c||(b(e.$$.fragment,a),b(n.$$.fragment,a),c=!0)},o(a){k(e.$$.fragment,a),k(n.$$.fragment,a),c=!1},d(a){q(e,a),a&&_(t),q(n,a)}}}function Ze(s){let e,l,t,n,c,r=s[2]&&ee(s);return t=new Ae({props:{class:"w-full",$$slots:{default:[Ye]},$$scope:{ctx:s}}}),{c(){e=A("div"),r&&r.c(),l=z(),D(t.$$.fragment),this.h()},l(f){e=S(f,"DIV",{class:!0});var a=V(e);r&&r.l(a),l=L(a),M(t.$$.fragment,a),a.forEach(_),this.h()},h(){p(e,"class",n="select "+s[12].class+" svelte-1kzttn7")},m(f,a){g(f,e,a),r&&r.m(e,null),N(e,l),R(t,e,null),c=!0},p(f,[a]){f[2]?r?r.p(f,a):(r=ee(f),r.c(),r.m(e,l)):r&&(r.d(1),r=null);const o={};a&70651&&(o.$$scope={dirty:a,ctx:f}),t.$set(o),(!c||a&4096&&n!==(n="select "+f[12].class+" svelte-1kzttn7"))&&p(e,"class",n)},i(f){c||(b(t.$$.fragment,f),c=!0)},o(f){k(t.$$.fragment,f),c=!1},d(f){f&&_(e),r&&r.d(),q(t)}}}function ye(s,e,l){let t,n,{$$slots:c={},$$scope:r}=e,{show:f=!1}=e,{label:a=""}=e,{id:o}=e,{value:i=void 0}=e,{dark:u=!1}=e,{placeholder:h=""}=e,{disabled:v=!1}=e,{unroundRight:C=!1}=e,{keepOpen:w=!1}=e,{onChange:O=Oe}=e;const E=I({value:i,label:i==null?void 0:i.toString(),onChange:O});T(s,E,d=>l(9,t=d));const G=d=>{l(0,i=d),O(i)};function m(d){let Y=n.find(be=>be.value===d);if(Y!==void 0)return Y.label}const W=I([]);T(s,W,d=>l(17,n=d)),J("select-value",E),J("select-change",G),J("select-options",W),oe(()=>{K(E,t.label=m(i),t)});function he(d){f=d,l(1,f)}return s.$$set=d=>{l(12,e=Z(Z({},e),y(d))),"show"in d&&l(1,f=d.show),"label"in d&&l(2,a=d.label),"id"in d&&l(3,o=d.id),"value"in d&&l(0,i=d.value),"dark"in d&&l(4,u=d.dark),"placeholder"in d&&l(5,h=d.placeholder),"disabled"in d&&l(6,v=d.disabled),"unroundRight"in d&&l(7,C=d.unroundRight),"keepOpen"in d&&l(8,w=d.keepOpen),"onChange"in d&&l(13,O=d.onChange),"$$scope"in d&&l(16,r=d.$$scope)},s.$$.update=()=>{s.$$.dirty&1&&(K(E,t.value=i,t),K(E,t.label=m(i),t))},e=y(e),[i,f,a,o,u,h,v,C,w,t,E,W,e,O,c,he,r]}class ft extends se{constructor(e){super(),ne(this,e,ye,Ze,ae,{show:1,label:2,id:3,value:0,dark:4,placeholder:5,disabled:6,unroundRight:7,keepOpen:8,onChange:13})}}const rt=s=>!s.disableWriteActions&&!s.workflowCancelDisabled,ut=s=>!s.disableWriteActions&&!s.workflowTerminateDisabled;export{it as O,ft as S,ut as a,nt as b,at as c,X as d,ot as e,je as f,Te as l,Re as r,Pe as u,rt as w};
