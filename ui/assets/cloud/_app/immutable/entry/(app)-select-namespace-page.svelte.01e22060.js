import{S as he,b as me,a as pe,m as N,p as S,q as V,k as b,v as M,au as le,$ as ve,f as A,L as y,an as be,T as Z,z as se,a1 as ke,a2 as we,h as re,j as H,g as U,o as ye,G as Ee,c as O,d as F,H as Te,I as Le,J as Ie,t as ee,A as ae,w as x,x as $,C as B,D as j,u as T,E as G,a9 as ne,V as Ne,F as J,r as Se,K as te,_ as Ve,P as He,n as ge,e as oe,R as X,y as Ue}from"../chunks/index.16e2925e.js";import{g as Pe}from"../chunks/navigation.b4248eec.js";import{p as Re}from"../chunks/stores.5c06099d.js";import{l as ie,n as ze}from"../chunks/namespaces.15545fb7.js";import{r as Ce}from"../chunks/route-for.dc4a4418.js";import{E as de}from"../chunks/empty-state.c0bbc1b8.js";import{I as We}from"../chunks/icon.8ce216df.js";import{P as Ae}from"../chunks/page-title.79636584.js";import{d as Me}from"../chunks/workflow-service.eaef4a97.js";import{t as Oe}from"../chunks/toaster.fda32b20.js";function ce(s,e,t){const l=s.slice();return l[23]=e[t],l}const Fe=s=>({item:s&16}),ue=s=>({item:s[23].data});function De(s){let e;return{c(){e=x("Missing template")},l(t){e=$(t,"Missing template")},m(t,l){A(t,e,l)},d(t){t&&b(e)}}}function _e(s,e){let t,l,o;const h=e[14].default,f=Ee(h,e,e[13],ue),_=f||De();return{key:s,first:null,c(){t=N("svelte-virtual-list-row"),_&&_.c(),l=O(),this.h()},l(r){t=S(r,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var n=V(t);_&&_.l(n),l=F(n),n.forEach(b),this.h()},h(){le(t,"class","svelte-1kdxoed"),this.first=t},m(r,n){A(r,t,n),_&&_.m(t,null),y(t,l),o=!0},p(r,n){e=r,f&&f.p&&(!o||n&8208)&&Te(f,h,e,e[13],o?Ie(h,e[13],n,Fe):Le(e[13]),ue)},i(r){o||(H(_,r),o=!0)},o(r){U(_,r),o=!1},d(r){r&&b(t),_&&_.d(r)}}}function qe(s){let e,t,l=[],o=new Map,h,f,_,r,n=s[4];const m=c=>c[23].index;for(let c=0;c<n.length;c+=1){let i=ce(s,n,c),u=m(i);o.set(u,l[c]=_e(u,i))}return{c(){e=N("svelte-virtual-list-viewport"),t=N("svelte-virtual-list-contents");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=S(c,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var i=V(e);t=S(i,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var u=V(t);for(let p=0;p<l.length;p+=1)l[p].l(u);u.forEach(b),i.forEach(b),this.h()},h(){M(t,"padding-top",s[5]+"px"),M(t,"padding-bottom",s[6]+"px"),le(t,"class","svelte-1kdxoed"),M(e,"height",s[0]),le(e,"class","svelte-1kdxoed"),ve(()=>s[17].call(e))},m(c,i){A(c,e,i),y(e,t);for(let u=0;u<l.length;u+=1)l[u].m(t,null);s[15](t),s[16](e),h=be(e,s[17].bind(e)),f=!0,_||(r=Z(e,"scroll",s[7]),_=!0)},p(c,[i]){i&8208&&(n=c[4],se(),l=ke(l,i,m,1,c,n,o,t,we,_e,null,ce),re()),(!f||i&32)&&M(t,"padding-top",c[5]+"px"),(!f||i&64)&&M(t,"padding-bottom",c[6]+"px"),(!f||i&1)&&M(e,"height",c[0])},i(c){if(!f){for(let i=0;i<n.length;i+=1)H(l[i]);f=!0}},o(c){for(let i=0;i<l.length;i+=1)U(l[i]);f=!1},d(c){c&&b(e);for(let i=0;i<l.length;i+=1)l[i].d();s[15](null),s[16](null),h(),_=!1,r()}}}function Be(s,e,t){let{$$slots:l={},$$scope:o}=e,{items:h}=e,{height:f="100%"}=e,{itemHeight:_=void 0}=e,{start:r=0}=e,{end:n=0}=e,m=[],c,i,u,p=0,z,L,k=0,w=0,I;async function D(a,g,v){const{scrollTop:E}=i;await ee();let R=k-E,d=r;for(;R<g&&d<a.length;){let q=c[d-r];q||(t(9,n=d+1),await ee(),q=c[d-r]);const W=m[d]=v||q.offsetHeight;R+=W,d+=1}t(9,n=d);const C=a.length-n;I=(k+R)/n,t(6,w=C*I),m.length=a.length}async function K(){const{scrollTop:a}=i,g=r;for(let d=0;d<c.length;d+=1)m[r+d]=_||c[d].offsetHeight;let v=0,E=0;for(;v<h.length;){const d=m[v]||I;if(E+d>a){t(8,r=v),t(5,k=E);break}E+=d,v+=1}for(;v<h.length&&(E+=m[v]||I,v+=1,!(E>a+p)););t(9,n=v);const R=h.length-n;for(I=E/n;v<h.length;)m[v++]=I;if(t(6,w=R*I),r<g){await ee();let d=0,C=0;for(let W=r;W<g;W+=1)c[W-r]&&(d+=m[W],C+=_||c[W-r].offsetHeight);const q=C-d;i.scrollTo(0,a+q)}}ye(()=>{c=u.getElementsByTagName("svelte-virtual-list-row"),t(12,L=!0)});function Y(a){ae[a?"unshift":"push"](()=>{u=a,t(3,u)})}function P(a){ae[a?"unshift":"push"](()=>{i=a,t(2,i)})}function Q(){p=this.offsetHeight,t(1,p)}return s.$$set=a=>{"items"in a&&t(10,h=a.items),"height"in a&&t(0,f=a.height),"itemHeight"in a&&t(11,_=a.itemHeight),"start"in a&&t(8,r=a.start),"end"in a&&t(9,n=a.end),"$$scope"in a&&t(13,o=a.$$scope)},s.$$.update=()=>{s.$$.dirty&1792&&t(4,z=h.slice(r,n).map((a,g)=>({index:g+r,data:a}))),s.$$.dirty&7170&&L&&D(h,p,_)},[f,p,i,u,z,k,w,K,r,n,h,_,L,o,l,Y,P,Q]}class je extends he{constructor(e){super(),me(this,e,Be,qe,pe,{items:10,height:0,itemHeight:11,start:8,end:9})}}function fe(s){const e=s[10]===s[2][0];s[11]=e;const t=s[10]===s[2][s[2].length-1];s[12]=t}function Ge(s){let e,t;return e=new de({props:{title:"No Namespaces. Contact your admin to create one."}}),{c(){B(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,o){G(e,l,o),t=!0},p:ge,i(l){t||(H(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Je(s){let e,t,l,o;const h=[Ye,Ke],f=[];function _(r,n){return r[2].length?0:1}return e=_(s),t=f[e]=h[e](s),{c(){t.c(),l=oe()},l(r){t.l(r),l=oe()},m(r,n){f[e].m(r,n),A(r,l,n),o=!0},p(r,n){let m=e;e=_(r),e===m?f[e].p(r,n):(se(),U(f[m],1,1,()=>{f[m]=null}),re(),t=f[e],t?t.p(r,n):(t=f[e]=h[e](r),t.c()),H(t,1),t.m(l.parentNode,l))},i(r){o||(H(t),o=!0)},o(r){U(t),o=!1},d(r){f[e].d(r),r&&b(l)}}}function Ke(s){let e,t;return e=new de({props:{title:"No results."}}),{c(){B(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,o){G(e,l,o),t=!0},p:ge,i(l){t||(H(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Ye(s){let e,t;return e=new je({props:{items:s[2],itemHeight:50,$$slots:{default:[Qe,({item:l})=>({10:l}),({item:l})=>l?1024:0]},$$scope:{ctx:s}}}),{c(){B(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,o){G(e,l,o),t=!0},p(l,o){const h={};o&4&&(h.items=l[2]),o&9220&&(h.$$scope={dirty:o,ctx:l}),e.$set(h)},i(l){t||(H(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Qe(s){fe(s);let e,t,l=s[10].namespace+"",o,h,f;function _(){return s[8](s[10])}return{c(){e=N("li"),t=N("button"),o=x(l),this.h()},l(r){e=S(r,"LI",{class:!0});var n=V(e);t=S(n,"BUTTON",{class:!0});var m=V(t);o=$(m,l),m.forEach(b),n.forEach(b),this.h()},h(){T(t,"class","w-full p-3 text-left"),T(e,"class","link-item svelte-8ihh0f"),X(e,"first",s[11]),X(e,"last",s[12])},m(r,n){A(r,e,n),y(e,t),y(t,o),h||(f=Z(t,"click",_),h=!0)},p(r,n){s=r,fe(s),n&1024&&l!==(l=s[10].namespace+"")&&Ue(o,l),n&1028&&X(e,"first",s[11]),n&1028&&X(e,"last",s[12])},d(r){r&&b(e),h=!1,f()}}}function Xe(s){let e,t,l,o,h,f,_,r,n,m,c,i,u,p,z,L,k,w,I,D,K;e=new Ae({props:{title:"Select Namespace",url:s[3].url.href}}),i=new We({props:{name:"search"}});const Y=[Je,Ge],P=[];function Q(a,g){return a[1].length?0:1}return k=Q(s),w=P[k]=Y[k](s),{c(){B(e.$$.fragment),t=O(),l=N("div"),o=N("h1"),h=x("Welcome to Temporal"),f=O(),_=N("p"),r=x("Select a Namespace to get started."),n=O(),m=N("form"),c=N("div"),B(i.$$.fragment),u=O(),p=N("input"),z=O(),L=N("ul"),w.c(),this.h()},l(a){j(e.$$.fragment,a),t=F(a),l=S(a,"DIV",{class:!0});var g=V(l);o=S(g,"H1",{class:!0});var v=V(o);h=$(v,"Welcome to Temporal"),v.forEach(b),f=F(g),_=S(g,"P",{class:!0});var E=V(_);r=$(E,"Select a Namespace to get started."),E.forEach(b),n=F(g),m=S(g,"FORM",{class:!0,role:!0});var R=V(m);c=S(R,"DIV",{class:!0});var d=V(c);j(i.$$.fragment,d),d.forEach(b),u=F(R),p=S(R,"INPUT",{class:!0,placeholder:!0,type:!0}),R.forEach(b),z=F(g),L=S(g,"UL",{class:!0,"aria-label":!0});var C=V(L);w.l(C),C.forEach(b),g.forEach(b),this.h()},h(){T(o,"class","my-4 text-3xl"),T(_,"class","mb-8"),T(c,"class","ml-4 mr-2"),T(p,"class","w-full"),T(p,"placeholder","Search"),T(p,"type","search"),T(m,"class","search svelte-8ihh0f"),T(m,"role","search"),T(L,"class","h-screen w-full"),T(L,"aria-label","namespaces"),T(l,"class","w-full p-8 xl:w-1/2")},m(a,g){G(e,a,g),A(a,t,g),A(a,l,g),y(l,o),y(o,h),y(l,f),y(l,_),y(_,r),y(l,n),y(l,m),y(m,c),G(i,c,null),y(m,u),y(m,p),ne(p,s[0]),y(l,z),y(l,L),P[k].m(L,null),I=!0,D||(K=[Z(p,"keydown",Ne(s[6])),Z(p,"input",s[7])],D=!0)},p(a,[g]){const v={};g&8&&(v.url=a[3].url.href),e.$set(v),g&1&&ne(p,a[0]);let E=k;k=Q(a),k===E?P[k].p(a,g):(se(),U(P[E],1,1,()=>{P[E]=null}),re(),w=P[k],w?w.p(a,g):(w=P[k]=Y[k](a),w.c()),H(w,1),w.m(L,null))},i(a){I||(H(e.$$.fragment,a),H(i.$$.fragment,a),H(w),I=!0)},o(a){U(e.$$.fragment,a),U(i.$$.fragment,a),U(w),I=!1},d(a){J(e,a),a&&b(t),a&&b(l),J(i),P[k].d(),D=!1,Se(K)}}}function Ze(s,e,t){let l,o,h,f,_,r;te(s,ie,u=>t(9,f=u)),te(s,ze,u=>t(5,_=u)),te(s,Re,u=>t(3,r=u));let n="";function m(u){He.call(this,s,u)}function c(){n=this.value,t(0,n)}const i=u=>u==null?void 0:u.onClick(u.namespace);return s.$$.update=()=>{s.$$.dirty&32&&t(4,l=_.map(u=>{var p;return(p=u==null?void 0:u.namespaceInfo)===null||p===void 0?void 0:p.name})),s.$$.dirty&16&&t(1,o=l.map(u=>({namespace:u,onClick:async p=>{const{authorized:z}=await Me(p);z?(Ve(ie,f=p,f),Pe(Ce({namespace:p}))):Oe.push({variant:"error",message:"You do not have access to this namespace."})}}))),s.$$.dirty&3&&t(2,h=o.filter(({namespace:u})=>u.includes(n)))},[n,o,h,r,l,_,m,c,i]}class it extends he{constructor(e){super(),me(this,e,Ze,Xe,pe,{})}}export{it as default};
