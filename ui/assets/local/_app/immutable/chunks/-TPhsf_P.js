import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as le,N as Ut,l as Me,s as I,m as A,L as gt,a as Le,t as H,i as _,r as f,j as D,o,g as e,e as k,b as ne,n as ae,k as se,c as s,f as ye,ag as Ce,q as Kt}from"./U_G9-AHJ.js";import{s as C}from"./CVVZ9xwv.js";import{i as Ze}from"./DIFdH0Rm.js";import{i as oe,s as pt}from"./D2UjXFL6.js";import{l as vt,p as d,a as be,s as Qe,b as Ee,d as Vt}from"./DNW1xCX_.js";import{a as Jt,w as Gt}from"./D1QWZ-ZU.js";import{p as _t}from"./PpxJq6tV.js";import{C as Rt}from"./MK8gHrBR.js";import{C as Xt}from"./ByQOI1WC.js";import{I as he}from"./7oE09RfH.js";import{T as Yt,a as xt,b as bt,c as Ie}from"./DO1_Ktoj.js";import{b as Zt,C as er,s as tr}from"./CAT1xLwG.js";import{t as c}from"./D2OY9xdY.js";import{e as Be,i as Fe}from"./CbnBDLOu.js";import{B as Ae}from"./JBT6BJYR.js";import{m as rr,T as ar,g as Xe,w as sr}from"./8JhwpYuA.js";import{I as lr}from"./DP_ar0SN.js";import{S as nr}from"./BbQ-BoVI.js";import{S as or,O as De}from"./UI5mkYMH.js";import{A as ir}from"./kE1hueh6.js";import{C as dr}from"./m1RO-cO4.js";import{L as ur}from"./BBDdCgFI.js";import{L as cr}from"./7Z5a06nq.js";import{e as Ye,l as vr}from"./Cc2xIe6J.js";import{c as fr}from"./Bi8Feoaf.js";import{d as ft}from"./uWoPbzQG.js";import{p as mr,q as hr}from"./QHr82-2a.js";import{P as gr,k as pr,l as _r}from"./CpTrRu-g.js";import{a as mt}from"./CuS8yRwa.js";import{g as xr}from"./BFeKsUVj.js";import{P as br}from"./9u4-kKFd.js";import{A as ht}from"./Dc9GnGv_.js";var yr=H("<div><!></div>");function Se(z,t){const n=vt(t,["children","$$slots","$$events","$$legacy"]),y=vt(n,["id","tabId"]);le(t,!1);const[w,g]=Qe(),l=()=>be(b,"$activePanel",w),r=A();let a=d(t,"id",8),i=d(t,"tabId",8);const{registerPanel:v,activePanel:b}=Ut(Yt);v(a()),Me(()=>(l(),gt(a())),()=>{I(r,l()===a())}),Le(),oe();var u=yr();let m;var h=_(u);pt(h,t,"default",{},null),f(u),D(S=>m=Zt(u,m,{id:a(),"aria-labelledby":i(),tabindex:"0",role:"tabpanel",...y,[er]:S}),[()=>({hidden:!e(r),"text-primary":e(r)})],o),k(z,u),ne(),g()}var $r=H('<div class="surface-primary grid place-items-center gap-1 rounded border border-subtle px-0 py-4 text-center sm:gap-4 md:gap-x-8 md:px-2 xl:gap-x-16 xl:px-4 svelte-qnj0j6"></div>');function wr(z,t){le(t,!1);const n=Array.from({length:31}).map((l,r)=>r+1);let y=d(t,"daysOfMonth",12);const w=(l,r)=>{l.metaKey?y().includes(r)?y().filter(a=>a!==r):y([...y(),r]):y([r])};oe();var g=$r();Be(g,5,()=>n,Fe,(l,r)=>{const a=o(()=>y().includes(e(r))),i=o(()=>e(a)&&"bg-interactive-secondary-active");Ae(l,{variant:"secondary",get class(){return`max-md:h-9 max-md:px-4 max-md:py-1.5 max-md:text-sm max-sm:h-8 max-sm:px-2 max-sm:py-1 max-sm:text-xs ${e(i)??""}`},$$events:{click:v=>w(v,e(r))},children:(v,b)=>{ae();var u=se();D(()=>C(u,e(r))),k(v,u)},$$slots:{default:!0}})}),f(g),k(z,g),ne()}var kr=H('<div class="flex flex-wrap gap-4 text-center"></div>');function Ir(z,t){le(t,!1);let n=d(t,"months",12);const y=(g,l)=>{g.metaKey&&l!=="*"?(n().includes("*")&&n(n().filter(r=>r!=="*")),n().includes(l)?n(n().filter(r=>r!==l)):n([...n(),l])):n([l])};oe();var w=kr();Be(w,5,()=>rr,Fe,(g,l)=>{let r=()=>e(l).label,a=()=>e(l).value;const i=o(()=>n().includes(a())),v=o(()=>e(i)&&"bg-interactive-secondary-active");Ae(g,{variant:"secondary",get class(){return e(v)},$$events:{click:b=>y(b,a())},children:(b,u)=>{ae();var m=se();D(()=>C(m,r())),k(b,m)},$$slots:{default:!0}})}),f(w),k(z,w),ne()}var Sr=H('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <div class="flex w-full flex-row items-center gap-2"><!> <span class="text-xs font-normal text-slate-500"> </span></div></div>');function yt(z,t){le(t,!1);const n=A();let y=d(t,"hour",12,""),w=d(t,"minute",12,""),g=d(t,"timezoneName",8);Me(()=>gt(g()),()=>{I(n,g().toLowerCase()==="utc"?"Universal Standard Time (UTC)":g())}),Le(),oe();var l=Sr(),r=_(l),a=_(r),i=_(a,!0);f(a);var v=s(a,2),b=_(v,!0);f(v);var u=s(v,2);ar(u,{twelveHourClock:!1,includeSeconds:!1,get hour(){return y()},set hour(L){y(L)},get minute(){return w()},set minute(L){w(L)},$$legacy:!0}),f(r);var m=s(r,2),h=_(m);lr(h,{name:"clock","aria-hidden":"true"});var S=s(h,2),P=_(S);f(S),f(m),f(l),D((L,ie,X)=>{C(i,L),C(b,ie),C(P,`${X??""} ${e(n)??""}`)},[()=>c("schedules.time-view-heading"),()=>c("schedules.time-view-description",{timezoneName:g()}),()=>c("common.based-on-time-preface")],o),k(z,l),ne()}var Ar=H('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <!> <!></div>');function Pr(z,t){le(t,!1);let n=d(t,"daysOfMonth",12),y=d(t,"months",12),w=d(t,"hour",12),g=d(t,"minute",12),l=d(t,"timezoneName",8);oe();var r=Ar(),a=_(r),i=_(a),v=_(i,!0);f(i);var b=s(i,2),u=_(b,!0);f(b);var m=s(b,2);wr(m,{get daysOfMonth(){return n()},set daysOfMonth(P){n(P)},$$legacy:!0}),f(a);var h=s(a,2);Ir(h,{get months(){return y()},set months(P){y(P)},$$legacy:!0});var S=s(h,2);yt(S,{get timezoneName(){return l()},get hour(){return w()},set hour(P){w(P)},get minute(){return g()},set minute(P){g(P)},$$legacy:!0}),f(r),D((P,L)=>{C(v,P),C(u,L)},[()=>c("schedules.recurring-dates-heading"),()=>c("schedules.recurring-dates-description")],o),k(z,r),ne()}var Tr=H('<div class="flex flex-col gap-4 text-center"><div class="flex flex-wrap gap-2 text-center"></div> <div class="flex flex-wrap gap-2 text-center"></div></div>');function Or(z,t){le(t,!1);let n=d(t,"daysOfWeek",12);const y=(r,a)=>{r.metaKey?(Xe.find(i=>i.value===a)?n([a]):n().find(i=>Xe.find(v=>v.value===i))&&n([a]),n().includes(a)?n().filter(i=>i!==a):n([...n(),a])):n([a])};oe();var w=Tr(),g=_(w);Be(g,5,()=>Xe,Fe,(r,a)=>{let i=()=>e(a).label,v=()=>e(a).value;const b=o(()=>n().includes(v())),u=o(()=>e(b)&&"bg-interactive-secondary-active");Ae(r,{variant:"secondary",get class(){return e(u)},$$events:{click:m=>y(m,v())},children:(m,h)=>{ae();var S=se();D(()=>C(S,i())),k(m,S)},$$slots:{default:!0}})}),f(g);var l=s(g,2);Be(l,5,()=>sr,Fe,(r,a)=>{let i=()=>e(a).label,v=()=>e(a).value;const b=o(()=>n().includes(v())),u=o(()=>e(b)&&"bg-interactive-secondary-active");Ae(r,{variant:"secondary",get class(){return e(u)},$$events:{click:m=>y(m,v())},children:(m,h)=>{ae();var S=se();D(()=>C(S,i())),k(m,S)},$$slots:{default:!0}})}),f(l),f(w),k(z,w),ne()}var Cr=H('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <!></div>');function Wr(z,t){le(t,!1);let n=d(t,"daysOfWeek",12),y=d(t,"hour",12),w=d(t,"minute",12),g=d(t,"timezoneName",8);oe();var l=Cr(),r=_(l),a=_(r),i=_(a,!0);f(a);var v=s(a,2),b=_(v,!0);f(v);var u=s(v,2);Or(u,{get daysOfWeek(){return n()},set daysOfWeek(h){n(h)},$$legacy:!0}),f(r);var m=s(r,2);yt(m,{get timezoneName(){return g()},get hour(){return y()},set hour(h){y(h)},get minute(){return w()},set minute(h){w(h)},$$legacy:!0}),f(l),D((h,S)=>{C(i,h),C(b,S)},[()=>c("schedules.recurring-days-heading"),()=>c("schedules.recurring-days-description")],o),k(z,l),ne()}var Nr=H("<!> <!> <!> <!>",1),zr=H('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <div class="flex flex-col gap-2 md:flex-row md:items-center"><!> <div class="hidden md:block">:</div> <!> <div class="hidden md:block">:</div> <!> <div class="hidden md:block">:</div> <!></div></div> <div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <div class="flex w-48 gap-2"><!> <!></div></div></div>');function Mr(z,t){le(t,!1);let n=d(t,"days",12,""),y=d(t,"hour",12,""),w=d(t,"minute",12,""),g=d(t,"second",12,""),l=d(t,"phase",12,""),r=A(""),a=A("min");const i=N=>N?isNaN(parseInt(N)):!1;Me(()=>(e(r),e(a)),()=>{e(r)&&(e(a)==="days"?l((parseInt(e(r))*60*60*24).toString()+"s"):e(a)==="hrs"?l((parseInt(e(r))*60*60).toString()+"s"):e(a)==="min"?l((parseInt(e(r))*60).toString()+"s"):e(a)==="sec"&&l(parseInt(e(r)).toString()+"s"))}),Le(),oe();var v=zr(),b=_(v),u=_(b),m=_(u,!0);f(u);var h=s(u,2),S=_(h,!0);f(h);var P=s(h,2),L=_(P);const ie=o(()=>c("common.days")),X=o(()=>c("common.days")),de=o(()=>i(n()));he(L,{id:"days","data-testid":"days-input",class:"w-28",get label(){return e(ie)},labelHidden:!0,placeholder:"000",get suffix(){return e(X)},hideCount:!0,maxLength:3,get error(){return e(de)},get value(){return n()},set value(N){n(N)},$$legacy:!0});var M=s(L,4);const J=o(()=>c("common.hours-abbreviated")),F=o(()=>c("common.hours-abbreviated")),K=o(()=>i(y()));he(M,{id:"hour-interval","data-testid":"hour-interval-input",class:"w-24",get label(){return e(J)},labelHidden:!0,placeholder:"00",get suffix(){return e(F)},hideCount:!0,maxLength:2,get error(){return e(K)},get value(){return y()},set value(N){y(N)},$$legacy:!0});var Q=s(M,4);const U=o(()=>c("common.minutes-abbreviated")),ee=o(()=>c("common.minutes-abbreviated")),x=o(()=>i(w()));he(Q,{id:"minute-interval","data-testid":"minute-interval-input",class:"w-24",get label(){return e(U)},labelHidden:!0,placeholder:"00",get suffix(){return e(ee)},hideCount:!0,maxLength:2,get error(){return e(x)},get value(){return w()},set value(N){w(N)},$$legacy:!0});var _e=s(Q,4);const Pe=o(()=>c("common.seconds-abbreviated")),Te=o(()=>c("common.seconds-abbreviated")),ge=o(()=>i(g()));he(_e,{id:"second","data-testid":"second-interval-input",class:"w-24",get label(){return e(Pe)},labelHidden:!0,placeholder:"00",get suffix(){return e(Te)},hideCount:!0,maxLength:2,get error(){return e(ge)},get value(){return g()},set value(N){g(N)},$$legacy:!0}),f(P),f(b);var j=s(b,2),te=_(j),$=_(te,!0);f(te);var V=s(te,2),ue=_(V,!0);f(V);var T=s(V,2),W=_(T);const q=o(()=>c("schedules.offset-heading")),E=o(()=>i(l()));he(W,{id:"phase",class:"w-28",get label(){return e(q)},labelHidden:!0,placeholder:"00",maxLength:3,hideCount:!0,get error(){return e(E)},get value(){return e(r)},set value(N){I(r,N)},$$legacy:!0});var G=s(W,2);const re=o(()=>c("schedules.offset-unit"));or(G,{get label(){return e(re)},labelHidden:!0,id:"phase-unit",get value(){return e(a)},set value(N){I(a,N)},children:(N,xe)=>{var ve=Nr(),R=ye(ve);De(R,{value:"days",children:(Y,pe)=>{ae();var B=se();D(ce=>C(B,ce),[()=>c("common.days")],o),k(Y,B)},$$slots:{default:!0}});var fe=s(R,2);De(fe,{value:"hrs",children:(Y,pe)=>{ae();var B=se();D(ce=>C(B,ce),[()=>c("common.hours-abbreviated")],o),k(Y,B)},$$slots:{default:!0}});var me=s(fe,2);De(me,{value:"min",children:(Y,pe)=>{ae();var B=se();D(ce=>C(B,ce),[()=>c("common.minutes-abbreviated")],o),k(Y,B)},$$slots:{default:!0}});var $e=s(me,2);De($e,{value:"sec",children:(Y,pe)=>{ae();var B=se();D(ce=>C(B,ce),[()=>c("common.seconds-abbreviated")],o),k(Y,B)},$$slots:{default:!0}}),k(N,ve)},$$slots:{default:!0},$$legacy:!0}),f(T),f(j),f(v),D((N,xe,ve,R)=>{C(m,N),C(S,xe),C($,ve),C(ue,R)},[()=>c("schedules.interval-view-heading"),()=>c("schedules.interval-view-description"),()=>c("schedules.offset-heading"),()=>c("schedules.offset-description")],o),k(z,v),ne()}var Lr=H("<!> <!> <!> <!> <!>",1),qr=H('<div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <div class="flex flex-col gap-2"><p class="text-secondary"> </p> <!></div>',1),jr=H('<h2 class="mb-4"> </h2> <!> <div class="mt-4 flex w-full flex-wrap gap-6"><!> <!> <!> <!> <!></div> <!>',1);function Hr(z,t){le(t,!1);const[n,y]=Qe();let g=be(_t,"$page",n).params.schedule,l=A(g?"existing":"interval"),r=d(t,"schedule",8,null),a=d(t,"daysOfWeek",12),i=d(t,"daysOfMonth",12),v=d(t,"months",12),b=d(t,"days",12),u=d(t,"hour",12),m=d(t,"minute",12),h=d(t,"second",12),S=d(t,"phase",12),P=d(t,"cronString",12),L=d(t,"timezoneName",8);const ie=()=>{a([]),i([]),v([]),b(""),u(""),m(""),h(""),S(""),P("")};Me(()=>{},()=>{ie()}),Le(),oe(),xt(z,{class:"mt-8 w-full",children:(X,de)=>{var M=jr(),J=ye(M),F=_(J,!0);f(J);var K=s(J,2);bt(K,{label:"Schedule Tabs",children:(j,te)=>{var $=Lr(),V=ye($);{var ue=G=>{Ie(G,{label:"Existing",id:"existing-tab","data-testid":"existing-tab",panelId:"existing-panel",onClick:()=>I(l,"existing")})};Ze(V,G=>{r()&&G(ue)})}var T=s(V,2);Ie(T,{label:"Interval",id:"interval-tab","data-testid":"interval-tab",panelId:"interval-panel",onClick:()=>I(l,"interval")});var W=s(T,2);Ie(W,{label:"Days of the Week",id:"daily-tab","data-testid":"daily-tab",panelId:"daily-panel",onClick:()=>I(l,"week")});var q=s(W,2);Ie(q,{label:"Days of the Month",id:"monthly-tab","data-testid":"monthly-tab",panelId:"monthly-panel",onClick:()=>I(l,"month")});var E=s(q,2);Ie(E,{label:"String",id:"string-tab","data-testid":"string-tab",panelId:"string-panel",onClick:()=>I(l,"string")}),k(j,$)},$$slots:{default:!0}});var Q=s(K,2),U=_(Q);{var ee=j=>{Se(j,{id:"existing-panel",tabId:"existing-tab",class:"w-full",children:(te,$)=>{const V=o(()=>{var W,q,E;return(E=(q=(W=r())==null?void 0:W.spec)==null?void 0:q.structuredCalendar)==null?void 0:E[0]}),ue=o(()=>{var W,q,E;return(E=(q=(W=r())==null?void 0:W.spec)==null?void 0:q.interval)==null?void 0:E[0]}),T=o(()=>{var W,q;return(q=(W=r())==null?void 0:W.spec)==null?void 0:q.timezoneName});nr(te,{get calendar(){return e(V)},get interval(){return e(ue)},get timezoneName(){return e(T)}})},$$slots:{default:!0}})};Ze(U,j=>{r()&&j(ee)})}var x=s(U,2);Se(x,{id:"interval-panel",tabId:"interval-tab",children:(j,te)=>{Mr(j,{get days(){return b()},set days($){b($)},get hour(){return u()},set hour($){u($)},get minute(){return m()},set minute($){m($)},get second(){return h()},set second($){h($)},get phase(){return S()},set phase($){S($)},$$legacy:!0})},$$slots:{default:!0}});var _e=s(x,2);Se(_e,{id:"daily-panel",tabId:"daily-tab",children:(j,te)=>{Wr(j,{get timezoneName(){return L()},get daysOfWeek(){return a()},set daysOfWeek($){a($)},get hour(){return u()},set hour($){u($)},get minute(){return m()},set minute($){m($)},$$legacy:!0})},$$slots:{default:!0}});var Pe=s(_e,2);Se(Pe,{id:"monthly-panel",tabId:"monthly-tab",children:(j,te)=>{Pr(j,{get timezoneName(){return L()},get daysOfMonth(){return i()},set daysOfMonth($){i($)},get months(){return v()},set months($){v($)},get hour(){return u()},set hour($){u($)},get minute(){return m()},set minute($){m($)},$$legacy:!0})},$$slots:{default:!0}});var Te=s(Pe,2);Se(Te,{id:"string-panel",tabId:"string-tab",class:"flex w-full flex-col gap-4",children:(j,te)=>{var $=qr(),V=ye($),ue=_(V),T=_(ue,!0);f(ue);var W=s(ue,2),q=_(W,!0);f(W);var E=s(W,2);Xt(E,{inline:!0,language:"text",content:`┌───────────── minute (0 - 59) 
│ ┌───────────── hour (0 - 23)
│ │ ┌───────────── day of the month (1 - 31)
│ │ │ ┌───────────── month (1 - 12)
│ │ │ │ ┌───────────── day of the week (0 - 6) (Sunday to Saturday)
│ │ │ │ │
* * * * *`,copyable:!1}),f(V);var G=s(V,2),re=_(G),N=_(re,!0);f(re);var xe=s(re,2);const ve=o(()=>c("schedules.cron-view-title"));he(xe,{get label(){return e(ve)},labelHidden:!0,id:"cronString",placeholder:"* * * * *",get value(){return P()},set value(R){P(R)},$$legacy:!0}),f(G),D((R,fe,me)=>{C(T,R),C(q,fe),C(N,me)},[()=>c("schedules.cron-view-title"),()=>c("schedules.crow-view-example-description"),()=>c("schedules.cron-view-description")],o),k(j,$)},$$slots:{default:!0}}),f(Q);var ge=s(Q,2);pt(ge,t,"default",{get preset(){return e(l)}},null),D(j=>C(F,j),[()=>c("schedules.schedule-spec")],o),k(X,M)},$$slots:{default:!0}}),ne(),y()}var Dr=H('<div slot="action"><!></div>'),Er=H('<div class="flex flex-col gap-1"><!></div>');function Br(z,t){le(t,!1);const[n,y]=Qe(),w=()=>be(r(),"$encoding",n);let g=d(t,"input",12),l=d(t,"editInput",12),r=d(t,"encoding",12),a=d(t,"messageType",12),i=d(t,"payloads",8),v=d(t,"showEditActions",8,!1),b="",u="json/plain",m="",h=A(!0);const S=X=>{var de,M,J,F,K,Q,U;b=xr(X),g(b);const ee=mt(String((J=(M=(de=i()===null||i()===void 0?void 0:i().payloads[0])===null||de===void 0?void 0:de.metadata)===null||M===void 0?void 0:M.encoding)!==null&&J!==void 0?J:"json/plain")),x=!((K=(F=i()===null||i()===void 0?void 0:i().payloads[0])===null||F===void 0?void 0:F.metadata)===null||K===void 0)&&K.messageType?mt(String((U=(Q=i()===null||i()===void 0?void 0:i().payloads[0])===null||Q===void 0?void 0:Q.metadata)===null||U===void 0?void 0:U.messageType)):"";pr(ee)&&(Ee(r(),ee),u=w(),ee==="json/protobuf"&&x&&(a(x),m=x)),I(h,!1)},P=()=>{l()?(l(!1),g(b),Ee(r(),u),a(m)):(l(!0),g())};oe();var L=Er(),ie=_(L);br(ie,{get value(){return i()},key:"payloads",onDecode:S,children:(X,de)=>{gr(X,{get editing(){return l()},id:"schedule-payload-input",get input(){return g()},set input(M){g(M)},get encoding(){return r()},set encoding(M){r(M)},get messageType(){return a()},set messageType(M){a(M)},get loading(){return e(h)},set loading(M){I(h,M)},$$slots:{action:(M,J)=>{var F=Dr();let K;var Q=_(F);Ae(Q,{variant:"secondary",$$events:{click:P},children:(U,ee)=>{ae();var x=se();D(_e=>C(x,_e),[()=>l()?c("common.cancel"):c("common.edit")],o),k(U,x)},$$slots:{default:!0}}),f(F),D(U=>K=tr(F,1,"",null,K,U),[()=>({hidden:!v()})],o),k(M,F)}},$$legacy:!0})},$$slots:{default:!0}}),f(L),k(z,L),ne(),y()}var Fr=H("<!> <!>",1),Qr=H('<h2 class="mb-4 mt-12">Search Attributes</h2> <!> <div class="mt-4 flex w-full flex-wrap gap-6"><!> <!></div>',1);function Ur(z,t){le(t,!1);let n=d(t,"searchAttributesInput",28,()=>[]),y=d(t,"workflowSearchAttributesInput",28,()=>[]);oe(),xt(z,{children:(w,g)=>{var l=Qr(),r=s(ye(l),2);const a=o(()=>c("schedules.add-schedule-attr"));bt(r,{get label(){return e(a)},class:"flex flex-wrap gap-6",children:(u,m)=>{var h=Fr(),S=ye(h);Ie(S,{label:"Schedule",id:"schedule-tab","data-testid":"schedule-tab",panelId:"schedule-panel"});var P=s(S,2);Ie(P,{label:"Workflows",id:"workflows-tab","data-testid":"workflows-tab",panelId:"workflows-panel"}),k(u,h)},$$slots:{default:!0}});var i=s(r,2),v=_(i);Se(v,{id:"schedule-panel",tabId:"schedule-tab",class:"w-full","data-testid":"schedule-panel",children:(u,m)=>{ht(u,{class:"w-full",get attributesToAdd(){return n()},set attributesToAdd(h){n(h)},$$legacy:!0})},$$slots:{default:!0}});var b=s(v,2);Se(b,{id:"workflows-panel",tabId:"workflows-tab",class:"w-full","data-testid":"workflows-panel",children:(u,m)=>{ht(u,{class:"w-full",get attributesToAdd(){return y()},set attributesToAdd(h){y(h)},$$legacy:!0})},$$slots:{default:!0}}),f(i),k(w,l)},$$slots:{default:!0}}),ne()}var Kr=H('<!> <div class="mt-4 flex flex-row items-center gap-4 max-sm:flex-col"><!> <!></div>',1),Vr=H('<form class="mb-4 flex w-full flex-col gap-4"><!> <!> <!> <!> <!> <!> <!> <!></form>'),Jr=H("<!> <h1></h1> <!>",1),Gr=H('<div class="flex flex-col gap-4 pb-10"><!></div>');function Oa(z,t){le(t,!1);const[n,y]=Qe(),w=()=>be(_t,"$page",n),g=()=>be(fr,"$customSearchAttributes",n),l=()=>be(e(xe),"$encoding",n),r=()=>be(Ye,"$error",n),a=()=>be(vr,"$loading",n),i=A();var v,b,u,m,h,S,P,L,ie,X,de,M,J,F,K,Q,U,ee;let x=d(t,"schedule",8,null),_e=d(t,"searchAttributes",24,()=>({})),Pe=d(t,"onConfirm",8),Te=w().params.namespace,ge=w().params.schedule,j=c(x()?"schedules.edit":"schedules.create"),te=c(x()?"schedules.editing":"schedules.creating"),$=c(x()?"schedules.back-to-schedule":"schedules.back-to-schedules"),V=x()?mr({namespace:Te,scheduleId:ge}):hr({namespace:Te}),ue=x()?c("common.save"):c("schedules.create"),T=A({}),W=A(ge??""),q=A((m=(u=(b=(v=x()===null||x()===void 0?void 0:x().action)===null||v===void 0?void 0:v.startWorkflow)===null||b===void 0?void 0:b.workflowType)===null||u===void 0?void 0:u.name)!==null&&m!==void 0?m:""),E=A((P=(S=(h=x()===null||x()===void 0?void 0:x().action)===null||h===void 0?void 0:h.startWorkflow)===null||S===void 0?void 0:S.workflowId)!==null&&P!==void 0?P:""),G=A((de=(X=(ie=(L=x()===null||x()===void 0?void 0:x().action)===null||L===void 0?void 0:L.startWorkflow)===null||ie===void 0?void 0:ie.taskQueue)===null||X===void 0?void 0:X.name)!==null&&de!==void 0?de:""),re=A(""),N=A(!x()),xe=A(Gt("json/plain")),ve=A(""),R=A([]),fe=A([]),me=A([]),$e=A(""),Y=A(""),pe=A(""),B=A(""),ce=A(""),We=A(""),$t=(J=(M=x()===null||x()===void 0?void 0:x().spec)===null||M===void 0?void 0:M.timezoneName)!==null&&J!==void 0?J:"UTC";const Ue=ft({searchAttributes:_e()}),Ke=ft({searchAttributes:(Q=(K=(F=x()===null||x()===void 0?void 0:x().action)===null||F===void 0?void 0:F.startWorkflow)===null||K===void 0?void 0:K.searchAttributes)!==null&&Q!==void 0?Q:{}}),wt=(U=Ue==null?void 0:Ue.searchAttributes.indexedFields)!==null&&U!==void 0?U:{},kt=(ee=Ke==null?void 0:Ke.searchAttributes.indexedFields)!==null&&ee!==void 0?ee:{};let Ve=A(Object.entries(wt).map(([O,Z])=>({label:O,value:Z,type:g()[O]}))),Je=A(Object.entries(kt).map(([O,Z])=>({label:O,value:Z,type:g()[O]})));const It=(O,Z)=>{const we={name:e(W).trimEnd(),workflowType:e(q),workflowId:e(E),taskQueue:e(G),...e(N)&&{input:e(re)},encoding:l(),messageType:e(ve),hour:e(Y),minute:e(pe),second:e(B),phase:e(ce),cronString:e(We),daysOfWeek:e(R),daysOfMonth:e(fe),days:e($e),months:e(me),searchAttributes:e(Ve),workflowSearchAttributes:e(Je)};Pe()(O,we,Z)},qe=O=>{const{id:Z}=O.target;Ce(T,e(T)[Z]=!1),r()&&Ee(Ye,"")},je=O=>{const{value:Z,id:we}=O.target;Z.trim()?Ce(T,e(T)[we]=!1):Ce(T,e(T)[we]=!0)},St=O=>{if(!e(re))return Ce(T,e(T).input=!1),!0;try{return JSON.parse(O),Ce(T,e(T).input=!1),!0}catch{return Ce(T,e(T).input=!0),!1}};Jt(()=>Ee(Ye,"")),Me(()=>(e(W),e(q),e(E),e(G),e(re),e($e),e(Y),e(pe),e(B),e(R),e(fe),e(me),e(We)),()=>{I(i,O=>!e(W)||!e(q)||!e(E)||!e(G)||!St(e(re))?!0:O==="interval"?!e($e)&&!e(Y)&&!e(pe)&&!e(B):O==="week"?!e(R).length:O==="month"?!e(fe).length||!e(me).length:O==="string"?!e(We):!1)}),Le(),oe();var Ge=Gr(),At=_(Ge);{var Pt=O=>{cr(O,{title:te})},Tt=O=>{var Z=Jr(),we=ye(Z);ur(we,{href:V,icon:"chevron-left",children:(Re,Ct)=>{ae();var Oe=se();Oe.nodeValue=$,k(Re,Oe)},$$slots:{default:!0}});var et=s(we,2);et.textContent=j;var Ot=s(et,2);dr(Ot,{class:"w-full xl:w-3/4 2xl:w-1/2",children:(Re,Ct)=>{var Oe=Vr(),tt=_(Oe);const Wt=o(()=>c("schedules.name-label")),Nt=o(()=>!!ge);he(tt,{id:"name","data-testid":"schedule-name-input",get label(){return e(Wt)},get error(){return e(T).name},maxLength:232,get disabled(){return e(Nt)},required:!0,get value(){return e(W)},set value(p){I(W,p)},$$events:{input:qe,blur:je},$$legacy:!0});var rt=s(tt,2);const zt=o(()=>c("schedules.workflow-type-label"));he(rt,{id:"workflowType","data-testid":"schedule-type-input",get label(){return e(zt)},get error(){return e(T).workflowType},required:!0,get value(){return e(q)},set value(p){I(q,p)},$$events:{input:qe,blur:je},$$legacy:!0});var at=s(rt,2);const Mt=o(()=>c("schedules.workflow-id-label"));he(at,{id:"workflowId","data-testid":"schedule-workflow-id-input",get label(){return e(Mt)},get error(){return e(T).workflowId},required:!0,get value(){return e(E)},set value(p){I(E,p)},$$events:{input:qe,blur:je},$$legacy:!0});var st=s(at,2);const Lt=o(()=>c("schedules.task-queue-label"));he(st,{id:"taskQueue","data-testid":"schedule-task-queue-input",get label(){return e(Lt)},get error(){return e(T).taskQueue},required:!0,get value(){return e(G)},set value(p){I(G,p)},$$events:{input:qe,blur:je},$$legacy:!0});var lt=s(st,2);const qt=o(()=>{var p,He,Ne;return(Ne=(He=(p=x())==null?void 0:p.action)==null?void 0:He.startWorkflow)==null?void 0:Ne.input}),jt=o(()=>!!x());Br(lt,{get payloads(){return e(qt)},get showEditActions(){return e(jt)},get input(){return e(re)},set input(p){I(re,p)},get editInput(){return e(N)},set editInput(p){I(N,p)},get encoding(){return e(xe)},set encoding(p){Vt(I(xe,p),"$encoding",n)},get messageType(){return e(ve)},set messageType(p){I(ve,p)},$$legacy:!0});var nt=s(lt,2);Hr(nt,{get schedule(){return x()},timezoneName:$t,get daysOfWeek(){return e(R)},set daysOfWeek(p){I(R,p)},get daysOfMonth(){return e(fe)},set daysOfMonth(p){I(fe,p)},get months(){return e(me)},set months(p){I(me,p)},get days(){return e($e)},set days(p){I($e,p)},get hour(){return e(Y)},set hour(p){I(Y,p)},get minute(){return e(pe)},set minute(p){I(pe,p)},get second(){return e(B)},set second(p){I(B,p)},get phase(){return e(ce)},set phase(p){I(ce,p)},get cronString(){return e(We)},set cronString(p){I(We,p)},children:Kt,$$slots:{default:(p,He)=>{const Ne=o(()=>He.preset);var it=Kr(),dt=ye(it);Ur(dt,{get searchAttributesInput(){return e(Ve)},set searchAttributesInput(ke){I(Ve,ke)},get workflowSearchAttributesInput(){return e(Je)},set workflowSearchAttributesInput(ke){I(Je,ke)},$$legacy:!0});var ut=s(dt,2),ct=_(ut);const Et=o(()=>e(i)(e(Ne))||!_r());Ae(ct,{get disabled(){return e(Et)},class:"max-sm:w-full","data-testid":"create-schedule-button",$$events:{click:()=>It(e(Ne),x())},children:(ke,Ft)=>{ae();var ze=se();ze.nodeValue=ue,k(ke,ze)},$$slots:{default:!0}});var Bt=s(ct,2);Ae(Bt,{variant:"ghost",href:V,class:"max-sm:w-full","data-testid":"cancel-schedule-button",children:(ke,Ft)=>{ae();var ze=se();D(Qt=>C(ze,Qt),[()=>c("common.cancel")],o),k(ke,ze)},$$slots:{default:!0}}),f(ut),k(p,it)}},$$legacy:!0});var ot=s(nt,2);const Ht=o(()=>!r());ir(ot,{intent:"error",get title(){return r()},get hidden(){return e(Ht)}});var Dt=s(ot,2);Rt(Dt,{}),f(Oe),k(Re,Oe)},$$slots:{default:!0}}),k(O,Z)};Ze(At,O=>{a()?O(Pt):O(Tt,!1)})}f(Ge),k(z,Ge),ne(),y()}export{Oa as S};
