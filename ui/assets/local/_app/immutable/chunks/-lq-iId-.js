import{ab as m,V as k,ac as C,I as y,G as t,ad as V,ae as w,J as S,x as n,af as A}from"./B6CF0p-B.js";function x(e,v,c=v){var f=new WeakSet;m(e,"input",async l=>{var d=l?e.defaultValue:e.value;if(d=u(e)?b(d):d,c(d),k!==null&&f.add(k),await C(),d!==(d=v())){var r=e.selectionStart,s=e.selectionEnd,o=e.value.length;if(e.value=d??"",s!==null){var a=e.value.length;r===s&&s===o&&a>o?(e.selectionStart=a,e.selectionEnd=a):(e.selectionStart=r,e.selectionEnd=Math.min(s,a))}}}),(n&&e.defaultValue!==e.value||y(v)==null&&e.value)&&(c(u(e)?b(e.value):e.value),k!==null&&f.add(k)),t(()=>{var l=v();if(e===document.activeElement){var d=A??k;if(f.has(d))return}u(e)&&l===b(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}const _=new Set;function B(e,v,c,f,l=f){var d=c.getAttribute("type")==="checkbox",r=e;let s=!1;if(v!==null)for(var o of v)r=r[o]??(r[o]=[]);r.push(c),m(c,"change",()=>{var a=c.__value;d&&(a=i(r,a,c.checked)),l(a)},()=>l(d?[]:null)),t(()=>{var a=f();if(n&&c.defaultChecked!==c.checked){s=!0;return}d?(a=a||[],c.checked=a.includes(c.__value)):c.checked=V(c.__value,a)}),w(()=>{var a=r.indexOf(c);a!==-1&&r.splice(a,1)}),_.has(r)||(_.add(r),S(()=>{r.sort((a,h)=>a.compareDocumentPosition(h)===4?-1:1),_.delete(r)})),S(()=>{if(s){var a;if(d)a=i(r,a,c.checked);else{var h=r.find(E=>E.checked);a=h==null?void 0:h.__value}l(a)}})}function D(e,v,c=v){m(e,"change",f=>{var l=f?e.defaultChecked:e.checked;c(l)}),(n&&e.defaultChecked!==e.checked||y(v)==null)&&c(e.checked),t(()=>{var f=v();e.checked=!!f})}function i(e,v,c){for(var f=new Set,l=0;l<e.length;l+=1)e[l].checked&&f.add(e[l].__value);return c||f.delete(v),Array.from(f)}function u(e){var v=e.type;return v==="number"||v==="range"}function b(e){return e===""?null:+e}export{x as a,D as b,B as c};
