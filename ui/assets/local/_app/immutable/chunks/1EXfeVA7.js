import"./Bzak7iHL.js";import{p as Y,N as Z,u as f,b as $,t as b,f as ee,d as v,c,e as d,g,a7 as M,i as I,r as N,n as te,k as ae,j as re}from"./DGYx9ZL3.js";import{s as se}from"./DAS8iFM1.js";import{i as _}from"./Drn9BSZv.js";import{p as s,b as ne,s as oe,r as ie,a as T,c as z}from"./_1tBR0sn.js";import{B as le}from"./CNtE9IFW.js";import{B as ce}from"./g0fWikwo.js";import{I as de}from"./DxgYAz3f.js";import{M as ue,a as me}from"./B7dnF0Zn.js";import{t as A}from"./C4Tw_PiO.js";var fe=b('<div class="flex grow items-center"><!></div>'),ve=b('<div class="flex"><!></div>'),ge=b("<!> <!> <!> <!> <!>",1);function Ie(B,e){Y(e,!0);const[h,C]=oe(),u=()=>T(n,"$open",h),D=()=>T(K,"$menuElement",h),S=s(e,"class",3,""),p=s(e,"count",3,0),m=s(e,"disabled",3,!1),q=s(e,"hasIndicator",3,!1),F=s(e,"id",3,null),O=s(e,"label",3,null),P=s(e,"variant",3,"secondary"),U=s(e,"size",3,"md"),j=ie(e,["$$slots","$$events","$$legacy","controls","class","count","disabled","hasIndicator","id","label","variant","size","onclick","leading","trailing","children"]),{open:n,menuElement:K}=Z(ue),L=()=>{n.update(t=>{let o=t;return m()||(o=!t),e.onclick===null||e.onclick===void 0||e.onclick(o),o})},R=t=>{switch(t.key){case"Escape":z(n,!1);break;case"ArrowDown":t.preventDefault(),u()?X():z(n,!0);break}},X=()=>{const t=Array.from(D().querySelectorAll(me));t&&t[0]&&requestAnimationFrame(()=>t[0].focus())},G=f(()=>!m()),H=f(()=>A(S()));ce(B,ne({get id(){return F()},get disabled(){return m()},type:"button",get"aria-haspopup"(){return g(G)},get"aria-controls"(){return e.controls},get"aria-expanded"(){return u()},get"aria-label"(){return O()},get variant(){return P()},get class(){return g(H)},get size(){return U()},disableTracking:!0},()=>j,{$$events:{click:L,keydown:R},children:(t,o)=>{var x=ge(),k=ee(x);v(k,()=>e.leading??M);var y=c(k,2);{var J=a=>{var r=fe(),i=I(r);v(i,()=>e.children),N(r),d(a,r)};_(y,a=>{e.children&&a(J)})}var E=c(y,2);{var Q=a=>{var r=ve(),i=I(r);const l=f(()=>A("transition-transform",u()&&"rotate-180"));de(i,{name:"chevron-down",get class(){return g(l)}}),N(r),d(a,r)};_(E,a=>{q()&&a(Q)})}var w=c(E,2);v(w,()=>e.trailing??M);var V=c(w,2);{var W=a=>{le(a,{class:"absolute right-0 top-0 origin-bottom-left translate-x-[10px] translate-y-[-10px]",type:"count",children:(r,i)=>{te();var l=ae();re(()=>se(l,p())),d(r,l)},$$slots:{default:!0}})};_(V,a=>{p()>0&&a(W)})}d(t,x)},$$slots:{default:!0}})),$(),C()}export{Ie as M};
