import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as le,m as E,g as t,e as B,d as a,c as M,s as D,r as F,b as oe,l as ae,ah as me,a as pe,f as ie,n as J,t as j,aO as Te}from"./D8UcSMmc.js";import{s as Q}from"./B4GXZ307.js";import{e as be,i as ge}from"./DJjSvRty.js";import{t as G,a as _,c as Se,b as V}from"./rdEDzBsq.js";import{s as Ae}from"./tnS2Ewyr.js";import{i as ue}from"./BmZzLEH4.js";import{p as Y}from"./Cm4u_7Pd.js";import{a as re,s as fe}from"./BY2F4uAC.js";import{B as se}from"./CcN2XNOq.js";import{t as s}from"./D2OY9xdY.js";import{c as Ee,b as _e}from"./ol2dIV5J.js";import{S as f}from"./S6Q2Q0ub.js";import{i as X}from"./DlawjSvQ.js";import{N as De,C as Ce}from"./x0l9iSXx.js";import{I as ce}from"./DZn_s2z_.js";import{S as ve,O as te}from"./DnnedObJ.js";import{o as Ie}from"./Ctfij28z.js";import{D as ke,T as Oe}from"./xDzHbnVY.js";import{g as Ne}from"./BhpzIEt0.js";import{s as de}from"./qEOT7B5E.js";var Ue=G('<div class="flex flex-col gap-2"><!> <!></div>');function Re(H,i){le(i,!1);let n=Y(i,"value",12);const m=n()?new Date(n()):new Date,O=new Date(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate());let h=E(de(O)),o=E(n()?String(m.getUTCHours()):""),T=E(n()?String(m.getUTCMinutes()):""),e=E(n()?String(m.getUTCSeconds()):"");Ie(()=>{n()||U()});const N=y=>{D(h,de(y.detail)),U()},U=()=>{n(Ne({date:t(h),hour:t(o),minute:t(T),second:t(e)}))};ue();var c=Ue(),C=B(c);const K=a(()=>s("common.value")),I=a(()=>s("common.utc")),l=a(()=>s("common.today")),$=a(()=>s("common.close")),x=a(()=>s("common.clear-input-button-label"));ke(C,{get label(){return`${t(K)??""} (${t(I)??""})`},get selected(){return t(h)},get todayLabel(){return t(l)},get closeLabel(){return t($)},get clearLabel(){return t(x)},$$events:{datechange:N}});var k=M(C,2);Oe(k,{twelveHourClock:!1,get hour(){return t(o)},set hour(y){D(o,y)},get minute(){return t(T)},set minute(y){D(T,y)},get second(){return t(e)},set second(y){D(e,y)},$$events:{timechange:U},$$legacy:!0}),F(c),_(H,c),oe()}var Pe=G("<!> <!>",1),Le=G("<div><!></div>"),Be=G('<div class="flex flex-col gap-2 border-b border-subtle pb-4 sm:flex-row sm:gap-4"><div class="flex min-w-fit justify-between gap-2 sm:gap-4"><div class="grow [&amp;_button]:w-full"><!></div> <!></div> <!> <!></div>');function Me(H,i){le(i,!1);const[n,m]=fe(),O=()=>re(_e,"$customSearchAttributes",n),h=()=>re(Ee,"$customSearchAttributeOptions",n),o=E();let T=Y(i,"attributes",24,()=>[]),e=Y(i,"attribute",12),N=Y(i,"onRemove",8),c=E(e().label||void 0);const C=r=>O()[r],K=r=>{e(e().label=r,!0);const p=C(r);p===f.KEYWORDLIST?e(e().value=[],!0):e().type!==p&&e(e().value=null,!0),e(e().type=p,!0)};ae(()=>me(T()),()=>{D(o,r=>!!T().find(p=>p.label===r))}),pe(),ue();var I=Be(),l=B(I),$=B(l),x=B($);const k=a(()=>s("workflows.custom-search-attribute")),y=a(()=>s("workflows.select-attribute"));ve(x,{id:"search-attribute","data-testid":"search-attribute-select",get label(){return t(k)},get placeholder(){return t(y)},onChange:K,get value(){return t(c)},set value(r){D(c,r)},children:(r,p)=>{var S=Se(),q=ie(S);be(q,1,h,ge,(v,b,z,R)=>{let d=()=>t(b).value,u=()=>t(b).label,w=()=>t(b).type;const W=a(()=>t(o)(d()));te(v,{get disabled(){return t(W)},get value(){return d()},get description(){return w()},children:(g,P)=>{J();var A=V();j(()=>Q(A,u())),_(g,A)},$$slots:{default:!0}})}),_(r,S)},$$slots:{default:!0},$$legacy:!0}),F($);var he=M($,2);se(he,{variant:"ghost",leadingIcon:"close",class:"mt-6 w-10 rounded-full sm:hidden",$$events:{click:()=>N()(e().label)}}),F(l);var ne=M(l,2);{var $e=r=>{const p=a(()=>s("common.value"));ve(r,{get label(){return t(p)},id:"attribute-value",get value(){return e().value},set value(S){e(e().value=S,!0)},children:(S,q)=>{var v=Pe(),b=ie(v);te(b,{value:!0,children:(R,d)=>{J();var u=V();j(w=>Q(u,w),[()=>s("common.true")],a),_(R,u)},$$slots:{default:!0}});var z=M(b,2);te(z,{value:!1,children:(R,d)=>{J();var u=V();j(w=>Q(u,w),[()=>s("common.false")],a),_(R,u)},$$slots:{default:!0}}),_(S,v)},$$slots:{default:!0},$$legacy:!0})},xe=(r,p)=>{{var S=v=>{Re(v,{get value(){return e().value},set value(b){e(e().value=b,!0)},$$legacy:!0})},q=(v,b)=>{{var z=d=>{var u=Le(),w=B(u);const W=a(()=>s("common.value")),g=a(()=>e().value<Number.MAX_SAFE_INTEGER);De(w,{get label(){return t(W)},id:"attribute-value",get valid(){return t(g)},hintText:"Number is too large",max:Number.MAX_SAFE_INTEGER,get value(){return e().value},set value(P){e(e().value=P,!0)},$$legacy:!0}),F(u),_(d,u)},R=(d,u)=>{{var w=g=>{const P=a(()=>s("common.value"));Ce(g,{get label(){return t(P)},id:"attribute-value",class:"w-full",removeChipButtonLabel:A=>s("workflows.remove-keyword-label",{keyword:A}),get chips(){return e().value},set chips(A){e(e().value=A,!0)},$$legacy:!0})},W=(g,P)=>{{var A=L=>{const Z=a(()=>s("common.value"));ce(L,{get label(){return t(Z)},"data-testid":"custom-search-attribute-value",id:"attribute-value",class:"grow",get value(){return e().value},set value(ee){e(e().value=ee,!0)},$$legacy:!0})},we=L=>{const Z=a(()=>s("common.value")),ee=a(()=>s("workflows.unsupported-attribute"));ce(L,{get label(){return t(Z)},id:"attribute-value",class:"grow",get placeholder(){return t(ee)},error:!0,disabled:!0,value:""})};X(g,L=>{e().type===f.TEXT||e().type===f.KEYWORD||e().type===f.UNSPECIFIED?L(A):L(we,!1)},P)}};X(d,g=>{e().type===f.KEYWORDLIST?g(w):g(W,!1)},u)}};X(v,d=>{e().type===f.INT||e().type===f.DOUBLE?d(z):d(R,!1)},b)}};X(r,v=>{e().type===f.DATETIME?v(S):v(q,!1)},p)}};X(ne,r=>{e().type===f.BOOL?r($e):r(xe,!1)})}var ye=M(ne,2);se(ye,{variant:"ghost",leadingIcon:"close","data-testid":"search-attribute-close-button",class:"mt-6 w-10 rounded-full max-sm:hidden",$$events:{click:()=>N()(e().label)}}),F(I),_(H,I),oe(),m()}var Fe=G("<div><!> <!></div>");function it(H,i){le(i,!1);const[n,m]=fe(),O=()=>re(_e,"$customSearchAttributes",n),h=E(),o=E();let T=Y(i,"class",8,""),e=Y(i,"attributesToAdd",28,()=>[]);const N=()=>{e([...e(),{label:null,value:null,type:f.UNSPECIFIED}])},U=l=>{e(e().filter($=>$.label!==l))};ae(()=>O(),()=>{D(h,Object.keys(O()))}),ae(()=>me(e()),()=>{D(o,e())}),pe(),ue();var c=Fe(),C=B(c);be(C,1,()=>t(o),ge,(l,$,x)=>{Me(l,{get attributes(){return t(o)},onRemove:U,get attribute(){return t(o)[x]},set attribute(k){t(o)[x]=k,Te(()=>(t(o),e()))},$$legacy:!0})});var K=M(C,2);const I=a(()=>!t(h).length||t(o).length===t(h).length||t(o).filter(l=>l.value===""||l.value===null||Array.isArray(l.value)&&l.value.length===0).length>0);se(K,{variant:"ghost",leadingIcon:"add",class:"max-sm:w-full","data-testid":"add-search-attribute-button",get disabled(){return t(I)},$$events:{click:N},children:(l,$)=>{J();var x=V();j(k=>Q(x,k),[()=>s("workflows.add-search-attribute")],a),_(l,x)},$$slots:{default:!0}}),F(c),j(()=>Ae(c,1,`flex flex-col gap-4 ${T()??""}`)),_(H,c),oe(),m()}export{it as A};
