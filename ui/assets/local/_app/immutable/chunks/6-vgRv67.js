import"./CWj6FrbW.js";import{p as W,K as Y,b as Z,f as b,c as $,d as f,h as c,e as d,g as v,u as g,a9 as M,j as I,r as T,n as ee,k as te,t as ae}from"./CckrFwdx.js";import{s as re}from"./_IQD3yTx.js";import{i as _}from"./CoMawi-e.js";import{p as s,b as se,s as ne,r as oe,a as z,c as A}from"./BioCYJcK.js";import{B as ie}from"./DlLJhG5Q.js";import{B as le}from"./BFbzFQGe.js";import{I as ce}from"./POwFeHBs.js";import{M as de,a as ue}from"./Dckb0ZoO.js";import{t as B}from"./ebNgFJjp.js";var me=b('<div class="flex grow items-center"><!></div>'),fe=b('<div class="flex"><!></div>'),ve=b("<!> <!> <!> <!> <!>",1);function Ie(C,e){W(e,!0);const u=()=>z(o,"$open",h),N=()=>z(j,"$menuElement",h),[h,D]=ne(),S=s(e,"class",3,""),k=s(e,"count",3,0),m=s(e,"disabled",3,!1),q=s(e,"hasIndicator",3,!1),F=s(e,"id",3,null),K=s(e,"label",3,null),O=s(e,"variant",3,"secondary"),P=s(e,"size",3,"md"),U=oe(e,["$$slots","$$events","$$legacy","controls","class","count","disabled","hasIndicator","id","label","variant","size","onclick","leading","trailing","children"]),{open:o,menuElement:j}=Y(de),L=()=>{o.update(t=>{let n=t;return m()||(n=!t),e.onclick===null||e.onclick===void 0||e.onclick(n),n})},R=t=>{switch(t.key){case"Escape":A(o,!1);break;case"ArrowDown":t.preventDefault(),u()?X():A(o,!0);break}},X=()=>{const t=Array.from(N().querySelectorAll(ue));t&&t[0]&&requestAnimationFrame(()=>t[0].focus())};{let t=g(()=>!m()),n=g(()=>B(S()));le(C,se({get id(){return F()},get disabled(){return m()},type:"button",get"aria-haspopup"(){return v(t)},get"aria-controls"(){return e.controls},get"aria-expanded"(){return u()},get"aria-label"(){return K()},get variant(){return O()},get class(){return v(n)},get size(){return P()},disableTracking:!0},()=>U,{$$events:{click:L,keydown:R},children:(G,ge)=>{var p=ve(),x=$(p);f(x,()=>e.leading??M);var y=c(x,2);{var H=a=>{var r=me(),i=I(r);f(i,()=>e.children),T(r),d(a,r)};_(y,a=>{e.children&&a(H)})}var E=c(y,2);{var J=a=>{var r=fe(),i=I(r);{let l=g(()=>B("transition-transform",u()&&"rotate-180"));ce(i,{name:"chevron-down",get class(){return v(l)}})}T(r),d(a,r)};_(E,a=>{q()&&a(J)})}var w=c(E,2);f(w,()=>e.trailing??M);var Q=c(w,2);{var V=a=>{ie(a,{class:"absolute right-0 top-0 origin-bottom-left translate-x-[10px] translate-y-[-10px]",type:"count",children:(r,i)=>{ee();var l=te();ae(()=>re(l,k())),d(r,l)},$$slots:{default:!0}})};_(Q,a=>{k()>0&&a(V)})}d(G,p)},$$slots:{default:!0}}))}Z(),D()}export{Ie as M};
