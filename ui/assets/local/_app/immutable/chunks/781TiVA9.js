import"./CWj6FrbW.js";import{p as Oe,az as a,t as j,h as n,n as ue,k as ne,i as I,d as l,c as s,r,A as Q,g as e,b as Ve,e as Ne,f as oe,j as re,l as Ie,s as de,m as we,ac as Ee,a as gt,o as Ut,aE as mt,aC as Dt,Y as pa}from"./CtXwlho8.js";import{s as y,d as xa,e as Rt}from"./BXc8M6y4.js";import{i as m}from"./yjFgoZ2z.js";import{e as We,i as yt}from"./DN_bdWMP.js";import{c as zt,s as st,a as ft}from"./CiDpyPci.js";import{l as it,p as J,s as _t}from"./DdhuX4yd.js";import{s as ct,a as Ae}from"./CI9zuxJp.js";import{o as ga}from"./BBGlwGsK.js";import{p as ze}from"./Z2tDCb64.js";import{B as Ge}from"./Dvm4Bl2G.js";import{C as Ke}from"./CWxlC1s-.js";import{I as Wt}from"./Cey4-U3a.js";import{L as Qe}from"./AIwNqFoL.js";import{T as pt}from"./DHeHXQSq.js";import{t as v}from"./D2OY9xdY.js";import{i as Z,e as ya,a as ha,b as wa}from"./BR92VJvC.js";import{i as ka}from"./Z7PyaVce.js";import{a as ba}from"./Ip-blrGX.js";import{f as He,r as ht,t as wt}from"./cq7hwzrg.js";import{c as Ta,d as Ia}from"./CbuO6hwR.js";import{a as Ea,b as Aa,g as Pa}from"./CUQqMMO5.js";import{b as Sa,f as Fa,d as nt,s as Ca,c as La,e as Ma,h as ja,j as Da}from"./GrqpJ_m0.js";import{g as Le,v as Ra}from"./DPZf26_M.js";import{s as Gt,f as lt}from"./ByTIZu23.js";import{t as Kt,f as Qt,P as Ha}from"./BfELPPg1.js";import{l as Ht}from"./CeMbHz9m.js";import{c as Nt,i as Na,j as Oa,a as Va,b as Ot}from"./yGVhH9us.js";import{s as qa}from"./CHkfRj1l.js";import{C as Me}from"./C1kx_LEb.js";import{o as Ba}from"./C8ejR22J.js";import{s as Vt}from"./byHaz_JD.js";import{g as Yt}from"./B-9ffxAQ.js";import"./69_IOA4Y.js";import{i as kt}from"./D4D3ThYu.js";import{p as Ua}from"./JbyttEuE.js";import"./BLjkLUx2.js";import"./BiMlMv8r.js";import{M as Jt}from"./68Px9HpZ.js";import{P as ot}from"./Bz4Ikx5n.js";import{t as xt}from"./Ds6tgvmq.js";const qt=async(E,t)=>{var P,k,p,f,d,x,M,D,S,T,F;if(!("eventType"in E)||!Le(E))return;const{namespace:i,settings:u,accessToken:_}=t,h={...u,codec:{...u==null?void 0:u.codec,endpoint:Pa(u),passAccessToken:Aa(u),includeCredentials:Ea(u)}};try{const R=await Ta(E.attributes,i,h,_),g=((p=(k=(P=E.markerRecordedEventAttributes)==null?void 0:P.details)==null?void 0:k.data)==null?void 0:p.payloads)||((x=(d=(f=E.markerRecordedEventAttributes)==null?void 0:f.details)==null?void 0:d.type)==null?void 0:x.payloads)||[];if(!(g!=null&&g.length))return;const A=Ia(R),O=(F=((D=(M=A==null?void 0:A.details)==null?void 0:M.data)==null?void 0:D.payloads)||((T=(S=A==null?void 0:A.details)==null?void 0:S.type)==null?void 0:T.payloads))==null?void 0:F[0],U=Sa(O);if(U)return Fa("ActivityType",U)}catch(R){console.error("Failed to decode local activity type:",R)}},yn=E=>{if("eventList"in E)return E.eventList.find(Le);if(Le(E))return E},Te=(E,t=Q,i=Q)=>{var u=Wa(),_=n(u),h=n(_,!0);r(_);var P=s(_,2),k=n(P);{var p=d=>{var x=ne();I(()=>y(x,i())),l(d,x)},f=d=>{var x=Ne(),M=oe(x);qa(M,()=>i()??Q),l(d,x)};m(k,d=>{typeof i()=="string"||typeof i()=="number"?d(p):d(f,!1)})}r(P),r(u),I(()=>y(h,t())),l(E,u)};var za=j('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="flex w-full items-center gap-1 whitespace-pre-line"> <strong> </strong></p></div>'),Wa=j('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="w-full whitespace-pre-line"><!></p></div>'),Ga=j("<!> ",1),Ka=j('<p class="text-sm text-secondary/80"> </p> <!>',1),Qa=j('<p class="text-sm text-secondary/80"> </p> <!>',1),Ya=j('<div class="flex flex-col gap-2"><div class="flex flex-1 flex-col"><!></div> <div class="flex flex-1 flex-col"><!></div></div>'),Ja=j('<div class="flex flex-1 flex-col"><p class="text-sm text-secondary/80"> </p> <!></div>'),Xa=j('<div class="flex flex-1 flex-col"><p class="text-sm text-secondary/80"> </p> <!></div>'),Za=j('<div class="surface-primary flex flex-1 cursor-default flex-col gap-2 border-b border-subtle p-4"><div class="flex-1"><div class="flex flex-wrap items-center space-x-3"><!> <h4> </h4></div></div> <div class="flex flex-1 flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col gap-1 xl:w-1/2"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 md:flex-1 xl:w-1/2"><!> <!> <!></div></div></div>');function $a(E,t){Oe(t,!0);const[i,u]=ct(),_=()=>Ae(wt,"$timeFormat",i),h=()=>Ae(ht,"$relativeTime",i),P=(o,w=Q)=>{var H=za(),se=n(H),$=n(se,!0);r(se);var q=s(se,2),le=n(q),pe=s(le),ce=n(pe);r(pe),r(q),r(H),I((ie,ge)=>{y($,ie),y(le,`${ge??""} `),y(ce,`(${w()??""})`)},[()=>v("workflows.next-retry"),()=>He(t.operation.nextAttemptScheduleTime,_(),{relative:h(),relativeLabel:""})]),l(o,H)},k=o=>{const w=a(()=>e(f)?"danger":"default");Ge(o,{class:"mr-1",get type(){return e(w)},children:(H,se)=>{var $=Ga(),q=oe($);const le=a(()=>e(f)&&"font-bold text-red-400");Wt(q,{get class(){return`mr-1 ${e(le)??""}`},name:"retry"});var pe=s(q);I(()=>y(pe,` ${t.operation.attempt??0}`)),l(H,$)},$$slots:{default:!0}})},p=o=>{var w=Ya(),H=n(w),se=n(H);{var $=ce=>{var ie=Ka(),ge=oe(ie),Je=n(ge,!0);r(ge);var Xe=s(ge,2);const Re=a(()=>Vt(Ba(t.operation.lastAttemptFailure,"stackTrace"))),Ze=a(()=>v("common.copy-icon-title")),$e=a(()=>v("common.copy-success-icon-title"));Me(Xe,{get content(){return e(Re)},maxHeight:384,get copyIconTitle(){return e(Ze)},get copySuccessIconTitle(){return e($e)}}),I(vt=>y(Je,vt),[()=>v("workflows.last-failure")]),l(ce,ie)};m(se,ce=>{t.operation.lastAttemptFailure&&ce($)})}r(H);var q=s(H,2),le=n(q);{var pe=ce=>{var ie=Qa(),ge=oe(ie),Je=n(ge,!0);r(ge);var Xe=s(ge,2);const Re=a(()=>v("common.copy-icon-title")),Ze=a(()=>v("common.copy-success-icon-title"));Me(Xe,{language:"text",maxHeight:384,get content(){return t.operation.lastAttemptFailure.stackTrace},get copyIconTitle(){return e(Re)},get copySuccessIconTitle(){return e(Ze)}}),I($e=>y(Je,$e),[()=>v("common.stack-trace")]),l(ce,ie)};m(le,ce=>{var ie;(ie=t.operation.lastAttemptFailure)!=null&&ie.stackTrace&&ce(pe)})}r(q),r(w),l(o,w)},f=a(()=>t.operation.attempt>1);var d=Za(),x=n(d),M=n(x),D=n(M);Ge(D,{children:(o,w)=>{ue();var H=ne();I(()=>y(H,t.operation.state)),l(o,H)},$$slots:{default:!0}});var S=s(D,2),T=n(S,!0);r(S),r(M),r(x);var F=s(x,2),R=n(F),g=n(R);{var A=o=>{var w=re(()=>v("nexus.endpoint"));Te(o,()=>e(w),()=>t.operation.endpoint)};m(g,o=>{t.operation.endpoint&&o(A)})}var O=s(g,2);{var U=o=>{var w=re(()=>v("nexus.service"));Te(o,()=>e(w),()=>t.operation.service)};m(O,o=>{t.operation.service&&o(U)})}var W=s(O,2);{var Y=o=>{var w=re(()=>v("nexus.operation"));Te(o,()=>e(w),()=>t.operation.operation)};m(W,o=>{t.operation.operation&&o(Y)})}var K=s(W,2);{var X=o=>{var w=re(()=>v("nexus.operation-token"));Te(o,()=>e(w),()=>t.operation.operationToken)};m(K,o=>{t.operation.operationToken&&o(X)})}var me=s(K,2),je=re(()=>v("workflows.attempt"));Te(me,()=>e(je),()=>k);var fe=s(me,2);{var B=o=>{var w=Ne();const H=a(()=>Kt({date:t.operation.nextAttemptScheduleTime,negativeDefault:""}));var se=oe(w);{var $=q=>{P(q,()=>e(H))};m(se,q=>{e(H)&&q($)})}l(o,w)};m(fe,o=>{t.operation.nextAttemptScheduleTime&&o(B)})}var ye=s(fe,2);{var Pe=o=>{var w=re(()=>v("workflows.last-attempt-completed-time")),H=re(()=>He(t.operation.lastAttemptCompleteTime,_(),{relative:h()}));Te(o,()=>e(w),()=>e(H))};m(ye,o=>{t.operation.lastAttemptCompleteTime&&o(Pe)})}var qe=s(ye,2);{var Ye=o=>{var w=re(()=>v("workflows.schedule-event-id"));Te(o,()=>e(w),()=>t.operation.scheduledEventId)};m(qe,o=>{t.operation.scheduledEventId&&o(Ye)})}var b=s(qe,2);{var C=o=>{var w=re(()=>v("workflows.scheduled-time")),H=re(()=>He(t.operation.scheduledTime,_(),{relative:h(),relativeStrict:!0}));Te(o,()=>e(w),()=>e(H))};m(b,o=>{t.operation.scheduledTime&&o(C)})}var V=s(b,2);{var z=o=>{var w=re(()=>v("workflows.schedule-to-close-timeout"));Te(o,()=>e(w),()=>t.operation.scheduleToCloseTimeout)};m(V,o=>{t.operation.scheduleToCloseTimeout&&o(z)})}r(R);var G=s(R,2),xe=n(G);{var _e=o=>{p(o)};m(xe,o=>{e(f)&&o(_e)})}var ke=s(xe,2);{var De=o=>{var w=Ja(),H=n(w),se=n(H,!0);r(H);var $=s(H,2);const q=a(()=>v("common.copy-icon-title")),le=a(()=>v("common.copy-success-icon-title"));Me($,{language:"text",get content(){return t.operation.blockedReason},get copyIconTitle(){return e(q)},get copySuccessIconTitle(){return e(le)}}),r(w),I(pe=>y(se,pe),[()=>v("nexus.blocked-reason")]),l(o,w)};m(ke,o=>{t.operation.blockedReason&&o(De)})}var Se=s(ke,2);{var Fe=o=>{var w=Xa(),H=n(w),se=n(H,!0);r(H);var $=s(H,2);const q=a(()=>Vt(t.operation.cancellationInfo)),le=a(()=>v("common.copy-icon-title")),pe=a(()=>v("common.copy-success-icon-title"));Me($,{language:"text",get content(){return e(q)},get copyIconTitle(){return e(le)},get copySuccessIconTitle(){return e(pe)}}),r(w),I(ce=>y(se,ce),[()=>v("nexus.cancellation-info")]),l(o,w)};m(Se,o=>{Object.keys(t.operation.cancellationInfo??{}).length>0&&o(Fe)})}r(G),r(F),r(d),I(o=>y(T,o),[()=>v("workflows.pending-nexus-operation")]),l(E,d),Ve(),u()}function Xt(E,t){const i=it(t,["children","$$slots","$$events","$$legacy"]),u=it(i,["value","attributes","type"]);Oe(t,!1);const[_,h]=ct(),P=()=>Ae(Ua,"$page",_),k=we(),p=we(),f=we(),d=we(),x=we(),M=we(),D=we(),S=we();let T=J(t,"value",8),F=J(t,"attributes",8),R=J(t,"type",8);Ie(()=>(e(k),e(p),P()),()=>{(g=>(de(k,g.workflow),de(p,g.namespace)))(P().params)}),Ie(()=>(e(p),e(k),Ee(T())),()=>{de(f,Nt({namespace:e(p),workflow:e(k),run:T()}))}),Ie(()=>(e(p),Ee(T())),()=>{de(d,Na({namespace:e(p),queue:T()}))}),Ie(()=>(e(p),Ee(F())),()=>{de(x,Nt({namespace:e(p),workflow:F().workflowExecutionWorkflowId,run:F().workflowExecutionRunId}))}),Ie(()=>Ee(T()),()=>{de(M,Oa(T()))}),Ie(()=>(e(f),e(d),e(x),e(M)),()=>{de(D,{execution:e(f),"task-queue":e(d),"child-workflow":e(x),"nexus-endpoint":e(M)})}),Ie(()=>(e(D),Ee(R())),()=>{de(S,e(D)[R()])}),gt(),kt(),Qe(E,{get class(){return u.class},get href(){return e(S)},children:(g,A)=>{ue();var O=ne();I(()=>y(O,T())),l(g,O)},$$slots:{default:!0}}),Ve(),h()}const er=(E,t=Q)=>{var i=or();const u=a(()=>Yt(t())),_=a(()=>{var d;return((d=e(u).split("workflows/"))==null?void 0:d[1])||e(u)});var h=n(i),P=n(h,!0);r(h);var k=s(h,2);const p=a(()=>v("common.copy-icon-title")),f=a(()=>v("common.copy-success-icon-title"));Ke(k,{get copyIconTitle(){return e(p)},get copySuccessIconTitle(){return e(f)},get content(){return e(_)},children:(d,x)=>{Qe(d,{get href(){return e(u)},class:"whitespace-pre-line",children:(M,D)=>{ue();var S=ne();I(()=>y(S,e(_))),l(M,S)},$$slots:{default:!0}})},$$slots:{default:!0}}),r(i),I(d=>y(P,d),[()=>v("nexus.link")]),l(E,i)},tr=(E,t=Q)=>{var i=sr();const u=a(()=>Va({namespace:t().workflowEvent.namespace}));var _=n(i),h=n(_,!0);r(_);var P=s(_,2);const k=a(()=>v("common.copy-icon-title")),p=a(()=>v("common.copy-success-icon-title"));Ke(P,{get copyIconTitle(){return e(k)},get copySuccessIconTitle(){return e(p)},get content(){return t().workflowEvent.namespace},children:(f,d)=>{Qe(f,{get href(){return e(u)},class:"whitespace-pre-line",children:(x,M)=>{ue();var D=ne();I(()=>y(D,t().workflowEvent.namespace)),l(x,D)},$$slots:{default:!0}})},$$slots:{default:!0}}),r(i),I(f=>y(h,f),[()=>v("nexus.link-namespace")]),l(E,i)},ar=(E,t=Q)=>{var i=Ne(),u=oe(i);We(u,17,t,yt,(_,h,P,k)=>{var p=ir(),f=oe(p);er(f,()=>e(h));var d=s(f,2);tr(d,()=>e(h)),l(_,p)}),l(E,i)},rr=(E,t=Q)=>{var i=lr(),u=s(n(i),2),_=n(u);const h=a(()=>v("events.decode-failed"));Jt(_,{get value(){return t()},get fallback(){return e(h)},children:Ut,$$slots:{default:(P,k)=>{const p=a(()=>k.decodedValue);ue();var f=ne();I(()=>y(f,e(p))),l(P,f)}}}),r(u),r(i),l(E,i)},nr=(E,t=Q,i=Q)=>{var u=vr();const _=a(()=>La(i())),h=a(()=>Ma(e(_)));var P=oe(u),k=n(P),p=n(k,!0);r(k);var f=s(k,2);{var d=S=>{ot(S,{get value(){return i()},key:"payloads",children:(F,R=Q)=>{const g=a(()=>v("common.copy-icon-title")),A=a(()=>v("common.copy-success-icon-title"));Me(F,{get content(){return R()},maxHeight:384,get copyIconTitle(){return e(g)},get copySuccessIconTitle(){return e(A)}})},$$slots:{default:!0}})},x=(S,T)=>{{var F=g=>{const A=a(()=>({searchAttributes:e(_)}));ot(g,{key:"searchAttributes",get value(){return e(A)},children:(U,W=Q)=>{const Y=a(()=>v("common.copy-icon-title")),K=a(()=>v("common.copy-success-icon-title"));Me(U,{get content(){return W()},maxHeight:384,get copyIconTitle(){return e(Y)},get copySuccessIconTitle(){return e(K)}})},$$slots:{default:!0}})},R=g=>{ot(g,{get value(){return e(_)},children:(O,U=Q)=>{const W=a(()=>v("common.copy-icon-title")),Y=a(()=>v("common.copy-success-icon-title"));Me(O,{get content(){return U()},maxHeight:384,get copyIconTitle(){return e(W)},get copySuccessIconTitle(){return e(Y)}})},$$slots:{default:!0}})};m(S,g=>{t()==="searchAttributes"?g(F):g(R,!1)},T)}};m(f,S=>{var T;(T=i())!=null&&T.payloads?S(d):S(x,!1)})}r(P);var M=s(P,2);{var D=S=>{var T=cr(),F=n(T),R=n(F,!0);r(F);var g=s(F,2);const A=a(()=>v("common.copy-icon-title")),O=a(()=>v("common.copy-success-icon-title"));Me(g,{get content(){return e(h)},language:"text",maxHeight:384,get copyIconTitle(){return e(A)},get copySuccessIconTitle(){return e(O)}}),r(T),I(U=>y(R,U),[()=>v("workflows.call-stack-tab")]),l(S,T)};m(M,S=>{e(h)&&S(D)})}I(S=>y(p,S),[()=>lt(t())]),l(E,u)};var or=j('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),sr=j('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),ir=j("<!> <!>",1),lr=j('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80">Summary</p> <p class="whitespace-pre-line"><!></p></div>'),cr=j('<div><p class="mb-1 min-w-56 text-sm text-secondary/80"> </p> <!></div>'),vr=j('<div><p class="mb-1 min-w-56 text-sm text-secondary/80"> </p> <!></div> <!>',1),dr=j('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),ur=j('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="whitespace-pre-line break-all"> </p></div>'),mr=j('<div class="flex w-full flex-col gap-1 xl:w-1/2"></div>'),fr=j('<div class="surface-primary flex flex-1 cursor-default flex-col gap-2 border-b border-subtle p-4"><div class="flex flex-wrap items-center justify-between gap-2"><div class="flex items-center gap-2 text-base"><p class="font-mono"> </p> <p class="font-medium"> </p></div> <p class="text-sm"> </p></div> <div class="flex flex-col gap-1 xl:flex-row"><div class="flex w-full flex-col gap-1 xl:w-1/2"><!> <!> <!> <!></div> <!></div></div>');function Bt(E,t){Oe(t,!0);const[i,u]=ct(),_=()=>Ae(wt,"$timeFormat",i),h=()=>Ae(ht,"$relativeTime",i),P=(b,C=Q,V=Q)=>{var z=dr(),G=n(z),xe=n(G,!0);r(G);var _e=s(G,2);const ke=a(()=>v("common.copy-icon-title")),De=a(()=>v("common.copy-success-icon-title")),Se=a(()=>String(V()));Ke(_e,{get copyIconTitle(){return e(ke)},get copySuccessIconTitle(){return e(De)},get content(){return e(Se)},children:(Fe,o)=>{const w=a(()=>String(V())),H=a(()=>nt(C(),e(f)));Xt(Fe,{get value(){return e(w)},get attributes(){return e(f)},get type(){return e(H)},class:"whitespace-pre-line"})},$$slots:{default:!0}}),r(z),I(Fe=>y(xe,Fe),[()=>lt(C())]),l(b,z)},k=(b,C=Q,V=Q)=>{var z=ur(),G=n(z),xe=n(G,!0);r(G);var _e=s(G,2),ke=n(_e,!0);r(_e),r(z),I((De,Se)=>{y(xe,De),y(ke,Se)},[()=>lt(C()),()=>Ca(C())?He(V(),_()):V()]),l(b,z)},p=a(()=>Le(t.event)?v("events.category.local-activity"):Gt(t.event.name)),f=a(()=>Qt(t.event)),d=a(()=>Object.entries(e(f))),x=a(()=>e(d).filter(([b,C])=>typeof C=="object"&&Object.keys(C).length>0)),M=a(()=>e(d).filter(([b,C])=>nt(b,e(f))!=="none")),D=a(()=>t.event.category==="activity"?["scheduledEventId","startedEventId","namespaceId"]:t.event.category==="child-workflow"?["initiatedEventId","startedEventId","namespaceId"]:["namespaceId"]),S=a(()=>e(d).filter(([b,C])=>typeof C!="object"&&nt(b,e(f))==="none"&&!e(D).includes(b)&&(b!=="namespace"||b==="namespace"&&ze.params.namespace!==C)));var T=fr(),F=n(T),R=n(F),g=n(R),A=n(g,!0);r(g);var O=s(g,2),U=n(O,!0);r(O),r(R);var W=s(R,2),Y=n(W,!0);r(W),r(F);var K=s(F,2),X=n(K),me=n(X);{var je=b=>{ar(b,()=>t.event.links)};m(me,b=>{var C,V;(V=(C=t.event)==null?void 0:C.links)!=null&&V.length&&b(je)})}var fe=s(me,2);{var B=b=>{rr(b,()=>t.event.userMetadata.summary)};m(fe,b=>{var C,V;(V=(C=t.event)==null?void 0:C.userMetadata)!=null&&V.summary&&b(B)})}var ye=s(fe,2);We(ye,17,()=>e(S),([b,C])=>b,(b,C)=>{k(b,()=>e(C)[0],()=>e(C)[1])});var Pe=s(ye,2);We(Pe,17,()=>e(M),([b,C])=>b,(b,C)=>{P(b,()=>e(C)[0],()=>e(C)[1])}),r(X);var qe=s(X,2);{var Ye=b=>{var C=mr();We(C,21,()=>e(x),([V,z])=>V,(V,z)=>{nr(V,()=>e(z)[0],()=>e(z)[1])}),r(C),l(b,C)};m(qe,b=>{e(x).length&&b(Ye)})}r(K),r(T),I(b=>{y(A,t.event.id),y(U,e(p)),y(Y,b)},[()=>He(t.event.eventTime,_(),{relative:h()})]),l(E,T),Ve(),u()}var _r=j('<div class="flex flex-col overflow-hidden"><!> <!></div>');function pr(E,t){Oe(t,!0);let i=J(t,"group",3,void 0),u=J(t,"event",3,void 0);const _=a(()=>(i()===null||i()===void 0?void 0:i().pendingActivity)||(i()===null||i()===void 0?void 0:i().pendingNexusOperation)),h=a(()=>i()&&(i().eventList.length>1||e(_)));var P=Ne(),k=oe(P);{var p=d=>{var x=_r(),M=n(x);{var D=F=>{Ha(F,{get activity(){return i().pendingActivity}})},S=(F,R)=>{{var g=A=>{$a(A,{get operation(){return i().pendingNexusOperation}})};m(F,A=>{var O;(O=i())!=null&&O.pendingNexusOperation&&A(g)},R)}};m(M,F=>{var R;(R=i())!=null&&R.pendingActivity?F(D):F(S,!1)})}var T=s(M,2);We(T,17,()=>i().eventList,yt,(F,R)=>{Bt(F,{get event(){return e(R)}})}),r(x),l(d,x)},f=(d,x)=>{{var M=D=>{Bt(D,{get event(){return u()}})};m(d,D=>{u()&&D(M)},x)}};m(k,d=>{e(h)?d(p):d(f,!1)})}l(E,P),Ve()}var xr=j('<p class="whitespace-nowrap text-right text-xs"> </p>'),gr=j('<div><code class="svelte-1qb2863"><pre class="truncate svelte-1qb2863"> </pre></code></div>'),yr=j('<div class="flex max-w-sm items-center justify-between gap-2 overflow-hidden pr-1 xl:flex-nowrap"><!></div>'),hr=j('<div class="flex max-w-xl items-center gap-2 first:pt-0 last:border-b-0 md:w-auto"><!> <!></div>');function rt(E,t){const i=it(t,["children","$$slots","$$events","$$legacy"]);Oe(t,!1);const u=we();let _=J(t,"key",8),h=J(t,"value",8),P=J(t,"attributes",8),k=J(t,"showKey",8,!0);Ie(()=>(Ee(_()),Ee(P())),()=>{de(u,nt(_(),P()))}),gt(),kt();var p=Ne(),f=oe(p);{var d=x=>{var M=hr(),D=n(M);{var S=g=>{var A=xr(),O=n(A,!0);r(A),I(U=>y(O,U),[()=>lt(_())],re),l(g,A)};m(D,g=>{k()&&g(S)})}var T=s(D,2);{var F=g=>{var A=yr(),O=n(A);ot(O,{get value(){return h()},key:"payloads",children:(W,Y=Q)=>{var K=gr(),X=n(K),me=n(X),je=n(me,!0);r(me),r(X),r(K),I((fe,B)=>{st(K,1,fe,"svelte-1qb2863"),y(je,B)},[()=>zt(xt("payload",i.class)),()=>Y().slice(0,60)],re),l(W,K)},$$slots:{default:!0}}),r(A),l(g,A)},R=(g,A)=>{{var O=W=>{const Y=re(()=>v("common.copy-icon-title")),K=re(()=>v("common.copy-success-icon-title"));Ke(W,{get copyIconTitle(){return e(Y)},get copySuccessIconTitle(){return e(K)},get content(){return h()},"container-class":"truncate",children:(X,me)=>{Xt(X,{get value(){return h()},get attributes(){return P()},get type(){return e(u)},class:"truncate"})},$$slots:{default:!0}})},U=W=>{Ge(W,{type:"subtle",class:"block select-none truncate",children:(Y,K)=>{ue();var X=ne();I(()=>y(X,h())),l(Y,X)},$$slots:{default:!0}})};m(g,W=>{e(u)!=="none"?W(O):W(U,!1)},A)}};m(T,g=>{typeof h()=="object"?g(F):g(R,!1)})}r(M),l(x,M)};m(f,x=>{_()&&x(d)})}l(E,p),Ve()}var wr=j('<div><p class="max-w-fit whitespace-nowrap text-right text-sm"> </p> <div><!></div></div>');function kr(E,t){const i=it(t,["children","$$slots","$$events","$$legacy"]);Oe(t,!1);var u=we();let _=J(t,"link",8),h=J(t,"value",28,()=>_().workflowEvent.workflowId),P=J(t,"label",24,()=>v("nexus.link")),k=J(t,"href",12,void 0);Ie(()=>(Ee(k()),Ee(_()),mt(u)),()=>{k()||(k(Yt(_())),h((de(u,k().split("workflows/"))===null||mt(u)===void 0?void 0:mt(u)[1])||k()))}),gt(),kt();var p=wr(),f=n(p),d=n(f,!0);r(f);var x=s(f,2),M=n(x);Qe(M,{get href(){return k()},children:(D,S)=>{ue();var T=ne();I(()=>y(T,h())),l(D,T)},$$slots:{default:!0}}),r(x),r(p),I(()=>{st(p,1,`flex flex-row items-center gap-2 overflow-hidden first:pt-0 last:border-b-0 ${i.class??""}`),y(d,P()),st(x,1,`overflow-hidden ${i.linkClass??""}`)}),l(E,p),Ve()}var br=j('<td class="font-mono"><div class="flex items-center gap-0.5"></div></td>'),Tr=j('<td class="font-mono"><!></td>'),Ir=j(" <!>",1),Er=j("<!> <!>",1),Ar=j('<div class="flex max-w-xl items-center gap-2 first:pt-0 last:border-b-0 md:w-auto"><p class="whitespace-nowrap text-right text-xs">Summary</p> <!></div>'),Pr=j('<td><div class="flex justify-center gap-0.5"><!></div></td>'),Sr=j('<tr class="w-full text-sm no-underline"><td class="!p-0"><!></td></tr>'),Fr=j('<tr data-testid="event-summary-row"><!><td class="text-right md:hidden"><!></td><td class="hidden text-right md:table-cell"><!></td><td class="truncate"><p class="whitespace-nowrap font-semibold md:text-base"> </p></td><td class="w-full items-center gap-2 text-right text-sm font-normal xl:text-left"><div class="flex items-center gap-2"><!> <!> <!> <!> <!> <!> <!></div></td><!></tr> <!>',1);function hn(E,t){Oe(t,!0);const[i,u]=ct(),_=()=>Ae(wt,"$timeFormat",i),h=()=>Ae(ht,"$relativeTime",i),P=()=>Ae(ba,"$authUser",i),k=()=>Ae(ka,"$isCloud",i);var p,f,d,x,M,D,S,T;let F=J(t,"compact",3,!1),R=J(t,"expanded",3,!1),g=J(t,"onRowClick",3,()=>{}),A=J(t,"hoveredEventId",15),O=Dt(pa(R())),U=Dt(void 0);const W=a(()=>Z(t.event)?Array.from(t.event.events.keys()).shift():t.event.id),Y=a(()=>ze.params),K=a(()=>e(Y).workflow),X=a(()=>e(Y).run),me=a(()=>e(Y).namespace),je=a(()=>Ot({eventId:t.event.id,namespace:e(me),workflow:e(K),run:e(X)})),fe=a(()=>Qt(t.event)),B=a(()=>Z(t.event)?t.event.events.get(e(W)):t.event),ye=a(()=>Ht({start:t.initialItem===null||t.initialItem===void 0?void 0:t.initialItem.eventTime,end:Z(e(B))?(p=e(B).initialEvent)===null||p===void 0?void 0:p.eventTime:e(B)===null||e(B)===void 0?void 0:e(B).eventTime,includeMillisecondsForUnderSecond:!0})),Pe=a(()=>Z(t.event)?Ht({start:(f=t.event.initialEvent)===null||f===void 0?void 0:f.eventTime,end:(d=t.event.lastEvent)===null||d===void 0?void 0:d.eventTime,includeMillisecondsForUnderSecond:!0}):""),qe=a(()=>ya(t.event)),Ye=a(()=>ha(t.event)),b=a(()=>wa(t.event)),C=a(()=>Z(t.event)?t.event.label:Le(t.event)?v("events.category.local-activity"):Gt(t.event.name)),V=a(()=>Le(t.event)?void 0:ja(Z(t.event)?t.event.initialEvent:t.event)),z=a(()=>Da(Z(t.event)?t.event.lastEvent:t.event,e(V)===null||e(V)===void 0?void 0:e(V).key)),G=a(()=>Z(t.event)&&(t.event===null||t.event===void 0?void 0:t.event.pendingActivity)),xe=a(()=>e(G)&&(e(G)===null||e(G)===void 0?void 0:e(G).paused)),_e=a(()=>Z(t.event)&&t.event.isPending&&(((x=t.event===null||t.event===void 0?void 0:t.event.pendingActivity)===null||x===void 0?void 0:x.attempt)||((M=t.event===null||t.event===void 0?void 0:t.event.pendingNexusOperation)===null||M===void 0?void 0:M.attempt))),ke=a(()=>Z(t.event)&&!t.event.isPending&&((S=(D=t.event.eventList.find(Ra))===null||D===void 0?void 0:D.attributes)===null||S===void 0?void 0:S.attempt)),De=a(()=>F()&&(e(z)===null||e(z)===void 0?void 0:e(z).key)&&(e(z)===null||e(z)===void 0?void 0:e(z).key)!==(e(V)===null||e(V)===void 0?void 0:e(V).key)&&!(!((T=e(B)===null||e(B)===void 0?void 0:e(B).userMetadata)===null||T===void 0)&&T.summary)),Se=a(()=>He(e(B)===null||e(B)===void 0?void 0:e(B).eventTime,_(),{relative:h()})),Fe=a(()=>He(e(B)===null||e(B)===void 0?void 0:e(B).eventTime,_(),{relative:h(),abbrFormat:!0})),o=c=>{de(O,!e(O)),c.stopPropagation(),g()()},w=()=>{A(t.event.id)},H=()=>{A(void 0)};let se=(c,L)=>{var N;return(N=c==null?void 0:c.eventIds)===null||N===void 0?void 0:N.has(L)};ga(async()=>{Le(t.event)?de(U,await qt(t.event,{namespace:ze.params.namespace,settings:ze.data.settings,accessToken:P().accessToken}),!0):Z(t.event)&&Le(t.event.initialEvent)&&de(U,await qt(t.event.initialEvent,{namespace:ze.params.namespace,settings:ze.data.settings,accessToken:P().accessToken}),!0)});var $=Fr(),q=oe($);q.__click=o;var le=n(q);{var pe=c=>{var L=br(),N=n(L);We(N,21,()=>t.event.eventList,yt,(ee,te)=>{const ae=a(()=>Ot({eventId:e(te).id,namespace:e(me),workflow:e(K),run:e(X)}));Qe(ee,{"data-testid":"link",get href(){return e(ae)},children:(ve,Ce)=>{ue();var he=ne();I(()=>y(he,e(te).id)),l(ve,he)},$$slots:{default:!0}})}),r(N),r(L),l(c,L)},ce=c=>{var L=Tr(),N=n(L);Qe(N,{"data-testid":"link",get href(){return e(je)},children:(ee,te)=>{ue();var ae=ne();I(()=>y(ae,t.event.id)),l(ee,ae)},$$slots:{default:!0}}),r(L),l(c,L)};m(le,c=>{Z(t.event)?c(pe):c(ce,!1)})}var ie=s(le),ge=n(ie);const Je=a(()=>Z(t.event)&&!e(Pe)||!e(ye)),Xe=a(()=>Z(t.event)?`Duration: ${e(Pe)}`:`+${e(ye)}`);pt(ge,{get hide(){return e(Je)},get text(){return e(Xe)},class:"block",bottom:!0,children:(c,L)=>{const N=a(()=>v("common.copy-icon-title")),ee=a(()=>v("common.copy-success-icon-title"));Ke(c,{get copyIconTitle(){return e(N)},get copySuccessIconTitle(){return e(ee)},get content(){return e(Fe)},children:(te,ae)=>{ue();var ve=ne();I(()=>y(ve,e(Fe))),l(te,ve)},$$slots:{default:!0}})},$$slots:{default:!0}}),r(ie);var Re=s(ie),Ze=n(Re);const $e=a(()=>Z(t.event)&&!e(Pe)||!e(ye)),vt=a(()=>Z(t.event)?`Duration: ${e(Pe)}`:`+${e(ye)}`);pt(Ze,{get hide(){return e($e)},get text(){return e(vt)},class:"block",bottom:!0,children:(c,L)=>{const N=a(()=>v("common.copy-icon-title")),ee=a(()=>v("common.copy-success-icon-title"));Ke(c,{get copyIconTitle(){return e(N)},get copySuccessIconTitle(){return e(ee)},get content(){return e(Se)},children:(te,ae)=>{ue();var ve=ne();I(()=>y(ve,e(Se))),l(te,ve)},$$slots:{default:!0}})},$$slots:{default:!0}}),r(Re);var dt=s(Re),bt=n(dt),Zt=n(bt,!0);r(bt),r(dt);var ut=s(dt),Tt=n(ut),It=n(Tt);{var $t=c=>{const L=a(()=>e(xe)?"warning":e(_e)>1?"danger":"default");Ge(c,{class:"mr-1",get type(){return e(L)},children:(N,ee)=>{var te=Er(),ae=oe(te);const ve=a(()=>xt("mr-1 inline",e(_e)>1&&"font-bold text-red-400",e(xe)&&"font-bold text-yellow-700")),Ce=a(()=>e(xe)?"pause":"retry");Wt(ae,{get class(){return e(ve)},get name(){return e(Ce)}});var he=s(ae),et=s(he);{var at=be=>{var tt=Ir(),Ct=oe(tt),da=s(Ct);{var ua=Be=>{var Lt=Ne();const Mt=a(()=>{var Ue;return Kt({date:(Ue=e(G))==null?void 0:Ue.scheduledTime,negativeDefault:""})});var ma=oe(Lt);{var fa=Ue=>{var jt=ne();I(_a=>y(jt,`• ${_a??""}
                ${e(Mt)??""}`),[()=>v("workflows.next-retry")]),l(Ue,jt)};m(ma,Ue=>{e(Mt)&&Ue(fa)})}l(Be,Lt)};m(da,Be=>{e(_e)>1&&Be(ua)})}I(()=>{var Be;return y(Ct,`/ ${((Be=e(G))==null?void 0:Be.maximumAttempts)||"∞"} `)}),l(be,tt)};m(et,be=>{e(G)&&be(at)})}I(be=>y(he,` ${be??""}
          ${e(_e)??""} `),[()=>v("workflows.attempt")]),l(N,te)},$$slots:{default:!0}})};m(It,c=>{e(_e)&&c($t)})}var Et=s(It,2);{var ea=c=>{rt(c,_t(()=>e(V),{get attributes(){return e(fe)}}))};m(Et,c=>{var L;!e(U)&&((L=e(V))!=null&&L.key)&&c(ea)})}var At=s(Et,2);{var ta=c=>{rt(c,_t(()=>e(U),{get attributes(){return e(fe)}}))};m(At,c=>{e(U)&&e(U).key&&c(ta)})}var Pt=s(At,2);{var aa=c=>{Jt(c,{get value(){return e(B).userMetadata.summary},children:Ut,$$slots:{default:(L,N)=>{const ee=a(()=>N.decodedValue);var te=Ne(),ae=oe(te);{var ve=Ce=>{var he=Ar(),et=s(n(he),2);Ge(et,{type:"secondary",class:"block select-none truncate",children:(at,be)=>{ue();var tt=ne();I(()=>y(tt,e(ee))),l(at,tt)},$$slots:{default:!0}}),r(he),l(Ce,he)};m(ae,Ce=>{e(ee)&&Ce(ve)})}l(L,te)}}})};m(Pt,c=>{var L,N;(N=(L=e(B))==null?void 0:L.userMetadata)!=null&&N.summary&&c(aa)})}var St=s(Pt,2);{var ra=c=>{kr(c,{get link(){return e(B).links[0]},class:"max-w-xl",linkClass:"truncate"})};m(St,c=>{var L,N;(N=(L=e(B))==null?void 0:L.links)!=null&&N.length&&c(ra)})}var Ft=s(St,2);{var na=c=>{const L=a(()=>e(ke).toString());rt(c,{key:"attempt",get value(){return e(L)},get attributes(){return e(fe)}})};m(Ft,c=>{e(ke)&&c(na)})}var oa=s(Ft,2);{var sa=c=>{rt(c,_t(()=>e(z),{get attributes(){return e(fe)}}))};m(oa,c=>{e(De)&&c(sa)})}r(Tt),r(ut);var ia=s(ut);{var la=c=>{var L=Pr(),N=n(L),ee=n(N);{var te=ae=>{const ve=a(()=>v("workflows.estimated-billable-actions"));pt(ae,{get text(){return e(ve)},topRight:!0,children:(Ce,he)=>{Ge(Ce,{type:"subtle",class:"text-bold shrink-0 gap-1 px-1.5",children:(et,at)=>{ue();var be=ne();I(()=>y(be,t.event.billableActions)),l(et,be)},$$slots:{default:!0}})},$$slots:{default:!0}})};m(ee,ae=>{t.event.billableActions&&ae(te)})}r(N),r(L),l(c,L)};m(ia,c=>{k()&&c(la)})}r(q);var ca=s(q,2);{var va=c=>{var L=Sr(),N=n(L),ee=n(N);pr(ee,{get group(){return t.group},get event(){return e(B)}}),r(N),r(L),I(()=>ft(N,"colspan",k()?5:4)),l(c,L)};m(ca,c=>{e(O)&&c(va)})}I(c=>{st(q,1,c,"svelte-1cm88cy"),ft(q,"id",`${t.event.id}-${t.index}`),ft(q,"data-eventid",t.event.id),y(Zt,e(C))},[()=>zt(xt("hover:cursor-pointer",e(qe)&&"!bg-red-400/40 hover:!bg-red-400/60",e(Ye)&&"!bg-yellow-400/30 hover:!bg-yellow-400/50",e(b)&&"!bg-pink-700/30 hover:!bg-pink-700/50",se(t.group,A())&&"active"))]),Rt("mouseenter",q,w),Rt("mouseleave",q,H),l(E,$),Ve(),u()}xa(["click"]);export{hn as E,rt as a,pr as b,kr as c,qt as d,yn as g};
