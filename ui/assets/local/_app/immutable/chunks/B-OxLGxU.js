import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as qe,l as se,L as o,s as I,m as ne,a as De,f as G,j as y,h as B,G as p,D as J,g as t,r as b,t as q,e as x,b as Te,i as Pe,c as je,n as ie,k as oe,o as D}from"./yn9lut7I.js";import{e as U,s as E}from"./B95CcGmx.js";import{i as H}from"./Bw1cG9kR.js";import{e as de}from"./B0gjW5Lu.js";import{a as Ae}from"./Cw9mRtQ_.js";import{r as Ee,c as ue,a as V,s as k}from"./BLNXIcBS.js";import{a as He}from"./NMZrY2A6.js";import{s as Ve}from"./Bfc47y5P.js";import{i as Ge,t as O}from"./Bk16Yghv.js";import{p as d,c as Ke,a as Me,s as Ne}from"./C6jR5PNA.js";import{w as Fe}from"./D12POdU-.js";import{C as ve}from"./CpRYzw8T.js";import{L as Ie}from"./pDH-5pWv.js";var Je=G("<p> </p>"),Oe=G('<span class="count svelte-38tinz"><span> </span> </span>'),Qe=G('<div class="flex justify-between gap-2"><div><!></div> <!></div>'),Re=G('<div class="flex flex-row flex-wrap gap-1"></div>'),Se=G('<div><!> <div><!> <input data-lpignore="true" data-1p-ignore="true" autocomplete="off" multiple/></div> <!> <!></div>');function dt(fe,n){qe(n,!1);const a=()=>Me(w,"$values",ce),[ce,me]=Ne(),C=ne();let K=d(n,"id",8),v=d(n,"chips",12),pe=d(n,"label",8),ge=d(n,"labelHidden",8,!1),Q=d(n,"placeholder",8,""),_e=d(n,"name",24,K),f=d(n,"disabled",8,!1),W=d(n,"required",8,!1),R=d(n,"hintText",8,""),L=d(n,"validator",8,()=>!0),h=d(n,"removeChipButtonLabel",8),M=d(n,"external",8,!1),u=d(n,"maxLength",8,0);const w=Fe(Array.isArray(v())?[...v()]:[]);let z=ne(""),X=d(n,"class",8,""),he=d(n,"scrollTo",8,!1);const be=e=>{const r=t(z).trim();(e.key===","||e.key==="Enter")&&r!==""&&(e.preventDefault(),w.update(l=>[...l,r]),v(a()),I(z,""));const s=e.target;e.key==="Backspace"&&s&&s.value===""&&a().length>0&&(w.update(l=>l.slice(0,-1)),v(a()))},xe=e=>{if(e.preventDefault(),u()&&a().length>=u())return;let s=e.clipboardData.getData("text/plain").split(",").map(l=>l.trim());u()&&(s=s.slice(0,u()-a().length)),w.update(l=>[...l,...s]),v(a())},we=()=>{const e=t(z).trim();e!==""&&(w.update(r=>[...r,e]),v(a()),I(z,""))},Y=e=>{w.update(r=>(r.splice(e,1),r)),v(a())},S=(e,r)=>({update:()=>{he()&&e===document.activeElement&&e.scrollIntoView({block:"nearest",inline:"start"})}});se(()=>o(v()),()=>{v(),Ke(w,v()!==null&&v()!==void 0?v():[])}),se(()=>(a(),o(L())),()=>{I(C,a().some(e=>!L()(e)))}),De(),Ge();var N=Se(),Z=y(N);Ie(Z,{get required(){return W()},get label(){return pe()},get disabled(){return f()},get hidden(){return ge()},get for(){return K()}});var F=B(Z,2),$=y(F);{var ye=e=>{var r=Pe(),s=je(r);de(s,3,a,(l,c)=>`${l}-${c}`,(l,c,T)=>{const P=D(()=>(o(L()),t(c),p(()=>L()(t(c)))));{let j=D(()=>(o(h()),t(c),p(()=>typeof h()=="string"?h():h()(t(c))))),m=D(()=>t(P)?"default":"warning");ve(l,{get removeButtonLabel(){return t(j)},get intent(){return t(m)},get disabled(){return f()},$$events:{remove:()=>Y(t(T))},children:(g,_)=>{ie();var A=oe();q(()=>E(A,t(c))),x(g,A)},$$slots:{default:!0}})}}),x(e,r)};H($,e=>{a(),o(M()),p(()=>a().length>0&&!M())&&e(ye)})}var i=B($,2);Ee(i);let ee;J(()=>He(i,()=>t(z),e=>I(z,e))),J(()=>U("blur",i,we)),J(()=>U("keydown",i,Ve(be))),J(()=>U("paste",i,xe)),Ae(i,(e,r)=>S==null?void 0:S(e),a),b(F);var te=B(F,2);{var ke=e=>{var r=Qe(),s=y(r);let l;var c=y(s);{var T=m=>{var g=Je(),_=y(g,!0);b(g),q(()=>E(_,R())),x(m,g)};H(c,m=>{t(C)&&R()&&m(T)})}b(s);var P=B(s,2);{var j=m=>{var g=Oe(),_=y(g);let A;var ze=y(_,!0);b(_);var Be=B(_);b(g),q(()=>{var ae,re;A=V(_,1,"text-information svelte-38tinz",null,A,{warn:u()-((ae=a())==null?void 0:ae.length)<=5,error:u()===((re=a())==null?void 0:re.length)}),E(ze,(a(),p(()=>{var le;return((le=a())==null?void 0:le.length)??0}))),E(Be,` / ${u()??""}`)}),x(m,g)};H(P,m=>{u()&&!f()&&m(j)})}b(r),q(()=>{l=V(s,1,"error-msg svelte-38tinz",null,l,{"min-width":u()}),k(s,"aria-live",t(C)?"assertive":"off")}),x(e,r)};H(te,e=>{(t(C)&&R()||u()&&!f())&&e(ke)})}var Ce=B(te,2);{var Le=e=>{var r=Re();de(r,7,a,(s,l)=>`${s}-${l}`,(s,l,c)=>{const T=D(()=>(o(L()),t(l),p(()=>L()(t(l)))));{let P=D(()=>(o(h()),t(l),p(()=>typeof h()=="string"?h():h()(t(l))))),j=D(()=>t(T)?"default":"warning");ve(s,{get removeButtonLabel(){return t(P)},get intent(){return t(j)},get disabled(){return f()},$$events:{remove:()=>Y(t(c))},children:(m,g)=>{ie();var _=oe();q(()=>E(_,t(l))),x(m,_)},$$slots:{default:!0}})}}),b(r),x(e,r)};H(Ce,e=>{a(),o(M()),p(()=>a().length>0&&M())&&e(Le)})}b(N),q((e,r)=>{V(N,1,e,"svelte-38tinz"),V(F,1,r,"svelte-38tinz"),i.disabled=f(),k(i,"placeholder",Q()),k(i,"id",K()),k(i,"name",_e()),i.required=W(),k(i,"data-testid",K()),k(i,"maxlength",(o(u()),a(),p(()=>u()&&a().length>=u()?0:void 0))),k(i,"size",(o(Q()),p(()=>Q().length||void 0))),ee=V(i,1,"svelte-38tinz",null,ee,{"cursor-not-allowed":f()})},[()=>ue((o(O),o(f()),o(X()),p(()=>O("group flex flex-col gap-1",f()&&"cursor-not-allowed",X())))),()=>ue((o(O),o(f()),t(C),p(()=>O("surface-primary flex min-h-[2.5rem] w-full flex-row flex-wrap gap-1 overflow-y-scroll border border-subtle p-2 text-sm text-primary focus-within:border-interactive focus-within:ring-2 focus-within:ring-primary/70",f()&&"cursor-not-allowed opacity-65",t(C)&&"invalid"))))]),x(fe,N),Te(),me()}export{dt as C};
