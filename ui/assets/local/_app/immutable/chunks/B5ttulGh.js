import{d as b}from"./D7JzDj9r.js";import{p as y}from"./ClCYFG6W.js";import{n as _}from"./DpYqgY9S.js";import{p as L}from"./Zloa8QFi.js";import{c as R}from"./DaA9kdqt.js";const i={WORKFLOWS:"workflows",SCHEDULES:"schedules",ACTIVITIES:"activities"},m=[{label:"Status"},{label:"Workflow ID"},{label:"Run ID"},{label:"Type"},{label:"Start"},{label:"End"}],A=[{label:"History Size"},{label:"History Length"},{label:"Execution Time"},{label:"Execution Duration"},{label:"State Transitions"},{label:"Task Queue"},{label:"Scheduled By ID"},{label:"Scheduled Start Time"},{label:"Deployment"},{label:"Deployment Version"},{label:"Versioning Behavior"},{label:"Change Version"}],h=[...A,{label:"Parent Namespace"}],E=[{label:"Status"},{label:"Schedule ID"},{label:"Workflow Type"},{label:"Recent Runs"},{label:"Upcoming Runs"},{label:"Schedule Spec"}],d=[{label:"Status"},{label:"Activity ID"},{label:"Activity Type"},{label:"Task Queue"},{label:"Start Time"},{label:"Close Time"}],N=[{label:"Run ID"},{label:"Execution Duration"},{label:"State Transitions"}],I=L("namespace-workflow-table-columns",{}),U=L("namespace-schedules-table-columns",{}),f=L("namespace-activities-table-columns",{}),C=b([_,y,I,U,f],([l,e,o,s,a])=>{const t={},n=(r,u,D)=>{var T;return(T=r==null?void 0:r[u])!=null&&T.length||(r[u]=[...D]),r[u]},c=r=>({workflows:n(o,r,m),schedules:n(s,r,E),activities:n(a,r,d)}),S=(l==null?void 0:l.reduce((r,{namespaceInfo:{name:u}})=>({...r,[u]:c(u)}),t))??{},{namespace:p}=e.params;return S[p]?S:{...S,[p]:c(p)}}),K=(l,e)=>b(C,o=>{var s;return[...m,...(s=e==null?void 0:e.runtimeEnvironment)!=null&&s.isCloud?A:h].filter(a=>{var t,n;return!((n=(t=o[l])==null?void 0:t.workflows)!=null&&n.some(c=>c.label===a.label))})}),g=l=>b(C,e=>[...E].filter(o=>{var s,a;return!((a=(s=e[l])==null?void 0:s.schedules)!=null&&a.some(t=>t.label===o.label))})),G=l=>b(C,e=>[...d,...N].filter(o=>{var s,a;return!((a=(s=e[l])==null?void 0:s.activities)!=null&&a.some(t=>t.label===o.label))})),H=(l,e=i.WORKFLOWS)=>b([R,C],([o,s])=>Object.keys(o).filter(a=>{var t,n;return!((n=(t=s[l])==null?void 0:t[e])!=null&&n.some(c=>c.label===a))}).map(a=>({label:a}))),F=l=>{switch(l){case i.WORKFLOWS:return m;case i.SCHEDULES:return E;case i.ACTIVITIES:return d}},v=(l,e)=>{const o=F(l.payload.table);switch(l.type){case"CONFIGURABLE_COLUMN.ADD":{const{label:s,namespace:a}=l.payload,t=(e==null?void 0:e[a])??o;return{...e,[a]:[...t,{label:s}]}}case"CONFIGURABLE_COLUMN.REMOVE":{const{label:s,namespace:a}=l.payload,t=(e==null?void 0:e[a])??o;return{...e,[a]:t.filter(({label:n})=>n!==s)}}case"CONFIGURABLE_COLUMN.MOVE":{const{from:s,to:a,namespace:t}=l.payload,c=[...(e==null?void 0:e[t])??m];return c.splice(a,0,c.splice(s,1)[0]),{...e,[t]:c}}default:return e}},W=l=>{switch(l){case i.WORKFLOWS:return I;case i.SCHEDULES:return U;case i.ACTIVITIES:return f}},O=l=>{W(l.payload.table).update(o=>v(l,o))},x=(l,e,o)=>{O({type:"CONFIGURABLE_COLUMN.ADD",payload:{label:l,namespace:e,table:o}})},P=(l,e,o)=>{O({type:"CONFIGURABLE_COLUMN.REMOVE",payload:{label:l,namespace:e,table:o}})},Q=(l,e,o,s)=>{O({type:"CONFIGURABLE_COLUMN.MOVE",payload:{from:l,to:e,namespace:o,table:s}})};export{m as D,i as T,H as a,x as b,C as c,g as d,G as e,K as f,Q as m,P as r};
