import"./Bzak7iHL.js";import{p as Z,M as he,t as j,i as v,d as C,r as h,j as q,e as O,b as $,N as re,h as be,f as ge,a7 as A,c as L,ag as ke,aH as ne,u as W,g as N,s as xe}from"./DGYx9ZL3.js";import{s as _e}from"./DAS8iFM1.js";import{i as D}from"./Drn9BSZv.js";import{b as K,C as ie,a as se}from"./sjU1R8E2.js";import{p as n,s as ee,a as X,r as te,c as _}from"./_1tBR0sn.js";import{I as le}from"./DxgYAz3f.js";import{t as B}from"./C4Tw_PiO.js";import{b as pe}from"./dRjKekj2.js";import{b as we}from"./BE7SeC6C.js";import{c as Ee}from"./CNtE9IFW.js";import{c as ye,g as Me}from"./uVHWBtn_.js";import{a as Ce}from"./CKwYlNct.js";import{w as Y}from"./Aho9YOPx.js";const ae="menu-context";var Oe=j("<div><!></div>");function Je(T,e){Z(e,!0);const[p,I]=ee(),b=()=>X(g(),"$open",p),g=n(e,"open",19,()=>Y(!1)),i=te(e,["$$slots","$$events","$$legacy","open","class","children","onclose"]),w=Y(!1),r=Y(null),s=()=>{b()&&(e.onclose===null||e.onclose===void 0||e.onclose(),_(g(),!1))};he(ae,{open:g(),keepOpen:w,menuElement:r});var l=Oe();let c;var k=v(l);C(k,()=>e.children,b),h(l),Ce(l,(d,x)=>{var m;return(m=ye)==null?void 0:m(d,x)},()=>s),q(d=>c=K(l,c,{class:d,...i}),[()=>B("relative",e.class)]),O(T,l),$(),I()}const oe='input, li[role="option"]:not([aria-disabled="true"]), li[role="menuitem"]:not([aria-disabled="true"])';var Te=j("<a><div><!></div> <!></a>"),Ie=j("<div> </div>"),Se=j('<li><!> <div class="grow"><div><!> <!></div> <!></div> <!></li>');function Qe(T,e){Z(e,!0);const[p,I]=ee(),b=()=>X(d,"$keepOpen",p),g=n(e,"destructive",3,!1),i=n(e,"disabled",3,!1),w=n(e,"href",3,null),r=n(e,"description",3,null),s=n(e,"centered",3,!1),l=n(e,"hoverable",3,!0),c=n(e,"newTab",3,!1),k=te(e,["$$slots","$$events","$$legacy","class","selected","destructive","disabled","href","description","centered","hoverable","newTab","onclick","children","leading","trailing"]),{keepOpen:d,open:x}=re(ae),m=a=>{switch(a.stopPropagation(),a.key){case"Escape":_(x,!1);break;case"ArrowDown":case"ArrowRight":P(a.currentTarget);break;case"ArrowUp":case"ArrowLeft":G(a.currentTarget);break;case" ":case"Enter":e.onclick===null||e.onclick===void 0||e.onclick(),b()||_(x,!1);break}},P=a=>{let t=a.nextElementSibling;for(;t&&!t.matches(oe);)t=t.nextElementSibling;t&&t instanceof HTMLLIElement&&t.focus()},G=a=>{let t=a.previousElementSibling;for(;t&&!t.matches(oe);)t=t.previousElementSibling;t&&t instanceof HTMLLIElement&&t.focus()},J=()=>{b()||_(x,!1),e.onclick===null||e.onclick===void 0||e.onclick()};var U=be(),Q=ge(U);{var u=a=>{var t=Te();let S;var E=v(t),H=v(E);C(H,()=>e.children??A),h(E);var y=L(E,2);{var F=f=>{le(f,{height:20,width:20,name:"external-link"})};D(y,f=>{c()&&f(F)})}h(t),q((f,V)=>S=K(t,S,{href:w(),target:c()?"_blank":null,rel:c()?"noreferrer":null,role:"menuitem",class:f,"aria-hidden":i()?"true":"false","aria-disabled":i(),tabindex:i()?-1:0,"data-track-name":"menuitem","data-track-intent":"navigate","data-track-text":"*textContent*",onkeydown:m,...k,[ie]:V},"svelte-2h2qix"),[()=>B("menu-item","m-1 px-3 py-2","flex items-center gap-2",s()?"justify-center":"justify-between",e.class),()=>({disabled:i(),hoverable:l()})]),O(a,t)},z=a=>{var t=Se();let S;var E=v(t);C(E,()=>e.leading??A);var H=L(E,2),y=v(H);let F;var f=v(y);C(f,()=>e.children??A);var V=L(f,2);{var ce=o=>{le(o,{name:"checkmark",class:"shrink-0"})};D(V,o=>{e.selected&&o(ce)})}h(y);var de=L(y,2);{var me=o=>{var M=Ie();let R;var fe=v(M,!0);h(M),q(ve=>{R=se(M,1,"menu-item-description svelte-2h2qix",null,R,ve),_e(fe,r())},[()=>({"text-center":s()})]),O(o,M)};D(de,o=>{r()&&o(me)})}h(H);var ue=L(H,2);C(ue,()=>e.trailing??A),h(t),q((o,M,R)=>{S=K(t,S,{role:"menuitem",class:o,"aria-hidden":i()?"true":"false","aria-disabled":i(),tabindex:i()?-1:0,"data-track-name":"menuitem","data-track-intent":"action","data-track-text":"*textContent*",onkeydown:m,onclick:J,...k,[ie]:M},"svelte-2h2qix"),F=se(y,1,"menu-item-wrapper svelte-2h2qix",null,F,R)},[()=>B("menu-item","m-1 px-3 py-2","flex items-center gap-2",e.class),()=>({destructive:g(),disabled:i(),selected:e.selected,hoverable:l()}),()=>({centered:s()})]),O(a,t)};D(Q,a=>{w()?a(u):a(z,!1)})}O(T,U),$(),I()}const He=Ee(["surface-primary","absolute","z-20","mt-1","min-w-fit","list-none","overflow-auto","border","border-subtle","text-primary","shadow","w-full","transition-all","duration-100","ease-out"],{variants:{position:{left:"left-0 origin-top-left",right:"right-0 origin-top-right","top-left":"left-0 origin-top-left","top-right":"right-0 origin-top-right"},state:{open:"visible scale-100 opacity-100",closed:"invisible scale-95 opacity-0"}}});var Le=j("<ul><!></ul>");function Ve(T,e){Z(e,!0);const[p,I]=ee(),b=()=>X(d,"$keepOpenCtx",p),g=()=>X(m,"$open",p);let i=n(e,"class",3,""),w=n(e,"keepOpen",3,!1),r=n(e,"position",3,"left"),s=n(e,"menuElement",15,null),l=n(e,"maxHeight",3,"max-h-[20rem]"),c=te(e,["$$slots","$$events","$$legacy","class","id","keepOpen","position","menuElement","maxHeight","children"]),k=ke(0);const{keepOpen:d,menuElement:x,open:m}=re(ae);ne(()=>{_(d,w())}),ne(()=>{_(x,s())});const P=W(()=>s()?Me(s()):[]),G=W(()=>N(P)[N(P).length-1]),J=t=>{!b()&&t.target===N(G)&&_(m,!1)},U=t=>{t.stopPropagation()},Q=W(()=>He({position:r(),state:g()?"open":"closed"}));var u=Le();let z;var a=v(u);C(a,()=>e.children??A),h(u),we(u,t=>s(t),()=>s()),q(t=>z=K(u,z,{role:"menu",class:t,"aria-labelledby":e.id,tabindex:-1,style:r()==="top-right"||r()==="top-left"?`top: -${N(k)+16}px;`:"",id:e.id,onfocusout:J,onclick:U,...c}),[()=>B(N(Q),l(),i())]),pe(u,"clientHeight",t=>xe(k,t)),O(T,u),$(),I()}export{ae as M,oe as a,Qe as b,Je as c,Ve as d};
