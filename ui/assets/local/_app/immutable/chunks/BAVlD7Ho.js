import{an as x,v as A,w as n,x as g,ap as N,H as B,A as D,z as H,C as v,B as S,I as q,T as c,Y as T,m as E,aq as L,ar as R,as as Y,at as z,au as C,av as G}from"./CckrFwdx.js";const b=0,_=1;function O(y,k,m,r,l){n&&g();var h=x(),t=G,u=h?T(t):E(t,!1,!1),f=h?T(t):E(t,!1,!1),a=new S(y);A(()=>{var i=k(),I=!1;let d=n&&N(i)===(y.data===B);if(d&&(D(H()),v(!1)),N(i)){var w=L(),p=!1;const s=e=>{if(!I){p=!0,w(!1),R.ensure(),n&&v(!1);try{e()}finally{Y(),z||C()}}};i.then(e=>{s(()=>{c(u,e),a.ensure(_,r&&(o=>r(o,u)))})},e=>{s(()=>{if(c(f,e),a.ensure(_,l&&(o=>l(o,f))),!l)throw f.v})}),n?a.ensure(b,m):q(()=>{p||s(()=>{a.ensure(b,m)})})}else c(u,i),a.ensure(_,r&&(s=>r(s,u)));return d&&v(!0),()=>{I=!0}})}export{O as a};
