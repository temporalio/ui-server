import"./CWj6FrbW.js";import{p as ut,f as et,c as l,h as Ft,g as e,v as i,e as r,b as ft,n as Je,k as x,t as F,i as s,s as at,j as ot,r as lt,at as It}from"./BzuLCQNf.js";import{s as I,d as Dt,e as Ge}from"./HOnlAALn.js";import{i as o}from"./Be-bjpec.js";import{p as $e,s as vt,a as mt,b as st}from"./DdNojIXk.js";import{p as dt}from"./Ck1QX1w3.js";import{T as ye}from"./DQtg0T9O.js";import{W as St}from"./B1S_w4vZ.js";import{B as Vt}from"./BvcST-tr.js";import{i as it,c as Ct,w as Ot}from"./Cz2A3HS5.js";import{S as Te}from"./S6Q2Q0ub.js";import{i as Wt}from"./Dzb719w0.js";import{k as At}from"./CrZfxCV7.js";import{g as pt}from"./BtlQSASF.js";import{d as Xe,j as Et}from"./DMWK6oI8.js";import{k as Rt}from"./DgFfbOWh.js";import{F as Pt}from"./DWk7_A5Y.js";import{L as nt}from"./BH1Vvb8t.js";import{T as Lt}from"./QGm-pl5O.js";import{t as Ze}from"./DEjs8ZrU.js";import{w as qe}from"./D3DqvWbn.js";import{u as Mt}from"./CoPm1LUX.js";import{s as jt}from"./ikbOq2O5.js";const Kt=(W,t=2)=>{if(!+W)return"0 Bytes";const m=1024,H=t<0?0:t,N=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],A=Math.floor(Math.log(W)/Math.log(m));return`${parseFloat((W/Math.pow(m,A)).toFixed(H))} ${N[A]}`};var Ut=et("<!> <!>",1);function j(W,t){ut(t,!0);const m=()=>mt(qe,"$workflowFilters",H),[H,N]=vt();let A=$e(t,"filterOrCopyButtonsVisible",3,!1),Q=$e(t,"type",19,()=>Te.KEYWORD);const G=u=>u.length>11?`${u.slice(0,4)}...${u.slice(-4)}`:u,a=t.attribute==="RunId",K=()=>{const u=m().find(S=>S.attribute===t.attribute),D=()=>m().filter(S=>S.attribute!==t.attribute);if(!u||u.value!==t.value){const S={attribute:t.attribute,type:Q(),value:t.value,conditional:"=",operator:"",parenthesis:""};st(qe,[...D(),S])}else st(qe,[...D()]);Mt(dt.url,m())};var de=Ut(),c=l(de);{var ce=u=>{Lt(u,{get text(){return t.value},top:!0,class:"min-w-0",children:(D,S)=>{nt(D,{get href(){return t.href},class:"cursor-help",children:(X,Z)=>{Je();var f=x();F(n=>I(f,n),[()=>G(t.value)]),r(X,f)},$$slots:{default:!0}})},$$slots:{default:!0}})},we=u=>{var D=s(),S=l(D);{var X=f=>{nt(f,{get href(){return t.href},children:(n,Be)=>{Je();var ee=x();F(()=>I(ee,t.value)),r(n,ee)},$$slots:{default:!0}})},Z=f=>{var n=x();F(()=>I(n,t.value)),r(f,n)};o(S,f=>{t.href?f(X):f(Z,!1)},!0)}r(u,D)};o(c,u=>{a?u(ce):u(we,!1)})}var Oe=Ft(c,2);{let u=i(()=>Ze("common.copy-icon-title")),D=i(()=>Ze("common.copy-success-icon-title")),S=i(()=>Ze("common.filter-workflows")),X=i(()=>m().some(Z=>Z.attribute===t.attribute&&Z.value===t.value));Pt(Oe,{get copyIconTitle(){return e(u)},get copySuccessIconTitle(){return e(D)},get filterIconTitle(){return e(S)},get show(){return A()},get content(){return t.value},onFilter:K,get filtered(){return e(X)}})}r(W,de),ft(),N()}var Yt=et('<td class="workflows-summary-table-body-cell filterable svelte-da71jl" data-testid="workflows-summary-table-body-cell"><!></td>'),zt=et('<td class="workflows-summary-table-body-cell svelte-da71jl" data-testid="workflows-summary-table-body-cell"><!></td>');function wr(W,t){ut(t,!0);const m=()=>mt(Ct,"$customSearchAttributes",H),[H,N]=vt();var A,Q;let G=$e(t,"archival",3,!1);const a=i(()=>t.column.label),K=i(()=>dt.params.namespace),de=i(()=>it(e(a))&&(m()[e(a)]===Te.KEYWORD||m()[e(a)]===Te.TEXT)&&typeof((Q=(A=t.workflow.searchAttributes)===null||A===void 0?void 0:A.indexedFields)===null||Q===void 0?void 0:Q[e(a)])=="string");let c=It(!1);const ce=()=>at(c,!0),we=()=>at(c,!1),Oe=f=>{const n=f.relatedTarget;n&&!["filter-button","copy-button"].includes(n.id)&&we()},u=["Type","Workflow ID","Run ID","Deployment","Versioning Behavior","Deployment Version","Build ID","Scheduled By ID"];var D=s(),S=l(D);{var X=f=>{var n=Yt();n.__mouseover=ce,n.__focusin=ce,n.__focusout=Oe;var Be=ot(n);{var ee=g=>{{let L=i(()=>Xe({namespace:e(K),workflow:t.workflow.id,run:t.workflow.runId,archival:G()}));j(g,{get filterOrCopyButtonsVisible(){return e(c)},attribute:"WorkflowType",get value(){return t.workflow.name},get href(){return e(L)}})}},We=g=>{var L=s(),ge=l(L);{var Ae=_=>{{let q=i(()=>Xe({namespace:e(K),workflow:t.workflow.id,run:t.workflow.runId,archival:G()}));j(_,{get filterOrCopyButtonsVisible(){return e(c)},attribute:"WorkflowId",get value(){return t.workflow.id},get href(){return e(q)}})}},pe=_=>{var q=s(),Ee=l(q);{var Re=k=>{{let J=i(()=>Xe({namespace:e(K),workflow:t.workflow.id,run:t.workflow.runId,archival:G()}));j(k,{get filterOrCopyButtonsVisible(){return e(c)},attribute:"RunId",get value(){return t.workflow.runId},get href(){return e(J)}})}},Pe=k=>{var J=s(),Le=l(J);{var Me=b=>{const w=i(()=>{var U,Y;return(Y=(U=t.workflow.searchAttributes)==null?void 0:U.indexedFields)==null?void 0:Y.TemporalWorkerDeployment});{let U=i(()=>e(w)&&typeof e(w)=="string"?e(w):""),Y=i(()=>e(w)?Et({namespace:e(K),deployment:e(w)}):void 0);j(b,{get filterOrCopyButtonsVisible(){return e(c)},attribute:"TemporalWorkerDeployment",get value(){return e(U)},get href(){return e(Y)}})}},je=b=>{var w=s(),U=l(w);{var Y=h=>{const V=i(()=>{var O,te;return(te=(O=t.workflow.searchAttributes)==null?void 0:O.indexedFields)==null?void 0:te.TemporalWorkerDeploymentVersion});{let O=i(()=>e(V)&&typeof e(V)=="string"?e(V):"");j(h,{get filterOrCopyButtonsVisible(){return e(c)},attribute:"TemporalWorkerDeploymentVersion",get value(){return e(O)}})}},Ke=h=>{var V=s(),O=l(V);{var te=y=>{const C=i(()=>{var p,re,ae,v,d;return((ae=(re=(p=t.workflow)==null?void 0:p.searchAttributes)==null?void 0:re.indexedFields)==null?void 0:ae.TemporalWorkerBuildId)||pt((d=(v=t.workflow.searchAttributes)==null?void 0:v.indexedFields)==null?void 0:d.TemporalWorkerDeploymentVersion)});{let p=i(()=>e(C)&&typeof e(C)=="string"?e(C):"");j(y,{get filterOrCopyButtonsVisible(){return e(c)},attribute:"TemporalWorkerBuildId",get value(){return e(p)}})}},Ue=y=>{var C=s(),p=l(C);{var re=v=>{const d=i(()=>{var E,oe;return(oe=(E=t.workflow.searchAttributes)==null?void 0:E.indexedFields)==null?void 0:oe.TemporalWorkflowVersioningBehavior});{let E=i(()=>e(d)&&typeof e(d)=="string"?e(d):"");j(v,{get filterOrCopyButtonsVisible(){return e(c)},attribute:"TemporalWorkflowVersioningBehavior",get value(){return e(E)}})}},ae=v=>{var d=s(),E=l(d);{var oe=T=>{const $=i(()=>{var le,se;return(se=(le=t.workflow.searchAttributes)==null?void 0:le.indexedFields)==null?void 0:se[e(a)]});j(T,{get filterOrCopyButtonsVisible(){return e(c)},get attribute(){return e(a)},get value(){return e($)},get type(){return m()[e(a)]}})},Ye=T=>{var $=s(),le=l($);{var se=_e=>{const R=i(()=>{var P,ie;return(ie=(P=t.workflow.searchAttributes)==null?void 0:P.indexedFields)==null?void 0:ie.TemporalScheduledById});{let P=i(()=>e(R)&&typeof e(R)=="string"?e(R):"");j(_e,{get filterOrCopyButtonsVisible(){return e(c)},attribute:"TemporalScheduledById",get value(){return e(P)}})}};o(le,_e=>{e(a)==="Scheduled By ID"&&_e(se)},!0)}r(T,$)};o(E,T=>{e(de)?T(oe):T(Ye,!1)},!0)}r(v,d)};o(p,v=>{e(a)==="Versioning Behavior"?v(re):v(ae,!1)},!0)}r(y,C)};o(O,y=>{e(a)==="Build ID"?y(te):y(Ue,!1)},!0)}r(h,V)};o(U,h=>{e(a)==="Deployment Version"?h(Y):h(Ke,!1)},!0)}r(b,w)};o(Le,b=>{e(a)==="Deployment"?b(Me):b(je,!1)},!0)}r(k,J)};o(Ee,k=>{e(a)==="Run ID"?k(Re):k(Pe,!1)},!0)}r(_,q)};o(ge,_=>{e(a)==="Workflow ID"?_(Ae):_(pe,!1)},!0)}r(g,L)};o(Be,g=>{e(a)==="Type"?g(ee):g(We,!1)})}lt(n),Ge("focus",n,ce),Ge("mouseleave",n,we),Ge("blur",n,we),r(f,n)},Z=f=>{var n=zt(),Be=ot(n);{var ee=g=>{{let L=i(()=>Wt(t.workflow)),ge=i(()=>Rt(t.workflow));St(g,{get status(){return t.workflow.status},get delayed(){return e(L)},get taskFailure(){return e(ge)}})}},We=g=>{var L=s(),ge=l(L);{var Ae=_=>{ye(_,{get dateTime(){return t.workflow.endTime}})},pe=_=>{var q=s(),Ee=l(q);{var Re=k=>{ye(k,{get dateTime(){return t.workflow.startTime}})},Pe=k=>{var J=s(),Le=l(J);{var Me=b=>{var w=x();F(()=>I(w,t.workflow.taskQueue)),r(b,w)},je=b=>{var w=s(),U=l(w);{var Y=h=>{var V=x();F(()=>{var O;return I(V,((O=t.workflow)==null?void 0:O.parentNamespaceId)??"")}),r(h,V)},Ke=h=>{var V=s(),O=l(V);{var te=y=>{var C=x();F(p=>I(C,p),[()=>Kt(parseInt(t.workflow.historySizeBytes,10))]),r(y,C)},Ue=y=>{var C=s(),p=l(C);{var re=v=>{var d=x();F(E=>I(d,E),[()=>parseInt(t.workflow.stateTransitionCount,10)>0?t.workflow.stateTransitionCount:""]),r(v,d)},ae=v=>{var d=s(),E=l(d);{var oe=T=>{ye(T,{get dateTime(){return t.workflow.executionTime}})},Ye=T=>{var $=s(),le=l($);{var se=R=>{var P=x();F(ie=>I(P,ie),[()=>At({start:t.workflow.startTime,end:t.workflow.endTime,includeMillisecondsForUnderSecond:!0})]),r(R,P)},_e=R=>{var P=s(),ie=l(P);{var ct=ne=>{var ke=x();F(ze=>I(ke,ze),[()=>parseInt(t.workflow.historyEvents,10)>0?t.workflow.historyEvents:""]),r(ne,ke)},wt=ne=>{var ke=s(),ze=l(ke);{var gt=ue=>{var be=x();F(()=>{var xe,Fe;return I(be,((Fe=(xe=t.workflow.searchAttributes)==null?void 0:xe.indexedFields)==null?void 0:Fe.TemporalScheduledById)??"")}),r(ue,be)},_t=ue=>{var be=s(),xe=l(be);{var Fe=fe=>{const ve=i(()=>{var B,z;return(z=(B=t.workflow.searchAttributes)==null?void 0:B.indexedFields)==null?void 0:z.TemporalScheduledStartTime});var Ie=s(),He=l(Ie);{var Ne=B=>{ye(B,{get dateTime(){return e(ve)}})};o(He,B=>{e(ve)&&typeof e(ve)=="string"&&B(Ne)})}r(fe,Ie)},kt=fe=>{var ve=s(),Ie=l(ve);{var He=B=>{var z=x();F(()=>{var De,Se;return I(z,(Se=(De=t.workflow.searchAttributes)==null?void 0:De.indexedFields)==null?void 0:Se.TemporalChangeVersion)}),r(B,z)},Ne=B=>{var z=s(),De=l(z);{var Se=Qe=>{const Ve=i(()=>{var M,he;return(he=(M=t.workflow.searchAttributes)==null?void 0:M.indexedFields)==null?void 0:he[e(a)]});var tt=s(),bt=l(tt);{var ht=M=>{ye(M,{get dateTime(){return e(Ve)}})},yt=M=>{var he=s(),Tt=l(he);{var Bt=me=>{Vt(me,{children:(Ce,Ht)=>{Je();var rt=x();F(()=>I(rt,e(Ve))),r(Ce,rt)},$$slots:{default:!0}})},xt=me=>{var Ce=x();F(()=>I(Ce,e(Ve))),r(me,Ce)};o(Tt,me=>{m()[e(a)]===Te.BOOL?me(Bt):me(xt,!1)},!0)}r(M,he)};o(bt,M=>{m()[e(a)]===Te.DATETIME&&typeof e(Ve)=="string"?M(ht):M(yt,!1)})}r(Qe,tt)};o(De,Qe=>{it(e(a))&&Ot(t.workflow,e(a))&&Qe(Se)},!0)}r(B,z)};o(Ie,B=>{e(a)==="Change Version"?B(He):B(Ne,!1)},!0)}r(fe,ve)};o(xe,fe=>{e(a)==="Scheduled Start Time"?fe(Fe):fe(kt,!1)},!0)}r(ue,be)};o(ze,ue=>{e(a)==="Scheduled By ID"?ue(gt):ue(_t,!1)},!0)}r(ne,ke)};o(ie,ne=>{e(a)==="History Length"?ne(ct):ne(wt,!1)},!0)}r(R,P)};o(le,R=>{e(a)==="Execution Duration"?R(se):R(_e,!1)},!0)}r(T,$)};o(E,T=>{e(a)==="Execution Time"?T(oe):T(Ye,!1)},!0)}r(v,d)};o(p,v=>{e(a)==="State Transitions"?v(re):v(ae,!1)},!0)}r(y,C)};o(O,y=>{e(a)==="History Size"?y(te):y(Ue,!1)},!0)}r(h,V)};o(U,h=>{e(a)==="Parent Namespace"?h(Y):h(Ke,!1)},!0)}r(b,w)};o(Le,b=>{e(a)==="Task Queue"?b(Me):b(je,!1)},!0)}r(k,J)};o(Ee,k=>{e(a)==="Start"?k(Re):k(Pe,!1)},!0)}r(_,q)};o(ge,_=>{e(a)==="End"?_(Ae):_(pe,!1)},!0)}r(g,L)};o(Be,g=>{e(a)==="Status"?g(ee):g(We,!1)})}lt(n),r(f,n)};o(S,f=>{u.includes(e(a))||e(de)?f(X):f(Z,!1)})}r(W,D),ft(),N()}Dt(["mouseover","focusin","focusout"]);const gr=(W,t)=>{const m=jt({workflows:W},null,2),H=`workflows-${W.length}-${t}-${Date.now()}.json`;N(m,H,"text/plain");function N(A,Q,G){const a=document.createElement("a"),K=new Blob([A],{type:G});a.href=URL.createObjectURL(K),a.download=Q,a.click()}};export{wr as T,gr as e};
