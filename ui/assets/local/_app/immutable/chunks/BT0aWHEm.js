import"./CWj6FrbW.js";import{w as B,o as ve,a as Se}from"./DIJxQKhU.js";import{p as fe,aO as ge,K as we,f as j,c as g,j as $,h as U,e as l,g as d,v as H,i as h,r as ee,d as te,t as ye,b as me,L as Ee,at as ue,s as ce}from"./DPYmeJXN.js";import{b as Pe}from"./C6vhGFP6.js";import{p as t,b as Y,a as T,r as _e,s as be,c as Ve}from"./BkgVXhYA.js";import{c as Be,d as He,b as Te}from"./DUvVNg5r.js";import{s as je}from"./DtOlEDQN.js";import{i as C}from"./DqIiO-ir.js";import{k as Ae}from"./DlFjb5xL.js";import{a as De,C as Fe}from"./DyeK8I2b.js";import{I as Z}from"./iShetGdB.js";import{L as Ke}from"./DaMPFvhm.js";import{M as Ne}from"./DG1_xLKz.js";import"./69_IOA4Y.js";import{t as We}from"./VvTteBni.js";const he="select-context";var Xe=j("<input/>"),ze=j('<span class="text-xs text-danger"> </span>'),Ge=j('<div class="flex flex-col gap-1"><!> <!></div> <!> <!>',1);function dt(A,e){fe(e,!0);const q=()=>T(y,"$labelCtx",k),x=()=>T(le,"$optionsCtx",k),[k,D]=be();let F=t(e,"labelHidden",3,!1),n=t(e,"value",15,void 0),S=t(e,"placeholder",3,""),m=t(e,"disabled",3,!1),I=t(e,"loading",3,!1),u=t(e,"leadingIcon",3,null),r=t(e,"onChange",3,()=>{}),K=t(e,"menuButtonClass",3,void 0),O=t(e,"menuClass",3,void 0),ae=t(e,"variant",3,"secondary"),s=t(e,"required",3,!1),p=t(e,"error",3,""),c=t(e,"valid",3,!0),N=t(e,"position",3,void 0),w=_e(e,["$$slots","$$events","$$legacy","label","id","labelHidden","value","placeholder","disabled","loading","leadingIcon","onChange","menuButtonClass","menuClass","variant","required","error","valid","position","leading","children"]);const ne=B(n()),le=B([]),y=B(n()===null||n()===void 0?void 0:n().toString()),re=B(!1);ge(()=>Ce(n()));function Ce(o){Y(ne,o),Y(y,ie(o))}const xe=o=>{n(o),r()(n())};function ie(o){const W=x().find(E=>E.value===o);return W!==void 0?W.label:""}we(he,{selectValue:ne,selectLabel:y,options:le,open:re,handleChange:xe}),ve(()=>{Y(y,ie(n()))}),Be(A,{class:"w-full",get open(){return re},children:(o,W)=>{var E=Ge(),X=g(E),se=$(X);Ke(se,{get label(){return e.label},get hidden(){return F()},get for(){return e.id},get required(){return s()}});var ke=U(se,2);Ae(ke,q,i=>{{const v=L=>{var _=h(),b=g(_);{var G=a=>{Z(a,{get name(){return u()}})},J=a=>{var M=h(),Q=g(M);{var R=f=>{var de=h(),qe=g(de);te(qe,()=>e.leading),l(f,de)};C(Q,f=>{e.leading&&f(R)},!0)}l(a,M)};C(b,a=>{u()?a(G):a(J,!1)})}l(L,_)},P=L=>{var _=h(),b=g(_);{var G=a=>{Z(a,{name:"lock"})},J=a=>{var M=h(),Q=g(M);{var R=f=>{Z(f,{name:"spinner",class:"animate-spin"})};C(Q,f=>{I()&&f(R)},!0)}l(a,M)};C(b,a=>{m()?a(G):a(J,!1)})}l(L,_)};let V=H(()=>We("w-full",!c()&&"border-danger",K())),z=H(()=>!m()),Le=H(()=>m()||I()),Me=H(()=>w["data-testid"]??e.id);Ne(i,{get class(){return d(V)},get hasIndicator(){return d(z)},get disabled(){return d(Le)},get controls(){return`${e.id??""}-select`},get variant(){return ae()},get"data-testid"(){return`${d(Me)??""}-button`},"data-track-name":"select","data-track-intent":"select",get"data-track-text"(){return e.label},leading:v,trailing:P,children:(L,_)=>{var b=Xe();De(b,()=>({id:e.id,value:!n()&&S()!==""?S():q(),tabindex:"-1",disabled:!0,required:s(),"aria-required":s(),...w,[Fe]:{disabled:m()}}),void 0,void 0,void 0,"svelte-x06cls",!0),l(L,b)},$$slots:{leading:!0,trailing:!0,default:!0}})}}),ee(X);var oe=U(X,2);{var Ie=i=>{He(i,{role:"listbox",get id(){return`${e.id??""}-select`},get class(){return O()},get position(){return N()},children:(v,P)=>{var V=h(),z=g(V);te(z,()=>e.children),l(v,V)},$$slots:{default:!0}})};C(oe,i=>{e.children&&i(Ie)})}var Oe=U(oe,2);{var pe=i=>{var v=ze(),P=$(v,!0);ee(v),ye(()=>je(P,p())),l(i,v)};C(Oe,i=>{p()&&!c()&&i(pe)})}l(o,E)},$$slots:{default:!0}}),me(),D()}var Je=j("<span><!></span>");function ut(A,e){fe(e,!0);const q=()=>T(F,"$selectValue",k),x=()=>T(S,"$options",k),[k,D]=be(),{selectValue:F,handleChange:n,options:S}=Ee(he);let m=_e(e,["$$slots","$$events","$$legacy","value","children","onclick"]),I=ue(!1),u=ue(void 0),r,K,O;ge(()=>{r&&(ce(u,e.value!==null&&e.value!==void 0?e.value:r.textContent,!0),ce(I,q()===d(u)),O=r.textContent)}),ve(()=>{r&&(O=r.textContent,x().push({value:e.value,label:O,nativeElement:K}))}),Se(()=>{let s=x().findIndex(p=>p.value===e.value);s!==void 0&&x().splice(s,1)}),Te(A,Ve({onclick:()=>{n(d(u)),e.onclick===null||e.onclick===void 0||e.onclick(d(u))},role:"option",get selected(){return d(I)}},()=>m,{children:(s,p)=>{var c=Je(),N=$(c);te(N,()=>e.children),ee(c),Pe(c,w=>r=w,()=>r),l(s,c)},$$slots:{default:!0}})),me(),D()}export{ut as O,dt as S};
