import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as ge,t as B,h as l,c as d,r as c,i as j,j as i,d as x,b as xe,f as me,g as e,m as F,l as de,s as p,aE as V,a as Ne,e as Oe,n as ue,k as pe}from"./CtXwlho8.js";import{f as ze,e as re,s as T}from"./BXc8M6y4.js";import{i as ee}from"./yjFgoZ2z.js";import{c as _e,s as se,b as Me,a as We}from"./CiDpyPci.js";import{t as Fe,a as Ge}from"./jHacFt3d.js";import{i as he}from"./D4D3ThYu.js";import{l as Ce,p as s}from"./DdhuX4yd.js";import{a as U,s as Ie,b as G}from"./CI9zuxJp.js";import{w as qe}from"./BBGlwGsK.js";import{p as Je}from"./CsiAh9KY.js";import{A as Ke}from"./DggFymUa.js";import{B as $e}from"./BTBm4n-Z.js";import{L as Qe}from"./CTQwXfXH.js";import{t as a}from"./D2OY9xdY.js";import{c as Te,p as Ee,i as Le,o as Pe}from"./BiMlMv8r.js";import{r as Ue}from"./D9pSO_rq.js";import{v as Xe,a as De}from"./Dq3hB7XF.js";import{s as Ye}from"./CykH9iyL.js";import{a as Ze}from"./BY3abp4D.js";import{s as et}from"./Bfc47y5P.js";import{b as ae}from"./BhXnzOxE.js";import{L as tt}from"./DCI8NNqO.js";import{t as ce}from"./Ds6tgvmq.js";import{T as He}from"./Cfw4ovLt.js";import{R as rt,a as Re}from"./IUfGj65Y.js";var at=B('<p class="-mt-1 text-sm"> </p>'),st=B("<p> </p>"),ot=B("<!> <!>",1),it=B('<span class="count svelte-1i0s5a4"><span> </span> </span>'),nt=B('<div><!> <!> <div><textarea></textarea></div> <div class="flex justify-between gap-2"><div><!></div> <!></div></div>');function lt(I,t){const h=Ce(t,["children","$$slots","$$events","$$legacy"]),X=Ce(h,["disabled","error","isValid","placeholder","rows","spellcheck","value","label","labelHidden","id","required","description","maxLength","class"]);ge(t,!1);let _=s(t,"disabled",8,!1),E=s(t,"error",8,""),b=s(t,"isValid",8,!0),J=s(t,"placeholder",8,""),A=s(t,"rows",8,5),K=s(t,"spellcheck",8,null),L=s(t,"value",12),w=s(t,"label",8),P=s(t,"labelHidden",8,!1),k=s(t,"id",8),N=s(t,"required",8,!1),D=s(t,"description",8,""),y=s(t,"maxLength",8,0),f=s(t,"class",8,"text-primary");he();var g=nt(),n=l(g);tt(n,{get required(){return N()},get hidden(){return P()},get label(){return w()},get for(){return k()}});var H=d(n,2);{var Y=r=>{var v=at(),m=l(v,!0);c(v),j(()=>T(m,D())),x(r,v)};ee(H,r=>{D()&&r(Y)})}var O=d(H,2),C=l(O);ze(C);let oe;c(O);var ie=d(O,2),S=l(ie);let z;var ne=l(S);{var te=r=>{var v=ot(),m=me(v);{var M=Q=>{var R=st(),q=l(R,!0);c(R),j(()=>T(q,E())),x(Q,R)};ee(m,Q=>{E()&&Q(M)})}var Z=d(m,2);Ye(Z,t,"error",{},null),x(r,v)};ee(ne,r=>{b()||r(te)})}c(S);var le=d(S,2);{var ve=r=>{var v=it(),m=l(v);let M;var Z=l(m,!0);c(m);var Q=d(m);c(v),j(R=>{var q;M=se(m,1,"text-information svelte-1i0s5a4",null,M,R),T(Z,((q=L())==null?void 0:q.length)??0),T(Q,` / ${y()??""}`)},[()=>{var R,q;return{warn:y()-((R=L())==null?void 0:R.length)<=5,error:y()===((q=L())==null?void 0:q.length)}}],i),x(r,v)};ee(le,r=>{y()&&!_()&&r(ve)})}c(ie),c(g),j((r,v,m,M)=>{se(g,1,r,"svelte-1i0s5a4"),se(O,1,v,"svelte-1i0s5a4"),oe=Me(C,oe,{class:m,id:k(),disabled:_(),placeholder:J(),rows:A(),spellcheck:K(),maxlength:y()>0?y():void 0,"data-testid":k(),...X},"svelte-1i0s5a4"),z=se(S,1,"error-msg svelte-1i0s5a4",null,z,M),We(S,"aria-live",b()?"off":"assertive")},[()=>_e(ce("group flex flex-col gap-1",f())),()=>_e(ce("relative box-border inline-flex w-full border border-subtle focus-within:border-information focus-within:ring-2 focus-within:ring-primary/70",!b()&&"error",!_()&&"hover:border-information")),()=>ce("surface-primary min-h-fit w-full px-3 py-2 text-sm placeholder:text-secondary focus-visible:outline-none",_()&&"cursor-not-allowed opacity-50"),()=>({"min-width":y()})],i),Ze(C,L),re("input",C,function(r){ae.call(this,t,r)}),re("change",C,function(r){ae.call(this,t,r)}),re("focus",C,function(r){ae.call(this,t,r)}),re("blur",C,function(r){ae.call(this,t,r)}),re("keydown",C,et(function(r){ae.call(this,t,r)})),x(I,g),xe()}var dt=B('<small data-testid="data-encoder-cross-origin-credentials"> </small>'),ct=B('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><!> <!> <!> <!></div></div>');function vt(I,t){ge(t,!1);let h=s(t,"endpoint",12,""),X=s(t,"passToken",12,!1),_=s(t,"includeCreds",12,!1),E=s(t,"error",8,"");he();var b=ct(),J=l(b),A=l(J);const K=i(()=>a("data-encoder.endpoint-placeholder")),L=i(()=>!E()),w=i(()=>a("data-encoder.endpoint-title")),P=i(()=>a("data-encoder.endpoint-description"));lt(A,{id:"data-encoder-endpoint-input",rows:3,get placeholder(){return e(K)},get error(){return E()},get isValid(){return e(L)},get label(){return e(w)},get description(){return e(P)},get value(){return h()},set value(n){h(n)},$$legacy:!0});var k=d(A,2);const N=i(()=>a("data-encoder.pass-access-token-label"));He(k,{get label(){return e(N)},id:"pass-access-token","data-testid":"data-encoder-pass-access-token",get checked(){return X()},set checked(n){X(n)},$$legacy:!0});var D=d(k,2);const y=i(()=>a("data-encoder.include-cross-origin-credentials-label"));He(D,{get label(){return e(y)},id:"pass-access-credentials","data-testid":"data-encoder-include-credentials",get checked(){return _()},set checked(n){_(n)},$$legacy:!0});var f=d(D,2);{var g=n=>{var H=dt(),Y=l(H,!0);c(H),j(O=>T(Y,O),[()=>a("data-encoder.include-cross-origin-credentials-warning")],i),x(n,H)};ee(f,n=>{_()&&n(g)})}c(J),c(b),x(I,b),xe()}const ut=I=>I.replace(/\/+$/,""),fe=qe(!1);var pt=B("<!> <!>",1),ft=B('<aside><div class="flex w-full flex-col gap-4 xl:w-1/2"><div class="flex items-center justify-between space-x-2"><h3 data-testid="data-encoder-title"> </h3></div> <p class="text-sm"> <!> </p> <!> <!> <div class="flex items-center gap-4"><!> <!></div></div></aside>');function Mt(I,t){ge(t,!1);const[h,X]=Ie(),_=()=>U(Te,"$codecEndpoint",h),E=()=>U(Ee,"$passAccessToken",h),b=()=>U(Le,"$includeCredentials",h),J=()=>U(Pe,"$overrideRemoteCodecConfiguration",h),A=()=>U(Je,"$page",h),K=()=>U(fe,"$viewDataEncoderSettings",h),L=()=>U(H,"$override",h),w=F(),P=F();var k=F(),N=F(),D=F();let y=s(t,"class",8,""),f=F(_()!==null&&_()!==void 0?_():""),g=F(E()!==null&&E()!==void 0?E():!1),n=F(b()!==null&&b()!==void 0?b():!1),H=qe(J());const Y=()=>{p(f,_()),p(g,E()),p(n,b()),G(H,J()),G(fe,!1)},O=()=>{p(w,""),G(Te,e(f)?ut(e(f)):e(f)),G(Ee,e(g)),G(Le,e(n)),G(fe,!1),G(Pe,L()),A().url.pathname.endsWith("history")&&G(Ue,Date.now())};de(()=>{},()=>{p(w,"")}),de(()=>(V(D),V(N),V(k),A(),a),()=>{p(P,!(p(D,p(N,p(k,A().data)===null||V(k)===void 0?void 0:V(k).settings)===null||V(N)===void 0?void 0:V(N).runtimeEnvironment)===null||V(D)===void 0)&&V(D).isCloud?a("common.namespaces"):a("common.cluster"))}),de(()=>(e(g),e(f),De),()=>{e(g)&&!Xe(e(f))?p(w,a("data-encoder.access-token-https-error")):e(f)&&!De(e(f))?p(w,a("data-encoder.prefix-error")):p(w,"")}),de(()=>K(),()=>{K()||Y()}),Ne(),he();var C=Oe(),oe=me(C);{var ie=S=>{var z=ft(),ne=l(z),te=l(ne),le=l(te),ve=l(le,!0);c(le),c(te);var r=d(te,2),v=l(r,!0),m=d(v);Qe(m,{href:"https://docs.temporal.io/dataconversion#codec-server",newTab:!0,children:(o,W)=>{ue();var u=pe();j($=>T(u,$),[()=>a("common.codec-server")],i),x(o,u)},$$slots:{default:!0}});var M=d(m);c(r);var Z=d(r,2);const Q=i(()=>L()?a("data-encoder.browser-override-description",{level:e(P)}):a("data-encoder.no-browser-override-description",{level:e(P)})),R=i(()=>{var o,W,u,$;return L()?"":($=(u=(W=(o=A())==null?void 0:o.data)==null?void 0:W.settings)==null?void 0:u.codec)==null?void 0:$.endpoint});Ke(Z,{"data-testid":"override-accordion",get title(){return e(Q)},get subtitle(){return e(R)},class:"max-sm:[&_h3]:text-xs",children:(o,W)=>{rt(o,{name:"override",group:H,children:(u,$)=>{var ke=pt(),ye=me(ke);const Ve=i(()=>a("data-encoder.no-browser-override-description",{level:e(P)}));Re(ye,{id:"use-configuration-endpoint-radio","data-testid":"use-configuration-endpoint-input",value:!1,get label(){return e(Ve)}});var je=d(ye,2);const Be=i(()=>a("data-encoder.browser-override-description",{level:e(P)}));Re(je,{id:"use-local-endpoint-radio","data-testid":"use-local-endpoint-input",value:!0,get label(){return e(Be)}}),x(u,ke)},$$slots:{default:!0}})},$$slots:{default:!0}});var q=d(Z,2);vt(q,{get error(){return e(w)},get endpoint(){return e(f)},set endpoint(o){p(f,o)},get passToken(){return e(g)},set passToken(o){p(g,o)},get includeCreds(){return e(n)},set includeCreds(o){p(n,o)},$$legacy:!0});var be=d(q,2),we=l(be);const Ae=i(()=>!!e(w));$e(we,{get disabled(){return e(Ae)},"data-testid":"confirm-data-encoder-button",type:"submit",$$events:{click:O},children:(o,W)=>{ue();var u=pe();j($=>T(u,$),[()=>a("common.apply")],i),x(o,u)},$$slots:{default:!0}});var Se=d(we,2);$e(Se,{variant:"ghost","data-testid":"cancel-data-encoder-button",$$events:{click:Y},children:(o,W)=>{ue();var u=pe();j($=>T(u,$),[()=>a("common.cancel")],i),x(o,u)},$$slots:{default:!0}}),c(be),c(ne),c(z),j((o,W,u,$)=>{se(z,1,o),T(ve,W),T(v,u),T(M,` ${$??""}`)},[()=>_e(ce("surface-primary relative flex h-[540px] w-full flex-col gap-6 border-b border-subtle p-4 md:p-12",y())),()=>a("common.codec-server"),()=>a("data-encoder.codec-server-description-prefix"),()=>a("data-encoder.codec-server-description-suffix",{level:e(P)})],i),Fe(1,z,()=>Ge,()=>({y:-50,delay:0,duration:500})),x(S,z)};ee(oe,S=>{K()&&S(ie)})}x(I,C),xe(),X()}export{Mt as D,fe as v};
