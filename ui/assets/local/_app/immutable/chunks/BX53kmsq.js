import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as K,b as N,f as C,t as W,K as l,O as i,e as M,s as r,m as T,g as a,o as h,j as x,r as D,h as Y}from"./DZ1-1a5q.js";import{s as A}from"./DxwvfIkW.js";import{i as O}from"./Bby3K3wO.js";import{p as f,s as z,b as B}from"./TaaIktnz.js";import{M as F}from"./C3T1ts5q.js";import{t as e}from"./DEjs8ZrU.js";import{A as G}from"./ClzYi2Ei.js";import{j as Z,t as ee}from"./CiL0gYXc.js";import{t as J}from"./Cc_MFLKO.js";import{t as L}from"./D3HmRl1U.js";import{g as Q}from"./BrqVdl23.js";import{i as S}from"./DRcmmJhF.js";import{I as te}from"./Cxp5pilr.js";var re=C('<h3 slot="title"> </h3>'),oe=C("<p> </p>");function _e(o,t){K(t,!1);const[w,R]=z();let d=f(t,"open",12),E=f(t,"workflow",8),P=f(t,"namespace",8),v=f(t,"refresh",8,void 0),$=T(),s=T("");const p=Q(),_=()=>{v()?B(v(),Date.now()):L(G.Cancel)},I=async()=>{r(s,""),r($,!0);try{await Z({namespace:P(),workflow:E(),identity:p}),d(!1),_(),J.push({id:"workflow-cancelation-success-toast",message:e("workflows.cancel-success")})}catch(g){r(s,S(g)?g.message:e("common.unknown-error"))}finally{r($,!1)}};O();{let g=h(()=>(i(e),l(()=>e("common.confirm")))),j=h(()=>(i(e),l(()=>e("common.cancel"))));F(o,{id:"cancel-confirmation-modal","data-testid":"cancel-confirmation-modal",get confirmText(){return a(g)},get cancelText(){return a(j)},get loading(){return a($)},confirmType:"destructive",get error(){return a(s)},set error(c){r(s,c)},get open(){return d()},set open(c){d(c)},$$events:{confirmModal:I},$$slots:{title:(c,k)=>{var m=re(),n=x(m,!0);D(m),W(b=>A(n,b),[()=>(i(e),l(()=>e("workflows.cancel-modal-title")))]),M(c,m)},content:(c,k)=>{var m=oe(),n=x(m,!0);D(m),W(b=>A(n,b),[()=>(i(e),l(()=>e("workflows.cancel-modal-confirmation")))]),M(c,m)}},$$legacy:!0})}N(),R()}var ae=C('<h3 slot="title"> </h3>'),ne=C('<div slot="content"><p> </p> <!></div>');function be(o,t){K(t,!1);const[w,R]=z();let d=f(t,"open",12),E=f(t,"workflow",8),P=f(t,"namespace",8),v=f(t,"refresh",8,void 0),$=f(t,"first",8,void 0),s=T(""),p=T(""),_=T(!1);const I=Q(),g=()=>{d(!1),r(s,"")},j=()=>{v()?B(v(),Date.now()):L(G.Terminate)},c=async()=>{r(p,""),r(_,!0);try{await ee({workflow:E(),namespace:P(),reason:a(s),first:$(),identity:I}),d(!1),r(s,""),j(),J.push({id:"workflow-termination-success-toast",message:e("workflows.terminate-success")})}catch(k){r(p,S(k)?k.message:e("common.unknown-error"))}finally{r(_,!1)}};O();{let k=h(()=>(i(e),l(()=>e("workflows.terminate")))),m=h(()=>(i(e),l(()=>e("common.cancel"))));F(o,{id:"terminate-confirmation-modal","data-testid":"terminate-confirmation-modal",get loading(){return a(_)},get confirmText(){return a(k)},get cancelText(){return a(m)},confirmType:"destructive",get error(){return a(p)},set error(n){r(p,n)},get open(){return d()},set open(n){d(n)},$$events:{cancelModal:g,confirmModal:c},$$slots:{title:(n,b)=>{var u=ae(),y=x(u,!0);D(u),W(q=>A(y,q),[()=>(i(e),l(()=>e("workflows.terminate-modal-title")))]),M(n,u)},content:(n,b)=>{var u=ne(),y=x(u),q=x(y,!0);D(y);var U=Y(y,2);{let H=h(()=>(i(e),l(()=>e("common.reason-placeholder")))),V=h(()=>(i(e),l(()=>e("common.reason-placeholder"))));te(U,{id:"workflow-termination-reason",class:"mt-4",get placeholder(){return a(H)},get label(){return a(V)},labelHidden:!0,get value(){return a(s)},set value(X){r(s,X)},$$legacy:!0})}D(u),W(H=>A(q,H),[()=>(i(e),l(()=>e("workflows.terminate-modal-confirmation")))]),M(n,u)}},$$legacy:!0})}N(),R()}const ye=(o,t,w)=>!o.disableWriteActions&&!o.workflowCancelDisabled&&!t.namespaceWriteDisabled(w),Te=(o,t,w)=>!o.disableWriteActions&&!o.workflowResetDisabled&&!t.namespaceWriteDisabled(w),xe=(o,t,w)=>!o.disableWriteActions&&!o.workflowTerminateDisabled&&!t.namespaceWriteDisabled(w);export{_e as C,be as T,xe as a,Te as b,ye as w};
