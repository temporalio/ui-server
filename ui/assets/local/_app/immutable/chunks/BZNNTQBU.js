import"./CWj6FrbW.js";import{w as B,o as ve,a as Se}from"./r33Ll6et.js";import{p as fe,aN as ge,K as we,f as N,c as g,j as $,h as U,e as l,g as d,v as H,i as h,r as ee,d as te,t as ye,b as me,L as Ee,at as ue,s as ce}from"./BBjqMsu1.js";import{b as Pe}from"./CnjsOa-4.js";import{p as t,b as Y,a as T,r as _e,s as be,c as Ve}from"./D42yUzBQ.js";import{c as Be,d as He,b as Te}from"./DeT14wH-.js";import{s as Ne}from"./DHOm-mSm.js";import{i as C}from"./DrCjka1e.js";import{k as je}from"./C9OGzM-W.js";import{a as Ae,C as De}from"./CDFkFKEl.js";import{I as Z}from"./cYmRoqvp.js";import{L as Fe}from"./Dn4VAsVw.js";import{M as Ke}from"./D2fUj7LM.js";import"./69_IOA4Y.js";import{t as We}from"./DIZ-FoJG.js";const he="select-context";var Xe=N("<input/>"),ze=N('<span class="text-xs text-danger"> </span>'),Ge=N('<div class="flex flex-col gap-1"><!> <!></div> <!> <!>',1);function dt(j,e){fe(e,!0);const q=()=>T(y,"$labelCtx",k),x=()=>T(le,"$optionsCtx",k),[k,A]=be();let D=t(e,"labelHidden",3,!1),n=t(e,"value",15,void 0),S=t(e,"placeholder",3,""),m=t(e,"disabled",3,!1),I=t(e,"loading",3,!1),u=t(e,"leadingIcon",3,null),r=t(e,"onChange",3,()=>{}),F=t(e,"menuButtonClass",3,void 0),p=t(e,"menuClass",3,void 0),ae=t(e,"variant",3,"secondary"),s=t(e,"required",3,!1),L=t(e,"error",3,""),c=t(e,"valid",3,!0),K=t(e,"position",3,void 0),w=_e(e,["$$slots","$$events","$$legacy","label","id","labelHidden","value","placeholder","disabled","loading","leadingIcon","onChange","menuButtonClass","menuClass","variant","required","error","valid","position","leading","children"]);const ne=B(n()),le=B([]),y=B(n()===null||n()===void 0?void 0:n().toString()),re=B(!1);ge(()=>Ce(n()));function Ce(o){Y(ne,o),Y(y,ie(o))}const xe=o=>{n(o),r()(n())};function ie(o){const W=x().find(E=>E.value===o);return W!==void 0?W.label:""}we(he,{selectValue:ne,selectLabel:y,options:le,open:re,handleChange:xe}),ve(()=>{Y(y,ie(n()))}),Be(j,{class:"w-full",get open(){return re},children:(o,W)=>{var E=Ge(),X=g(E),se=$(X);Fe(se,{get label(){return e.label},get hidden(){return D()},get for(){return e.id},get required(){return s()}});var ke=U(se,2);je(ke,q,i=>{{const v=M=>{var _=h(),b=g(_);{var G=a=>{Z(a,{get name(){return u()}})},J=a=>{var O=h(),Q=g(O);{var R=f=>{var de=h(),qe=g(de);te(qe,()=>e.leading),l(f,de)};C(Q,f=>{e.leading&&f(R)},!0)}l(a,O)};C(b,a=>{u()?a(G):a(J,!1)})}l(M,_)},P=M=>{var _=h(),b=g(_);{var G=a=>{Z(a,{name:"lock"})},J=a=>{var O=h(),Q=g(O);{var R=f=>{Z(f,{name:"spinner",class:"animate-spin"})};C(Q,f=>{I()&&f(R)},!0)}l(a,O)};C(b,a=>{m()?a(G):a(J,!1)})}l(M,_)};let V=H(()=>We("w-full",!c()&&"border-danger",F())),z=H(()=>!m()),Me=H(()=>m()||I()),Oe=H(()=>w["data-testid"]??e.id);Ke(i,{get class(){return d(V)},get hasIndicator(){return d(z)},get disabled(){return d(Me)},get controls(){return`${e.id??""}-select`},get variant(){return ae()},get"data-testid"(){return`${d(Oe)??""}-button`},"data-track-name":"select","data-track-intent":"select",get"data-track-text"(){return e.label},leading:v,trailing:P,children:(M,_)=>{var b=Xe();Ae(b,()=>({id:e.id,value:!n()&&S()!==""?S():q(),tabindex:"-1",disabled:!0,required:s(),"aria-required":s(),...w,[De]:{disabled:m()}}),void 0,void 0,void 0,"svelte-x06cls",!0),l(M,b)},$$slots:{leading:!0,trailing:!0,default:!0}})}}),ee(X);var oe=U(X,2);{var Ie=i=>{He(i,{role:"listbox",get id(){return`${e.id??""}-select`},get class(){return p()},get position(){return K()},children:(v,P)=>{var V=h(),z=g(V);te(z,()=>e.children),l(v,V)},$$slots:{default:!0}})};C(oe,i=>{e.children&&i(Ie)})}var pe=U(oe,2);{var Le=i=>{var v=ze(),P=$(v,!0);ee(v),ye(()=>Ne(P,L())),l(i,v)};C(pe,i=>{L()&&!c()&&i(Le)})}l(o,E)},$$slots:{default:!0}}),me(),A()}var Je=N("<span><!></span>");function ut(j,e){fe(e,!0);const q=()=>T(D,"$selectValue",k),x=()=>T(S,"$options",k),[k,A]=be(),{selectValue:D,handleChange:n,options:S}=Ee(he);let m=_e(e,["$$slots","$$events","$$legacy","value","children","onclick"]),I=ue(!1),u=ue(void 0),r,F,p;ge(()=>{r&&(ce(u,e.value!==null&&e.value!==void 0?e.value:r.textContent,!0),ce(I,q()===d(u)),p=r.textContent)}),ve(()=>{r&&(p=r.textContent,x().push({value:e.value,label:p,nativeElement:F}))}),Se(()=>{let s=x().findIndex(L=>L.value===e.value);s!==void 0&&x().splice(s,1)}),Te(j,Ve({onclick:()=>{n(d(u)),e.onclick===null||e.onclick===void 0||e.onclick(d(u))},role:"option",get selected(){return d(I)}},()=>m,{children:(s,L)=>{var c=Je(),K=$(c);te(K,()=>e.children),ee(c),Pe(c,w=>r=w,()=>r),l(s,c)},$$slots:{default:!0}})),me(),A()}export{ut as O,dt as S};
