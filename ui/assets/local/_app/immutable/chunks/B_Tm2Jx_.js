import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as Z,as as ee,f as te,g as u,b as ae,d as f,c,e as w,r as k,n as se,t as re}from"./Dv5jDC8Z.js";import{s as oe}from"./CnnFVxmh.js";import{i as I}from"./FbCjvpNA.js";import{a as p,t as B,b as ne}from"./BM_uyzAk.js";import{a as le,s as _}from"./CevXMagP.js";import{s as ie}from"./wdddUT-U.js";import{i as ce}from"./CM2QeVoh.js";import{l as M,p as a,s as de}from"./BbkaS_Cl.js";import{s as me,a as $,b as A}from"./CEr_ApTH.js";import{c as ue}from"./s0RhsljA.js";import{B as fe}from"./BXfWvgor.js";import{B as pe}from"./59-RDtFO.js";import{I as _e}from"./CrYHGHR9.js";import{b as ve,c as ge}from"./DteaHS_F.js";import{t as be}from"./Ds6tgvmq.js";var he=B('<div class="flex"><!></div>'),xe=B("<!> <div><!></div> <!> <!> <!>",1);function Fe(C,e){const D=le(e),N=M(e,["children","$$slots","$$events","$$legacy"]),T=M(N,["class","controls","count","disabled","hasIndicator","id","label","variant"]);Z(e,!1);const[v,q]=me(),d=()=>$(o,"$open",v),P=()=>$(R,"$menuElement",v);let S=a(e,"class",8,""),z=a(e,"controls",8),g=a(e,"count",8,0),m=a(e,"disabled",8,!1),F=a(e,"hasIndicator",8,!1),O=a(e,"id",8,null),U=a(e,"label",8,null),K=a(e,"variant",8,"secondary");const L=ue(),{open:o,menuElement:R}=ee(ve),X=()=>{o.update(t=>{let n=t;return m()||(n=!t),L("click",{open:n}),n})},j=t=>{switch(t.key){case"Escape":A(o,!1);break;case"ArrowDown":t.preventDefault(),d()?G():A(o,!0);break}},G=()=>{const t=Array.from(P().querySelectorAll(ge));t&&t[0]&&requestAnimationFrame(()=>t[0].focus())};ce();const H=f(()=>!m()),J=f(()=>be(S()));pe(C,de({get id(){return O()},get disabled(){return m()},type:"button",get"aria-haspopup"(){return u(H)},get"aria-controls"(){return z()},get"aria-expanded"(){return d()},get"aria-label"(){return U()},get variant(){return K()},get class(){return u(J)}},()=>T,{$$events:{click:X,keydown:j},children:(t,n)=>{var b=xe(),h=te(b);_(h,e,"leading",{},null);var l=c(h,2);ie(l,1,"flex grow items-center",null,{},{hidden:!D.default});var Q=w(l);_(Q,e,"default",{},null),k(l);var x=c(l,2);{var V=s=>{var r=he(),E=w(r);const i=f(()=>d()?"chevron-up":"chevron-down");_e(E,{get name(){return u(i)}}),k(r),p(s,r)};I(x,s=>{F()&&s(V)})}var y=c(x,2);_(y,e,"trailing",{},null);var W=c(y,2);{var Y=s=>{fe(s,{class:"absolute right-0 top-0 origin-bottom-left translate-x-[10px] translate-y-[-10px]",type:"count",children:(r,E)=>{se();var i=ne();re(()=>oe(i,g())),p(r,i)},$$slots:{default:!0}})};I(W,s=>{g()>0&&s(Y)})}p(t,b)},$$slots:{default:!0}})),ae(),q()}export{Fe as M};
