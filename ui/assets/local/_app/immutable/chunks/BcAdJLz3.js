import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as qe,l as se,M as o,s as G,m as ne,a as Te,f as V,j as y,h as B,I as p,F as J,g as t,r as h,t as q,e as x,b as De,i as Pe,c as je,n as ie,k as oe,o as T}from"./BzuLCQNf.js";import{e as U,s as E}from"./HOnlAALn.js";import{i as H}from"./Be-bjpec.js";import{e as de}from"./DHcq7Esf.js";import{a as Ae}from"./Dm3plelZ.js";import{r as Ee,s as k}from"./Brfhuxqj.js";import{c as ue,s as M}from"./wWuJlbLq.js";import{a as He}from"./DSHW1MQb.js";import{s as Me}from"./Bfc47y5P.js";import{i as Ve,t as O}from"./W-5sOwmb.js";import{p as d,b as Fe,a as Ie,s as Ke}from"./DdNojIXk.js";import{w as Ne}from"./SxBBeV83.js";import{C as ve}from"./CQLVrhJ7.js";import{L as Ge}from"./DUFHtEr8.js";var Je=V("<p> </p>"),Oe=V('<span class="count svelte-38tinz"><span> </span> </span>'),Qe=V('<div class="flex justify-between gap-2"><div><!></div> <!></div>'),Re=V('<div class="flex flex-row flex-wrap gap-1"></div>'),Se=V('<div><!> <div><!> <input data-lpignore="true" data-1p-ignore="true" autocomplete="off" multiple/></div> <!> <!></div>');function ut(fe,n){qe(n,!1);const a=()=>Ie(w,"$values",me),[me,ce]=Ke(),C=ne();let F=d(n,"id",8),v=d(n,"chips",12),pe=d(n,"label",8),ge=d(n,"labelHidden",8,!1),Q=d(n,"placeholder",8,""),_e=d(n,"name",24,F),f=d(n,"disabled",8,!1),W=d(n,"required",8,!1),R=d(n,"hintText",8,""),L=d(n,"validator",8,()=>!0),b=d(n,"removeChipButtonLabel",8),I=d(n,"external",8,!1),u=d(n,"maxLength",8,0);const w=Ne(Array.isArray(v())?[...v()]:[]);let z=ne(""),X=d(n,"class",8,""),be=d(n,"scrollTo",8,!1);const he=e=>{const r=t(z).trim();(e.key===","||e.key==="Enter")&&r!==""&&(e.preventDefault(),w.update(l=>[...l,r]),v(a()),G(z,""));const s=e.target;e.key==="Backspace"&&s&&s.value===""&&a().length>0&&(w.update(l=>l.slice(0,-1)),v(a()))},xe=e=>{if(e.preventDefault(),u()&&a().length>=u())return;let s=e.clipboardData.getData("text/plain").split(",").map(l=>l.trim());u()&&(s=s.slice(0,u()-a().length)),w.update(l=>[...l,...s]),v(a())},we=()=>{const e=t(z).trim();e!==""&&(w.update(r=>[...r,e]),v(a()),G(z,""))},Y=e=>{w.update(r=>(r.splice(e,1),r)),v(a())},S=(e,r)=>({update:()=>{be()&&e===document.activeElement&&e.scrollIntoView({block:"nearest",inline:"start"})}});se(()=>o(v()),()=>{v(),Fe(w,v()!==null&&v()!==void 0?v():[])}),se(()=>(a(),o(L())),()=>{G(C,a().some(e=>!L()(e)))}),Te(),Ve();var K=Se(),Z=y(K);Ge(Z,{get required(){return W()},get label(){return pe()},get disabled(){return f()},get hidden(){return ge()},get for(){return F()}});var N=B(Z,2),$=y(N);{var ye=e=>{var r=Pe(),s=je(r);de(s,3,a,(l,m)=>`${l}-${m}`,(l,m,D)=>{const P=T(()=>(o(L()),t(m),p(()=>L()(t(m)))));{let j=T(()=>(o(b()),t(m),p(()=>typeof b()=="string"?b():b()(t(m))))),c=T(()=>t(P)?"default":"warning");ve(l,{get removeButtonLabel(){return t(j)},onremove:()=>Y(t(D)),get intent(){return t(c)},get disabled(){return f()},children:(g,_)=>{ie();var A=oe();q(()=>E(A,t(m))),x(g,A)},$$slots:{default:!0}})}}),x(e,r)};H($,e=>{a(),o(I()),p(()=>a().length>0&&!I())&&e(ye)})}var i=B($,2);Ee(i);let ee;J(()=>He(i,()=>t(z),e=>G(z,e))),J(()=>U("blur",i,we)),J(()=>U("keydown",i,Me(he))),J(()=>U("paste",i,xe)),Ae(i,(e,r)=>S==null?void 0:S(e),a),h(N);var te=B(N,2);{var ke=e=>{var r=Qe(),s=y(r);let l;var m=y(s);{var D=c=>{var g=Je(),_=y(g,!0);h(g),q(()=>E(_,R())),x(c,g)};H(m,c=>{t(C)&&R()&&c(D)})}h(s);var P=B(s,2);{var j=c=>{var g=Oe(),_=y(g);let A;var ze=y(_,!0);h(_);var Be=B(_);h(g),q(()=>{var ae,re;A=M(_,1,"text-information svelte-38tinz",null,A,{warn:u()-((ae=a())==null?void 0:ae.length)<=5,error:u()===((re=a())==null?void 0:re.length)}),E(ze,(a(),p(()=>{var le;return((le=a())==null?void 0:le.length)??0}))),E(Be,` / ${u()??""}`)}),x(c,g)};H(P,c=>{u()&&!f()&&c(j)})}h(r),q(()=>{l=M(s,1,"error-msg svelte-38tinz",null,l,{"min-width":u()}),k(s,"aria-live",t(C)?"assertive":"off")}),x(e,r)};H(te,e=>{(t(C)&&R()||u()&&!f())&&e(ke)})}var Ce=B(te,2);{var Le=e=>{var r=Re();de(r,7,a,(s,l)=>`${s}-${l}`,(s,l,m)=>{const D=T(()=>(o(L()),t(l),p(()=>L()(t(l)))));{let P=T(()=>(o(b()),t(l),p(()=>typeof b()=="string"?b():b()(t(l))))),j=T(()=>t(D)?"default":"warning");ve(s,{get removeButtonLabel(){return t(P)},onremove:()=>Y(t(m)),get intent(){return t(j)},get disabled(){return f()},children:(c,g)=>{ie();var _=oe();q(()=>E(_,t(l))),x(c,_)},$$slots:{default:!0}})}}),h(r),x(e,r)};H(Ce,e=>{a(),o(I()),p(()=>a().length>0&&I())&&e(Le)})}h(K),q((e,r)=>{M(K,1,e,"svelte-38tinz"),M(N,1,r,"svelte-38tinz"),i.disabled=f(),k(i,"placeholder",Q()),k(i,"id",F()),k(i,"name",_e()),i.required=W(),k(i,"data-testid",F()),k(i,"maxlength",(o(u()),a(),p(()=>u()&&a().length>=u()?0:void 0))),k(i,"size",(o(Q()),p(()=>Q().length||void 0))),ee=M(i,1,"svelte-38tinz",null,ee,{"cursor-not-allowed":f()})},[()=>ue((o(O),o(f()),o(X()),p(()=>O("group flex flex-col gap-1",f()&&"cursor-not-allowed",X())))),()=>ue((o(O),o(f()),t(C),p(()=>O("surface-primary flex min-h-[2.5rem] w-full flex-row flex-wrap gap-1 overflow-y-scroll border border-subtle p-2 text-sm text-primary focus-within:border-interactive focus-within:ring-2 focus-within:ring-primary/70",f()&&"cursor-not-allowed opacity-65",t(C)&&"invalid"))))]),x(fe,K),De(),ce()}export{ut as C};
