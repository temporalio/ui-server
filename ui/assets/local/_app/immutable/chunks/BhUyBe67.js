import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as se,as as Ft,l as Fe,s as S,m as P,ah as Nt,a as Ne,e as _,r as v,t as H,d as o,g as e,b as le,n as re,c as l,f as be,ay as Oe,i as Qt}from"./DYX0w8bX.js";import{s as O}from"./CxFVcq4O.js";import{i as Xe}from"./B_BuKjdB.js";import{t as j,a as I,b as ae}from"./Bz76f8pg.js";import{i as ne}from"./CZRFLhJG.js";import{l as ut,p as m}from"./D9WZReL3.js";import{a as xe,s as Qe,b as Ee,d as zt}from"./CgU0heln.js";import{a as Kt,w as Ut}from"./DsexP6Wk.js";import{p as ht}from"./CaLqGdPW.js";import{C as Vt}from"./pxW9yX5F.js";import{s as mt}from"./CFGOF_JX.js";import{C as Jt}from"./WBC9NBqI.js";import{I as fe}from"./CfLkFuqy.js";import{c as Gt,T as gt,a as pt,b as Se}from"./BI-ngNnE.js";import{b as Rt,C as Xt,s as Yt}from"./BoNO6UAY.js";import{t as c}from"./D2OY9xdY.js";import{e as He,i as Be}from"./CgLBepva.js";import{B as Pe}from"./9n7Bsn58.js";import{m as Zt,T as er,g as Ge,w as tr}from"./QIDqQ67d.js";import{I as rr}from"./rZ7s8M-B.js";import{S as ar}from"./DeCWtJRO.js";import{S as sr,O as De}from"./Dnq_uMpk.js";import{A as lr}from"./DsBGK4n-.js";import{C as nr}from"./L65ml-xy.js";import{L as or}from"./BG3xMWRj.js";import{L as ir}from"./DI6-zAPq.js";import{e as Re,l as dr}from"./CnW_xWoi.js";import{b as ur}from"./BA3ZyxmW.js";import{d as ct}from"./DrtmCoTG.js";import{p as cr,q as vr}from"./NsMBkYgj.js";import{P as fr,m as hr,j as mr}from"./DM97XpVC.js";import{a as vt}from"./DDXQMJHw.js";import{g as gr}from"./BTzXSUQY.js";import{P as pr}from"./DmSBDlpF.js";import{A as ft}from"./CQmhgC52.js";var _r=j("<div><!></div>");function Ae(q,t){const n=ut(t,["children","$$slots","$$events","$$legacy"]),b=ut(n,["id","tabId"]);se(t,!1);const[w,f]=Qe(),s=()=>xe(y,"$activePanel",w),r=P();let a=m(t,"id",8),i=m(t,"tabId",8);const{registerPanel:h,activePanel:y}=Ft(Gt);h(a()),Fe(()=>(s(),Nt(a())),()=>{S(r,s()===a())}),Ne(),ne();var u=_r();let d;var k=_(u);mt(k,t,"default",{},null),v(u),H(g=>d=Rt(u,d,{id:a(),"aria-labelledby":i(),tabindex:"0",role:"tabpanel",...b,[Xt]:g}),[()=>({hidden:!e(r),"text-primary":e(r)})],o),I(q,u),le(),f()}var xr=j('<div class="surface-primary grid place-items-center gap-1 rounded border border-subtle px-0 py-4 text-center sm:gap-4 md:gap-x-8 md:px-2 xl:gap-x-16 xl:px-4 svelte-qnj0j6"></div>');function br(q,t){se(t,!1);const n=Array.from({length:31}).map((s,r)=>r+1);let b=m(t,"daysOfMonth",12);const w=(s,r)=>{s.metaKey?b().includes(r)?b().filter(a=>a!==r):b([...b(),r]):b([r])};ne();var f=xr();He(f,5,()=>n,Be,(s,r)=>{const a=o(()=>b().includes(e(r))),i=o(()=>e(a)&&"bg-interactive-secondary-active");Pe(s,{variant:"secondary",get class(){return`max-md:h-9 max-md:px-4 max-md:py-1.5 max-md:text-sm max-sm:h-8 max-sm:px-2 max-sm:py-1 max-sm:text-xs ${e(i)??""}`},$$events:{click:h=>w(h,e(r))},children:(h,y)=>{re();var u=ae();H(()=>O(u,e(r))),I(h,u)},$$slots:{default:!0}})}),v(f),I(q,f),le()}var yr=j('<div class="flex flex-wrap gap-4 text-center"></div>');function $r(q,t){se(t,!1);let n=m(t,"months",12);const b=(f,s)=>{f.metaKey&&s!=="*"?(n().includes("*")&&n(n().filter(r=>r!=="*")),n().includes(s)?n(n().filter(r=>r!==s)):n([...n(),s])):n([s])};ne();var w=yr();He(w,5,()=>Zt,Be,(f,s)=>{let r=()=>e(s).label,a=()=>e(s).value;const i=o(()=>n().includes(a())),h=o(()=>e(i)&&"bg-interactive-secondary-active");Pe(f,{variant:"secondary",get class(){return e(h)},$$events:{click:y=>b(y,a())},children:(y,u)=>{re();var d=ae();H(()=>O(d,r())),I(y,d)},$$slots:{default:!0}})}),v(w),I(q,w),le()}var wr=j('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <div class="flex w-full flex-row items-center gap-2"><!> <span class="text-xs font-normal text-slate-500"> </span></div></div>');function _t(q,t){se(t,!1);let n=m(t,"hour",12,""),b=m(t,"minute",12,"");ne();var w=wr(),f=_(w),s=_(f),r=_(s,!0);v(s);var a=l(s,2),i=_(a,!0);v(a);var h=l(a,2);er(h,{twelveHourClock:!1,includeSeconds:!1,get hour(){return n()},set hour(g){n(g)},get minute(){return b()},set minute(g){b(g)},$$legacy:!0}),v(f);var y=l(f,2),u=_(y);rr(u,{name:"clock","aria-hidden":"true"});var d=l(u,2),k=_(d);v(d),v(y),v(w),H((g,E,U)=>{O(r,g),O(i,E),O(k,`${U??""} Universal Standard Time (UTC)`)},[()=>c("schedules.time-view-heading"),()=>c("schedules.time-view-description"),()=>c("common.based-on-time-preface")],o),I(q,w),le()}var kr=j('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <!> <!></div>');function Ir(q,t){se(t,!1);let n=m(t,"daysOfMonth",12),b=m(t,"months",12),w=m(t,"hour",12),f=m(t,"minute",12);ne();var s=kr(),r=_(s),a=_(r),i=_(a,!0);v(a);var h=l(a,2),y=_(h,!0);v(h);var u=l(h,2);br(u,{get daysOfMonth(){return n()},set daysOfMonth(g){n(g)},$$legacy:!0}),v(r);var d=l(r,2);$r(d,{get months(){return b()},set months(g){b(g)},$$legacy:!0});var k=l(d,2);_t(k,{get hour(){return w()},set hour(g){w(g)},get minute(){return f()},set minute(g){f(g)},$$legacy:!0}),v(s),H((g,E)=>{O(i,g),O(y,E)},[()=>c("schedules.recurring-dates-heading"),()=>c("schedules.recurring-dates-description")],o),I(q,s),le()}var Sr=j('<div class="flex flex-col gap-4 text-center"><div class="flex flex-wrap gap-2 text-center"></div> <div class="flex flex-wrap gap-2 text-center"></div></div>');function Ar(q,t){se(t,!1);let n=m(t,"daysOfWeek",12);const b=(r,a)=>{r.metaKey?(Ge.find(i=>i.value===a)?n([a]):n().find(i=>Ge.find(h=>h.value===i))&&n([a]),n().includes(a)?n().filter(i=>i!==a):n([...n(),a])):n([a])};ne();var w=Sr(),f=_(w);He(f,5,()=>Ge,Be,(r,a)=>{let i=()=>e(a).label,h=()=>e(a).value;const y=o(()=>n().includes(h())),u=o(()=>e(y)&&"bg-interactive-secondary-active");Pe(r,{variant:"secondary",get class(){return e(u)},$$events:{click:d=>b(d,h())},children:(d,k)=>{re();var g=ae();H(()=>O(g,i())),I(d,g)},$$slots:{default:!0}})}),v(f);var s=l(f,2);He(s,5,()=>tr,Be,(r,a)=>{let i=()=>e(a).label,h=()=>e(a).value;const y=o(()=>n().includes(h())),u=o(()=>e(y)&&"bg-interactive-secondary-active");Pe(r,{variant:"secondary",get class(){return e(u)},$$events:{click:d=>b(d,h())},children:(d,k)=>{re();var g=ae();H(()=>O(g,i())),I(d,g)},$$slots:{default:!0}})}),v(s),v(w),I(q,w),le()}var Pr=j('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <!></div>');function Tr(q,t){se(t,!1);let n=m(t,"daysOfWeek",12),b=m(t,"hour",12),w=m(t,"minute",12);ne();var f=Pr(),s=_(f),r=_(s),a=_(r,!0);v(r);var i=l(r,2),h=_(i,!0);v(i);var y=l(i,2);Ar(y,{get daysOfWeek(){return n()},set daysOfWeek(d){n(d)},$$legacy:!0}),v(s);var u=l(s,2);_t(u,{get hour(){return b()},set hour(d){b(d)},get minute(){return w()},set minute(d){w(d)},$$legacy:!0}),v(f),H((d,k)=>{O(a,d),O(h,k)},[()=>c("schedules.recurring-days-heading"),()=>c("schedules.recurring-days-description")],o),I(q,f),le()}var Or=j("<!> <!> <!> <!>",1),Cr=j('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <div class="flex flex-col gap-2 md:flex-row md:items-center"><!> <div class="hidden md:block">:</div> <!> <div class="hidden md:block">:</div> <!> <div class="hidden md:block">:</div> <!></div></div> <div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <div class="flex w-48 gap-2"><!> <!></div></div></div>');function Wr(q,t){se(t,!1);let n=m(t,"days",12,""),b=m(t,"hour",12,""),w=m(t,"minute",12,""),f=m(t,"second",12,""),s=m(t,"phase",12,""),r=P(""),a=P("min");const i=M=>M?isNaN(parseInt(M)):!1;Fe(()=>(e(r),e(a)),()=>{e(r)&&(e(a)==="days"?s((parseInt(e(r))*60*60*24).toString()+"s"):e(a)==="hrs"?s((parseInt(e(r))*60*60).toString()+"s"):e(a)==="min"?s((parseInt(e(r))*60).toString()+"s"):e(a)==="sec"&&s(parseInt(e(r)).toString()+"s"))}),Ne(),ne();var h=Cr(),y=_(h),u=_(y),d=_(u,!0);v(u);var k=l(u,2),g=_(k,!0);v(k);var E=l(k,2),U=_(E);const he=o(()=>c("common.days")),ue=o(()=>c("common.days")),G=o(()=>i(n()));fe(U,{id:"days","data-testid":"days-input",class:"w-28",get label(){return e(he)},labelHidden:!0,placeholder:"000",get suffix(){return e(ue)},hideCount:!0,maxLength:3,get error(){return e(G)},get value(){return n()},set value(M){n(M)},$$legacy:!0});var C=l(U,4);const Z=o(()=>c("common.hours-abbreviated")),B=o(()=>c("common.hours-abbreviated")),Q=o(()=>i(b()));fe(C,{id:"hour-interval","data-testid":"hour-interval-input",class:"w-24",get label(){return e(Z)},labelHidden:!0,placeholder:"00",get suffix(){return e(B)},hideCount:!0,maxLength:2,get error(){return e(Q)},get value(){return b()},set value(M){b(M)},$$legacy:!0});var z=l(C,4);const $=o(()=>c("common.minutes-abbreviated")),oe=o(()=>c("common.minutes-abbreviated")),R=o(()=>i(w()));fe(z,{id:"minute-interval","data-testid":"minute-interval-input",class:"w-24",get label(){return e($)},labelHidden:!0,placeholder:"00",get suffix(){return e(oe)},hideCount:!0,maxLength:2,get error(){return e(R)},get value(){return w()},set value(M){w(M)},$$legacy:!0});var me=l(z,4);const ge=o(()=>c("common.seconds-abbreviated")),Ce=o(()=>c("common.seconds-abbreviated")),D=o(()=>i(f()));fe(me,{id:"second","data-testid":"second-interval-input",class:"w-24",get label(){return e(ge)},labelHidden:!0,placeholder:"00",get suffix(){return e(Ce)},hideCount:!0,maxLength:2,get error(){return e(D)},get value(){return f()},set value(M){f(M)},$$legacy:!0}),v(E),v(y);var ie=l(y,2),x=_(ie),ee=_(x,!0);v(x);var A=l(x,2),V=_(A,!0);v(A);var W=l(A,2),L=_(W);const F=o(()=>c("schedules.offset-heading")),K=o(()=>i(s()));fe(L,{id:"phase",class:"w-28",get label(){return e(F)},labelHidden:!0,placeholder:"00",maxLength:3,hideCount:!0,get error(){return e(K)},get value(){return e(r)},set value(M){S(r,M)},$$legacy:!0});var pe=l(L,2);const ye=o(()=>c("schedules.offset-unit"));sr(pe,{get label(){return e(ye)},labelHidden:!0,id:"phase-unit",get value(){return e(a)},set value(M){S(a,M)},children:(M,ce)=>{var J=Or(),te=be(J);De(te,{value:"days",children:(X,we)=>{re();var N=ae();H(de=>O(N,de),[()=>c("common.days")],o),I(X,N)},$$slots:{default:!0}});var ve=l(te,2);De(ve,{value:"hrs",children:(X,we)=>{re();var N=ae();H(de=>O(N,de),[()=>c("common.hours-abbreviated")],o),I(X,N)},$$slots:{default:!0}});var _e=l(ve,2);De(_e,{value:"min",children:(X,we)=>{re();var N=ae();H(de=>O(N,de),[()=>c("common.minutes-abbreviated")],o),I(X,N)},$$slots:{default:!0}});var $e=l(_e,2);De($e,{value:"sec",children:(X,we)=>{re();var N=ae();H(de=>O(N,de),[()=>c("common.seconds-abbreviated")],o),I(X,N)},$$slots:{default:!0}}),I(M,J)},$$slots:{default:!0},$$legacy:!0}),v(W),v(ie),v(h),H((M,ce,J,te)=>{O(d,M),O(g,ce),O(ee,J),O(V,te)},[()=>c("schedules.interval-view-heading"),()=>c("schedules.interval-view-description"),()=>c("schedules.offset-heading"),()=>c("schedules.offset-description")],o),I(q,h),le()}var Mr=j("<!> <!> <!> <!> <!>",1),qr=j('<div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <div class="flex flex-col gap-2"><p class="text-secondary"> </p> <!></div>',1),Lr=j('<h2 class="mb-4"> </h2> <!> <div class="mt-4 flex w-full flex-wrap gap-6"><!> <!> <!> <!> <!></div> <!>',1);function jr(q,t){se(t,!1);const[n,b]=Qe();let f=xe(ht,"$page",n).params.schedule,s=P(f?"existing":"interval"),r=m(t,"schedule",8,null),a=m(t,"daysOfWeek",12),i=m(t,"daysOfMonth",12),h=m(t,"months",12),y=m(t,"days",12),u=m(t,"hour",12),d=m(t,"minute",12),k=m(t,"second",12),g=m(t,"phase",12),E=m(t,"cronString",12);const U=()=>{a([]),i([]),h([]),y(""),u(""),d(""),k(""),g(""),E("")};Fe(()=>{},()=>{U()}),Ne(),ne(),gt(q,{class:"mt-8 w-full",children:(he,ue)=>{var G=Lr(),C=be(G),Z=_(C,!0);v(C);var B=l(C,2);pt(B,{label:"Schedule Tabs",class:"flex flex-wrap gap-6",children:(D,ie)=>{var x=Mr(),ee=be(x);{var A=K=>{Se(K,{label:"Existing",id:"existing-tab","data-testid":"existing-tab",panelId:"existing-panel",onClick:()=>S(s,"existing")})};Xe(ee,K=>{r()&&K(A)})}var V=l(ee,2);Se(V,{label:"Interval",id:"interval-tab","data-testid":"interval-tab",panelId:"interval-panel",onClick:()=>S(s,"interval")});var W=l(V,2);Se(W,{label:"Days of the Week",id:"daily-tab","data-testid":"daily-tab",panelId:"daily-panel",onClick:()=>S(s,"week")});var L=l(W,2);Se(L,{label:"Days of the Month",id:"monthly-tab","data-testid":"monthly-tab",panelId:"monthly-panel",onClick:()=>S(s,"month")});var F=l(L,2);Se(F,{label:"String",id:"string-tab","data-testid":"string-tab",panelId:"string-panel",onClick:()=>S(s,"string")}),I(D,x)},$$slots:{default:!0}});var Q=l(B,2),z=_(Q);{var $=D=>{Ae(D,{id:"existing-panel",tabId:"existing-tab",class:"w-full",children:(ie,x)=>{const ee=o(()=>{var W,L,F;return(F=(L=(W=r())==null?void 0:W.spec)==null?void 0:L.structuredCalendar)==null?void 0:F[0]}),A=o(()=>{var W,L,F;return(F=(L=(W=r())==null?void 0:W.spec)==null?void 0:L.interval)==null?void 0:F[0]}),V=o(()=>{var W,L;return(L=(W=r())==null?void 0:W.spec)==null?void 0:L.timezoneName});ar(ie,{get calendar(){return e(ee)},get interval(){return e(A)},get timezoneName(){return e(V)}})},$$slots:{default:!0}})};Xe(z,D=>{r()&&D($)})}var oe=l(z,2);Ae(oe,{id:"interval-panel",tabId:"interval-tab",children:(D,ie)=>{Wr(D,{get days(){return y()},set days(x){y(x)},get hour(){return u()},set hour(x){u(x)},get minute(){return d()},set minute(x){d(x)},get second(){return k()},set second(x){k(x)},get phase(){return g()},set phase(x){g(x)},$$legacy:!0})},$$slots:{default:!0}});var R=l(oe,2);Ae(R,{id:"daily-panel",tabId:"daily-tab",children:(D,ie)=>{Tr(D,{get daysOfWeek(){return a()},set daysOfWeek(x){a(x)},get hour(){return u()},set hour(x){u(x)},get minute(){return d()},set minute(x){d(x)},$$legacy:!0})},$$slots:{default:!0}});var me=l(R,2);Ae(me,{id:"monthly-panel",tabId:"monthly-tab",children:(D,ie)=>{Ir(D,{get daysOfMonth(){return i()},set daysOfMonth(x){i(x)},get months(){return h()},set months(x){h(x)},get hour(){return u()},set hour(x){u(x)},get minute(){return d()},set minute(x){d(x)},$$legacy:!0})},$$slots:{default:!0}});var ge=l(me,2);Ae(ge,{id:"string-panel",tabId:"string-tab",class:"flex w-full flex-col gap-4",children:(D,ie)=>{var x=qr(),ee=be(x),A=_(ee),V=_(A,!0);v(A);var W=l(A,2),L=_(W,!0);v(W);var F=l(W,2);Jt(F,{inline:!0,language:"text",content:`┌───────────── minute (0 - 59) 
│ ┌───────────── hour (0 - 23)
│ │ ┌───────────── day of the month (1 - 31)
│ │ │ ┌───────────── month (1 - 12)
│ │ │ │ ┌───────────── day of the week (0 - 6) (Sunday to Saturday)
│ │ │ │ │
* * * * *`,copyable:!1}),v(ee);var K=l(ee,2),pe=_(K),ye=_(pe,!0);v(pe);var M=l(pe,2);const ce=o(()=>c("schedules.cron-view-title"));fe(M,{get label(){return e(ce)},labelHidden:!0,id:"cronString",placeholder:"* * * * *",get value(){return E()},set value(J){E(J)},$$legacy:!0}),v(K),H((J,te,ve)=>{O(V,J),O(L,te),O(ye,ve)},[()=>c("schedules.cron-view-title"),()=>c("schedules.crow-view-example-description"),()=>c("schedules.cron-view-description")],o),I(D,x)},$$slots:{default:!0}}),v(Q);var Ce=l(Q,2);mt(Ce,t,"default",{get preset(){return e(s)}},null),H(D=>O(Z,D),[()=>c("schedules.schedule-spec")],o),I(he,G)},$$slots:{default:!0}}),le(),b()}var Dr=j('<div slot="action"><!></div>'),Er=j('<div class="flex flex-col gap-1"><!></div>');function Hr(q,t){se(t,!1);const[n,b]=Qe(),w=()=>xe(r(),"$encoding",n);let f=m(t,"input",12),s=m(t,"editInput",12),r=m(t,"encoding",12),a=m(t,"messageType",12),i=m(t,"payloads",8),h=m(t,"showEditActions",8,!1),y="",u="json/plain",d="",k=P(!0);const g=ue=>{var G,C,Z,B,Q,z,$;y=gr(ue),f(y);const oe=vt(String((Z=(C=(G=i()===null||i()===void 0?void 0:i().payloads[0])===null||G===void 0?void 0:G.metadata)===null||C===void 0?void 0:C.encoding)!==null&&Z!==void 0?Z:"json/plain")),R=!((Q=(B=i()===null||i()===void 0?void 0:i().payloads[0])===null||B===void 0?void 0:B.metadata)===null||Q===void 0)&&Q.messageType?vt(String(($=(z=i()===null||i()===void 0?void 0:i().payloads[0])===null||z===void 0?void 0:z.metadata)===null||$===void 0?void 0:$.messageType)):"";hr(oe)&&(Ee(r(),oe),u=w(),oe==="json/protobuf"&&R&&(a(R),d=R)),S(k,!1)},E=()=>{s()?(s(!1),f(y),Ee(r(),u),a(d)):(s(!0),f())};ne();var U=Er(),he=_(U);pr(he,{get value(){return i()},key:"payloads",onDecode:g,children:(ue,G)=>{fr(ue,{get editing(){return s()},id:"schedule-payload-input",get input(){return f()},set input(C){f(C)},get encoding(){return r()},set encoding(C){r(C)},get messageType(){return a()},set messageType(C){a(C)},get loading(){return e(k)},set loading(C){S(k,C)},$$slots:{action:(C,Z)=>{var B=Dr();let Q;var z=_(B);Pe(z,{variant:"secondary",$$events:{click:E},children:($,oe)=>{re();var R=ae();H(me=>O(R,me),[()=>s()?c("common.cancel"):c("common.edit")],o),I($,R)},$$slots:{default:!0}}),v(B),H($=>Q=Yt(B,1,"",null,Q,$),[()=>({hidden:!h()})],o),I(C,B)}},$$legacy:!0})},$$slots:{default:!0}}),v(U),I(q,U),le(),b()}var Br=j("<!> <!>",1),Fr=j('<h2 class="mb-4 mt-12">Search Attributes</h2> <!> <div class="mt-4 flex w-full flex-wrap gap-6"><!> <!></div>',1);function Nr(q,t){se(t,!1);let n=m(t,"searchAttributesInput",28,()=>[]),b=m(t,"workflowSearchAttributesInput",28,()=>[]);ne(),gt(q,{children:(w,f)=>{var s=Fr(),r=l(be(s),2);const a=o(()=>c("schedules.add-schedule-attr"));pt(r,{get label(){return e(a)},class:"flex flex-wrap gap-6",children:(u,d)=>{var k=Br(),g=be(k);Se(g,{label:"Schedule",id:"schedule-tab","data-testid":"schedule-tab",panelId:"schedule-panel"});var E=l(g,2);Se(E,{label:"Workflows",id:"workflows-tab","data-testid":"workflows-tab",panelId:"workflows-panel"}),I(u,k)},$$slots:{default:!0}});var i=l(r,2),h=_(i);Ae(h,{id:"schedule-panel",tabId:"schedule-tab",class:"w-full","data-testid":"schedule-panel",children:(u,d)=>{ft(u,{class:"w-full",get attributesToAdd(){return n()},set attributesToAdd(k){n(k)},$$legacy:!0})},$$slots:{default:!0}});var y=l(h,2);Ae(y,{id:"workflows-panel",tabId:"workflows-tab",class:"w-full","data-testid":"workflows-panel",children:(u,d)=>{ft(u,{class:"w-full",get attributesToAdd(){return b()},set attributesToAdd(k){b(k)},$$legacy:!0})},$$slots:{default:!0}}),v(i),I(w,s)},$$slots:{default:!0}}),le()}var Qr=j('<!> <div class="mt-4 flex flex-row items-center gap-4 max-sm:flex-col"><!> <!></div>',1),zr=j('<form class="mb-4 flex w-full flex-col gap-4"><!> <!> <!> <!> <!> <!> <!> <!></form>'),Kr=j("<!> <h1></h1> <!>",1),Ur=j('<div class="flex flex-col gap-4 pb-10"><!></div>');function Oa(q,t){se(t,!1);const[n,b]=Qe(),w=()=>xe(ht,"$page",n),f=()=>xe(ur,"$customSearchAttributes",n),s=()=>xe(e(ye),"$encoding",n),r=()=>xe(Re,"$error",n),a=()=>xe(dr,"$loading",n),i=P();var h,y,u,d,k,g,E,U,he,ue,G,C,Z,B,Q,z;let $=m(t,"schedule",8,null),oe=m(t,"searchAttributes",24,()=>({})),R=m(t,"onConfirm",8),me=w().params.namespace,ge=w().params.schedule,Ce=c($()?"schedules.edit":"schedules.create"),D=c($()?"schedules.editing":"schedules.creating"),ie=c($()?"schedules.back-to-schedule":"schedules.back-to-schedules"),x=$()?cr({namespace:me,scheduleId:ge}):vr({namespace:me}),ee=$()?c("common.save"):c("schedules.create"),A=P({}),V=P(ge??""),W=P((d=(u=(y=(h=$()===null||$()===void 0?void 0:$().action)===null||h===void 0?void 0:h.startWorkflow)===null||y===void 0?void 0:y.workflowType)===null||u===void 0?void 0:u.name)!==null&&d!==void 0?d:""),L=P((E=(g=(k=$()===null||$()===void 0?void 0:$().action)===null||k===void 0?void 0:k.startWorkflow)===null||g===void 0?void 0:g.workflowId)!==null&&E!==void 0?E:""),F=P((G=(ue=(he=(U=$()===null||$()===void 0?void 0:$().action)===null||U===void 0?void 0:U.startWorkflow)===null||he===void 0?void 0:he.taskQueue)===null||ue===void 0?void 0:ue.name)!==null&&G!==void 0?G:""),K=P(""),pe=P(!$()),ye=P(Ut("json/plain")),M=P(""),ce=P([]),J=P([]),te=P([]),ve=P(""),_e=P(""),$e=P(""),X=P(""),we=P(""),N=P("");const de=ct({searchAttributes:oe()}),ze=ct({searchAttributes:(B=(Z=(C=$()===null||$()===void 0?void 0:$().action)===null||C===void 0?void 0:C.startWorkflow)===null||Z===void 0?void 0:Z.searchAttributes)!==null&&B!==void 0?B:{}}),xt=(Q=de==null?void 0:de.searchAttributes.indexedFields)!==null&&Q!==void 0?Q:{},bt=(z=ze==null?void 0:ze.searchAttributes.indexedFields)!==null&&z!==void 0?z:{};let Ke=P(Object.entries(xt).map(([T,Y])=>({label:T,value:Y,type:f()[T]}))),Ue=P(Object.entries(bt).map(([T,Y])=>({label:T,value:Y,type:f()[T]})));const yt=(T,Y)=>{const ke={name:e(V).trimEnd(),workflowType:e(W),workflowId:e(L),taskQueue:e(F),...e(pe)&&{input:e(K)},encoding:s(),messageType:e(M),hour:e(_e),minute:e($e),second:e(X),phase:e(we),cronString:e(N),daysOfWeek:e(ce),daysOfMonth:e(J),days:e(ve),months:e(te),searchAttributes:e(Ke),workflowSearchAttributes:e(Ue)};R()(T,ke,Y)},qe=T=>{const{id:Y}=T.target;Oe(A,e(A)[Y]=!1),r()&&Ee(Re,"")},Le=T=>{const{value:Y,id:ke}=T.target;Y.trim()?Oe(A,e(A)[ke]=!1):Oe(A,e(A)[ke]=!0)},$t=T=>{if(!e(K))return Oe(A,e(A).input=!1),!0;try{return JSON.parse(T),Oe(A,e(A).input=!1),!0}catch{return Oe(A,e(A).input=!0),!1}};Kt(()=>Ee(Re,"")),Fe(()=>(e(V),e(W),e(L),e(F),e(K),e(ve),e(_e),e($e),e(X),e(ce),e(J),e(te),e(N)),()=>{S(i,T=>!e(V)||!e(W)||!e(L)||!e(F)||!$t(e(K))?!0:T==="interval"?!e(ve)&&!e(_e)&&!e($e)&&!e(X):T==="week"?!e(ce).length:T==="month"?!e(J).length||!e(te).length:T==="string"?!e(N):!1)}),Ne(),ne();var Ve=Ur(),wt=_(Ve);{var kt=T=>{ir(T,{title:D})},It=T=>{var Y=Kr(),ke=be(Y);or(ke,{href:x,icon:"chevron-left",children:(Je,At)=>{re();var Te=ae();Te.nodeValue=ie,I(Je,Te)},$$slots:{default:!0}});var Ye=l(ke,2);Ye.textContent=Ce;var St=l(Ye,2);nr(St,{class:"w-full xl:w-3/4 2xl:w-1/2",children:(Je,At)=>{var Te=zr(),Ze=_(Te);const Pt=o(()=>c("schedules.name-label")),Tt=o(()=>!!ge);fe(Ze,{id:"name","data-testid":"schedule-name-input",get label(){return e(Pt)},get error(){return e(A).name},maxLength:232,get disabled(){return e(Tt)},required:!0,get value(){return e(V)},set value(p){S(V,p)},$$events:{input:qe,blur:Le},$$legacy:!0});var et=l(Ze,2);const Ot=o(()=>c("schedules.workflow-type-label"));fe(et,{id:"workflowType","data-testid":"schedule-type-input",get label(){return e(Ot)},get error(){return e(A).workflowType},required:!0,get value(){return e(W)},set value(p){S(W,p)},$$events:{input:qe,blur:Le},$$legacy:!0});var tt=l(et,2);const Ct=o(()=>c("schedules.workflow-id-label"));fe(tt,{id:"workflowId","data-testid":"schedule-workflow-id-input",get label(){return e(Ct)},get error(){return e(A).workflowId},required:!0,get value(){return e(L)},set value(p){S(L,p)},$$events:{input:qe,blur:Le},$$legacy:!0});var rt=l(tt,2);const Wt=o(()=>c("schedules.task-queue-label"));fe(rt,{id:"taskQueue","data-testid":"schedule-task-queue-input",get label(){return e(Wt)},get error(){return e(A).taskQueue},required:!0,get value(){return e(F)},set value(p){S(F,p)},$$events:{input:qe,blur:Le},$$legacy:!0});var at=l(rt,2);const Mt=o(()=>{var p,je,We;return(We=(je=(p=$())==null?void 0:p.action)==null?void 0:je.startWorkflow)==null?void 0:We.input}),qt=o(()=>!!$());Hr(at,{get payloads(){return e(Mt)},get showEditActions(){return e(qt)},get input(){return e(K)},set input(p){S(K,p)},get editInput(){return e(pe)},set editInput(p){S(pe,p)},get encoding(){return e(ye)},set encoding(p){zt(S(ye,p),"$encoding",n)},get messageType(){return e(M)},set messageType(p){S(M,p)},$$legacy:!0});var st=l(at,2);jr(st,{get schedule(){return $()},get daysOfWeek(){return e(ce)},set daysOfWeek(p){S(ce,p)},get daysOfMonth(){return e(J)},set daysOfMonth(p){S(J,p)},get months(){return e(te)},set months(p){S(te,p)},get days(){return e(ve)},set days(p){S(ve,p)},get hour(){return e(_e)},set hour(p){S(_e,p)},get minute(){return e($e)},set minute(p){S($e,p)},get second(){return e(X)},set second(p){S(X,p)},get phase(){return e(we)},set phase(p){S(we,p)},get cronString(){return e(N)},set cronString(p){S(N,p)},children:Qt,$$slots:{default:(p,je)=>{const We=o(()=>je.preset);var nt=Qr(),ot=be(nt);Nr(ot,{get searchAttributesInput(){return e(Ke)},set searchAttributesInput(Ie){S(Ke,Ie)},get workflowSearchAttributesInput(){return e(Ue)},set workflowSearchAttributesInput(Ie){S(Ue,Ie)},$$legacy:!0});var it=l(ot,2),dt=_(it);const Dt=o(()=>e(i)(e(We))||!mr());Pe(dt,{get disabled(){return e(Dt)},class:"max-sm:w-full","data-testid":"create-schedule-button",$$events:{click:()=>yt(e(We),$())},children:(Ie,Ht)=>{re();var Me=ae();Me.nodeValue=ee,I(Ie,Me)},$$slots:{default:!0}});var Et=l(dt,2);Pe(Et,{variant:"ghost",href:x,class:"max-sm:w-full","data-testid":"cancel-schedule-button",children:(Ie,Ht)=>{re();var Me=ae();H(Bt=>O(Me,Bt),[()=>c("common.cancel")],o),I(Ie,Me)},$$slots:{default:!0}}),v(it),I(p,nt)}},$$legacy:!0});var lt=l(st,2);const Lt=o(()=>!r());lr(lt,{intent:"error",get title(){return r()},get hidden(){return e(Lt)}});var jt=l(lt,2);Vt(jt,{}),v(Te),I(Je,Te)},$$slots:{default:!0}}),I(T,Y)};Xe(wt,T=>{a()?T(kt):T(It,!1)})}v(Ve),I(q,Ve),le(),b()}export{Oa as S};
