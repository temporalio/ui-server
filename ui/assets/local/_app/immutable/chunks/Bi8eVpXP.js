import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{G,aa as H,p as A,t as I,i as k,k as J,j as x,e as g,r as z,b as M,c as K,aQ as R,h as C,f as F,o as T,g as S,m as U,s as W}from"./U_G9-AHJ.js";import{e as N,i as V}from"./CbnBDLOu.js";import{i as O,s as Q,t as X}from"./D2UjXFL6.js";import{l as w,p as s,a as Y,c as Z,s as ee}from"./DNW1xCX_.js";import{p as te}from"./PpxJq6tV.js";import{u as ae}from"./yUNbfj3V.js";import{a as re,s as le,e as ne}from"./CVVZ9xwv.js";import{s as se,b as ie,C as ue}from"./CAT1xLwG.js";import{b as oe}from"./BSzjJwb2.js";import{L as ve}from"./Cnk5fW83.js";function B(t,e,l){if(t.multiple)return ce(t,e);for(var r of t.options){var a=p(r);if(H(a,e)){r.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function de(t,e){G(()=>{var l=new MutationObserver(()=>{var r=t.__value;B(t,r)});return l.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{l.disconnect()}})}function fe(t,e,l=e){var r=!0;re(t,"change",a=>{var n=a?"[selected]":":checked",i;if(t.multiple)i=[].map.call(t.querySelectorAll(n),p);else{var u=t.querySelector(n)??t.querySelector("option:not([disabled])");i=u&&p(u)}l(i)}),G(()=>{var a=e();if(B(t,a,r),r&&a===void 0){var n=t.querySelector(":checked");n!==null&&(a=p(n),l(a))}t.__value=a,r=!1}),de(t)}function ce(t,e){for(var l of t.options)l.selected=~e.indexOf(p(l))}function p(t){return"__value"in t?t.__value:t.value}var me=I("<option><!></option>");function D(t,e){const l=w(e,["children","$$slots","$$events","$$legacy"]);A(e,!1);let r=s(e,"value",8,null);O();var a=me(),n={},i=k(a);Q(i,e,"default",{},u=>{var d=J();x(()=>le(d,r())),g(u,d)}),z(a),x(()=>{n!==(n=r())&&(a.value=(a.__value=r())==null?"":r()),se(a,1,`border-0 ${l.class??""}`)}),g(t,a),M()}var _e=I("<div><!> <select><!></select></div>");function ge(t,e){const l=w(e,["children","$$slots","$$events","$$legacy"]),r=w(l,["class","id","value","label","arrow","name","required","options"]);A(e,!1);let a=s(e,"class",8,null),n=s(e,"id",8),i=s(e,"value",12),u=s(e,"label",8),d=s(e,"arrow",8,!1),f=s(e,"name",24,n),h=s(e,"required",8,!1),y=s(e,"options",24,()=>[]);O();var b=_e(),m=k(b);ve(m,{get required(){return h()},get label(){return u()},hidden:!0,get for(){return n()}});var c=K(m,2);x(()=>{i(),R(()=>{a(),d(),f(),n(),y()})});let o;var j=k(c);Q(j,e,"default",{},v=>{var _=C(),L=F(_);N(L,1,y,V,(q,P)=>{D(q,{get value(){return S(P)}})}),g(v,_)}),z(c),z(b),x((v,_)=>o=ie(c,o,{class:v,name:f(),id:n(),...r,[ue]:_},"svelte-19wlu2a"),[()=>X("inline h-10 w-full border px-2 text-base",a()),()=>({remove:d()})],T),fe(c,i),ne("change",c,function(v){oe.call(this,e,v)}),g(t,b),M()}function ze(t,e){const l=w(e,["children","$$slots","$$events","$$legacy"]);A(e,!1);const[r,a]=ee(),n=()=>Y(te,"$page",r);let i=s(e,"label",8),u=s(e,"value",12),d=s(e,"options",24,()=>[]),f=s(e,"parameter",8,null),h=s(e,"position",8,void 0);const y=`${f()||i()}-${h()?`${h()}-filter`:"filter"}`,b=f()&&n().url.searchParams.get(f());let m=U(b||u()&&u().toString());const c=()=>{ae({parameter:f(),value:S(m),url:n().url}).then(o=>u(o))};O(),ge(t,Z({id:y,get label(){return i()}},()=>l,{get value(){return S(m)},set value(o){W(m,o)},$$events:{change:c},children:(o,j)=>{var v=C(),_=F(v);Q(_,e,"default",{},L=>{var q=C(),P=F(q);N(P,1,()=>d().map($=>$.toString()),V,($,E)=>{D($,{get value(){return S(E)}})}),g(L,q)}),g(o,v)},$$slots:{default:!0},$$legacy:!0})),M(),a()}export{ze as F};
