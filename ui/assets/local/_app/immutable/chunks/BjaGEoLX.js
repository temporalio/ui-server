import"./CWj6FrbW.js";import{p as W,L as Y,b as Z,f as h,c as $,d as v,u as I,h as d,e as u,j as T,r as z,g,v as _,n as ee,k as te,t as ae}from"./B6CF0p-B.js";import{s as re}from"./BSSJzwu8.js";import{i as b}from"./DVfqY6Lp.js";import{p as s,c as ne,s as se,r as oe,a as A,b as B}from"./BrOjBIf0.js";import{B as ie}from"./D3maMAGB.js";import{B as le}from"./CWTvEH6g.js";import{I as ce}from"./CsmBsHFA.js";import{M as de,a as ue}from"./C8yzQBLH.js";import{t as C}from"./BC0HqUZ9.js";var fe=h('<div class="flex grow items-center"><!></div>'),me=h('<div class="flex"><!></div>'),ve=h("<!> <!> <!> <!> <!>",1);function Ie(N,e){W(e,!0);const o=()=>A(i,"$open",k),f=()=>A(j,"$menuElement",k),[k,D]=se(),S=s(e,"class",3,""),p=s(e,"count",3,0),m=s(e,"disabled",3,!1),q=s(e,"hasIndicator",3,!1),F=s(e,"id",3,void 0),L=s(e,"label",3,void 0),O=s(e,"variant",3,"secondary"),P=s(e,"size",3,"md"),U=oe(e,["$$slots","$$events","$$legacy","controls","class","count","disabled","hasIndicator","id","label","variant","size","onclick","leading","trailing","children"]),{open:i,menuElement:j}=Y(de),K=()=>{i.update(t=>{let r=t;return m()||(r=!t),e.onclick===null||e.onclick===void 0||e.onclick(r),r})},R=t=>{switch(t.key){case"Escape":B(i,!1);break;case"ArrowDown":t.preventDefault(),o()?X():B(i,!0);break}},X=()=>{var t;const r=Array.from((t=f()===null||f()===void 0?void 0:f().querySelectorAll(ue))!==null&&t!==void 0?t:[]);r&&r[0]&&requestAnimationFrame(()=>r[0].focus())};{let t=_(()=>!m()),r=_(()=>C(S()));le(N,ne({get id(){return F()},get disabled(){return m()},type:"button",get"aria-haspopup"(){return g(t)},get"aria-controls"(){return e.controls},get"aria-expanded"(){return o()},get"aria-label"(){return L()},get variant(){return O()},get class(){return g(r)},get size(){return P()},get active(){return o()},disableTracking:!0},()=>U,{$$events:{click:K,keydown:R},children:(G,ge)=>{var x=ve(),y=$(x);v(y,()=>e.leading??I);var E=d(y,2);{var H=a=>{var n=fe(),l=T(n);v(l,()=>e.children),z(n),u(a,n)};b(E,a=>{e.children&&a(H)})}var w=d(E,2);{var J=a=>{var n=me(),l=T(n);{let c=_(()=>C("transition-transform",o()&&"rotate-180"));ce(l,{name:"chevron-down",get class(){return g(c)}})}z(n),u(a,n)};b(w,a=>{q()&&a(J)})}var M=d(w,2);v(M,()=>e.trailing??I);var Q=d(M,2);{var V=a=>{ie(a,{class:"absolute right-0 top-0 origin-bottom-left translate-x-[10px] translate-y-[-10px]",type:"count",children:(n,l)=>{ee();var c=te();ae(()=>re(c,p())),u(n,c)},$$slots:{default:!0}})};b(Q,a=>{p()>0&&a(V)})}u(G,x)},$$slots:{default:!0}}))}Z(),D()}export{Ie as M};
