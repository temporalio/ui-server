import"./Bzak7iHL.js";import"./69_IOA4Y.js";import{p as ge,N as Se,l as me,M as _e,a as pe,t as J,f as _,i as ie,c as D,h as q,e as c,j as ve,o as C,g as a,r as de,b as be,O as we,m as A,s as $}from"./CeuSLZ0_.js";import{i as xe,s as O,t as Ve}from"./Bs0RATCS.js";import{b as Be}from"./C4eP2b2Z.js";import{l as X,p as t,c as re,a as G,s as Ce}from"./BqQLnCe4.js";import{w as F,o as he,c as He,a as Ne}from"./B9uAqm1w.js";import"./DtuzokhS.js";import{c as Te,d as je,b as ze}from"./CpF6xsfB.js";import{s as De}from"./BWPCX_-J.js";import{i as W}from"./CRQEv5x5.js";import{k as Ae}from"./BFDJKWtF.js";import{r as Fe,b as We,C as Xe}from"./D-JfqLPT.js";import{I as oe}from"./ClThC-d1.js";import{L as Ge}from"./PV4uXEXA.js";import{M as Je}from"./DcDSN58w.js";const ke="select-context";var Ke=J("<input> <!>",1),Qe=J('<span class="text-xs text-danger"> </span>'),Re=J('<div class="flex flex-col gap-1"><!> <!></div> <!> <!>',1);function gt(K,e){const Q=X(e,["children","$$slots","$$events","$$legacy"]),E=X(Q,["label","labelHidden","id","value","placeholder","disabled","loading","leadingIcon","onChange","menuButtonClass","menuClass","variant","required","error","valid","position"]);ge(e,!1);const[h,R]=Ce(),k=()=>G(i,"$labelCtx",h),y=()=>G(s,"$optionsCtx",h);let L=t(e,"label",8),U=t(e,"labelHidden",8,!1),u=t(e,"id",8),n=t(e,"value",12,void 0),d=t(e,"placeholder",8,""),p=t(e,"disabled",8,!1),S=t(e,"loading",8,!1),w=t(e,"leadingIcon",8,null),V=t(e,"onChange",8,()=>{}),f=t(e,"menuButtonClass",8,void 0),r=t(e,"menuClass",8,void 0),Y=t(e,"variant",8,"secondary"),v=t(e,"required",8,!1),B=t(e,"error",8,""),H=t(e,"valid",8,!0),o=t(e,"position",8,void 0);const g=F(n()),s=F([]),i=F(n()===null||n()===void 0?void 0:n().toString()),N=F(!1);function ye(){re(g,n()),re(i,ce(n()))}const Pe=P=>{n(P),V()(n())};function ce(P){const Z=y().find(T=>T.value===P);return Z!==void 0?Z.label:""}Se(ke,{selectValue:g,selectLabel:i,options:s,open:N,handleChange:Pe}),he(()=>{re(i,ce(n()))}),me(()=>_e(n()),()=>{n(),ye()}),pe(),xe(),Te(K,{class:"w-full",open:N,children:(P,Z)=>{var T=Re(),ee=_(T),ue=ie(ee);Ge(ue,{get label(){return L()},get hidden(){return U()},get for(){return u()},get required(){return v()}});var Ie=D(ue,2);Ae(Ie,k,m=>{const b=C(()=>Ve("w-full",!H()&&"border-danger",f())),x=C(()=>!p()),te=C(()=>p()||S()),qe=C(()=>`${E["data-testid"]??u()}-button`);Je(m,{get class(){return a(b)},get hasIndicator(){return a(x)},get disabled(){return a(te)},get controls(){return`${u()??""}-select`},get variant(){return Y()},get"data-testid"(){return a(qe)},"data-track-name":"select","data-track-intent":"select",get"data-track-text"(){return L()},children:(ae,Oe)=>{var I=Ke(),M=_(I);Fe(M);let j;var z=D(M,2);{var ne=l=>{oe(l,{slot:"trailing",name:"lock"})},se=(l,Ee)=>{{var Le=le=>{oe(le,{name:"spinner",class:"animate-spin"})};W(l,le=>{S()&&le(Le)},Ee)}};W(z,l=>{p()?l(ne):l(se,!1)})}ve(l=>j=We(M,j,{id:u(),value:!n()&&d()!==""?d():k(),tabindex:"-1",disabled:!0,required:v(),"aria-required":v(),...E,[Xe]:l},"svelte-1j0yr8e"),[()=>({disabled:p()})],C),c(ae,I)},$$slots:{default:!0,leading:(ae,Oe)=>{var I=q(),M=_(I);O(M,e,"leading",{},j=>{var z=q(),ne=_(z);{var se=l=>{oe(l,{get name(){return w()}})};W(ne,l=>{w()&&l(se)})}c(j,z)}),c(ae,I)}}})}),de(ee);var fe=D(ee,2);je(fe,{role:"listbox",get id(){return`${u()??""}-select`},get class(){return r()},get position(){return o()},children:(m,b)=>{var x=q(),te=_(x);O(te,e,"default",{},null),c(m,x)},$$slots:{default:!0}});var Me=D(fe,2);{var $e=m=>{var b=Qe(),x=ie(b,!0);de(b),ve(()=>De(x,B())),c(m,b)};W(Me,m=>{B()&&!H()&&m($e)})}c(P,T)},$$slots:{default:!0}}),be(),R()}var Ue=J("<span><!></span>");function mt(K,e){const Q=X(e,["children","$$slots","$$events","$$legacy"]),E=X(Q,["value","description","disabled","class"]);ge(e,!1);const[h,R]=Ce(),k=()=>G(L,"$selectValue",h),y=()=>G(u,"$options",h),{selectValue:L,handleChange:U,options:u}=we(ke),n=He();let d=t(e,"value",8),p=t(e,"description",8,""),S=t(e,"disabled",8,!1),w=t(e,"class",8,""),V=A(!1),f=A(),r=A(),Y,v=A();he(()=>{a(r)&&($(v,a(r).textContent),y().push({value:d(),label:a(v),nativeElement:Y}))}),Ne(()=>{let o=y().findIndex(g=>g.value===d());o!==void 0&&y().splice(o,1)});const B=()=>{U(a(f)),n("click",{value:a(f)})};me(()=>(a(r),a(f),_e(d()),k()),()=>{a(r)&&($(f,d()!==null&&d()!==void 0?d():a(r).textContent),$(V,k()===a(f)),$(v,a(r).textContent))}),pe(),xe();const H=C(()=>E["data-testid"]??"");ze(K,{role:"option",get selected(){return a(V)},get description(){return p()},get disabled(){return S()},get class(){return w()},get"data-testid"(){return a(H)},$$events:{click:B},children:(o,g)=>{var s=Ue(),i=ie(s);O(i,e,"default",{},null),de(s),Be(s,N=>$(r,N),()=>a(r)),c(o,s)},$$slots:{default:!0,leading:(o,g)=>{var s=q(),i=_(s);O(i,e,"leading",{},null),c(o,s)},trailing:(o,g)=>{var s=q(),i=_(s);O(i,e,"trailing",{},null),c(o,s)}}}),be(),R()}export{mt as O,gt as S};
