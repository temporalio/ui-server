import"./Bzak7iHL.js";import{p as Qe,h as Me,f as pe,e as n,b as Ge,t as de,i as Ie,c as nt,r as Fe,j as g,o as Pe,g as e,u as s,n as ze,k as F,ag as bt,s as et}from"./C-0kx8Rl.js";import{e as De,s as D,d as yt}from"./B-1TjF6E.js";import{i as o}from"./DIXBMONz.js";import{p as S,s as Xe,a as Ze,c as tt}from"./B0Wc33k0.js";import{p as ut}from"./BYSpOEGX.js";import{T as xe}from"./CE7rq5rR.js";import{W as gt}from"./rQ9pVa1K.js";import{B as kt}from"./CqraL4jo.js";import{i as rt,c as ht,w as _t}from"./CFk5eimv.js";import{S as Be}from"./S6Q2Q0ub.js";import{i as Tt}from"./Dzb719w0.js";import{x as xt}from"./2uWpc1Jl.js";import{g as Bt}from"./CT3a8W8Y.js";import{c as Ne,j as pt}from"./CHguYLHx.js";import{k as It}from"./Bk-WG8rN.js";import"./69_IOA4Y.js";import{k as Ft}from"./B0kvq5Du.js";import{c as Dt,a as ot}from"./DliSAU7O.js";import{p as at,s as st}from"./Bfc47y5P.js";import{i as St,t as Vt}from"./DFzl7kYA.js";import{I as lt}from"./BQ19dEFL.js";import{c as Ct}from"./CYpf-jeJ.js";import{L as it}from"./CaLSDurD.js";import{T as Ot}from"./D7zMa2zU.js";import{t as Ue}from"./BXv1jDVW.js";import{w as Ye}from"./Rm5k1C2O.js";import{u as Wt}from"./m59lV-1s.js";import{s as At}from"./BDfAQ6r3.js";const Et=(k,t=2)=>{if(!+k)return"0 Bytes";const _=1024,L=t<0?0:t,c=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],V=Math.floor(Math.log(k)/Math.log(_));return`${parseFloat((k/Math.pow(_,V)).toFixed(L))} ${c[V]}`};var Rt=de('<button id="filter-button"><!></button>'),jt=de('<button class="copy-or-filter-button svelte-qwjj97" id="copy-button"><!></button>'),Pt=de("<div><!> <!></div>");function Mt(k,t){Qe(t,!1);const[_,L]=Xe(),c=()=>Ze(be,"$copied",_);let V=S(t,"show",8,!1),q=S(t,"filterable",8,!0),H=S(t,"copyable",8,!0),r=S(t,"content",8),E=S(t,"onFilter",8,()=>{}),z=S(t,"filtered",8,!1),v=S(t,"copyIconTitle",8),J=S(t,"copySuccessIconTitle",8),$=S(t,"filterIconTitle",8),we=S(t,"class",8,"");const{copy:re,copied:be}=Ct();St();var oe=Me(),ye=pe(oe);{var a=l=>{var m=Pt(),R=Ie(m);{var T=u=>{var h=Rt();let f;var K=Ie(h);Ft(K,z,W=>{lt(W,{get title(){return $()},name:"filter",class:"m-1"})}),Fe(h),g(W=>f=ot(h,1,"copy-or-filter-button svelte-qwjj97",null,f,W),[()=>({filtered:z()})],Pe),De("click",h,at(st(function(...W){var Q;(Q=E())==null||Q.apply(this,W)}))),n(u,h)};o(R,u=>{q()&&u(T)})}var i=nt(R,2);{var C=u=>{var h=jt(),f=Ie(h);const K=Pe(()=>c()?J():v()),W=Pe(()=>c()?"checkmark":"copy");lt(f,{get title(){return e(K)},get name(){return e(W)},class:"m-1"}),Fe(h),De("click",h,at(st(Q=>re(Q,r())))),n(u,h)};o(i,u=>{H()&&u(C)})}Fe(m),g(u=>ot(m,1,u,"svelte-qwjj97"),[()=>Dt(Vt("copy-or-filter",we()))],Pe),n(l,m)};o(ye,l=>{V()&&l(a)})}n(k,oe),Ge(),L()}var Lt=de("<!> <!>",1);function Y(k,t){Qe(t,!0);const[_,L]=Xe(),c=()=>Ze(Ye,"$workflowFilters",_);let V=S(t,"filterOrCopyButtonsVisible",3,!1),q=S(t,"type",19,()=>Be.KEYWORD);const H=a=>a.length>11?`${a.slice(0,4)}...${a.slice(-4)}`:a,r=t.attribute==="RunId",E=()=>{const a=c().find(m=>m.attribute===t.attribute),l=()=>c().filter(m=>m.attribute!==t.attribute);if(!a||a.value!==t.value){const m={attribute:t.attribute,type:q(),value:t.value,conditional:"=",operator:"",parenthesis:""};tt(Ye,[...l(),m])}else tt(Ye,[...l()]);Wt(ut.url,c())};var z=Lt(),v=pe(z);{var J=a=>{Ot(a,{get text(){return t.value},top:!0,class:"min-w-0",children:(l,m)=>{it(l,{get href(){return t.href},class:"cursor-help",children:(R,T)=>{ze();var i=F();g(C=>D(i,C),[()=>H(t.value)]),n(R,i)},$$slots:{default:!0}})},$$slots:{default:!0}})},$=(a,l)=>{{var m=T=>{it(T,{get href(){return t.href},children:(i,C)=>{ze();var u=F();g(()=>D(u,t.value)),n(i,u)},$$slots:{default:!0}})},R=T=>{var i=F();g(()=>D(i,t.value)),n(T,i)};o(a,T=>{t.href?T(m):T(R,!1)},l)}};o(v,a=>{r?a(J):a($,!1)})}var we=nt(v,2);const re=s(()=>Ue("common.copy-icon-title")),be=s(()=>Ue("common.copy-success-icon-title")),oe=s(()=>Ue("common.filter-workflows")),ye=s(()=>c().some(a=>a.attribute===t.attribute&&a.value===t.value));Mt(we,{get copyIconTitle(){return e(re)},get copySuccessIconTitle(){return e(be)},get filterIconTitle(){return e(oe)},get show(){return V()},get content(){return t.value},onFilter:E,get filtered(){return e(ye)}}),n(k,z),Ge(),L()}const qt=(k,t)=>{const _=k.relatedTarget;_&&!["filter-button","copy-button"].includes(_.id)&&t()};var Ht=de('<td class="workflows-summary-table-body-cell filterable svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>'),Kt=de('<td class="workflows-summary-table-body-cell svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>');function hr(k,t){Qe(t,!0);const[_,L]=Xe(),c=()=>Ze(ht,"$customSearchAttributes",_);var V,q;let H=S(t,"archival",3,!1);const r=s(()=>t.column.label),E=s(()=>ut.params.namespace),z=s(()=>rt(e(r))&&(c()[e(r)]===Be.KEYWORD||c()[e(r)]===Be.TEXT)&&typeof((q=(V=t.workflow.searchAttributes)===null||V===void 0?void 0:V.indexedFields)===null||q===void 0?void 0:q[e(r)])=="string");let v=bt(!1);const J=()=>et(v,!0),$=()=>et(v,!1),we=["Type","Workflow ID","Run ID","Deployment","Versioning Behavior","Deployment Version","Build ID","Scheduled By ID"];var re=Me(),be=pe(re);{var oe=a=>{var l=Ht();l.__mouseover=J,l.__focusin=J,l.__focusout=[qt,$];var m=Ie(l);{var R=i=>{const C=s(()=>Ne({namespace:e(E),workflow:t.workflow.id,run:t.workflow.runId,archival:H()}));Y(i,{get filterOrCopyButtonsVisible(){return e(v)},attribute:"WorkflowType",get value(){return t.workflow.name},get href(){return e(C)}})},T=(i,C)=>{{var u=f=>{const K=s(()=>Ne({namespace:e(E),workflow:t.workflow.id,run:t.workflow.runId,archival:H()}));Y(f,{get filterOrCopyButtonsVisible(){return e(v)},attribute:"WorkflowId",get value(){return t.workflow.id},get href(){return e(K)}})},h=(f,K)=>{{var W=x=>{const ge=s(()=>Ne({namespace:e(E),workflow:t.workflow.id,run:t.workflow.runId,archival:H()}));Y(x,{get filterOrCopyButtonsVisible(){return e(v)},attribute:"RunId",get value(){return t.workflow.runId},get href(){return e(ge)}})},Q=(x,ge)=>{{var Le=B=>{const O=s(()=>{var d,p;return(p=(d=t.workflow.searchAttributes)==null?void 0:d.indexedFields)==null?void 0:p.TemporalWorkerDeployment}),ke=s(()=>e(O)&&typeof e(O)=="string"?e(O):""),he=s(()=>e(O)?pt({namespace:e(E),deployment:e(O)}):void 0);Y(B,{get filterOrCopyButtonsVisible(){return e(v)},attribute:"TemporalWorkerDeployment",get value(){return e(ke)},get href(){return e(he)}})},qe=(B,O)=>{{var ke=d=>{const p=s(()=>{var ae,w;return(w=(ae=t.workflow.searchAttributes)==null?void 0:ae.indexedFields)==null?void 0:w.TemporalWorkerDeploymentVersion}),G=s(()=>e(p)&&typeof e(p)=="string"?e(p):"");Y(d,{get filterOrCopyButtonsVisible(){return e(v)},attribute:"TemporalWorkerDeploymentVersion",get value(){return e(G)}})},he=(d,p)=>{{var G=w=>{const j=s(()=>{var se,b,I,P,N;return((I=(b=(se=t.workflow)==null?void 0:se.searchAttributes)==null?void 0:b.indexedFields)==null?void 0:I.TemporalWorkerBuildId)||Bt((N=(P=t.workflow.searchAttributes)==null?void 0:P.indexedFields)==null?void 0:N.TemporalWorkerDeploymentVersion)}),ee=s(()=>e(j)&&typeof e(j)=="string"?e(j):"");Y(w,{get filterOrCopyButtonsVisible(){return e(v)},attribute:"TemporalWorkerBuildId",get value(){return e(ee)}})},ae=(w,j)=>{{var ee=b=>{const I=s(()=>{var N,y;return(y=(N=t.workflow.searchAttributes)==null?void 0:N.indexedFields)==null?void 0:y.TemporalWorkflowVersioningBehavior}),P=s(()=>e(I)&&typeof e(I)=="string"?e(I):"");Y(b,{get filterOrCopyButtonsVisible(){return e(v)},attribute:"TemporalWorkflowVersioningBehavior",get value(){return e(P)}})},se=(b,I)=>{{var P=y=>{const _e=s(()=>{var le,X;return(X=(le=t.workflow.searchAttributes)==null?void 0:le.indexedFields)==null?void 0:X[e(r)]});Y(y,{get filterOrCopyButtonsVisible(){return e(v)},get attribute(){return e(r)},get value(){return e(_e)},get type(){return c()[e(r)]}})},N=(y,_e)=>{{var le=X=>{const M=s(()=>{var ne,Se;return(Se=(ne=t.workflow.searchAttributes)==null?void 0:ne.indexedFields)==null?void 0:Se.TemporalScheduledById}),ie=s(()=>e(M)&&typeof e(M)=="string"?e(M):"");Y(X,{get filterOrCopyButtonsVisible(){return e(v)},attribute:"TemporalScheduledById",get value(){return e(ie)}})};o(y,X=>{e(r)==="Scheduled By ID"&&X(le)},_e)}};o(b,y=>{e(z)?y(P):y(N,!1)},I)}};o(w,b=>{e(r)==="Versioning Behavior"?b(ee):b(se,!1)},j)}};o(d,w=>{e(r)==="Build ID"?w(G):w(ae,!1)},p)}};o(B,d=>{e(r)==="Deployment Version"?d(ke):d(he,!1)},O)}};o(x,B=>{e(r)==="Deployment"?B(Le):B(qe,!1)},ge)}};o(f,x=>{e(r)==="Run ID"?x(W):x(Q,!1)},K)}};o(i,f=>{e(r)==="Workflow ID"?f(u):f(h,!1)},C)}};o(m,i=>{e(r)==="Type"?i(R):i(T,!1)})}Fe(l),De("focus",l,J),De("mouseleave",l,$),De("blur",l,$),n(a,l)},ye=a=>{var l=Kt(),m=Ie(l);{var R=i=>{const C=s(()=>Tt(t.workflow)),u=s(()=>It(t.workflow));gt(i,{get status(){return t.workflow.status},get delayed(){return e(C)},get taskFailure(){return e(u)}})},T=(i,C)=>{{var u=f=>{xe(f,{get dateTime(){return t.workflow.endTime}})},h=(f,K)=>{{var W=x=>{xe(x,{get dateTime(){return t.workflow.startTime}})},Q=(x,ge)=>{{var Le=B=>{var O=F();g(()=>D(O,t.workflow.taskQueue)),n(B,O)},qe=(B,O)=>{{var ke=d=>{var p=F();g(()=>{var G;return D(p,((G=t.workflow)==null?void 0:G.parentNamespaceId)??"")}),n(d,p)},he=(d,p)=>{{var G=w=>{var j=F();g(ee=>D(j,ee),[()=>Et(parseInt(t.workflow.historySizeBytes,10))]),n(w,j)},ae=(w,j)=>{{var ee=b=>{var I=F();g(P=>D(I,P),[()=>parseInt(t.workflow.stateTransitionCount,10)>0?t.workflow.stateTransitionCount:""]),n(b,I)},se=(b,I)=>{{var P=y=>{xe(y,{get dateTime(){return t.workflow.executionTime}})},N=(y,_e)=>{{var le=M=>{var ie=F();g(ne=>D(ie,ne),[()=>xt({start:t.workflow.startTime,end:t.workflow.endTime,includeMillisecondsForUnderSecond:!0})]),n(M,ie)},X=(M,ie)=>{{var ne=ue=>{var Ve=F();g(He=>D(Ve,He),[()=>parseInt(t.workflow.historyEvents,10)>0?t.workflow.historyEvents:""]),n(ue,Ve)},Se=(ue,Ve)=>{{var He=fe=>{var Ce=F();g(()=>{var Oe,We;return D(Ce,((We=(Oe=t.workflow.searchAttributes)==null?void 0:Oe.indexedFields)==null?void 0:We.TemporalScheduledById)??"")}),n(fe,Ce)},ft=(fe,Ce)=>{{var Oe=ce=>{var Ae=Me();const Te=s(()=>{var A,te;return(te=(A=t.workflow.searchAttributes)==null?void 0:A.indexedFields)==null?void 0:te.TemporalScheduledStartTime});var Ke=pe(Ae);{var Z=A=>{xe(A,{get dateTime(){return e(Te)}})};o(Ke,A=>{e(Te)&&typeof e(Te)=="string"&&A(Z)})}n(ce,Ae)},We=(ce,Ae)=>{{var Te=Z=>{var A=F();g(()=>{var te,me;return D(A,(me=(te=t.workflow.searchAttributes)==null?void 0:te.indexedFields)==null?void 0:me.TemporalChangeVersion)}),n(Z,A)},Ke=(Z,A)=>{{var te=me=>{var Je=Me();const Ee=s(()=>{var U,Re;return(Re=(U=t.workflow.searchAttributes)==null?void 0:U.indexedFields)==null?void 0:Re[e(r)]});var ct=pe(Je);{var mt=U=>{xe(U,{get dateTime(){return e(Ee)}})},vt=(U,Re)=>{{var dt=ve=>{kt(ve,{children:(je,Nt)=>{ze();var $e=F();g(()=>D($e,e(Ee))),n(je,$e)},$$slots:{default:!0}})},wt=ve=>{var je=F();g(()=>D(je,e(Ee))),n(ve,je)};o(U,ve=>{c()[e(r)]===Be.BOOL?ve(dt):ve(wt,!1)},Re)}};o(ct,U=>{c()[e(r)]===Be.DATETIME&&typeof e(Ee)=="string"?U(mt):U(vt,!1)})}n(me,Je)};o(Z,me=>{rt(e(r))&&_t(t.workflow,e(r))&&me(te)},A)}};o(ce,Z=>{e(r)==="Change Version"?Z(Te):Z(Ke,!1)},Ae)}};o(fe,ce=>{e(r)==="Scheduled Start Time"?ce(Oe):ce(We,!1)},Ce)}};o(ue,fe=>{e(r)==="Scheduled By ID"?fe(He):fe(ft,!1)},Ve)}};o(M,ue=>{e(r)==="History Length"?ue(ne):ue(Se,!1)},ie)}};o(y,M=>{e(r)==="Execution Duration"?M(le):M(X,!1)},_e)}};o(b,y=>{e(r)==="Execution Time"?y(P):y(N,!1)},I)}};o(w,b=>{e(r)==="State Transitions"?b(ee):b(se,!1)},j)}};o(d,w=>{e(r)==="History Size"?w(G):w(ae,!1)},p)}};o(B,d=>{e(r)==="Parent Namespace"?d(ke):d(he,!1)},O)}};o(x,B=>{e(r)==="Task Queue"?B(Le):B(qe,!1)},ge)}};o(f,x=>{e(r)==="Start"?x(W):x(Q,!1)},K)}};o(i,f=>{e(r)==="End"?f(u):f(h,!1)},C)}};o(m,i=>{e(r)==="Status"?i(R):i(T,!1)})}Fe(l),n(a,l)};o(be,a=>{we.includes(e(r))||e(z)?a(oe):a(ye,!1)})}n(k,re),Ge(),L()}yt(["mouseover","focusin","focusout"]);const _r=(k,t)=>{const _=At({workflows:k},null,2),L=`workflows-${k.length}-${t}-${Date.now()}.json`;c(_,L,"text/plain");function c(V,q,H){const r=document.createElement("a"),E=new Blob([V],{type:H});r.href=URL.createObjectURL(E),r.download=q,r.click()}};export{hr as T,_r as e};
