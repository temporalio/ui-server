import"./CWj6FrbW.js";import{p as W,N as Y,b as Z,f as h,c as $,d as v,h as d,e as u,g,v as _,u as I,j as N,r as T,n as ee,k as te,t as ae}from"./DZ1-1a5q.js";import{s as re}from"./DxwvfIkW.js";import{i as b}from"./DnKg3jxh.js";import{p as s,c as ne,s as se,r as oe,a as z,b as A}from"./TaaIktnz.js";import{B as ie}from"./CqqsKTDn.js";import{B as le}from"./BhE7TzK5.js";import{I as ce}from"./BwERH40W.js";import{M as de,a as ue}from"./CnHlilQN.js";import{t as B}from"./Bby3K3wO.js";var fe=h('<div class="flex grow items-center"><!></div>'),me=h('<div class="flex"><!></div>'),ve=h("<!> <!> <!> <!> <!>",1);function Ie(C,e){W(e,!0);const o=()=>z(i,"$open",k),f=()=>z(K,"$menuElement",k),[k,D]=se(),S=s(e,"class",3,""),p=s(e,"count",3,0),m=s(e,"disabled",3,!1),q=s(e,"hasIndicator",3,!1),F=s(e,"id",3,void 0),O=s(e,"label",3,void 0),P=s(e,"variant",3,"secondary"),U=s(e,"size",3,"md"),j=oe(e,["$$slots","$$events","$$legacy","controls","class","count","disabled","hasIndicator","id","label","variant","size","onclick","leading","trailing","children"]),{open:i,menuElement:K}=Y(de),L=()=>{i.update(t=>{let r=t;return m()||(r=!t),e.onclick===null||e.onclick===void 0||e.onclick(r),r})},R=t=>{switch(t.key){case"Escape":A(i,!1);break;case"ArrowDown":t.preventDefault(),o()?X():A(i,!0);break}},X=()=>{var t;const r=Array.from((t=f()===null||f()===void 0?void 0:f().querySelectorAll(ue))!==null&&t!==void 0?t:[]);r&&r[0]&&requestAnimationFrame(()=>r[0].focus())};{let t=_(()=>!m()),r=_(()=>B(S()));le(C,ne({get id(){return F()},get disabled(){return m()},type:"button",get"aria-haspopup"(){return g(t)},get"aria-controls"(){return e.controls},get"aria-expanded"(){return o()},get"aria-label"(){return O()},get variant(){return P()},get class(){return g(r)},get size(){return U()},get active(){return o()},disableTracking:!0},()=>j,{$$events:{click:L,keydown:R},children:(G,ge)=>{var x=ve(),y=$(x);v(y,()=>e.leading??I);var E=d(y,2);{var H=a=>{var n=fe(),l=N(n);v(l,()=>e.children),T(n),u(a,n)};b(E,a=>{e.children&&a(H)})}var w=d(E,2);{var J=a=>{var n=me(),l=N(n);{let c=_(()=>B("transition-transform",o()&&"rotate-180"));ce(l,{name:"chevron-down",get class(){return g(c)}})}T(n),u(a,n)};b(w,a=>{q()&&a(J)})}var M=d(w,2);v(M,()=>e.trailing??I);var Q=d(M,2);{var V=a=>{ie(a,{class:"absolute right-0 top-0 origin-bottom-left translate-x-[10px] translate-y-[-10px]",type:"count",children:(n,l)=>{ee();var c=te();ae(()=>re(c,p())),u(n,c)},$$slots:{default:!0}})};b(Q,a=>{p()>0&&a(V)})}u(G,x)},$$slots:{default:!0}}))}Z(),D()}export{Ie as M};
