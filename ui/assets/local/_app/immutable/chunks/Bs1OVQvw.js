import"./Bzak7iHL.js";import"./69_IOA4Y.js";import{p as ce,h as V,f as D,e as h,b as ue,m as g,l as z,a as Be,t as de,i as p,c as o,r as m,n as se,j as B,o as a,g as e,s as x,M as re,k as Ge}from"./DOHD4F2H.js";import{s as T}from"./iKtCZmbp.js";import{i as pe,s as G}from"./DX2YhGcN.js";import{p as u,s as me,a as Je,c as ne}from"./CgvkIcHY.js";import{a as Oe,w as Ue}from"./BsnfN2fh.js";import{i as We}from"./4jpKiR-7.js";import{p as Xe}from"./CHq1DAzu.js";import{A as Ye}from"./CK5Z_5Ma.js";import{C as le}from"./DnvOEAyq.js";import{I as oe}from"./8FIst1NU.js";import{M as Ze}from"./COJVkBNG.js";import{t as n}from"./BXv1jDVW.js";function et(K,s){ce(s,!1);const[J,M]=me(),I=()=>Je(Xe,"$page",J);let R=u(s,"isCloud",8,!1);pe();var _=V(),y=D(_);{var w=i=>{var l=V(),c=D(l);G(c,s,"default",{},null),h(i,l)},k=i=>{var l=V(),c=D(l);G(c,s,"fallback",{},null),h(i,l)};We(y,i=>{var l,c,f;R()||(f=(c=(l=I().data)==null?void 0:l.settings)==null?void 0:c.runtimeEnvironment)!=null&&f.isCloud?i(w):i(k,!1)})}h(K,_),ue(),M()}const ve={spec:{name:"",descriptionString:"",target:{worker:{namespace:"",taskQueue:""}},allowedCallerNamespaces:[]}},ie=Ue(ve);var tt=de('<div class="flex flex-col gap-0"><p class="text-base text-primary"> </p> <p class="text-xs text-secondary"> </p></div> <!>',1),at=de('<div class="flex w-full flex-col gap-4 xl:w-1/2"><!> <div class="flex flex-col gap-0"><p class="text-base text-primary"> </p> <p class="text-xs text-secondary"> </p></div> <!> <!> <!> <div class="flex flex-col gap-2"><p class="text-sm font-medium">Description</p> <!> <p class="text-xs text-secondary">Do not include sensitive data.</p></div> <!></div> <!>',1);function _t(K,s){ce(s,!1);const[J,M]=me(),I=g(),R=g();var _,y,w,k,i,l,c,f,Q;let r=u(s,"endpoint",8,void 0),ge=u(s,"targetNamespaceList",24,()=>[]),O=u(s,"callerNamespaceList",24,()=>[]),$=u(s,"error",8,void 0),xe=u(s,"nameDisabled",8,!1),_e=u(s,"isCloud",8,!0),fe=u(s,"nameHintText",8),U=u(s,"nameRegexPattern",8),b=g(((_=r()===null||r()===void 0?void 0:r().spec)===null||_===void 0?void 0:_.name)||""),S=g(((y=r()===null||r()===void 0?void 0:r().spec)===null||y===void 0?void 0:y.descriptionString)||""),N=g(((i=(k=(w=r()===null||r()===void 0?void 0:r().spec)===null||w===void 0?void 0:w.target)===null||k===void 0?void 0:k.worker)===null||i===void 0?void 0:i.namespace)||""),C=g(((f=(c=(l=r()===null||r()===void 0?void 0:r().spec)===null||l===void 0?void 0:l.target)===null||c===void 0?void 0:c.worker)===null||f===void 0?void 0:f.taskQueue)||""),q=g(((Q=r()===null||r()===void 0?void 0:r().spec)===null||Q===void 0?void 0:Q.allowedCallerNamespaces)||[]);const be=(t,L,v,d,P)=>{ne(ie,{spec:{name:t,descriptionString:L,target:{worker:{namespace:v,taskQueue:d}},allowedCallerNamespaces:P}})};Oe(()=>{ne(ie,ve)}),z(()=>(e(b),e(S),e(N),e(C),e(q)),()=>{be(e(b),e(S),e(N),e(C),e(q))}),z(()=>re(O()),()=>{x(I,O().map(t=>({value:t.namespace,label:t.namespace})))}),z(()=>re(U()),()=>{x(R,t=>U().test(t))}),Be(),pe();var W=at(),j=D(W),X=p(j);const he=a(()=>!e(b)||!e(R)(e(b))),ye=a(()=>n("nexus.endpoint-name")),we=a(()=>n("nexus.endpoint-name-placeholder"));oe(X,{required:!0,get disabled(){return xe()},get error(){return e(he)},get hintText(){return fe()},get label(){return e(ye)},id:"name",maxLength:255,get placeholder(){return e(we)},get value(){return e(b)},set value(t){x(b,t)},$$legacy:!0});var A=o(X,2),E=p(A),ke=p(E,!0);m(E);var Y=o(E,2),Ne=p(Y,!0);m(Y),m(A);var Z=o(A,2);const Ce=a(()=>n("nexus.target-namespace")),qe=a(()=>n("common.no-results")),Le=a(()=>!!e(N)),Pe=a(()=>n("nexus.select-namespace"));le(Z,{get label(){return e(Ce)},get noResultsText(){return e(qe)},get valid(){return e(Le)},error:"Please select a target Namespace.",required:!0,id:"target-namespace",get placeholder(){return e(Pe)},leadingIcon:"namespace-switcher",get options(){return ge()},optionValueKey:"namespace",minSize:32,get value(){return e(N)},set value(t){x(N,t)},$$legacy:!0});var ee=o(Z,2);const Te=a(()=>!e(C)),De=a(()=>n("common.task-queue")),Ie=a(()=>n("nexus.task-queue-placeholder"));oe(ee,{required:!0,get error(){return e(Te)},get label(){return e(De)},id:"task-queue",get placeholder(){return e(Ie)},get value(){return e(C)},set value(t){x(C,t)},$$legacy:!0});var te=o(ee,2);et(te,{get isCloud(){return _e()},children:(t,L)=>{var v=tt(),d=D(v),P=p(d),$e=p(P,!0);m(P);var ae=o(P,2),je=p(ae,!0);m(ae),m(d);var Ae=o(d,2);const Ee=a(()=>n("nexus.allowed-caller-namespaces")),Fe=a(()=>n("common.no-results")),He=a(()=>!!e(q).length),Ve=a(()=>n("nexus.select-namespaces"));le(Ae,{id:"caller-namespace-filter-menu",multiselect:!0,displayChips:!1,get options(){return e(I)},get label(){return e(Ee)},leadingIcon:"search",get noResultsText(){return e(Fe)},get valid(){return e(He)},error:"Please select at least one Namespace.",get placeholder(){return e(Ve)},optionValueKey:"value",optionLabelKey:"label",get value(){return e(q)},set value(H){x(q,H)},$$legacy:!0}),B((H,ze)=>{T($e,H),T(je,ze)},[()=>n("nexus.access-policy"),()=>n("nexus.allowed-caller-namespaces-description")],a),h(t,v)},$$slots:{default:!0}});var F=o(te,2),Re=o(p(F),2);Ze(Re,{get content(){return e(S)},set content(t){x(S,t)},$$legacy:!0}),se(2),m(F);var Se=o(F,2);G(Se,s,"footer",{},null),m(j);var Ke=o(j,2);const Me=a(()=>{var t;return(t=$())==null?void 0:t.statusText}),Qe=a(()=>!$());Ye(Ke,{get title(){return e(Me)},intent:"error",get hidden(){return e(Qe)},children:(t,L)=>{se();var v=Ge();B(()=>{var d;return T(v,(d=$())==null?void 0:d.message)}),h(t,v)},$$slots:{default:!0}}),B((t,L)=>{T(ke,t),T(Ne,L)},[()=>n("nexus.target"),()=>n("nexus.target-description")],a),h(K,W),ue(),M()}export{_t as N,ie as e};
