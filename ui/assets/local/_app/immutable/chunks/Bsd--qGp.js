import"./Bzak7iHL.js";import"./69_IOA4Y.js";import{p as oe,O as Qt,l as Me,s as I,m as A,M as ht,a as ze,t as j,i as _,r as f,j as D,o,g as e,e as k,b as ie,n as le,k as ne,c as s,f as ye,af as Ce,q as Ut}from"./CeuSLZ0_.js";import{s as C}from"./BWPCX_-J.js";import{i as Ye}from"./CRQEv5x5.js";import{i as de,s as gt}from"./Bs0RATCS.js";import{l as ct,p as d,a as be,s as Fe,c as De,d as Kt}from"./BqQLnCe4.js";import{a as Vt,w as Jt}from"./B9uAqm1w.js";import{p as pt}from"./DrfOI3OR.js";import{C as Gt}from"./pWKLezDg.js";import{C as Rt}from"./CdvCfy1b.js";import{I as me}from"./SlPIDQSH.js";import{T as Xt,a as _t,b as xt,c as Ie}from"./CkDopil0.js";import{b as Yt,C as Zt,s as er}from"./D-JfqLPT.js";import{t as v}from"./BXv1jDVW.js";import{e as Ee,i as Be}from"./BDegIHXr.js";import{B as Ae}from"./DtcLjaX3.js";import{m as tr,T as rr,g as Re,w as ar}from"./DYNMw7g2.js";import{I as sr}from"./ClThC-d1.js";import{S as lr}from"./BitQXzH6.js";import{S as nr,O as He}from"./Bk_j58eB.js";import{A as or}from"./DcDJ5ze9.js";import{C as ir}from"./_0sdwlgf.js";import{L as dr}from"./CfURwROQ.js";import{L as ur}from"./CeUdWmHq.js";import{e as Xe,l as cr}from"./D9dQ7d2P.js";import{c as vr}from"./DFnzOsKj.js";import{d as vt}from"./Ual1JxCq.js";import{p as fr,q as mr}from"./BcGVblhi.js";import{P as hr,k as gr,l as pr}from"./7y1pgQ99.js";import{a as ft}from"./D1lF4JF7.js";import{g as _r}from"./pu94HVPV.js";import{P as xr}from"./B0dTXAIW.js";import{A as mt}from"./D8YVrO_N.js";var br=j("<div><!></div>");function Se(N,t){const n=ct(t,["children","$$slots","$$events","$$legacy"]),y=ct(n,["id","tabId"]);oe(t,!1);const[w,g]=Fe(),l=()=>be(x,"$activePanel",w),r=A();let a=d(t,"id",8),i=d(t,"tabId",8);const{registerPanel:c,activePanel:x}=Qt(Xt);c(a()),Me(()=>(l(),ht(a())),()=>{I(r,l()===a())}),ze(),de();var u=br();let m;var h=_(u);gt(h,t,"default",{},null),f(u),D(S=>m=Yt(u,m,{id:a(),"aria-labelledby":i(),tabindex:"0",role:"tabpanel",...y,[Zt]:S}),[()=>({hidden:!e(r),"text-primary":e(r)})],o),k(N,u),ie(),g()}var yr=j('<div class="surface-primary grid place-items-center gap-1 rounded border border-subtle px-0 py-4 text-center sm:gap-4 md:gap-x-8 md:px-2 xl:gap-x-16 xl:px-4 svelte-qnj0j6"></div>');function $r(N,t){oe(t,!1);const n=Array.from({length:31}).map((l,r)=>r+1);let y=d(t,"daysOfMonth",12);const w=(l,r)=>{l.metaKey?y().includes(r)?y().filter(a=>a!==r):y([...y(),r]):y([r])};de();var g=yr();Ee(g,5,()=>n,Be,(l,r)=>{const a=o(()=>y().includes(e(r))),i=o(()=>e(a)&&"bg-interactive-secondary-active");Ae(l,{variant:"secondary",get class(){return`max-md:h-9 max-md:px-4 max-md:py-1.5 max-md:text-sm max-sm:h-8 max-sm:px-2 max-sm:py-1 max-sm:text-xs ${e(i)??""}`},$$events:{click:c=>w(c,e(r))},children:(c,x)=>{le();var u=ne();D(()=>C(u,e(r))),k(c,u)},$$slots:{default:!0}})}),f(g),k(N,g),ie()}var wr=j('<div class="flex flex-wrap gap-4 text-center"></div>');function kr(N,t){oe(t,!1);let n=d(t,"months",12);const y=(g,l)=>{g.metaKey&&l!=="*"?(n().includes("*")&&n(n().filter(r=>r!=="*")),n().includes(l)?n(n().filter(r=>r!==l)):n([...n(),l])):n([l])};de();var w=wr();Ee(w,5,()=>tr,Be,(g,l)=>{let r=()=>e(l).label,a=()=>e(l).value;const i=o(()=>n().includes(a())),c=o(()=>e(i)&&"bg-interactive-secondary-active");Ae(g,{variant:"secondary",get class(){return e(c)},$$events:{click:x=>y(x,a())},children:(x,u)=>{le();var m=ne();D(()=>C(m,r())),k(x,m)},$$slots:{default:!0}})}),f(w),k(N,w),ie()}var Ir=j('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <div class="flex w-full flex-row items-center gap-2"><!> <span class="text-xs font-normal text-slate-500"> </span></div></div>');function bt(N,t){oe(t,!1);const n=A();let y=d(t,"hour",12,""),w=d(t,"minute",12,""),g=d(t,"timezoneName",8);Me(()=>ht(g()),()=>{I(n,g().toLowerCase()==="utc"?"Universal Standard Time (UTC)":g())}),ze(),de();var l=Ir(),r=_(l),a=_(r),i=_(a,!0);f(a);var c=s(a,2),x=_(c,!0);f(c);var u=s(c,2);rr(u,{twelveHourClock:!1,includeSeconds:!1,get hour(){return y()},set hour(z){y(z)},get minute(){return w()},set minute(z){w(z)},$$legacy:!0}),f(r);var m=s(r,2),h=_(m);sr(h,{name:"clock","aria-hidden":"true"});var S=s(h,2),P=_(S);f(S),f(m),f(l),D((z,ue,Y)=>{C(i,z),C(x,ue),C(P,`${Y??""} ${e(n)??""}`)},[()=>v("schedules.time-view-heading"),()=>v("schedules.time-view-description",{timezoneName:g()}),()=>v("common.based-on-time-preface")],o),k(N,l),ie()}var Sr=j('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <!> <!></div>');function Ar(N,t){oe(t,!1);let n=d(t,"daysOfMonth",12),y=d(t,"months",12),w=d(t,"hour",12),g=d(t,"minute",12),l=d(t,"timezoneName",8);de();var r=Sr(),a=_(r),i=_(a),c=_(i,!0);f(i);var x=s(i,2),u=_(x,!0);f(x);var m=s(x,2);$r(m,{get daysOfMonth(){return n()},set daysOfMonth(P){n(P)},$$legacy:!0}),f(a);var h=s(a,2);kr(h,{get months(){return y()},set months(P){y(P)},$$legacy:!0});var S=s(h,2);bt(S,{get timezoneName(){return l()},get hour(){return w()},set hour(P){w(P)},get minute(){return g()},set minute(P){g(P)},$$legacy:!0}),f(r),D((P,z)=>{C(c,P),C(u,z)},[()=>v("schedules.recurring-dates-heading"),()=>v("schedules.recurring-dates-description")],o),k(N,r),ie()}var Pr=j('<div class="flex flex-col gap-4 text-center"><div class="flex flex-wrap gap-2 text-center"></div> <div class="flex flex-wrap gap-2 text-center"></div></div>');function Tr(N,t){oe(t,!1);let n=d(t,"daysOfWeek",12);const y=(r,a)=>{r.metaKey?(Re.find(i=>i.value===a)?n([a]):n().find(i=>Re.find(c=>c.value===i))&&n([a]),n().includes(a)?n().filter(i=>i!==a):n([...n(),a])):n([a])};de();var w=Pr(),g=_(w);Ee(g,5,()=>Re,Be,(r,a)=>{let i=()=>e(a).label,c=()=>e(a).value;const x=o(()=>n().includes(c())),u=o(()=>e(x)&&"bg-interactive-secondary-active");Ae(r,{variant:"secondary",get class(){return e(u)},$$events:{click:m=>y(m,c())},children:(m,h)=>{le();var S=ne();D(()=>C(S,i())),k(m,S)},$$slots:{default:!0}})}),f(g);var l=s(g,2);Ee(l,5,()=>ar,Be,(r,a)=>{let i=()=>e(a).label,c=()=>e(a).value;const x=o(()=>n().includes(c())),u=o(()=>e(x)&&"bg-interactive-secondary-active");Ae(r,{variant:"secondary",get class(){return e(u)},$$events:{click:m=>y(m,c())},children:(m,h)=>{le();var S=ne();D(()=>C(S,i())),k(m,S)},$$slots:{default:!0}})}),f(l),f(w),k(N,w),ie()}var Or=j('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <!></div>');function Cr(N,t){oe(t,!1);let n=d(t,"daysOfWeek",12),y=d(t,"hour",12),w=d(t,"minute",12),g=d(t,"timezoneName",8);de();var l=Or(),r=_(l),a=_(r),i=_(a,!0);f(a);var c=s(a,2),x=_(c,!0);f(c);var u=s(c,2);Tr(u,{get daysOfWeek(){return n()},set daysOfWeek(h){n(h)},$$legacy:!0}),f(r);var m=s(r,2);bt(m,{get timezoneName(){return g()},get hour(){return y()},set hour(h){y(h)},get minute(){return w()},set minute(h){w(h)},$$legacy:!0}),f(l),D((h,S)=>{C(i,h),C(x,S)},[()=>v("schedules.recurring-days-heading"),()=>v("schedules.recurring-days-description")],o),k(N,l),ie()}var Wr=j("<!> <!> <!> <!>",1),Nr=j('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <div class="flex flex-col gap-2 md:flex-row md:items-center"><!> <div class="hidden md:block">:</div> <!> <div class="hidden md:block">:</div> <!> <div class="hidden md:block">:</div> <!></div></div> <div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <div class="flex w-48 gap-2"><!> <!></div></div></div>');function Mr(N,t){oe(t,!1);let n=d(t,"days",12,""),y=d(t,"hour",12,""),w=d(t,"minute",12,""),g=d(t,"second",12,""),l=d(t,"phase",12,""),r=A(""),a=A("min");const i=W=>W?isNaN(parseInt(W)):!1;Me(()=>(e(r),e(a)),()=>{e(r)&&(e(a)==="days"?l((parseInt(e(r))*60*60*24).toString()+"s"):e(a)==="hrs"?l((parseInt(e(r))*60*60).toString()+"s"):e(a)==="min"?l((parseInt(e(r))*60).toString()+"s"):e(a)==="sec"&&l(parseInt(e(r)).toString()+"s"))}),ze(),de();var c=Nr(),x=_(c),u=_(x),m=_(u,!0);f(u);var h=s(u,2),S=_(h,!0);f(h);var P=s(h,2),z=_(P);const ue=o(()=>v("common.days")),Y=o(()=>v("common.days")),ce=o(()=>i(n()));me(z,{id:"days","data-testid":"days-input",class:"w-28",get label(){return e(ue)},labelHidden:!0,placeholder:"000",get suffix(){return e(Y)},hideCount:!0,maxLength:3,get error(){return e(ce)},get value(){return n()},set value(W){n(W)},$$legacy:!0});var M=s(z,4);const J=o(()=>v("common.hours-abbreviated")),E=o(()=>v("common.hours-abbreviated")),Q=o(()=>i(y()));me(M,{id:"hour-interval","data-testid":"hour-interval-input",class:"w-24",get label(){return e(J)},labelHidden:!0,placeholder:"00",get suffix(){return e(E)},hideCount:!0,maxLength:2,get error(){return e(Q)},get value(){return y()},set value(W){y(W)},$$legacy:!0});var B=s(M,4);const F=o(()=>v("common.minutes-abbreviated")),re=o(()=>v("common.minutes-abbreviated")),b=o(()=>i(w()));me(B,{id:"minute-interval","data-testid":"minute-interval-input",class:"w-24",get label(){return e(F)},labelHidden:!0,placeholder:"00",get suffix(){return e(re)},hideCount:!0,maxLength:2,get error(){return e(b)},get value(){return w()},set value(W){w(W)},$$legacy:!0});var _e=s(B,4);const Pe=o(()=>v("common.seconds-abbreviated")),Te=o(()=>v("common.seconds-abbreviated")),he=o(()=>i(g()));me(_e,{id:"second","data-testid":"second-interval-input",class:"w-24",get label(){return e(Pe)},labelHidden:!0,placeholder:"00",get suffix(){return e(Te)},hideCount:!0,maxLength:2,get error(){return e(he)},get value(){return g()},set value(W){g(W)},$$legacy:!0}),f(P),f(x);var L=s(x,2),ae=_(L),$=_(ae,!0);f(ae);var G=s(ae,2),T=_(G,!0);f(G);var H=s(G,2),q=_(H);const U=o(()=>v("schedules.offset-heading")),R=o(()=>i(l()));me(q,{id:"phase",class:"w-28",get label(){return e(U)},labelHidden:!0,placeholder:"00",maxLength:3,hideCount:!0,get error(){return e(R)},get value(){return e(r)},set value(W){I(r,W)},$$legacy:!0});var K=s(q,2);const ge=o(()=>v("schedules.offset-unit"));nr(K,{get label(){return e(ge)},labelHidden:!0,id:"phase-unit",get value(){return e(a)},set value(W){I(a,W)},children:(W,xe)=>{var se=Wr(),X=ye(se);He(X,{value:"days",children:(Z,pe)=>{le();var V=ne();D(ee=>C(V,ee),[()=>v("common.days")],o),k(Z,V)},$$slots:{default:!0}});var ve=s(X,2);He(ve,{value:"hrs",children:(Z,pe)=>{le();var V=ne();D(ee=>C(V,ee),[()=>v("common.hours-abbreviated")],o),k(Z,V)},$$slots:{default:!0}});var fe=s(ve,2);He(fe,{value:"min",children:(Z,pe)=>{le();var V=ne();D(ee=>C(V,ee),[()=>v("common.minutes-abbreviated")],o),k(Z,V)},$$slots:{default:!0}});var $e=s(fe,2);He($e,{value:"sec",children:(Z,pe)=>{le();var V=ne();D(ee=>C(V,ee),[()=>v("common.seconds-abbreviated")],o),k(Z,V)},$$slots:{default:!0}}),k(W,se)},$$slots:{default:!0},$$legacy:!0}),f(H),f(L),f(c),D((W,xe,se,X)=>{C(m,W),C(S,xe),C($,se),C(T,X)},[()=>v("schedules.interval-view-heading"),()=>v("schedules.interval-view-description"),()=>v("schedules.offset-heading"),()=>v("schedules.offset-description")],o),k(N,c),ie()}var zr=j("<!> <!> <!> <!> <!>",1),qr=j('<div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <div class="flex flex-col gap-2"><p class="text-secondary"> </p> <!></div>',1),Lr=j('<h2 class="mb-4"> </h2> <!> <div class="mt-4 flex w-full flex-wrap gap-6"><!> <!> <!> <!> <!></div> <!>',1);function jr(N,t){oe(t,!1);const[n,y]=Fe();let g=be(pt,"$page",n).params.schedule,l=A(g?"existing":"interval"),r=d(t,"schedule",8,null),a=d(t,"daysOfWeek",12),i=d(t,"daysOfMonth",12),c=d(t,"months",12),x=d(t,"days",12),u=d(t,"hour",12),m=d(t,"minute",12),h=d(t,"second",12),S=d(t,"phase",12),P=d(t,"cronString",12),z=d(t,"timezoneName",8);const ue=()=>{a([]),i([]),c([]),x(""),u(""),m(""),h(""),S(""),P("")};Me(()=>{},()=>{ue()}),ze(),de(),_t(N,{class:"mt-8 w-full",children:(Y,ce)=>{var M=Lr(),J=ye(M),E=_(J,!0);f(J);var Q=s(J,2);xt(Q,{label:"Schedule Tabs",children:(L,ae)=>{var $=zr(),G=ye($);{var T=K=>{Ie(K,{label:"Existing",id:"existing-tab","data-testid":"existing-tab",panelId:"existing-panel",onClick:()=>I(l,"existing")})};Ye(G,K=>{r()&&K(T)})}var H=s(G,2);Ie(H,{label:"Interval",id:"interval-tab","data-testid":"interval-tab",panelId:"interval-panel",onClick:()=>I(l,"interval")});var q=s(H,2);Ie(q,{label:"Days of the Week",id:"daily-tab","data-testid":"daily-tab",panelId:"daily-panel",onClick:()=>I(l,"week")});var U=s(q,2);Ie(U,{label:"Days of the Month",id:"monthly-tab","data-testid":"monthly-tab",panelId:"monthly-panel",onClick:()=>I(l,"month")});var R=s(U,2);Ie(R,{label:"String",id:"string-tab","data-testid":"string-tab",panelId:"string-panel",onClick:()=>I(l,"string")}),k(L,$)},$$slots:{default:!0}});var B=s(Q,2),F=_(B);{var re=L=>{Se(L,{id:"existing-panel",tabId:"existing-tab",class:"w-full",children:(ae,$)=>{const G=o(()=>{var H,q,U,R;return[...((q=(H=r())==null?void 0:H.spec)==null?void 0:q.structuredCalendar)??[],...((R=(U=r())==null?void 0:U.spec)==null?void 0:R.interval)??[]]}),T=o(()=>{var H,q;return(q=(H=r())==null?void 0:H.spec)==null?void 0:q.timezoneName});lr(ae,{get frequency(){return e(G)},get timezoneName(){return e(T)}})},$$slots:{default:!0}})};Ye(F,L=>{r()&&L(re)})}var b=s(F,2);Se(b,{id:"interval-panel",tabId:"interval-tab",children:(L,ae)=>{Mr(L,{get days(){return x()},set days($){x($)},get hour(){return u()},set hour($){u($)},get minute(){return m()},set minute($){m($)},get second(){return h()},set second($){h($)},get phase(){return S()},set phase($){S($)},$$legacy:!0})},$$slots:{default:!0}});var _e=s(b,2);Se(_e,{id:"daily-panel",tabId:"daily-tab",children:(L,ae)=>{Cr(L,{get timezoneName(){return z()},get daysOfWeek(){return a()},set daysOfWeek($){a($)},get hour(){return u()},set hour($){u($)},get minute(){return m()},set minute($){m($)},$$legacy:!0})},$$slots:{default:!0}});var Pe=s(_e,2);Se(Pe,{id:"monthly-panel",tabId:"monthly-tab",children:(L,ae)=>{Ar(L,{get timezoneName(){return z()},get daysOfMonth(){return i()},set daysOfMonth($){i($)},get months(){return c()},set months($){c($)},get hour(){return u()},set hour($){u($)},get minute(){return m()},set minute($){m($)},$$legacy:!0})},$$slots:{default:!0}});var Te=s(Pe,2);Se(Te,{id:"string-panel",tabId:"string-tab",class:"flex w-full flex-col gap-4",children:(L,ae)=>{var $=qr(),G=ye($),T=_(G),H=_(T,!0);f(T);var q=s(T,2),U=_(q,!0);f(q);var R=s(q,2);Rt(R,{inline:!0,language:"text",content:`┌───────────── minute (0 - 59) 
│ ┌───────────── hour (0 - 23)
│ │ ┌───────────── day of the month (1 - 31)
│ │ │ ┌───────────── month (1 - 12)
│ │ │ │ ┌───────────── day of the week (0 - 6) (Sunday to Saturday)
│ │ │ │ │
* * * * *`,copyable:!1}),f(G);var K=s(G,2),ge=_(K),W=_(ge,!0);f(ge);var xe=s(ge,2);const se=o(()=>v("schedules.cron-view-title"));me(xe,{get label(){return e(se)},labelHidden:!0,id:"cronString",placeholder:"* * * * *",get value(){return P()},set value(X){P(X)},$$legacy:!0}),f(K),D((X,ve,fe)=>{C(H,X),C(U,ve),C(W,fe)},[()=>v("schedules.cron-view-title"),()=>v("schedules.crow-view-example-description"),()=>v("schedules.cron-view-description")],o),k(L,$)},$$slots:{default:!0}}),f(B);var he=s(B,2);gt(he,t,"default",{get preset(){return e(l)}},null),D(L=>C(E,L),[()=>v("schedules.schedule-spec")],o),k(Y,M)},$$slots:{default:!0}}),ie(),y()}var Hr=j('<div slot="action"><!></div>'),Dr=j('<div class="flex flex-col gap-1"><!></div>');function Er(N,t){oe(t,!1);const[n,y]=Fe(),w=()=>be(r(),"$encoding",n);let g=d(t,"input",12),l=d(t,"editInput",12),r=d(t,"encoding",12),a=d(t,"messageType",12),i=d(t,"payloads",8),c=d(t,"showEditActions",8,!1),x="",u="json/plain",m="",h=A(!0);const S=Y=>{var ce,M,J,E,Q,B,F;x=_r(Y),g(x);const re=ft(String((J=(M=(ce=i()===null||i()===void 0?void 0:i().payloads[0])===null||ce===void 0?void 0:ce.metadata)===null||M===void 0?void 0:M.encoding)!==null&&J!==void 0?J:"json/plain")),b=!((Q=(E=i()===null||i()===void 0?void 0:i().payloads[0])===null||E===void 0?void 0:E.metadata)===null||Q===void 0)&&Q.messageType?ft(String((F=(B=i()===null||i()===void 0?void 0:i().payloads[0])===null||B===void 0?void 0:B.metadata)===null||F===void 0?void 0:F.messageType)):"";gr(re)&&(De(r(),re),u=w(),re==="json/protobuf"&&b&&(a(b),m=b)),I(h,!1)},P=()=>{l()?(l(!1),g(x),De(r(),u),a(m)):(l(!0),g())};de();var z=Dr(),ue=_(z);xr(ue,{get value(){return i()},key:"payloads",onDecode:S,children:(Y,ce)=>{hr(Y,{get editing(){return l()},id:"schedule-payload-input",get input(){return g()},set input(M){g(M)},get encoding(){return r()},set encoding(M){r(M)},get messageType(){return a()},set messageType(M){a(M)},get loading(){return e(h)},set loading(M){I(h,M)},$$slots:{action:(M,J)=>{var E=Hr();let Q;var B=_(E);Ae(B,{variant:"secondary",$$events:{click:P},children:(F,re)=>{le();var b=ne();D(_e=>C(b,_e),[()=>l()?v("common.cancel"):v("common.edit")],o),k(F,b)},$$slots:{default:!0}}),f(E),D(F=>Q=er(E,1,"",null,Q,F),[()=>({hidden:!c()})],o),k(M,E)}},$$legacy:!0})},$$slots:{default:!0}}),f(z),k(N,z),ie(),y()}var Br=j("<!> <!>",1),Fr=j('<h2 class="mb-4 mt-12">Search Attributes</h2> <!> <div class="mt-4 flex w-full flex-wrap gap-6"><!> <!></div>',1);function Qr(N,t){oe(t,!1);let n=d(t,"searchAttributesInput",28,()=>[]),y=d(t,"workflowSearchAttributesInput",28,()=>[]);de(),_t(N,{children:(w,g)=>{var l=Fr(),r=s(ye(l),2);const a=o(()=>v("schedules.add-schedule-attr"));xt(r,{get label(){return e(a)},class:"flex flex-wrap gap-6",children:(u,m)=>{var h=Br(),S=ye(h);Ie(S,{label:"Schedule",id:"schedule-tab","data-testid":"schedule-tab",panelId:"schedule-panel"});var P=s(S,2);Ie(P,{label:"Workflows",id:"workflows-tab","data-testid":"workflows-tab",panelId:"workflows-panel"}),k(u,h)},$$slots:{default:!0}});var i=s(r,2),c=_(i);Se(c,{id:"schedule-panel",tabId:"schedule-tab",class:"w-full","data-testid":"schedule-panel",children:(u,m)=>{mt(u,{class:"w-full",get attributesToAdd(){return n()},set attributesToAdd(h){n(h)},$$legacy:!0})},$$slots:{default:!0}});var x=s(c,2);Se(x,{id:"workflows-panel",tabId:"workflows-tab",class:"w-full","data-testid":"workflows-panel",children:(u,m)=>{mt(u,{class:"w-full",get attributesToAdd(){return y()},set attributesToAdd(h){y(h)},$$legacy:!0})},$$slots:{default:!0}}),f(i),k(w,l)},$$slots:{default:!0}}),ie()}var Ur=j('<!> <div class="mt-4 flex flex-row items-center gap-4 max-sm:flex-col"><!> <!></div>',1),Kr=j('<form class="mb-4 flex w-full flex-col gap-4"><!> <!> <!> <!> <!> <!> <!> <!></form>'),Vr=j("<!> <h1></h1> <!>",1),Jr=j('<div class="flex flex-col gap-4 pb-10"><!></div>');function Ta(N,t){oe(t,!1);const[n,y]=Fe(),w=()=>be(pt,"$page",n),g=()=>be(vr,"$customSearchAttributes",n),l=()=>be(e(W),"$encoding",n),r=()=>be(Xe,"$error",n),a=()=>be(cr,"$loading",n),i=A();var c,x,u,m,h,S,P,z,ue,Y,ce,M,J,E,Q,B,F,re;let b=d(t,"schedule",8,null),_e=d(t,"searchAttributes",24,()=>({})),Pe=d(t,"onConfirm",8),Te=w().params.namespace,he=w().params.schedule,L=v(b()?"schedules.edit":"schedules.create"),ae=v(b()?"schedules.back-to-schedule":"schedules.back-to-schedules"),$=b()?fr({namespace:Te,scheduleId:he}):mr({namespace:Te}),G=b()?v("common.save"):v("schedules.create"),T=A({}),H=A(he??""),q=A((m=(u=(x=(c=b()===null||b()===void 0?void 0:b().action)===null||c===void 0?void 0:c.startWorkflow)===null||x===void 0?void 0:x.workflowType)===null||u===void 0?void 0:u.name)!==null&&m!==void 0?m:""),U=A((P=(S=(h=b()===null||b()===void 0?void 0:b().action)===null||h===void 0?void 0:h.startWorkflow)===null||S===void 0?void 0:S.workflowId)!==null&&P!==void 0?P:""),R=A((ce=(Y=(ue=(z=b()===null||b()===void 0?void 0:b().action)===null||z===void 0?void 0:z.startWorkflow)===null||ue===void 0?void 0:ue.taskQueue)===null||Y===void 0?void 0:Y.name)!==null&&ce!==void 0?ce:""),K=A(""),ge=A(!b()),W=A(Jt("json/plain")),xe=A(""),se=A([]),X=A([]),ve=A([]),fe=A(""),$e=A(""),Z=A(""),pe=A(""),V=A(""),ee=A(""),yt=(J=(M=b()===null||b()===void 0?void 0:b().spec)===null||M===void 0?void 0:M.timezoneName)!==null&&J!==void 0?J:"UTC";const Qe=vt({searchAttributes:_e()}),Ue=vt({searchAttributes:(B=(Q=(E=b()===null||b()===void 0?void 0:b().action)===null||E===void 0?void 0:E.startWorkflow)===null||Q===void 0?void 0:Q.searchAttributes)!==null&&B!==void 0?B:{}}),$t=(F=Qe==null?void 0:Qe.searchAttributes.indexedFields)!==null&&F!==void 0?F:{},wt=(re=Ue==null?void 0:Ue.searchAttributes.indexedFields)!==null&&re!==void 0?re:{};let Ke=A(Object.entries($t).map(([O,te])=>({label:O,value:te,type:g()[O]}))),Ve=A(Object.entries(wt).map(([O,te])=>({label:O,value:te,type:g()[O]})));const kt=(O,te)=>{const we={name:e(H).trimEnd(),workflowType:e(q),workflowId:e(U),taskQueue:e(R),...e(ge)&&{input:e(K)},encoding:l(),messageType:e(xe),hour:e($e),minute:e(Z),second:e(pe),phase:e(V),cronString:e(ee),daysOfWeek:e(se),daysOfMonth:e(X),days:e(fe),months:e(ve),searchAttributes:e(Ke),workflowSearchAttributes:e(Ve)};Pe()(O,we,te)},qe=O=>{const{id:te}=O.target;Ce(T,e(T)[te]=!1),r()&&De(Xe,"")},Le=O=>{const{value:te,id:we}=O.target;te.trim()?Ce(T,e(T)[we]=!1):Ce(T,e(T)[we]=!0)},It=O=>{if(!e(K))return Ce(T,e(T).input=!1),!0;try{return JSON.parse(O),Ce(T,e(T).input=!1),!0}catch{return Ce(T,e(T).input=!0),!1}};Vt(()=>De(Xe,"")),Me(()=>(e(H),e(q),e(U),e(R),e(K),e(fe),e($e),e(Z),e(pe),e(se),e(X),e(ve),e(ee)),()=>{I(i,O=>!e(H)||!e(q)||!e(U)||!e(R)||!It(e(K))?!0:O==="interval"?!e(fe)&&!e($e)&&!e(Z)&&!e(pe):O==="week"?!e(se).length:O==="month"?!e(X).length||!e(ve).length:O==="string"?!e(ee):!1)}),ze(),de();var Je=Jr(),St=_(Je);{var At=O=>{ur(O,{})},Pt=O=>{var te=Vr(),we=ye(te);dr(we,{href:$,icon:"chevron-left",children:(Ge,Ot)=>{le();var Oe=ne();Oe.nodeValue=ae,k(Ge,Oe)},$$slots:{default:!0}});var Ze=s(we,2);Ze.textContent=L;var Tt=s(Ze,2);ir(Tt,{class:"w-full xl:w-3/4 2xl:w-1/2",children:(Ge,Ot)=>{var Oe=Kr(),et=_(Oe);const Ct=o(()=>v("schedules.name-label")),Wt=o(()=>!!he);me(et,{id:"name","data-testid":"schedule-name-input",get label(){return e(Ct)},get error(){return e(T).name},maxLength:232,get disabled(){return e(Wt)},required:!0,get value(){return e(H)},set value(p){I(H,p)},$$events:{input:qe,blur:Le},$$legacy:!0});var tt=s(et,2);const Nt=o(()=>v("schedules.workflow-type-label"));me(tt,{id:"workflowType","data-testid":"schedule-type-input",get label(){return e(Nt)},get error(){return e(T).workflowType},required:!0,get value(){return e(q)},set value(p){I(q,p)},$$events:{input:qe,blur:Le},$$legacy:!0});var rt=s(tt,2);const Mt=o(()=>v("schedules.workflow-id-label"));me(rt,{id:"workflowId","data-testid":"schedule-workflow-id-input",get label(){return e(Mt)},get error(){return e(T).workflowId},required:!0,get value(){return e(U)},set value(p){I(U,p)},$$events:{input:qe,blur:Le},$$legacy:!0});var at=s(rt,2);const zt=o(()=>v("schedules.task-queue-label"));me(at,{id:"taskQueue","data-testid":"schedule-task-queue-input",get label(){return e(zt)},get error(){return e(T).taskQueue},required:!0,get value(){return e(R)},set value(p){I(R,p)},$$events:{input:qe,blur:Le},$$legacy:!0});var st=s(at,2);const qt=o(()=>{var p,je,We;return(We=(je=(p=b())==null?void 0:p.action)==null?void 0:je.startWorkflow)==null?void 0:We.input}),Lt=o(()=>!!b());Er(st,{get payloads(){return e(qt)},get showEditActions(){return e(Lt)},get input(){return e(K)},set input(p){I(K,p)},get editInput(){return e(ge)},set editInput(p){I(ge,p)},get encoding(){return e(W)},set encoding(p){Kt(I(W,p),"$encoding",n)},get messageType(){return e(xe)},set messageType(p){I(xe,p)},$$legacy:!0});var lt=s(st,2);jr(lt,{get schedule(){return b()},timezoneName:yt,get daysOfWeek(){return e(se)},set daysOfWeek(p){I(se,p)},get daysOfMonth(){return e(X)},set daysOfMonth(p){I(X,p)},get months(){return e(ve)},set months(p){I(ve,p)},get days(){return e(fe)},set days(p){I(fe,p)},get hour(){return e($e)},set hour(p){I($e,p)},get minute(){return e(Z)},set minute(p){I(Z,p)},get second(){return e(pe)},set second(p){I(pe,p)},get phase(){return e(V)},set phase(p){I(V,p)},get cronString(){return e(ee)},set cronString(p){I(ee,p)},children:Ut,$$slots:{default:(p,je)=>{const We=o(()=>je.preset);var ot=Ur(),it=ye(ot);Qr(it,{get searchAttributesInput(){return e(Ke)},set searchAttributesInput(ke){I(Ke,ke)},get workflowSearchAttributesInput(){return e(Ve)},set workflowSearchAttributesInput(ke){I(Ve,ke)},$$legacy:!0});var dt=s(it,2),ut=_(dt);const Dt=o(()=>e(i)(e(We))||!pr());Ae(ut,{get disabled(){return e(Dt)},class:"max-sm:w-full","data-testid":"create-schedule-button",$$events:{click:()=>kt(e(We),b())},children:(ke,Bt)=>{le();var Ne=ne();Ne.nodeValue=G,k(ke,Ne)},$$slots:{default:!0}});var Et=s(ut,2);Ae(Et,{variant:"ghost",href:$,class:"max-sm:w-full","data-testid":"cancel-schedule-button",children:(ke,Bt)=>{le();var Ne=ne();D(Ft=>C(Ne,Ft),[()=>v("common.cancel")],o),k(ke,Ne)},$$slots:{default:!0}}),f(dt),k(p,ot)}},$$legacy:!0});var nt=s(lt,2);const jt=o(()=>!r());or(nt,{intent:"error",get title(){return r()},get hidden(){return e(jt)}});var Ht=s(nt,2);Gt(Ht,{}),f(Oe),k(Ge,Oe)},$$slots:{default:!0}}),k(O,te)};Ye(St,O=>{a()?O(At):O(Pt,!1)})}f(Je),k(N,Je),ie(),y()}export{Ta as S};
