import"./CWj6FrbW.js";import{w as B,o as ve,a as Se}from"./D12POdU-.js";import{p as fe,aN as ge,J as we,f as N,c as g,j as $,h as U,e as l,g as d,u as H,i as h,r as ee,d as te,t as ye,b as me,K as Ee,al as ue,s as ce}from"./yn9lut7I.js";import{b as Pe}from"./CYWjw4bV.js";import{p as t,c as Y,a as T,r as _e,s as be,b as Ve}from"./C6jR5PNA.js";import{c as Be,d as He,b as Te}from"./CefftFSf.js";import{s as Ne}from"./B95CcGmx.js";import{i as C}from"./Bw1cG9kR.js";import{k as je}from"./CfWyzvfP.js";import{b as Ae,C as De}from"./BLNXIcBS.js";import{I as Z}from"./DbAXokY8.js";import{L as Fe}from"./pDH-5pWv.js";import{M as Je}from"./CJZxQhx5.js";import"./69_IOA4Y.js";import{t as Ke}from"./Bk16Yghv.js";const he="select-context";var We=N("<input/>"),Xe=N('<span class="text-xs text-danger"> </span>'),ze=N('<div class="flex flex-col gap-1"><!> <!></div> <!> <!>',1);function dt(j,e){fe(e,!0);const L=()=>T(y,"$labelCtx",k),x=()=>T(le,"$optionsCtx",k),[k,A]=be();let D=t(e,"labelHidden",3,!1),n=t(e,"value",15,void 0),S=t(e,"placeholder",3,""),m=t(e,"disabled",3,!1),I=t(e,"loading",3,!1),u=t(e,"leadingIcon",3,null),r=t(e,"onChange",3,()=>{}),F=t(e,"menuButtonClass",3,void 0),p=t(e,"menuClass",3,void 0),ae=t(e,"variant",3,"secondary"),s=t(e,"required",3,!1),M=t(e,"error",3,""),c=t(e,"valid",3,!0),J=t(e,"position",3,void 0),w=_e(e,["$$slots","$$events","$$legacy","label","id","labelHidden","value","placeholder","disabled","loading","leadingIcon","onChange","menuButtonClass","menuClass","variant","required","error","valid","position","leading","children"]);const ne=B(n()),le=B([]),y=B(n()===null||n()===void 0?void 0:n().toString()),re=B(!1);ge(()=>Ce(n()));function Ce(o){Y(ne,o),Y(y,ie(o))}const xe=o=>{n(o),r()(n())};function ie(o){const K=x().find(E=>E.value===o);return K!==void 0?K.label:""}we(he,{selectValue:ne,selectLabel:y,options:le,open:re,handleChange:xe}),ve(()=>{Y(y,ie(n()))}),Be(j,{class:"w-full",get open(){return re},children:(o,K)=>{var E=ze(),W=g(E),se=$(W);Fe(se,{get label(){return e.label},get hidden(){return D()},get for(){return e.id},get required(){return s()}});var ke=U(se,2);je(ke,L,i=>{{const v=O=>{var _=h(),b=g(_);{var z=a=>{Z(a,{get name(){return u()}})},G=a=>{var q=h(),Q=g(q);{var R=f=>{var de=h(),Le=g(de);te(Le,()=>e.leading),l(f,de)};C(Q,f=>{e.leading&&f(R)},!0)}l(a,q)};C(b,a=>{u()?a(z):a(G,!1)})}l(O,_)},P=O=>{var _=h(),b=g(_);{var z=a=>{Z(a,{name:"lock"})},G=a=>{var q=h(),Q=g(q);{var R=f=>{Z(f,{name:"spinner",class:"animate-spin"})};C(Q,f=>{I()&&f(R)},!0)}l(a,q)};C(b,a=>{m()?a(z):a(G,!1)})}l(O,_)};let V=H(()=>Ke("w-full",!c()&&"border-danger",F())),X=H(()=>!m()),Oe=H(()=>m()||I()),qe=H(()=>w["data-testid"]??e.id);Je(i,{get class(){return d(V)},get hasIndicator(){return d(X)},get disabled(){return d(Oe)},get controls(){return`${e.id??""}-select`},get variant(){return ae()},get"data-testid"(){return`${d(qe)??""}-button`},"data-track-name":"select","data-track-intent":"select",get"data-track-text"(){return e.label},leading:v,trailing:P,children:(O,_)=>{var b=We();Ae(b,()=>({id:e.id,value:!n()&&S()!==""?S():L(),tabindex:"-1",disabled:!0,required:s(),"aria-required":s(),...w,[De]:{disabled:m()}}),void 0,void 0,void 0,"svelte-x06cls",!0),l(O,b)},$$slots:{leading:!0,trailing:!0,default:!0}})}}),ee(W);var oe=U(W,2);{var Ie=i=>{He(i,{role:"listbox",get id(){return`${e.id??""}-select`},get class(){return p()},get position(){return J()},children:(v,P)=>{var V=h(),X=g(V);te(X,()=>e.children),l(v,V)},$$slots:{default:!0}})};C(oe,i=>{e.children&&i(Ie)})}var pe=U(oe,2);{var Me=i=>{var v=Xe(),P=$(v,!0);ee(v),ye(()=>Ne(P,M())),l(i,v)};C(pe,i=>{M()&&!c()&&i(Me)})}l(o,E)},$$slots:{default:!0}}),me(),A()}var Ge=N("<span><!></span>");function ut(j,e){fe(e,!0);const L=()=>T(D,"$selectValue",k),x=()=>T(S,"$options",k),[k,A]=be(),{selectValue:D,handleChange:n,options:S}=Ee(he);let m=_e(e,["$$slots","$$events","$$legacy","value","children","onclick"]),I=ue(!1),u=ue(void 0),r,F,p;ge(()=>{r&&(ce(u,e.value!==null&&e.value!==void 0?e.value:r.textContent,!0),ce(I,L()===d(u)),p=r.textContent)}),ve(()=>{r&&(p=r.textContent,x().push({value:e.value,label:p,nativeElement:F}))}),Se(()=>{let s=x().findIndex(M=>M.value===e.value);s!==void 0&&x().splice(s,1)}),Te(j,Ve({onclick:()=>{n(d(u)),e.onclick===null||e.onclick===void 0||e.onclick(d(u))},role:"option",get selected(){return d(I)}},()=>m,{children:(s,M)=>{var c=Ge(),J=$(c);te(J,()=>e.children),ee(c),Pe(c,w=>r=w,()=>r),l(s,c)},$$slots:{default:!0}})),me(),A()}export{ut as O,dt as S};
