import"./Bzak7iHL.js";import{p as Y,O as Z,u as f,b as $,t as b,f as ee,d as v,c,e as d,g,a8 as M,i as I,r as T,n as te,k as ae,j as re}from"./C-0kx8Rl.js";import{s as se}from"./B-1TjF6E.js";import{i as _}from"./DIXBMONz.js";import{p as s,b as ne,s as oe,r as ie,a as z,c as A}from"./B0Wc33k0.js";import{B as le}from"./CqraL4jo.js";import{B as ce}from"./B_WzDlIq.js";import{I as de}from"./BQ19dEFL.js";import{M as ue,a as me}from"./BSdQFxOj.js";import{t as B}from"./DFzl7kYA.js";var fe=b('<div class="flex grow items-center"><!></div>'),ve=b('<div class="flex"><!></div>'),ge=b("<!> <!> <!> <!> <!>",1);function Ie(C,e){Y(e,!0);const[h,N]=oe(),u=()=>z(n,"$open",h),D=()=>z(K,"$menuElement",h),O=s(e,"class",3,""),p=s(e,"count",3,0),m=s(e,"disabled",3,!1),S=s(e,"hasIndicator",3,!1),q=s(e,"id",3,null),F=s(e,"label",3,null),P=s(e,"variant",3,"secondary"),U=s(e,"size",3,"md"),j=ie(e,["$$slots","$$events","$$legacy","controls","class","count","disabled","hasIndicator","id","label","variant","size","onclick","leading","trailing","children"]),{open:n,menuElement:K}=Z(ue),L=()=>{n.update(t=>{let o=t;return m()||(o=!t),e.onclick===null||e.onclick===void 0||e.onclick(o),o})},R=t=>{switch(t.key){case"Escape":A(n,!1);break;case"ArrowDown":t.preventDefault(),u()?X():A(n,!0);break}},X=()=>{const t=Array.from(D().querySelectorAll(me));t&&t[0]&&requestAnimationFrame(()=>t[0].focus())},G=f(()=>!m()),H=f(()=>B(O()));ce(C,ne({get id(){return q()},get disabled(){return m()},type:"button",get"aria-haspopup"(){return g(G)},get"aria-controls"(){return e.controls},get"aria-expanded"(){return u()},get"aria-label"(){return F()},get variant(){return P()},get class(){return g(H)},get size(){return U()},disableTracking:!0},()=>j,{$$events:{click:L,keydown:R},children:(t,o)=>{var x=ge(),k=ee(x);v(k,()=>e.leading??M);var y=c(k,2);{var J=a=>{var r=fe(),i=I(r);v(i,()=>e.children),T(r),d(a,r)};_(y,a=>{e.children&&a(J)})}var E=c(y,2);{var Q=a=>{var r=ve(),i=I(r);const l=f(()=>B("transition-transform",u()&&"rotate-180"));de(i,{name:"chevron-down",get class(){return g(l)}}),T(r),d(a,r)};_(E,a=>{S()&&a(Q)})}var w=c(E,2);v(w,()=>e.trailing??M);var V=c(w,2);{var W=a=>{le(a,{class:"absolute right-0 top-0 origin-bottom-left translate-x-[10px] translate-y-[-10px]",type:"count",children:(r,i)=>{te();var l=ae();re(()=>se(l,p())),d(r,l)},$$slots:{default:!0}})};_(V,a=>{p()>0&&a(W)})}d(t,x)},$$slots:{default:!0}})),$(),N()}export{Ie as M};
