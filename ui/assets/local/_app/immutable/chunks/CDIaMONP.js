import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as me,l as ge,O as i,g as e,m as _e,az as Be,a as qe,f as h,c as ae,t as k,K as a,e as s,k as re,o as T,h as c,j as f,b as pe,s as fe,r as v,n as ee,i as we,v as V,d as xt,u as kt,q as wt}from"./DZ1-1a5q.js";import{s as p,e as bt}from"./DxwvfIkW.js";import{i as Q}from"./DnKg3jxh.js";import{e as Ge,i as ot}from"./DGhzC9On.js";import{s as ze}from"./B3h3Bc2r.js";import{i as xe}from"./Bby3K3wO.js";import{p as ce,a as ie,s as ke,b as $e,l as Xe}from"./TaaIktnz.js";import{w as Ie,g as De}from"./D7JzDj9r.js";import{g as Se}from"./BU6dkjX5.js";import{p as Ke}from"./BrSpNkAu.js";import{C as We}from"./1SferHEQ.js";import{I as Je}from"./BwERH40W.js";import{M as ht}from"./CcnuLqmo.js";import{c as yt,d as Tt,b as Re}from"./CnHlilQN.js";import{M as Et}from"./B1qTrUHR.js";import{t}from"./DEjs8ZrU.js";import{l as Ne,_ as Ye,$ as Pt,a0 as Ct,a1 as It,a2 as lt,a3 as At}from"./DqAvNQgh.js";import{i as Te,h as Fe,c as St,j as Wt,k as Ze,f as st}from"./DptMbTYu.js";import{t as Rt}from"./BN6blctL.js";import{u as He}from"./BkXlVQuq.js";import{i as Ft}from"./HVeMsM_a.js";import{C as Oe,a as je}from"./DY3MMMDd.js";import{t as it,T as Ht}from"./4Dr_hdgK.js";import{s as Pe}from"./DMJjfc0_.js";import{A as ct}from"./BxPfauF3.js";import{L as dt}from"./f5RCgCKP.js";import{s as jt}from"./ByTIZu23.js";import{A as ut}from"./jw7sBMoL.js";import{C as Me}from"./DRZCEzQy.js";import{B as ue}from"./CqqsKTDn.js";import{M as Mt}from"./C5XnbAqZ.js";import{R as Ot,a as Ue}from"./CKcrITRI.js";import{b as Vt}from"./yf23Oydx.js";import{a as Bt}from"./urDygoU8.js";import{c as Nt,d as Ut}from"./p0rHgQ1n.js";import{g as zt,b as Dt,a as Lt}from"./BOjPErmb.js";import{s as Le}from"./ikbOq2O5.js";import{i as qt}from"./5uT2rzpI.js";import{e as et,a as tt}from"./CYMFusVh.js";import{w as Gt}from"./D3HmRl1U.js";import{I as rt}from"./CVwlOdTx.js";import{s as Ee}from"./D3L9VHHD.js";const vt=200,Kt=Ie(0),Jt=Ie(vt),Ce=Ie([]),Qe=Ie(0),Wa=()=>{Ce.set([]),Qe.set(0),Kt.set(0),Jt.set(vt)},Qt=()=>{Ce.set([]),Qe.set(0)},Ra=u=>{De(Ce).includes(u.id)?(Qe.set(0),Ce.set([])):Ce.set([u.id])},Xt=u=>u==null?void 0:u.nexus;var Yt=h("<div><!></div>"),Zt=h('<span class="hidden text-sm md:block"> </span>'),er=h("<!> <!> <!> <!> <!>",1),tr=h("<!> <!>",1);function Fa(u,r){me(r,!1);const n=()=>ie(Rt,"$temporalVersion",_),g=()=>ie(Ke,"$page",_),l=()=>ie(Te,"$eventTypeFilter",_),o=()=>ie(Fe,"$eventStatusFilter",_),m=()=>ie(St,"$eventViewType",_),[_,y]=ke(),x=_e(),$=_e(),S=_e();var W=_e();let E=ce(r,"compact",8,!1),j=ce(r,"minimized",8,!0),P=Ie(!1);const N=({value:d})=>{Qt();const C=l().some(F=>F===d)?l().filter(F=>F!==d):[...l(),d];$e(Te,C),He(g().url,{categories:C.length===e(x).length?null:C},Se)},R=()=>{$e(Te,e(x)),$e(Fe,!1),He(g().url,{categories:null,statusFilter:!1},Se)},J=()=>{$e(Te,e(x)),$e(Fe,!o()),He(g().url,{categories:null,statusFilter:!o()},Se)},B=()=>{$e(Te,[]),$e(Fe,!1),He(g().url,{categories:[],statusFilter:!1},Se)};ge(()=>(i(E()),Ne),()=>{fe(x,E()?Ye.map(d=>d.value):Ne.map(d=>d.value))}),ge(()=>(i(E()),Oe),()=>{fe($,[...(E()?Ye:Ne).map(d=>({...d,label:t(d.label),icon:Oe[d.value],description:t(d.description)}))])}),ge(()=>(n(),e($)),()=>{Ft("1.21.0",n())&&fe($,e($).filter(({value:d})=>d!=="update"))}),ge(()=>(Be(W),g(),e($)),()=>{Xt(fe(W,g().data.systemInfo)===null||Be(W)===void 0?void 0:Be(W).capabilities)||fe($,e($).filter(({value:d})=>d!=="nexus"))}),ge(()=>(l(),e(x)),()=>{fe(S,l().length<e(x).length)}),qe(),xe(),yt(u,{get open(){return P},children:(d,C)=>{var F=tr(),U=ae(F);ht(U,{controls:"status-menu",size:"sm",leading:K=>{var H=Yt();let D;var le=f(H);{let de=T(()=>e(S)&&"pt-0.5 text-white");Je(le,{name:"filter",get class(){return e(de)}})}v(H),k(()=>D=ze(H,1,"flex h-6 w-6 flex-col items-center justify-center rounded-full transition-colors duration-200",null,D,{"bg-interactive":e(S)})),s(K,H)},children:(K,H)=>{var D=Zt(),le=f(D,!0);v(D),k(de=>p(le,de),[()=>(i(t),a(()=>t("common.filter")))]),s(K,D)},$$slots:{leading:!0,default:!0}});var z=c(U,2);{let w=T(()=>j()?"top-right":"right");Tt(z,{id:"event-type-menu",keepOpen:!0,get position(){return e(w)},class:"w-[220px] md:w-[360px]",children:(K,H)=>{var D=er(),le=ae(D);{const ne=oe=>{{let te=T(()=>(o(),l(),e(x),a(()=>!o()&&l().length===e(x).length))),G=T(()=>(i(t),a(()=>t("common.all"))));We(oe,{get checked(){return e(te)},get label(){return e(G)},labelHidden:!0,class:"mt-px",$$events:{change:R}})}};let M=T(()=>(i(t),a(()=>t("common.all"))));Re(le,{get"data-testid"(){return e(M)},onclick:R,leading:ne,children:(oe,te)=>{ee();var G=re();k(q=>p(G,q),[()=>(i(t),a(()=>t("common.all")))]),s(oe,G)},$$slots:{leading:!0,default:!0}})}var de=c(le,2);{var be=ne=>{{const M=G=>{{let q=T(()=>(i(t),a(()=>t("common.all"))));We(G,{get checked(){return o()},get label(){return e(q)},labelHidden:!0,class:"mt-px",$$events:{change:J}})}};let oe=T(()=>(i(t),a(()=>t("common.pending-and-failed")))),te=T(()=>(i(t),a(()=>t("common.pending-and-failed-description"))));Re(ne,{get"data-testid"(){return e(oe)},get description(){return e(te)},onclick:J,class:"items-start",leading:M,children:(G,q)=>{ee();var Ae=re();k(Ve=>p(Ae,Ve),[()=>(i(t),a(()=>t("common.pending-and-failed")))]),s(G,Ae)},$$slots:{leading:!0,default:!0}})}};Q(de,ne=>{m()!=="json"&&ne(be)})}var L=c(de,2);{const ne=oe=>{{let te=T(()=>(o(),l(),a(()=>!o()&&!l().length))),G=T(()=>(i(t),a(()=>t("common.none"))));We(oe,{get checked(){return e(te)},get label(){return e(G)},labelHidden:!0,class:"mt-px",$$events:{change:B}})}};let M=T(()=>(i(t),a(()=>t("common.none"))));Re(L,{get"data-testid"(){return e(M)},onclick:B,leading:ne,children:(oe,te)=>{ee();var G=re();k(q=>p(G,q),[()=>(i(t),a(()=>t("common.none")))]),s(oe,G)},$$slots:{leading:!0,default:!0}})}var Y=c(L,2);Et(Y);var ve=c(Y,2);Ge(ve,1,()=>e($),ot,(ne,M)=>{Re(ne,{get"data-testid"(){return e(M),a(()=>e(M).label)},get description(){return e(M),a(()=>e(M).description)},onclick:()=>{N(e(M))},class:"items-start",leading:te=>{{let G=T(()=>(l(),e(M),a(()=>l().some(q=>q===e(M).value))));We(te,{get checked(){return e(G)},get label(){return e(M),a(()=>e(M).label)},labelHidden:!0,class:"mt-px",$$events:{click:()=>N(e(M))}})}},children:(te,G)=>{ee();var q=re();k(()=>p(q,(e(M),a(()=>e(M).label)))),s(te,q)},$$slots:{leading:!0,default:!0}})}),s(K,D)},$$slots:{default:!0}})}s(d,F)},$$slots:{default:!0}}),pe(),y()}var rr=h('<div class="*:border-t-0 [&amp;>*:first-child]:border-t"><!></div>');function ar(u,r){var n=rr(),g=f(n);Pe(g,r,"default",{},null),v(n),s(u,n)}var nr=h("<p> </p> <!>",1),or=h("<p> </p> <!>",1),lr=h('<div class="flex flex-col gap-2"><p> </p> <!> <!> <!></div>'),sr=h('<div class="w-full text-right text-xs" slot="summary"> </div>'),ir=h("<!> <!>",1);function ft(u,r){me(r,!1);let n=ce(r,"failure",8,void 0);xe();var g=ir(),l=ae(g);{var o=y=>{{let x=T(()=>(i(t),a(()=>t("common.failure"))));ut(y,{get title(){return e(x)},class:"text-sm",children:($,S)=>{var W=lr(),E=f(W),j=f(E,!0);v(E);var P=c(E,2);{let d=T(()=>(i(n()),a(()=>{var U;return((U=n())==null?void 0:U.message)||""}))),C=T(()=>(i(t),a(()=>t("common.copy-icon-title")))),F=T(()=>(i(t),a(()=>t("common.copy-success-icon-title"))));Me(P,{get content(){return e(d)},language:"text",get copyIconTitle(){return e(C)},get copySuccessIconTitle(){return e(F)}})}var N=c(P,2);{var R=d=>{var C=nr(),F=ae(C),U=f(F,!0);v(F);var z=c(F,2);{let w=T(()=>(i(t),a(()=>t("common.copy-icon-title")))),K=T(()=>(i(t),a(()=>t("common.copy-success-icon-title"))));Me(z,{get content(){return i(n()),a(()=>n().source)},language:"text",get copyIconTitle(){return e(w)},get copySuccessIconTitle(){return e(K)}})}k(w=>p(U,w),[()=>(i(t),a(()=>t("common.source")))]),s(d,C)};Q(N,d=>{i(n()),a(()=>{var C;return(C=n())==null?void 0:C.source})&&d(R)})}var J=c(N,2);{var B=d=>{var C=or(),F=ae(C),U=f(F,!0);v(F);var z=c(F,2);{let w=T(()=>(i(t),a(()=>t("common.copy-icon-title")))),K=T(()=>(i(t),a(()=>t("common.copy-success-icon-title"))));Me(z,{get content(){return i(n()),a(()=>n().stackTrace)},language:"text",get copyIconTitle(){return e(w)},get copySuccessIconTitle(){return e(K)}})}k(w=>p(U,w),[()=>(i(t),a(()=>t("common.stack-trace")))]),s(d,C)};Q(J,d=>{i(n()),a(()=>{var C;return(C=n())==null?void 0:C.stackTrace})&&d(B)})}v(W),k(d=>p(j,d),[()=>(i(t),a(()=>t("common.message")))]),s($,W)},$$slots:{default:!0,summary:($,S)=>{var W=sr(),E=f(W,!0);v(W),k(()=>p(E,(i(n()),a(()=>{var j;return(j=n())==null?void 0:j.message})))),s($,W)}}})}};Q(l,y=>{n()&&y(o)})}var m=c(l,2);{var _=y=>{var x=we(),$=ae(x);ft($,{get failure(){return i(n()),a(()=>n().cause)}}),s(y,x)};Q(m,y=>{i(n()),a(()=>{var x;return(x=n())==null?void 0:x.cause})&&y(_)})}s(u,g),pe()}var cr=h('<div class="flex flex-col gap-2"><p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p></div>');function dr(u,r){me(r,!1);const n=()=>ie(it,"$timestamp",g),[g,l]=ke();let o=ce(r,"pendingTask",8,void 0);xe();{let m=T(()=>(i(t),a(()=>t("workflows.pending-workflow-task"))));ut(u,{get title(){return e(m)},children:(_,y)=>{var x=cr(),$=f(x),S=f($),W=c(S);ue(W,{children:(w,K)=>{ee();var H=re();k(()=>p(H,(i(o()),a(()=>o().state)))),s(w,H)},$$slots:{default:!0}}),v($);var E=c($,2),j=f(E),P=c(j);ue(P,{children:(w,K)=>{ee();var H=re();k(()=>p(H,(i(o()),a(()=>o().attempt)))),s(w,H)},$$slots:{default:!0}}),v(E);var N=c(E,2),R=f(N),J=c(R);ue(J,{children:(w,K)=>{ee();var H=re();k(D=>p(H,D),[()=>(n(),i(o()),a(()=>n()(o().originalScheduledTime)))]),s(w,H)},$$slots:{default:!0}}),v(N);var B=c(N,2),d=f(B),C=c(d);ue(C,{children:(w,K)=>{ee();var H=re();k(D=>p(H,D),[()=>(n(),i(o()),a(()=>n()(o().scheduledTime)))]),s(w,H)},$$slots:{default:!0}}),v(B);var F=c(B,2),U=f(F),z=c(U);ue(z,{children:(w,K)=>{ee();var H=re();k(D=>p(H,D),[()=>(n(),i(o()),a(()=>n()(o().startedTime)))]),s(w,H)},$$slots:{default:!0}}),v(F),v(x),k((w,K,H,D,le)=>{p(S,`${w??""} `),p(j,`${K??""} `),p(R,`${H??""} `),p(d,`${D??""} `),p(U,`${le??""} `)},[()=>(i(t),a(()=>t("common.state"))),()=>(i(t),a(()=>t("common.attempt"))),()=>(i(t),a(()=>t("workflows.original-scheduled-time"))),()=>(i(t),a(()=>t("workflows.scheduled-time"))),()=>(i(t),a(()=>t("workflows.started-time")))]),s(_,x)},$$slots:{default:!0}})}pe(),l()}var ur=h("<p> <!>.</p>"),vr=h('<p><span class="mr-2 text-secondary">Timeout Type</span> </p>'),fr=h("<!> <!>",1),mr=h('<p> </p> <!> <div class="mt-2 flex w-full flex-col gap-0 overflow-hidden border border-danger"><div class="flex items-center justify-between gap-2 bg-danger px-2 py-2"><div class="flex items-center gap-2"> <!> <span class="font-semibold text-danger"> </span></div> <!></div> <div class="flex flex-col gap-2 bg-primary p-4"><!> <!></div></div>',1);function Ha(u,r){me(r,!0);var n,g;let l=V(()=>Pt(r.error)),o=V(()=>It(r.error)&&((n=r.error.attributes)===null||n===void 0?void 0:n.failure)),m=V(()=>Ct(r.error)&&((g=r.error.attributes)===null||g===void 0?void 0:g.timeoutType));var _=we(),y=ae(_);{var x=$=>{{let S=V(()=>t(`typed-errors.${e(l)}.title`));ct($,{icon:"warning",intent:"warning",get title(){return e(S)},children:(W,E)=>{var j=mr(),P=ae(j),N=f(P,!0);v(P);var R=c(P,2);{var J=L=>{var Y=ur(),ve=f(Y,!0),ne=c(ve);{let M=V(()=>t(`typed-errors.${e(l)}.link`));dt(ne,{newTab:!0,get href(){return e(M)},children:(oe,te)=>{ee();var G=re();k(q=>p(G,q),[()=>t(`typed-errors.${e(l)}.action`)]),s(oe,G)},$$slots:{default:!0}})}ee(),v(Y),k(M=>p(ve,M),[()=>t("typed-errors.link-preface")]),s(L,Y)};Q(R,L=>{(e(l)==="NonDeterministicError"||e(l)==="BadSearchAttributes")&&L(J)})}var B=c(R,2),d=f(B),C=f(d),F=f(C),U=c(F);Je(U,{get name(){return Oe[r.error.category].name},get title(){return Oe[r.error.category].title}});var z=c(U,2),w=f(z,!0);v(z),v(C);var K=c(C,2);{let L=V(()=>{var Y;return(Y=r.error)==null?void 0:Y.eventTime});Ht(K,{get dateTime(){return e(L)}})}v(d);var H=c(d,2),D=f(H);{var le=L=>{var Y=vr(),ve=c(f(Y));v(Y),k(()=>p(ve,` ${e(m)??""}`)),s(L,Y)};Q(D,L=>{e(m)&&L(le)})}var de=c(D,2);{var be=L=>{ar(L,{children:(Y,ve)=>{var ne=fr(),M=ae(ne);{var oe=q=>{ft(q,{get failure(){return e(o)}})};Q(M,q=>{e(o)&&q(oe)})}var te=c(M,2);{var G=q=>{dr(q,{get pendingTask(){return r.pendingTask}})};Q(te,q=>{r.pendingTask&&q(G)})}s(Y,ne)},$$slots:{default:!0}})};Q(de,L=>{(e(o)||r.pendingTask)&&L(be)})}v(H),v(B),k((L,Y)=>{p(N,L),p(F,`${r.error.id??""} `),p(w,Y)},[()=>t(`typed-errors.${e(l)}.description`),()=>{var L;return jt((L=r.error)==null?void 0:L.name)}]),s(W,j)},$$slots:{default:!0}})}};Q(y,$=>{e(l)&&e(l)!=="ResetWorkflow"&&$(x)})}s(u,_),pe()}const pr=async(u,r,n)=>{const g=zt(r),l=Dt(r),o=Lt(r),m={...r,codec:{...r==null?void 0:r.codec,endpoint:g,passAccessToken:l,includeCredentials:o}},_=!1;try{const y=await Nt(u,De(Ke).params.namespace,m,De(Bt).accessToken,n,_);return Ut(y,_)}catch{return u}};function at(u,r,n){const g=Le({events:u},null,2),l=document.createElement("a"),o=new Blob([g],{type:n});l.href=URL.createObjectURL(o),l.download=r,l.click()}const gr=async({namespace:u,workflowId:r,runId:n,settings:g,decodeSetting:l})=>{try{const o=await Vt({namespace:u,workflowId:r,runId:n,sort:"ascending"});if(l==="encoded")at(o,`${n}/events.json`,"text/plain");else{const m=[];for(const _ of o){const y=await pr(_,g,l);m.push(y)}at(m,`${n}/events.json`,"text/plain")}}catch{console.error("Could not download event history")}};var _r=h('<div class="flex items-center space-x-4"><!></div>');function $r(u,r){me(r,!1);const n=()=>ie(Wt,"$parameters",l),g=()=>ie(qt,"$isCloud",l),[l,o]=ke(),m=_e(),_=_e(),{namespace:y,workflowId:x,runId:$}=n();ge(()=>et,()=>{fe(m,et({namespace:y,workflow:x,run:$}))}),ge(()=>e(m),()=>{fe(_,e(m)+".json")}),qe(),xe();var S=we(),W=ae(S);{var E=j=>{var P=_r(),N=f(P);dt(N,{icon:"external-link",class:"whitespace-nowrap",get href(){return e(_)},newTab:!0,"data-testid":"view-raw-event-history",children:(R,J)=>{ee();var B=re();k(d=>p(B,d),[()=>(i(t),a(()=>t("events.view-raw-history")))]),s(R,B)},$$slots:{default:!0}}),v(P),s(j,P)};Q(W,j=>{g()||j(E)})}s(u,S),pe(),o()}var xr=h('<h3 slot="title"> </h3>'),kr=h("<!> <!> <!>",1),wr=h('<div slot="content" class="flex flex-col gap-4"><!> <!></div>');function ja(u,r){me(r,!1);const n=()=>ie(Ke,"$page",l),g=()=>ie(Ze,"$downloadEventHistorySetting",l),[l,o]=ke();let m=ce(r,"open",12,!1),_=ce(r,"namespace",8),y=ce(r,"workflowId",8),x=ce(r,"runId",8);const $=()=>{m(!1),gr({namespace:_(),workflowId:y(),runId:x(),settings:n().data.settings,decodeSetting:g()})};xe();{let S=T(()=>(i(t),a(()=>t("common.download")))),W=T(()=>(i(t),a(()=>t("common.cancel"))));Mt(u,{id:"download-history",large:!0,confirmType:"primary",get confirmText(){return e(S)},get cancelText(){return e(W)},get open(){return m()},set open(E){m(E)},$$events:{confirmModal:()=>$(),cancelModal:()=>m(!1)},$$slots:{title:(E,j)=>{var P=xr(),N=f(P,!0);v(P),k(R=>p(N,R),[()=>(i(t),a(()=>t("common.download-event-history-json")))]),s(E,P)},content:(E,j)=>{var P=wr(),N=f(P);Ot(N,{get group(){return Ze},name:"decode-setting",class:"h-auto overflow-auto",children:(J,B)=>{var d=kr(),C=ae(d);{let z=T(()=>(i(t),a(()=>t("events.encoded")))),w=T(()=>(i(t),a(()=>t("events.encoded-description"))));Ue(C,{id:"use-encoded-setting","data-testid":"use-encoded-setting-input",value:"encoded",get label(){return e(z)},get description(){return e(w)}})}var F=c(C,2);{let z=T(()=>(i(t),a(()=>t("events.decoded")))),w=T(()=>(i(t),a(()=>t("events.decoded-description"))));Ue(F,{id:"use-decoded-setting","data-testid":"use-decoded-setting-input",value:"decoded",get label(){return e(z)},get description(){return e(w)}})}var U=c(F,2);{let z=T(()=>(i(t),a(()=>t("events.readable")))),w=T(()=>(i(t),a(()=>t("events.readable-description"))));Ue(U,{id:"use-readable-setting","data-testid":"use-readable-setting-input",value:"readable",get label(){return e(z)},get description(){return e(w)}})}s(J,d)},$$slots:{default:!0}});var R=c(N,2);$r(R,{}),v(P),s(E,P)}},$$legacy:!0})}pe(),o()}const br=["WorkflowExecutionFailed","WorkflowExecutionCompleted","WorkflowExecutionContinuedAsNew","WorkflowExecutionTimedOut","WorkflowExecutionCanceled","WorkflowExecutionTerminated"],hr=u=>!!u.workflowExecutionStartedEventAttributes,yr=u=>{for(const r of br)if(u.eventType===r)return!0;return!1},Tr=u=>lt(u)?u.attributes.input:At(u)?u.attributes.result===null?null:u.attributes.result:u.attributes,Er=u=>{var m;let r,n,g=!1,l,o;for(const _ of u)if(hr(_)){l=_;continue}else if(yr(_)){o=_;continue}return l&&(r=Le(((m=l==null?void 0:l.workflowExecutionStartedEventAttributes)==null?void 0:m.input)??null)),o&&(g=lt(o),n=Le(Tr(o))),{input:r,results:n,contAsNew:g}};var Pr=h('<div class="flex flex-col gap-4 lg:flex-row" data-testid="input-and-result"><!> <!></div>');function Ma(u,r){me(r,!1);const n=()=>ie(st,"$fullEventHistory",l),g=()=>ie(Gt,"$workflowRun",l),[l,o]=ke(),m=_e(),_=_e();ge(()=>n(),()=>{fe(m,Er(n()))}),ge(()=>g(),()=>{fe(_,g().workflow.isRunning)}),qe(),xe();var y=Pr(),x=f(y);{let S=T(()=>(i(t),a(()=>t("workflows.input"))));rt(x,{get title(){return e(S)},get content(){return e(m),a(()=>e(m).input)},get isRunning(){return e(_)}})}var $=c(x,2);{let S=T(()=>(i(t),a(()=>t("workflows.result"))));rt($,{get title(){return e(S)},get content(){return e(m),a(()=>e(m).results)},get isRunning(){return e(_)}})}v(y),s(u,y),pe(),o()}var Cr=h('<div><button class="focus-visible:outline-interactive w-full cursor-pointer hover:bg-interactive-secondary-hover" type="button"><div class="flex w-full flex-row items-center justify-between gap-2 pr-4"><!> <!> <div class="flex items-center gap-4"><!> <!></div></div></button> <div><!></div></div>');function Ir(u,r){const n=Xe(r,["children","$$slots","$$events","$$legacy"]),g=Xe(n,["id","open","onToggle","icon"]);me(r,!1);let l=ce(r,"id",24,()=>crypto.randomUUID()),o=ce(r,"open",12,!1),m=ce(r,"onToggle",8,void 0),_=ce(r,"icon",8,void 0);const y=async()=>{m()&&await m()(),o(!o())};xe();var x=Cr(),$=f(x),S=f($),W=f(S);Pe(W,r,"title",{},null);var E=c(W,2);Pe(E,r,"description",{},null);var j=c(E,2),P=f(j);Pe(P,r,"action",{},null);var N=c(P,2);{let d=T(()=>_()?_():o()?"arrow-down":"arrow-right");Je(N,{get name(){return e(d)}})}v(j),v(S),v($);var R=c($,2);let J;var B=f(R);Pe(B,r,"default",{get open(){return o()}},null),v(R),v(x),k(()=>{ze(x,1,`w-full ${i(g),a(()=>g.class)??""}`),Ee($,"id",`${l()??""}-trigger`),Ee($,"aria-expanded",o()),Ee($,"aria-controls",`${l()??""}-content`),Ee(R,"id",`${l()??""}-content`),Ee(R,"aria-labelledby",`${l()??""}-trigger`),J=ze(R,1,"block w-full bg-primary p-2",null,J,{hidden:!o()})}),bt("click",$,y),s(u,x),pe()}var Ar=h("<!> <!>",1),Sr=h("<!> <!>",1),Wr=h('<p class="flex items-center gap-2"> <!></p>'),Rr=h('<p class="flex items-center gap-2"> <!></p>'),Fr=h('<p class="flex items-center gap-2"> <!></p>'),Hr=h('<p class="flex items-center gap-2"> <!></p>'),jr=h('<p class="flex items-center gap-2"> <!></p>'),Mr=h('<div class="flex flex-col gap-2"><p> </p> <!></div>'),Or=h('<div class="flex flex-col gap-2 pt-2"><!> <div class="flex flex-col items-start gap-2 md:flex-row md:items-center"><p class="flex items-center gap-2"> <!></p> <!> <!> <!></div> <!> <!> <!></div> <!>',1);function nt(u,r){me(r,!0);const n=()=>ie(it,"$timestamp",g),[g,l]=ke();var o,m,_,y;const x=V(()=>n()(r.callback.lastAttemptCompleteTime)),$=V(()=>n()(r.callback.nextAttemptScheduleTime)),S=V(()=>(o=r.callback===null||r.callback===void 0?void 0:r.callback.lastAttemptFailure)===null||o===void 0?void 0:o.message),W=V(()=>r.callback===null||r.callback===void 0?void 0:r.callback.blockedReason),E=V(()=>(_=(m=r.callback===null||r.callback===void 0?void 0:r.callback.callback)===null||m===void 0?void 0:m.nexus)===null||_===void 0?void 0:_.url),j={Standby:t("nexus.callback.standby"),Scheduled:t("nexus.callback.scheduled"),"Backing Off":t("nexus.callback.backing-off"),Failed:t("nexus.callback.failed"),Succeeded:t("nexus.callback.succeeded")},P="Failed",N=V(()=>r.callback.state===P),R=V(()=>j[r.callback.state]||t("nexus.nexus-callback")),J=V(()=>((y=r.callback===null||r.callback===void 0?void 0:r.callback.callback)===null||y===void 0?void 0:y.links)||[]),B=V(()=>!e(J).length&&!r.link&&e(E));{let d=V(()=>e(N)?"error":"info");ct(u,{icon:"nexus",get intent(){return e(d)},get title(){return e(R)},children:(C,F)=>{var U=Or(),z=ae(U),w=f(z);{var K=b=>{var I=we(),O=ae(I);Ge(O,19,()=>e(J),(Z,A)=>{var se,X,he,ye;return((X=(se=Z.workflowEvent)==null?void 0:se.eventRef)==null?void 0:X.eventId)||((ye=(he=Z.workflowEvent)==null?void 0:he.requestIdRef)==null?void 0:ye.requestId)||A},(Z,A,se,X)=>{var he=Ar(),ye=ae(he);je(ye,{get link(){return e(A)}});var gt=c(ye,2);{let _t=V(()=>t("nexus.link-namespace")),$t=V(()=>tt({namespace:e(A).workflowEvent.namespace}));je(gt,{get link(){return e(A)},get label(){return e(_t)},get value(){return e(A).workflowEvent.namespace},get href(){return e($t)}})}s(Z,he)}),s(b,I)},H=b=>{var I=Sr(),O=ae(I);je(O,{get link(){return r.link}});var Z=c(O,2);{let A=V(()=>t("nexus.link-namespace")),se=V(()=>tt({namespace:r.link.workflowEvent.namespace}));je(Z,{get link(){return r.link},get label(){return e(A)},get value(){return r.link.workflowEvent.namespace},get href(){return e(se)}})}s(b,I)};Q(w,b=>{e(J).length?b(K):r.link&&b(H,1)})}var D=c(w,2),le=f(D),de=f(le,!0),be=c(de);ue(be,{type:"subtle",children:(b,I)=>{ee();var O=re();k(()=>p(O,r.callback.state)),s(b,O)},$$slots:{default:!0}}),v(le);var L=c(le,2);{var Y=b=>{var I=Wr(),O=f(I),Z=c(O);ue(Z,{type:"subtle",children:(A,se)=>{ee();var X=re();k(()=>p(X,r.callback.attempt)),s(A,X)},$$slots:{default:!0}}),v(I),k(A=>p(O,`${A??""} `),[()=>t("common.attempt")]),s(b,I)};Q(L,b=>{r.callback.attempt&&b(Y)})}var ve=c(L,2);{var ne=b=>{var I=Rr(),O=f(I),Z=c(O);ue(Z,{type:"subtle",children:(A,se)=>{ee();var X=re();k(()=>p(X,e(x))),s(A,X)},$$slots:{default:!0}}),v(I),k(A=>p(O,`${A??""} `),[()=>t("nexus.last-attempt-completed-time")]),s(b,I)};Q(ve,b=>{r.callback.lastAttemptCompleteTime&&b(ne)})}var M=c(ve,2);{var oe=b=>{var I=Fr(),O=f(I),Z=c(O);ue(Z,{type:"subtle",children:(A,se)=>{ee();var X=re();k(()=>p(X,e($))),s(A,X)},$$slots:{default:!0}}),v(I),k(A=>p(O,`${A??""} `),[()=>t("nexus.next-attempt-scheduled-time")]),s(b,I)};Q(M,b=>{r.callback.nextAttemptScheduleTime&&b(oe)})}v(D);var te=c(D,2);{var G=b=>{var I=Hr(),O=f(I),Z=c(O);ue(Z,{type:"subtle",children:(A,se)=>{ee();var X=re();k(()=>p(X,e(E))),s(A,X)},$$slots:{default:!0}}),v(I),k(A=>p(O,`${A??""} `),[()=>t("nexus.callback-url")]),s(b,I)};Q(te,b=>{e(B)&&b(G)})}var q=c(te,2);{var Ae=b=>{var I=jr(),O=f(I),Z=c(O);ue(Z,{type:"subtle",children:(A,se)=>{ee();var X=re();k(()=>p(X,e(W))),s(A,X)},$$slots:{default:!0}}),v(I),k(A=>p(O,`${A??""} `),[()=>t("nexus.blocked-reason")]),s(b,I)};Q(q,b=>{e(W)&&b(Ae)})}var Ve=c(q,2);{var mt=b=>{var I=Mr(),O=f(I),Z=f(O,!0);v(O);var A=c(O,2);{let se=V(()=>t("common.copy-icon-title")),X=V(()=>t("common.copy-success-icon-title"));Me(A,{get content(){return e(S)},language:"text",get copyIconTitle(){return e(se)},get copySuccessIconTitle(){return e(X)}})}v(I),k(se=>p(Z,se),[()=>t("nexus.last-attempt-failure")]),s(b,I)};Q(Ve,b=>{e(S)&&b(mt)})}v(z);var pt=c(z,2);xt(pt,()=>r.children??kt),k(b=>p(de,b),[()=>t("common.state")]),s(C,U)},$$slots:{default:!0}})}pe(),l()}var Vr=h('<div class="flex flex-col gap-2"></div>'),Br=h('<p class="p-1" slot="title"> </p>'),Nr=h('<div class="py-2"><!></div>');function Oa(u,r){me(r,!0);const n=()=>ie(st,"$fullEventHistory",g),[g,l]=ke();var o;const m=V(()=>n()[0]),_=V(()=>(o=e(m)===null||e(m)===void 0?void 0:e(m).links)===null||o===void 0?void 0:o[0]),y=V(()=>r.callbacks[0]);nt(u,{get callback(){return e(y)},get link(){return e(_)},children:(x,$)=>{var S=we(),W=ae(S);{var E=j=>{var P=Nr(),N=f(P);Ir(N,{children:wt,$$slots:{default:(R,J)=>{const B=V(()=>J.open);var d=we(),C=ae(d);{var F=U=>{var z=Vr();Ge(z,21,()=>r.callbacks.slice(1),ot,(w,K)=>{nt(w,{get callback(){return e(K)}})}),v(z),s(U,z)};Q(C,U=>{e(B)&&U(F)})}s(R,d)},title:(R,J)=>{var B=Br(),d=f(B);v(B),k(()=>p(d,`View ${r.callbacks.length-1} other Callbacks`)),s(R,B)}}}),v(P),s(j,P)};Q(W,j=>{r.callbacks.length>1&&j(E)})}s(x,S)},$$slots:{default:!0}}),pe(),l()}export{ja as D,Fa as E,Ma as I,Ha as W,Oa as a,Qe as b,Wa as c,Ce as d,Ra as s};
