import{q as m,u as L,ax as P,y as U,aF as Z,U as C,an as h,Z as E,m as H,z as c,P as z,C as F,aG as T,aH as q,aI as w,a7 as J,K as y,L as p,aJ as K}from"./CtXwlho8.js";const x=0,l=1,I=2;function j(A,D,n,N,o){m&&L();var i=A,b=P(),G=J,a=C,r,s,t,_=(b?E:H)(void 0),v=(b?E:H)(void 0),d=!1;function u(e,f){d=!0,f&&(T(k),q(k),w(G));try{e===x&&n&&(r?y(r):r=c(()=>n(i))),e===l&&N&&(s?y(s):s=c(()=>N(i,_))),e===I&&o&&(t?y(t):t=c(()=>o(i,v))),e!==x&&r&&p(r,()=>r=null),e!==l&&s&&p(s,()=>s=null),e!==I&&t&&p(t,()=>t=null)}finally{f&&(w(null),q(null),T(null),K())}}var k=U(()=>{if(a!==(a=D())){if(Z(a)){var e=a;d=!1,e.then(f=>{e===a&&(h(_,f),u(l,!0))},f=>{if(e===a&&(h(v,f),u(I,!0),!o))throw v.v}),m?n&&(r=c(()=>n(i))):z(()=>{d||u(x,!0)})}else h(_,a),u(l,!1);return()=>a=C}});m&&(i=F)}export{j as a};
