import{g as p}from"./BsnfN2fh.js";import{e as f}from"./BFmxNj98.js";import{d as m}from"./DdlbasXb.js";import{B as l}from"./CoG0geaG.js";import{p as i,s}from"./BDfAQ6r3.js";const g=t=>window.btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(n,o)=>String.fromCharCode(parseInt(o,16)))),a=(t,n=l)=>n?g(t):t,W=t=>{if(t){const n=i(t),o=Array.isArray(n)?n==null?void 0:n[0]:n;if(o)return s(o)}return""},y=(t,n="json/plain",o="")=>o?{metadata:{encoding:a(n),messageType:a(o)},data:a(s(t))}:{metadata:{encoding:a(n)},data:a(s(t))},b=async({input:t,encoding:n,messageType:o="",encodeWithCodec:d=!0})=>{let r=null;if(t){const c=i(t);if(r=[y(c,n,o)],p(m).endpoint&&d){const e=await f({payloads:{payloads:r}});r=(e==null?void 0:e.payloads)??null}}return r};export{b as e,W as g,y as s};
