import{h as y,a as N}from"./BDfAQ6r3.js";import{i as F,b as T,c as v,d as A,e as B,f as S}from"./bJYvw_NA.js";const f=n=>{for(const t of n)if(y(t.attributes,"newExecutionRunId")&&N(t.attributes.newExecutionRunId))return t.attributes.newExecutionRunId},L=n=>T(n)||v(n)||A(n)||B(n)||S(n),q=(n,t,e)=>{var I,g,m,C,E,l;const s=t.filter(h=>L(h)),o=!!(n!=null&&n.pendingChildren.length)||!!s.length,c=n==null?void 0:n.parent,R=(g=(I=e==null?void 0:e.find(h=>h.namespaceInfo.id===n.parentNamespaceId))==null?void 0:I.namespaceInfo)==null?void 0:g.name,i=t.find(F),u=f(t),p=(m=i==null?void 0:i.attributes)==null?void 0:m.firstExecutionRunId,a=p===(n==null?void 0:n.runId)?void 0:p,r=(C=i==null?void 0:i.attributes)==null?void 0:C.continuedExecutionRunId;let d="";const x=(l=(E=n==null?void 0:n.searchAttributes)==null?void 0:E.indexedFields)==null?void 0:l.TemporalScheduledById;typeof x=="string"&&(d=x);const W=!!(c||o||a||r||u||d),b=(c?1:0)+(n==null?void 0:n.pendingChildren.length)+s.length+(a?1:0)+(r?1:0)+(u?1:0)+(d?1:0);return{hasRelationships:W,hasChildren:o,children:s,first:a,previous:r,parent:c,parentNamespaceName:R,next:u,scheduleId:d,relationshipCount:b}},z=n=>{try{const t=new Set;for(const e of n)if(e.category==="nexus"&&e.links&&e.links.length>0)for(const s of e.links)t.add(s);return Array.from(t)}catch{return[]}};export{z as a,q as g};
