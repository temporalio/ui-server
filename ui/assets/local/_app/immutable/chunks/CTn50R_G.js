import"./Bzak7iHL.js";import"./69_IOA4Y.js";import{p as kt,l as A,s as h,m as P,M,g as t,a as Wt,b8 as Ht,i as L,r as F,c as R,j as N,e as E,b as Et,o as O,h as Lt,f as gt,t as it,ag as ee,ah as ne,u as b,n as At,k as ht,aj as Rt,q as _e}from"./CYx2j9em.js";import{i as G}from"./DeQvpgQS.js";import{e as zt,i as re}from"./C1OgRA7l.js";import{a as Nt,s as S,d as ie}from"./CHX8vcg8.js";import{s as ye,i as Bt,t as we}from"./HoZrOv-6.js";import{p as u,a as U,s as Dt}from"./DnRAdnAf.js";import{p as qt}from"./DKVY9787.js";import{P as Pe}from"./CxBHxsgE.js";import{a as ke}from"./BDvrbBIF.js";import{t as J}from"./BXv1jDVW.js";import{i as Xt,c as Jt,d as Ee}from"./XGHQuN6J.js";import{g as Tt,h as Ie}from"./DE5dmXvD.js";import{i as Mt}from"./Dco9_tmD.js";import{e as ae,b as be,f as Te,c as Fe}from"./Dw3KwSts.js";import{p as Yt,c as Zt}from"./D8z8M-h-.js";import{i as Ft,a as Pt}from"./Da1pjOgL.js";import"./D0Jyh3oV.js";import{f as St,a as se,r as oe,t as le}from"./Cted96qS.js";import"./2uWpc1Jl.js";import"./5gYwJNb5.js";import"./DTBKjfP9.js";import"./CjV_03yS.js";import"./BDfAQ6r3.js";import{I as Qt}from"./Cgy7lDWn.js";import{T as Ce}from"./Cw6KDcyt.js";import{E as Le}from"./BJQQDmwL.js";import{L as Ae}from"./BdJ44p3e.js";import{a as De,b as de,E as $t}from"./D_m0CrUD.js";import{d as ce,s as nt}from"./BjCW00Pv.js";import{B as ue}from"./B5FQmuB7.js";import{C as Gt}from"./DrvJs-Vs.js";import{L as ve}from"./DNKpmWE1.js";import{b as ge}from"./DQzcCMd8.js";import{t as fe}from"./BHbTKUw9.js";const me=n=>Ie(n)&&n.markerRecordedEventAttributes.failure,We=n=>me(n.initialEvent),Oe=n=>Tt(n)&&(n.classification==="Failed"||n.classification==="TimedOut"||me(n)),Se=n=>Ft(n)||Pt(n),pe=n=>Xt(n)&&(n.classification==="Failed"||n.classification==="TimedOut"||We(n)),he=n=>Xt(n)&&n.isPending,Ge=(n,e)=>e?n.filter(r=>Oe(r)||Se(r)||pe(r)||he(r)):n,qn=(n,e)=>e?n.filter(r=>pe(r)||he(r)):n,Ot=6,Xn={height:Ot*5,gutter:Ot*8,radius:Ot*2,fontSizeRatio:Ot*4},Ut={height:32,radius:4},Jn={workflow:"workflow",signal:"signal",activity:"activity",nexus:"nexus",timer:"retention","local-activity":"feather","child-workflow":"relationship",update:"update",other:"terminal"},Qn=(n,e,r,I,p)=>{const{radius:o}=p,s=n[0],g=n[n.length-1];let v=!1,x="start",f=0;const d=s>1/2*r;let m=!d&&g<2/3*r&&!I;d&&(x="end"),m&&(f=n.indexOf(g));const _=1.5*o;let H=m?g+_:s-_;if(!m&&!d&&(v=!0,m=!0,H=s+_,n.length===2&&I&&n[1]-n[0]<r-n[1]&&(f=1,H=n[1]+_),n.length>2)){const c=n[1]-n[0];n[2]-n[1]>c&&(f=1,H=n[1]+_)}return{textPosition:[H,e],textIndex:f,textAnchor:x,backdrop:v}},He=(n,e)=>{const r=e.find(p=>p.eventIds.has(n.id));return r?Array.from(r.eventIds).indexOf(n.id)===1&&r.eventList.length===3:!1},jt=(n,e)=>parseInt(n)===parseInt(e)-1,Be=n=>{const e=Array.from(n.eventIds);if(e.length===1)return!0;if(e.length===2)return jt(e[0],e[1]);if(e.length===3)return jt(e[0],e[1])&&jt(e[1],e[2])},Me=(n,e)=>{const r=Jt(e,n);if(r.level!==void 0)return r.level;const I=e.filter(s=>s.isPending&&s.id!==r.id).filter(s=>parseInt(s.initialEvent.id)<parseInt(r.initialEvent.id)),p=e.filter(s=>s.eventList.length>1&&!s.isPending&&s.id!==r.id).filter(s=>parseInt(s.initialEvent.id)<parseInt(r.initialEvent.id)).filter(s=>parseInt(s.lastEvent.id)>parseInt(r.initialEvent.id)),o=[...I,...p];return!o.length&&Be(r)&&(r.level=0),r.level=o.length+1,r.level},xe=(n,e,r,I,p)=>{const o=Jt(r,e);let s=0,g=0;if(!o)return{nextDistance:s,offset:g};if(o.eventList.length===1&&!o.isPending)return{nextDistance:s,offset:g};const v=Tt(e)&&o.eventList.indexOf(e),x=Tt(e)&&o.eventList[v+1];if((!Tt(e)||e.category!=="workflow")&&(g=Me(e,r)),!x&&!o.isPending)return{nextDistance:s,offset:g};let f=0;x?f=parseInt(x.id)-parseInt(e.id):o.isPending&&Tt(e)&&(f=n.length-parseInt(e.id)+2);const d=f*I;return s=p==="ascending"?d:-d,{nextDistance:s,offset:g}};var Re=Ht('<g class="svelte-ki6frx"><circle><!></circle><!></g>');function te(n,e){kt(e,!1);const r=P(),I=P(),{radius:p}=Ut;let o=u(e,"point",8),s=u(e,"category",8,void 0),g=u(e,"classification",8,void 0),v=u(e,"r",8,p),x=u(e,"icon",8,void 0),f=u(e,"strokeWidth",8,2);A(()=>(t(r),t(I),M(o())),()=>{(c=>(h(r,c[0]),h(I,c[1])))(o())}),Wt();var d=Re(),m=L(d),_=L(m);ye(_,e,"default",{},null),F(m);var H=R(m);{var l=c=>{const D=O(()=>t(r)-v()/2),B=O(()=>t(I)-v()/2);Qt(c,{get name(){return x()},get x(){return t(D)},get y(){return t(B)},get width(){return v()},get height(){return v()},class:"text-black"})};G(H,c=>{x()&&c(l)})}F(d),N(()=>{Nt(m,0,`dot ${s()??""} ${g()??""}`,"svelte-ki6frx"),S(m,"stroke-width",f()),S(m,"cx",t(r)),S(m,"cy",t(I)),S(m,"r",v())}),E(n,d),Et()}var je=Ht('<foreignObject class="svelte-1j15cla"><div class="h-full w-full svelte-1j15cla" style="background: linear-gradient(255deg, #1FF1A5 0%, #F55 100%);"></div></foreignObject>'),ze=Ht("<line></line>");function Kt(n,e){kt(e,!1);const r=P(),I=P(),p=P(),o=P(),s=P();let g=u(e,"startPoint",24,()=>[0,1e3]),v=u(e,"endPoint",24,()=>[0,1e3]),x=u(e,"status",8,void 0),f=u(e,"category",8,void 0),d=u(e,"classification",8,void 0),m=u(e,"scheduling",8,!1),_=u(e,"pending",8,!1),H=u(e,"paused",8,!1),l=u(e,"retried",8,!1),c=u(e,"strokeWidth",8,2),D=u(e,"strokeDasharray",8,"none"),B=u(e,"delayed",8,!1);A(()=>(t(r),t(I),M(g())),()=>{(T=>(h(r,T[0]),h(I,T[1])))(g())}),A(()=>(t(p),t(o),M(v())),()=>{(T=>(h(p,T[0]),h(o,T[1])))(v())}),A(()=>(M(l()),M(d())),()=>{h(s,l()&&d()==="Completed")}),Wt();var V=Lt(),y=gt(V);{var j=T=>{var k=je();N(()=>{S(k,"x",t(r)),S(k,"y",t(I)-c()/2),S(k,"width",t(p)-t(r)),S(k,"height",c())}),E(T,k)},q=T=>{var k=ze();let z;N((X,Y,Z)=>{z=Nt(k,0,`line ${x()??""} ${f()??""} ${d()??""}`,"svelte-1j15cla",z,X),S(k,"stroke-width",c()),S(k,"stroke-dasharray",_()?"3":D()),S(k,"x1",Y),S(k,"x2",Z),S(k,"y1",t(I)),S(k,"y2",t(o))},[()=>({scheduling:m(),"animate-line":_()&&!H(),delayed:B()}),()=>Math.max(0,t(r)),()=>Math.max(0,t(p))],O),E(T,k)};G(y,T=>{t(s)?T(j):T(q,!1)})}E(n,V),Et()}var Ke=Ht('<g role="button" tabindex="0" class="relative cursor-pointer"><!><!><!><!></g>');function Ne(n,e){kt(e,!1);const[r,I]=Dt(),p=()=>U(ae,"$eventFilterSort",r),o=P(),s=P(),g=P(),v=P(),x=P(),f=P(),d=P(),m=P(),_=P(),H=P();let l=u(e,"event",8),c=u(e,"group",8),D=u(e,"history",8),B=u(e,"groups",8),V=u(e,"index",8),y=u(e,"canvasWidth",8);const{height:j,radius:q}=Ut,T=q/2;A(()=>M(V()),()=>{h(o,V()*j+j/2)}),A(()=>(t(s),t(g),M(D()),M(l()),M(B()),p()),()=>{(W=>(h(s,W.nextDistance),h(g,W.offset)))(xe(D(),l(),B(),j,p()))}),A(()=>(t(g),t(s)),()=>{h(v,t(g)>0&&t(s))}),A(()=>(M(l()),Pt),()=>{h(x,Ft(l())||Pt(l())?"pending":l()===null||l()===void 0?void 0:l().classification)}),A(()=>t(g),()=>{h(f,t(g)*1.75*q)}),A(()=>(M(l()),M(c())),()=>{h(d,Tt(l())&&(c()===null||c()===void 0?void 0:c().lastEvent.id)===(l()===null||l()===void 0?void 0:l().id)&&(c()===null||c()===void 0?void 0:c().isPending))}),A(()=>(M(l()),t(g),M(B())),()=>{h(m,Ft(l())||Pt(l())||t(g)===0?!1:!He(l(),B()))}),A(()=>(M(l()),t(d)),()=>{h(_,Ft(l())||Pt(l())?"pending":t(d)?l()===null||l()===void 0?void 0:l().category:"")}),A(()=>p(),()=>{h(H,p()==="descending")}),Wt(),Bt();var k=Ke(),z=L(k);{var X=W=>{const $=O(()=>[y(),t(o)]),C=O(()=>[y()-t(f)-q,t(o)]);Kt(W,{get startPoint(){return t($)},get endPoint(){return t(C)}})};G(z,W=>{t(m)&&W(X)})}var Y=R(z);{var Z=W=>{const $=O(()=>[y()-t(f),t(o)]);te(W,{get point(){return t($)},get classification(){return t(x)},strokeWidth:1})};G(Y,W=>{t(H)||W(Z)})}var at=R(Y);{var xt=W=>{const $=O(()=>[y()-t(f)-q/2+T,t(o)+q+T/2]),C=O(()=>[y()-t(f)-q/2+T,t(o)+t(v)+q]),lt=O(()=>{var dt;return(dt=c())!=null&&dt.pendingActivity?c().pendingActivity.attempt>1?"retry":"pending":t(_)});Kt(W,{get startPoint(){return t($)},get endPoint(){return t(C)},get category(){return t(lt)},get pending(){return t(d)}})};G(at,W=>{t(v)&&W(xt)})}var st=R(at);{var ot=W=>{const $=O(()=>[y()-t(f),t(o)]);te(W,{get point(){return t($)},get classification(){return t(x)},strokeWidth:1})};G(st,W=>{t(H)&&W(ot)})}F(k),E(n,k),Et(),I()}var qe=it("<div><svg><!><svg></svg></svg></div>");function Xe(n,e){kt(e,!1);const[r,I]=Dt(),p=()=>U(be,"$filteredEventHistory",r),o=()=>U(ae,"$eventFilterSort",r),s=P(),g=P(),v=P(),x=P();let f=u(e,"groups",8),d=u(e,"history",8);const{height:m,radius:_}=Ut,H=4*_,l=600;let c=P(H),D=P(0);A(()=>(p(),o()),()=>{h(s,Ee(p(),o()))}),A(()=>(t(s),M(f())),()=>{h(g,[...t(s),...f()])}),A(()=>M(d()),()=>{h(v,d().length*m)}),A(()=>(M(d()),M(f()),o(),t(c)),()=>{h(x,z=>{z.forEach(X=>{const{offset:Y}=xe(d(),X,f(),m,o());h(c,Math.max(t(c),Y*1.75*_+H)),h(D,Math.min(t(c)-2*_,l))})})}),A(()=>(t(x),M(d())),()=>{t(x)(d())}),Wt(),Bt();var B=qe();let V;var y=L(B),j=L(y);const q=O(()=>[t(D),0]),T=O(()=>[t(D),t(v)]);Kt(j,{get startPoint(){return t(q)},get endPoint(){return t(T)},strokeWidth:3});var k=R(j);zt(k,5,d,re,(z,X,Y)=>{const Z=O(()=>Jt(t(g),t(X)));Ne(z,{get event(){return t(X)},get group(){return t(Z)},get groups(){return t(g)},get history(){return d()},get canvasWidth(){return t(D)},index:Y})}),F(k),F(y),F(B),N(z=>{V=Nt(B,1,"hidden text-right xl:block",null,V,z),ie(B,`width: ${t(c)??""}px; max-width: ${l}px;`),S(y,"viewBox",`0 0 ${t(c)??""} ${t(v)??""}`),S(y,"height",t(v)),S(y,"width",t(c)),S(k,"viewBox",`0 0 ${t(c)??""} ${t(v)??""}`),S(k,"height",t(v)),S(k,"width",t(c))},[()=>({"overflow-hidden":t(c)>l})],O),E(n,B),Et(),I()}var Je=it('<tr class="bg-primary"><td><!></td></tr>');function Qe(n,e){kt(e,!1);const[r,I]=Dt(),p=()=>U(Mt,"$isCloud",r);let o=u(e,"loading",8,!1),s=u(e,"title",24,()=>J("events.empty-state-title")),g=u(e,"content",24,()=>J("events.empty-state-description"));Bt();var v=Je(),x=L(v),f=L(x);{var d=_=>{Ae(_,{})},m=_=>{Le(_,{get title(){return s()},get content(){return g()}})};G(f,_=>{o()?_(d):_(m,!1)})}F(x),F(v),N(()=>S(x,"colspan",p()?5:4)),E(n,v),Et(),I()}const Ue=(n,e,r)=>{n.stopPropagation(),h(e,!t(e)),r()()};var Ve=it("<!> <!>",1),Ye=it("<td></td>"),Ze=it('<tr class="w-full px-2 text-sm no-underline"><td class="!p-0"><!></td></tr>'),$e=it('<tr class="hover:cursor-pointer" data-testid="pending-activity-summary-row"><td class="font-mono"><!></td><td class="table-cell text-right md:hidden"><!></td><td class="hidden text-right md:table-cell"><!></td><td><p class="truncate font-semibold md:text-base">Pending Activity</p></td><td class="w-full overflow-hidden text-right font-normal xl:text-left"><div class="flex items-center gap-1"><!> <!></div></td><!></tr> <!>',1);function tn(n,e){kt(e,!0);const[r,I]=Dt(),p=()=>U(qt,"$page",r),o=()=>U(se,"$timeFormat",r),s=()=>U(oe,"$relativeTime",r),g=()=>U(le,"$timestampFormat",r),v=()=>U(Mt,"$isCloud",r),x=u(e,"expanded",3,!1),f=u(e,"onRowClick",3,()=>{});let d=ee(ne(x())),m=b(()=>p().params),_=b(()=>t(m).workflow),H=b(()=>t(m).run),l=b(()=>t(m).namespace),c=b(()=>ge({eventId:e.group===null||e.group===void 0?void 0:e.group.id,namespace:t(l),workflow:t(_),run:t(H)})),D=b(()=>St(e.group===null||e.group===void 0?void 0:e.group.eventTime,o(),{relative:s(),format:g()})),B=b(()=>St(e.group===null||e.group===void 0?void 0:e.group.eventTime,o(),{relative:s(),format:"short"}));var V=$e(),y=gt(V);y.__click=[Ue,d,f];var j=L(y),q=L(j);{var T=i=>{ve(i,{"data-testid":"link",get href(){return t(c)},children:(a,w)=>{At();var K=ht();N(()=>nt(K,e.group.id)),E(a,K)},$$slots:{default:!0}})},k=i=>{var a=ht();N(()=>nt(a,e.event.id)),E(i,a)};G(q,i=>{var a;(a=e.group)!=null&&a.id?i(T):i(k,!1)})}F(j);var z=R(j),X=L(z);{var Y=i=>{const a=b(()=>J("common.copy-icon-title")),w=b(()=>J("common.copy-success-icon-title"));Gt(i,{get copyIconTitle(){return t(a)},get copySuccessIconTitle(){return t(w)},get content(){return t(B)},children:(K,ct)=>{At();var Q=ht();N(()=>nt(Q,t(B))),E(K,Q)},$$slots:{default:!0}})};G(X,i=>{t(B)&&i(Y)})}F(z);var Z=R(z),at=L(Z);{var xt=i=>{const a=b(()=>J("common.copy-icon-title")),w=b(()=>J("common.copy-success-icon-title"));Gt(i,{get copyIconTitle(){return t(a)},get copySuccessIconTitle(){return t(w)},get content(){return t(D)},children:(K,ct)=>{At();var Q=ht();N(()=>nt(Q,t(D))),E(K,Q)},$$slots:{default:!0}})};G(at,i=>{t(D)&&i(xt)})}F(Z);var st=R(Z,2),ot=L(st),W=L(ot);const $=b(()=>e.event.paused?"warning":e.event.attempt>1?"danger":"default");ue(W,{class:"mr-1",get type(){return t($)},children:(i,a)=>{var w=Ve(),K=gt(w);const ct=b(()=>we("mr-1 inline",e.event.attempt>1&&"font-bold text-red-400",e.event.paused&&"font-bold text-yellow-700")),Q=b(()=>e.event.paused?"pause":"retry");Qt(K,{get class(){return t(ct)},get name(){return t(Q)}});var Ct=R(K),rt=R(Ct);{var bt=ft=>{var ut=Lt();const et=b(()=>fe({date:e.event.scheduledTime,negativeDefault:""}));var yt=gt(ut);{var mt=vt=>{var tt=ht();N(wt=>nt(tt,`• ${wt??""}
            ${t(et)??""}`),[()=>J("workflows.next-retry")]),E(vt,tt)};G(yt,vt=>{t(et)&&vt(mt)})}E(ft,ut)};G(rt,ft=>{e.event.attempt>1&&ft(bt)})}N(ft=>nt(Ct,` ${ft??""}
        ${e.event.attempt??""} / ${e.event.maximumAttempts||"∞"} `),[()=>J("workflows.attempt")]),E(i,w)},$$slots:{default:!0}});var C=R(W,2);De(C,{key:"activityType",get value(){return e.event.activityType},showKey:!0,get attributes(){return e.event}}),F(ot),F(st);var lt=R(st);{var dt=i=>{var a=Ye();E(i,a)};G(lt,i=>{v()&&i(dt)})}F(y);var It=R(y,2);{var _t=i=>{var a=Ze(),w=L(a),K=L(w);de(K,{get group(){return e.group}}),F(w),F(a),N(()=>S(w,"colspan",v()?5:4)),E(i,a)};G(It,i=>{t(d)&&i(_t)})}N(()=>S(y,"id",`${e.event.id}-${e.index}`)),E(n,V),Et(),I()}ce(["click"]);const en=(n,e,r)=>{n.stopPropagation(),h(e,!t(e)),r()()};var nn=it("<!> <!>",1),rn=it("<td></td>"),an=it('<tr class="w-full px-2 text-sm no-underline"><td class="!p-0"><!></td></tr>'),sn=it('<tr class="hover:cursor-pointer" data-testid="pending-nexus-summary-row"><td class="font-mono"><!></td><td class="table-cell text-right md:hidden"><!></td><td class="hidden text-right md:table-cell"><!></td><td class="w-full overflow-hidden text-right text-sm font-normal xl:text-left"><div class="flex"><div class="flex w-full items-center gap-2"><p class="font-semibold md:text-base"> </p> <!></div></div></td><td></td><!></tr> <!>',1);function on(n,e){kt(e,!0);const[r,I]=Dt(),p=()=>U(qt,"$page",r),o=()=>U(se,"$timeFormat",r),s=()=>U(oe,"$relativeTime",r),g=()=>U(le,"$timestampFormat",r),v=()=>U(Mt,"$isCloud",r),x=u(e,"expanded",3,!1),f=u(e,"onRowClick",3,()=>{});let d=ee(ne(x())),m=b(()=>p().params),_=b(()=>t(m).workflow),H=b(()=>t(m).run),l=b(()=>t(m).namespace),c=b(()=>ge({eventId:e.event.scheduledEventId,namespace:t(l),workflow:t(_),run:t(H)})),D=b(()=>St(e.group===null||e.group===void 0?void 0:e.group.eventTime,o(),{relative:s(),format:g()})),B=b(()=>St(e.group===null||e.group===void 0?void 0:e.group.eventTime,o(),{relative:s(),format:"short"}));var V=sn(),y=gt(V);y.__click=[en,d,f];var j=L(y),q=L(j);ve(q,{"data-testid":"link",get href(){return t(c)},children:(i,a)=>{At();var w=ht();N(()=>nt(w,e.event.scheduledEventId||"")),E(i,w)},$$slots:{default:!0}}),F(j);var T=R(j),k=L(T);{var z=i=>{const a=b(()=>J("common.copy-icon-title")),w=b(()=>J("common.copy-success-icon-title"));Gt(i,{get copyIconTitle(){return t(a)},get copySuccessIconTitle(){return t(w)},get content(){return t(B)},children:(K,ct)=>{At();var Q=ht();N(()=>nt(Q,t(B))),E(K,Q)},$$slots:{default:!0}})};G(k,i=>{t(B)&&i(z)})}F(T);var X=R(T),Y=L(X);{var Z=i=>{const a=b(()=>J("common.copy-icon-title")),w=b(()=>J("common.copy-success-icon-title"));Gt(i,{get copyIconTitle(){return t(a)},get copySuccessIconTitle(){return t(w)},get content(){return t(D)},children:(K,ct)=>{At();var Q=ht();N(()=>nt(Q,t(D))),E(K,Q)},$$slots:{default:!0}})};G(Y,i=>{t(D)&&i(Z)})}F(X);var at=R(X),xt=L(at),st=L(xt),ot=L(st),W=L(ot,!0);F(ot);var $=R(ot,2);{var C=i=>{const a=b(()=>e.event.attempt>1?"danger":"default");ue(i,{class:"mx-1",get type(){return t(a)},children:(w,K)=>{var ct=nn(),Q=gt(ct);const Ct=b(()=>e.event.attempt>1&&"font-bold text-red-400");Qt(Q,{get class(){return`mr-1 inline ${t(Ct)??""}`},name:"retry"});var rt=R(Q),bt=R(rt);{var ft=ut=>{var et=Lt();const yt=b(()=>fe({date:e.event.nextAttemptScheduleTime,negativeDefault:""}));var mt=gt(et);{var vt=tt=>{var wt=ht();N(pt=>nt(wt,`• ${pt??""}
                ${t(yt)??""}`),[()=>J("workflows.next-retry")]),E(tt,wt)};G(mt,tt=>{t(yt)&&tt(vt)})}E(ut,et)};G(bt,ut=>{e.event.attempt>1&&ut(ft)})}N(ut=>nt(rt,` ${ut??""}
            ${e.event.attempt??""} `),[()=>J("workflows.attempt")]),E(w,ct)},$$slots:{default:!0}})};G($,i=>{e.event.attempt&&i(C)})}F(st),F(xt),F(at);var lt=R(at,2);{var dt=i=>{var a=rn();E(i,a)};G(lt,i=>{v()&&i(dt)})}F(y);var It=R(y,2);{var _t=i=>{var a=an(),w=L(a),K=L(w);de(K,{get group(){return e.group}}),F(w),F(a),N(()=>S(w,"colspan",v()?5:4)),E(i,a)};G(It,i=>{t(d)&&i(_t)})}N(i=>{S(y,"id",`${e.event.scheduledEventId}-${e.index}`),nt(W,i)},[()=>J("workflows.pending-nexus-operation")]),E(n,V),Et(),I()}ce(["click"]);var ln=it('<div class="flex"><div class="pt-9"><!></div> <!></div>');function Un(n,e){kt(e,!1);const[r,I]=Dt(),p=()=>U(Te,"$fullEventHistory",r),o=()=>U(qt,"$page",r),s=()=>U(Fe,"$eventStatusFilter",r),g=()=>U(Mt,"$isCloud",r),v=P(),x=P(),f=P(),d=P(),m=P(),_=P(),H=P();var l=P();let c=u(e,"items",8),D=u(e,"groups",24,()=>[]),B=u(e,"updating",8,!1),V=u(e,"loading",8,!1),y=u(e,"compact",8,!1),j=u(e,"minimized",8,!0),q=u(e,"hoveredEventId",12,void 0);const T=[{label:"Event ID"},{label:"Timestamp"},{label:"Event Type"},{label:"Details"}],k=C=>Pt(C)?`pending-nexus-${C.scheduledEventId}`:Ft(C)?`pending-activity-${C.id}`:`event-${C.id}`;A(()=>(M(j()),M(y())),()=>{h(v,!j()&&!y())}),A(()=>p(),()=>{h(x,p()===null||p()===void 0?void 0:p()[0])}),A(()=>o(),()=>{h(f,o().url)}),A(()=>(Rt(l),t(f),Yt),()=>{h(d,h(l,t(f).searchParams.get(Yt))!==null&&Rt(l)!==void 0?Rt(l):"100")}),A(()=>(t(f),Zt),()=>{h(m,t(f).searchParams.get(Zt)||"1")}),A(()=>s(),()=>{h(H,C=>Ge(C,s()))}),A(()=>(t(H),t(m),t(d)),()=>{h(_,C=>t(H)(C).slice((parseInt(t(m))-1)*parseInt(t(d)),parseInt(t(m))*parseInt(t(d))))}),A(()=>g(),()=>{g()&&T.length===4&&T.push({label:"Billable Actions"})}),Wt(),Bt();var z=ln(),X=L(z),Y=L(X);{var Z=C=>{const lt=O(()=>t(_)(c()));Xe(C,{get groups(){return D()},get history(){return t(lt)}})};G(Y,C=>{t(v)&&C(Z)})}F(X);var at=R(X,2);const xt=O(()=>J("common.per-page")),st=O(()=>J("common.next-page")),ot=O(()=>J("common.previous-page")),W=O(()=>t(H)(c())),$=O(()=>j()?"calc(100vh - 200px)":"20000px");Pe(at,{get perPageLabel(){return t(xt)},get nextPageButtonLabel(){return t(st)},get previousPageButtonLabel(){return t(ot)},pageButtonLabel:C=>J("common.go-to-page",{page:C}),get updating(){return B()},get items(){return t(W)},get maxHeight(){return t($)},children:_e,$$slots:{default:(C,lt)=>{const dt=O(()=>lt.visibleItems);var It=Lt(),_t=gt(It);zt(_t,3,()=>t(dt),i=>k(i),(i,a,w)=>{var K=Lt(),ct=gt(K);{var Q=rt=>{$t(rt,{get event(){return t(a)},get index(){return t(w)},get group(){return t(a)},get compact(){return y()},get initialItem(){return t(x)},get hoveredEventId(){return q()},set hoveredEventId(bt){q(bt)},$$legacy:!0})},Ct=(rt,bt)=>{{var ft=et=>{const yt=O(()=>D().find(mt=>{var vt;return Ft(t(a))&&((vt=mt==null?void 0:mt.pendingActivity)==null?void 0:vt.id)===t(a).id}));tn(et,{get event(){return t(a)},get index(){return t(w)},get group(){return t(yt)}})},ut=(et,yt)=>{{var mt=tt=>{const wt=O(()=>D().find(pt=>{var Vt;return Pt(t(a))&&((Vt=pt==null?void 0:pt.pendingNexusOperation)==null?void 0:Vt.scheduledEventId)===t(a).scheduledEventId}));on(tt,{get event(){return t(a)},get index(){return t(w)},get group(){return t(wt)}})},vt=tt=>{const wt=O(()=>D().find(pt=>Tt(t(a))&&pt.eventIds.has(t(a).id)));$t(tt,{get event(){return t(a)},get index(){return t(w)},get group(){return t(wt)},get compact(){return y()},get initialItem(){return t(x)},get hoveredEventId(){return q()},set hoveredEventId(pt){q(pt)},$$legacy:!0})};G(et,tt=>{Pt(t(a))?tt(mt):tt(vt,!1)},yt)}};G(rt,et=>{Ft(t(a))?et(ft):et(ut,!1)},bt)}};G(ct,rt=>{Xt(t(a))?rt(Q):rt(Ct,!1)})}E(i,K)},i=>{const a=O(()=>!p().length||V());Qe(i,{get loading(){return t(a)}})}),E(C,It)},headers:(C,lt)=>{ke(C,{slot:"headers",class:"!h-8",children:(dt,It)=>{var _t=Lt(),i=gt(_t);zt(i,1,()=>T,re,(a,w)=>{Ce(a,{get column(){return t(w)}})}),E(dt,_t)},$$slots:{default:!0}})}}}),F(z),N(()=>ie(X,`max-height: ${(j()?"calc(100vh - 200px)":"20000px")??""}`)),E(n,z),Et(),I()}export{Jn as C,te as D,Un as E,Kt as L,Xn as T,qn as g,Qn as t};
