import{h as b,b as y}from"./BJzbPR4R.js";import{i as N,b as F,c as T,d as v,e as A,f as B}from"./D1iaLrhE.js";const S=n=>{for(const t of n)if(b(t.attributes,"newExecutionRunId")&&y(t.attributes.newExecutionRunId))return t.attributes.newExecutionRunId},L=n=>F(n)||T(n)||v(n)||A(n)||B(n),j=(n,t,e)=>{var x,m,g,l,C;const s=t.filter(W=>L(W)),h=!!(n!=null&&n.pendingChildren.length)||!!s.length,d=n==null?void 0:n.parent,E=(x=e.namespaceInfo)==null?void 0:x.name,i=t.find(N),a=S(t),o=(m=i==null?void 0:i.attributes)==null?void 0:m.firstExecutionRunId,u=o===(n==null?void 0:n.runId)?void 0:o,r=(g=i==null?void 0:i.attributes)==null?void 0:g.continuedExecutionRunId;let c="";const p=(C=(l=n==null?void 0:n.searchAttributes)==null?void 0:l.indexedFields)==null?void 0:C.TemporalScheduledById;typeof p=="string"&&(c=p);const I=!!(d||h||u||r||a||c),R=(d?1:0)+(n==null?void 0:n.pendingChildren.length)+s.length+(u?1:0)+(r?1:0)+(a?1:0)+(c?1:0);return{hasRelationships:I,hasChildren:h,children:s,first:u,previous:r,parent:d,parentNamespaceName:E,next:a,scheduleId:c,relationshipCount:R}},q=n=>{try{const t=new Set;for(const e of n)if(e.category==="nexus"&&e.links&&e.links.length>0)for(const s of e.links)t.add(s);return Array.from(t)}catch{return[]}};export{q as a,j as g};
