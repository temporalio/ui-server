import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{a as H}from"./CfXw_P7u.js";import{p as F,f as P,c as J,j as b,r as x,h as y,t as S,e as D,b as L,l as M,M as _,a as N,I as C,g as O,o as B}from"./B6CF0p-B.js";import{e as E,s as G}from"./BSSJzwu8.js";import{i as K}from"./DVfqY6Lp.js";import{k as Q}from"./CmR3ARMz.js";import{s as k}from"./Rrz4rnkO.js";import{s as W}from"./CVNTlwXL.js";import{i as R}from"./BC0HqUZ9.js";import{p as a}from"./BrOjBIf0.js";import{C as X}from"./Bv9Mn5q8.js";import{I as Y}from"./CsmBsHFA.js";import{t as s}from"./DEjs8ZrU.js";import{t as Z}from"./BxHUL3FD.js";import{L as $}from"./gE4noIMR.js";import{T as ee}from"./C82XNxlY.js";var te=P('<label class="file-upload-label svelte-vg1zto"><!></label> <input class="hidden" type="file"/>',1);function ae(I,e){F(e,!1);let d=a(e,"id",8),l=a(e,"accept",8,".json"),r=a(e,"onUpload",8);const w=T=>{var v;const g=T.target,c=(v=g==null?void 0:g.files)===null||v===void 0?void 0:v[0],i=new FileReader;c&&(i.readAsText(c),i.onload=()=>{var n,f;try{const U=(f=(n=i==null?void 0:i.result)===null||n===void 0?void 0:n.toString())!==null&&f!==void 0?f:"";r()(U)}catch{Z.push({variant:"error",message:s("common.upload-error")})}})};R();var u=te(),o=J(u),p=b(o);Y(p,{name:"upload"}),x(o);var m=y(o,2);S(()=>{k(o,"for",d()),k(m,"id",d()),k(m,"accept",l())}),E("change",m,w),D(I,u),L()}var re=P('<div class="flex flex-col gap-2"><!> <div class="flex gap-2"><!> <!></div> <span> </span></div>');function ke(I,e){F(e,!1);let d=a(e,"id",24,()=>crypto.randomUUID()),l=a(e,"error",12,!1),r=a(e,"input",12),w=a(e,"label",24,()=>s("workflows.signal-payload-input-label")),u=a(e,"loading",12,!1),o=a(e,"hintText",24,()=>s("workflows.signal-payload-input-label-hint")),p=a(e,"editing",8,!0);const m=t=>{if(!r())return!0;try{return JSON.parse(t),!0}catch{return!1}},T=t=>{r(t)},v=()=>{r(""),u(!1)},g=t=>{r(t)};H(v),M(()=>_(r()),()=>{l(!m(r()))}),N(),R();var c=re(),i=b(c);$(i,{get for(){return d()},get label(){return w()}});var n=y(i,2),f=b(n);Q(f,()=>[u(),p()],t=>{X(t,{get id(){return d()},maxHeight:320,get content(){return r()},onchange:T,get editable(){return p()},copyable:!1})});var U=y(f,2);{var V=t=>{{let z=B(()=>(_(s),C(()=>s("common.upload-json"))));ee(t,{get text(){return O(z)},topRight:!0,children:(A,le)=>{ae(A,{get id(){return`${d()??""}-input-file-upload`},onUpload:g})},$$slots:{default:!0}})}};K(U,t=>{p()&&t(V)})}x(n);var h=y(n,2);let j;var q=b(h,!0);x(h),x(c),S(t=>{j=W(h,1,`text-xs ${l()?"text-danger":"text-primary"} inline-block`,null,j,{hidden:!o()&&!l()}),k(h,"role",l()?"alert":null),G(q,t)},[()=>(_(l()),_(s),_(o()),C(()=>l()?s("common.input-valid-json"):o()))]),D(I,c),L()}export{ke as P};
