import"./CWj6FrbW.js";import{p as at,i as s,c as i,e as r,b as ot,f as Te,j as Ve,h as kt,r as Ce,t as k,G as Wt,L as ut,g as e,o as ft,u as n,n as rt,k as S,s as ct,al as At}from"./CckrFwdx.js";import{e as Oe,s as V,d as Et}from"./_IQD3yTx.js";import{i as o}from"./CoMawi-e.js";import{p as C,s as lt,a as it,c as vt}from"./BioCYJcK.js";import{p as ht}from"./8kE4LfTI.js";import{T as pe}from"./Buiq-mNa.js";import{W as Rt}from"./DMYAVgzQ.js";import{B as Pt}from"./DlLJhG5Q.js";import{i as mt,c as Lt,w as Mt}from"./DlFjUWrg.js";import{S as Se}from"./S6Q2Q0ub.js";import{i as jt}from"./Dzb719w0.js";import{k as Ht}from"./EZHNhN5g.js";import{g as Kt}from"./CT3a8W8Y.js";import{c as $e,j as Nt}from"./DHJWXnMj.js";import{k as Ut}from"./ogfG6Fbi.js";import"./69_IOA4Y.js";import{k as Yt}from"./DLKvYI2j.js";import{c as zt,a as dt}from"./CjYTZKiB.js";import{p as wt,s as gt}from"./Bfc47y5P.js";import{i as Qt,t as _t}from"./ebNgFJjp.js";import{I as yt}from"./POwFeHBs.js";import{c as Gt}from"./BWJ-qqWV.js";import{L as bt}from"./BeifSVB_.js";import{T as qt}from"./IF1TuVBO.js";import{t as et}from"./DEjs8ZrU.js";import{w as tt}from"./D58M1Wqc.js";import{u as Xt}from"./HbeneCA0.js";import{s as Zt}from"./DSbgyoV1.js";const Jt=(O,t=2)=>{if(!+O)return"0 Bytes";const m=1024,N=t<0?0:t,U=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],W=Math.floor(Math.log(O)/Math.log(m));return`${parseFloat((O/Math.pow(m,W)).toFixed(N))} ${U[W]}`};var $t=Te('<button id="filter-button"><!></button>'),er=Te('<button class="copy-or-filter-button svelte-1y8643r" id="copy-button"><!></button>'),tr=Te("<div><!> <!></div>");function rr(O,t){at(t,!1);const m=()=>it(h,"$copied",N),[N,U]=lt();let W=C(t,"show",8,!1),Y=C(t,"filterable",8,!0),z=C(t,"copyable",8,!0),a=C(t,"content",8),P=C(t,"onFilter",8,()=>{}),J=C(t,"filtered",8,!1),d=C(t,"copyIconTitle",8),oe=C(t,"copySuccessIconTitle",8),le=C(t,"filterIconTitle",8),ue=C(t,"class",8,"");const{copy:f,copied:h}=Gt();Qt();var _=s(),Q=i(_);{var G=u=>{var l=tr(),ie=Ve(l);{var $=c=>{var w=$t();let ee;var q=Ve(w);Yt(q,J,v=>{yt(v,{get title(){return le()},name:"filter",class:"m-1"})}),Ce(w),k(()=>ee=dt(w,1,"copy-or-filter-button svelte-1y8643r",null,ee,{filtered:J()})),Oe("click",w,wt(gt(function(...v){var L;(L=P())==null||L.apply(this,v)}))),r(c,w)};o(ie,c=>{Y()&&c($)})}var Be=kt(ie,2);{var y=c=>{var w=er(),ee=Ve(w);{let q=ft(()=>m()?oe():d()),v=ft(()=>m()?"checkmark":"copy");yt(ee,{get title(){return e(q)},get name(){return e(v)},class:"m-1"})}Ce(w),Oe("click",w,wt(gt(q=>f(q,a())))),r(c,w)};o(Be,c=>{z()&&c(y)})}Ce(l),k(c=>dt(l,1,c,"svelte-1y8643r"),[()=>zt((ut(_t),ut(ue()),Wt(()=>_t("copy-or-filter",ue()))))]),r(u,l)};o(Q,u=>{W()&&u(G)})}r(O,_),ot(),U()}var ar=Te("<!> <!>",1);function Z(O,t){at(t,!0);const m=()=>it(tt,"$workflowFilters",N),[N,U]=lt();let W=C(t,"filterOrCopyButtonsVisible",3,!1),Y=C(t,"type",19,()=>Se.KEYWORD);const z=f=>f.length>11?`${f.slice(0,4)}...${f.slice(-4)}`:f,a=t.attribute==="RunId",P=()=>{const f=m().find(_=>_.attribute===t.attribute),h=()=>m().filter(_=>_.attribute!==t.attribute);if(!f||f.value!==t.value){const _={attribute:t.attribute,type:Y(),value:t.value,conditional:"=",operator:"",parenthesis:""};vt(tt,[...h(),_])}else vt(tt,[...h()]);Xt(ht.url,m())};var J=ar(),d=i(J);{var oe=f=>{qt(f,{get text(){return t.value},top:!0,class:"min-w-0",children:(h,_)=>{bt(h,{get href(){return t.href},class:"cursor-help",children:(Q,G)=>{rt();var u=S();k(l=>V(u,l),[()=>z(t.value)]),r(Q,u)},$$slots:{default:!0}})},$$slots:{default:!0}})},le=f=>{var h=s(),_=i(h);{var Q=u=>{bt(u,{get href(){return t.href},children:(l,ie)=>{rt();var $=S();k(()=>V($,t.value)),r(l,$)},$$slots:{default:!0}})},G=u=>{var l=S();k(()=>V(l,t.value)),r(u,l)};o(_,u=>{t.href?u(Q):u(G,!1)},!0)}r(f,h)};o(d,f=>{a?f(oe):f(le,!1)})}var ue=kt(d,2);{let f=n(()=>et("common.copy-icon-title")),h=n(()=>et("common.copy-success-icon-title")),_=n(()=>et("common.filter-workflows")),Q=n(()=>m().some(G=>G.attribute===t.attribute&&G.value===t.value));rr(ue,{get copyIconTitle(){return e(f)},get copySuccessIconTitle(){return e(h)},get filterIconTitle(){return e(_)},get show(){return W()},get content(){return t.value},onFilter:P,get filtered(){return e(Q)}})}r(O,J),ot(),U()}var or=Te('<td class="workflows-summary-table-body-cell filterable svelte-da71jl" data-testid="workflows-summary-table-body-cell"><!></td>'),lr=Te('<td class="workflows-summary-table-body-cell svelte-da71jl" data-testid="workflows-summary-table-body-cell"><!></td>');function Rr(O,t){at(t,!0);const m=()=>it(Lt,"$customSearchAttributes",N),[N,U]=lt();var W,Y;let z=C(t,"archival",3,!1);const a=n(()=>t.column.label),P=n(()=>ht.params.namespace),J=n(()=>mt(e(a))&&(m()[e(a)]===Se.KEYWORD||m()[e(a)]===Se.TEXT)&&typeof((Y=(W=t.workflow.searchAttributes)===null||W===void 0?void 0:W.indexedFields)===null||Y===void 0?void 0:Y[e(a)])=="string");let d=At(!1);const oe=()=>ct(d,!0),le=()=>ct(d,!1),ue=u=>{const l=u.relatedTarget;l&&!["filter-button","copy-button"].includes(l.id)&&le()},f=["Type","Workflow ID","Run ID","Deployment","Versioning Behavior","Deployment Version","Build ID","Scheduled By ID"];var h=s(),_=i(h);{var Q=u=>{var l=or();l.__mouseover=oe,l.__focusin=oe,l.__focusout=ue;var ie=Ve(l);{var $=y=>{{let c=n(()=>$e({namespace:e(P),workflow:t.workflow.id,run:t.workflow.runId,archival:z()}));Z(y,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"WorkflowType",get value(){return t.workflow.name},get href(){return e(c)}})}},Be=y=>{var c=s(),w=i(c);{var ee=v=>{{let L=n(()=>$e({namespace:e(P),workflow:t.workflow.id,run:t.workflow.runId,archival:z()}));Z(v,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"WorkflowId",get value(){return t.workflow.id},get href(){return e(L)}})}},q=v=>{var L=s(),je=i(L);{var He=B=>{{let se=n(()=>$e({namespace:e(P),workflow:t.workflow.id,run:t.workflow.runId,archival:z()}));Z(B,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"RunId",get value(){return t.workflow.runId},get href(){return e(se)}})}},Ke=B=>{var se=s(),Ne=i(se);{var Ue=I=>{const T=n(()=>{var te,re;return(re=(te=t.workflow.searchAttributes)==null?void 0:te.indexedFields)==null?void 0:re.TemporalWorkerDeployment});{let te=n(()=>e(T)&&typeof e(T)=="string"?e(T):""),re=n(()=>e(T)?Nt({namespace:e(P),deployment:e(T)}):void 0);Z(I,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"TemporalWorkerDeployment",get value(){return e(te)},get href(){return e(re)}})}},Ye=I=>{var T=s(),te=i(T);{var re=x=>{const A=n(()=>{var R,fe;return(fe=(R=t.workflow.searchAttributes)==null?void 0:R.indexedFields)==null?void 0:fe.TemporalWorkerDeploymentVersion});{let R=n(()=>e(A)&&typeof e(A)=="string"?e(A):"");Z(x,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"TemporalWorkerDeploymentVersion",get value(){return e(R)}})}},ze=x=>{var A=s(),R=i(A);{var fe=F=>{const E=n(()=>{var M,ce,ve,g,b;return((ve=(ce=(M=t.workflow)==null?void 0:M.searchAttributes)==null?void 0:ce.indexedFields)==null?void 0:ve.TemporalWorkerBuildId)||Kt((b=(g=t.workflow.searchAttributes)==null?void 0:g.indexedFields)==null?void 0:b.TemporalWorkerDeploymentVersion)});{let M=n(()=>e(E)&&typeof e(E)=="string"?e(E):"");Z(F,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"TemporalWorkerBuildId",get value(){return e(M)}})}},Qe=F=>{var E=s(),M=i(E);{var ce=g=>{const b=n(()=>{var j,me;return(me=(j=t.workflow.searchAttributes)==null?void 0:j.indexedFields)==null?void 0:me.TemporalWorkflowVersioningBehavior});{let j=n(()=>e(b)&&typeof e(b)=="string"?e(b):"");Z(g,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"TemporalWorkflowVersioningBehavior",get value(){return e(j)}})}},ve=g=>{var b=s(),j=i(b);{var me=D=>{const ne=n(()=>{var de,we;return(we=(de=t.workflow.searchAttributes)==null?void 0:de.indexedFields)==null?void 0:we[e(a)]});Z(D,{get filterOrCopyButtonsVisible(){return e(d)},get attribute(){return e(a)},get value(){return e(ne)},get type(){return m()[e(a)]}})},Ge=D=>{var ne=s(),de=i(ne);{var we=Ie=>{const H=n(()=>{var K,ge;return(ge=(K=t.workflow.searchAttributes)==null?void 0:K.indexedFields)==null?void 0:ge.TemporalScheduledById});{let K=n(()=>e(H)&&typeof e(H)=="string"?e(H):"");Z(Ie,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"TemporalScheduledById",get value(){return e(K)}})}};o(de,Ie=>{e(a)==="Scheduled By ID"&&Ie(we)},!0)}r(D,ne)};o(j,D=>{e(J)?D(me):D(Ge,!1)},!0)}r(g,b)};o(M,g=>{e(a)==="Versioning Behavior"?g(ce):g(ve,!1)},!0)}r(F,E)};o(R,F=>{e(a)==="Build ID"?F(fe):F(Qe,!1)},!0)}r(x,A)};o(te,x=>{e(a)==="Deployment Version"?x(re):x(ze,!1)},!0)}r(I,T)};o(Ne,I=>{e(a)==="Deployment"?I(Ue):I(Ye,!1)},!0)}r(B,se)};o(je,B=>{e(a)==="Run ID"?B(He):B(Ke,!1)},!0)}r(v,L)};o(w,v=>{e(a)==="Workflow ID"?v(ee):v(q,!1)},!0)}r(y,c)};o(ie,y=>{e(a)==="Type"?y($):y(Be,!1)})}Ce(l),Oe("focus",l,oe),Oe("mouseleave",l,le),Oe("blur",l,le),r(u,l)},G=u=>{var l=lr(),ie=Ve(l);{var $=y=>{{let c=n(()=>jt(t.workflow)),w=n(()=>Ut(t.workflow));Rt(y,{get status(){return t.workflow.status},get delayed(){return e(c)},get taskFailure(){return e(w)}})}},Be=y=>{var c=s(),w=i(c);{var ee=v=>{pe(v,{get dateTime(){return t.workflow.endTime}})},q=v=>{var L=s(),je=i(L);{var He=B=>{pe(B,{get dateTime(){return t.workflow.startTime}})},Ke=B=>{var se=s(),Ne=i(se);{var Ue=I=>{var T=S();k(()=>V(T,t.workflow.taskQueue)),r(I,T)},Ye=I=>{var T=s(),te=i(T);{var re=x=>{var A=S();k(()=>{var R;return V(A,((R=t.workflow)==null?void 0:R.parentNamespaceId)??"")}),r(x,A)},ze=x=>{var A=s(),R=i(A);{var fe=F=>{var E=S();k(M=>V(E,M),[()=>Jt(parseInt(t.workflow.historySizeBytes,10))]),r(F,E)},Qe=F=>{var E=s(),M=i(E);{var ce=g=>{var b=S();k(j=>V(b,j),[()=>parseInt(t.workflow.stateTransitionCount,10)>0?t.workflow.stateTransitionCount:""]),r(g,b)},ve=g=>{var b=s(),j=i(b);{var me=D=>{pe(D,{get dateTime(){return t.workflow.executionTime}})},Ge=D=>{var ne=s(),de=i(ne);{var we=H=>{var K=S();k(ge=>V(K,ge),[()=>Ht({start:t.workflow.startTime,end:t.workflow.endTime,includeMillisecondsForUnderSecond:!0})]),r(H,K)},Ie=H=>{var K=s(),ge=i(K);{var Tt=_e=>{var xe=S();k(qe=>V(xe,qe),[()=>parseInt(t.workflow.historyEvents,10)>0?t.workflow.historyEvents:""]),r(_e,xe)},Bt=_e=>{var xe=s(),qe=i(xe);{var It=ye=>{var Fe=S();k(()=>{var We,Ae;return V(Fe,((Ae=(We=t.workflow.searchAttributes)==null?void 0:We.indexedFields)==null?void 0:Ae.TemporalScheduledById)??"")}),r(ye,Fe)},xt=ye=>{var Fe=s(),We=i(Fe);{var Ae=be=>{const ke=n(()=>{var p,ae;return(ae=(p=t.workflow.searchAttributes)==null?void 0:p.indexedFields)==null?void 0:ae.TemporalScheduledStartTime});var Ee=s(),Xe=i(Ee);{var Ze=p=>{pe(p,{get dateTime(){return e(ke)}})};o(Xe,p=>{e(ke)&&typeof e(ke)=="string"&&p(Ze)})}r(be,Ee)},Ft=be=>{var ke=s(),Ee=i(ke);{var Xe=p=>{var ae=S();k(()=>{var Re,Pe;return V(ae,(Pe=(Re=t.workflow.searchAttributes)==null?void 0:Re.indexedFields)==null?void 0:Pe.TemporalChangeVersion)}),r(p,ae)},Ze=p=>{var ae=s(),Re=i(ae);{var Pe=Je=>{const Le=n(()=>{var X,De;return(De=(X=t.workflow.searchAttributes)==null?void 0:X.indexedFields)==null?void 0:De[e(a)]});var st=s(),Dt=i(st);{var pt=X=>{pe(X,{get dateTime(){return e(Le)}})},St=X=>{var De=s(),Vt=i(De);{var Ct=he=>{Pt(he,{children:(Me,ir)=>{rt();var nt=S();k(()=>V(nt,e(Le))),r(Me,nt)},$$slots:{default:!0}})},Ot=he=>{var Me=S();k(()=>V(Me,e(Le))),r(he,Me)};o(Vt,he=>{m()[e(a)]===Se.BOOL?he(Ct):he(Ot,!1)},!0)}r(X,De)};o(Dt,X=>{m()[e(a)]===Se.DATETIME&&typeof e(Le)=="string"?X(pt):X(St,!1)})}r(Je,st)};o(Re,Je=>{mt(e(a))&&Mt(t.workflow,e(a))&&Je(Pe)},!0)}r(p,ae)};o(Ee,p=>{e(a)==="Change Version"?p(Xe):p(Ze,!1)},!0)}r(be,ke)};o(We,be=>{e(a)==="Scheduled Start Time"?be(Ae):be(Ft,!1)},!0)}r(ye,Fe)};o(qe,ye=>{e(a)==="Scheduled By ID"?ye(It):ye(xt,!1)},!0)}r(_e,xe)};o(ge,_e=>{e(a)==="History Length"?_e(Tt):_e(Bt,!1)},!0)}r(H,K)};o(de,H=>{e(a)==="Execution Duration"?H(we):H(Ie,!1)},!0)}r(D,ne)};o(j,D=>{e(a)==="Execution Time"?D(me):D(Ge,!1)},!0)}r(g,b)};o(M,g=>{e(a)==="State Transitions"?g(ce):g(ve,!1)},!0)}r(F,E)};o(R,F=>{e(a)==="History Size"?F(fe):F(Qe,!1)},!0)}r(x,A)};o(te,x=>{e(a)==="Parent Namespace"?x(re):x(ze,!1)},!0)}r(I,T)};o(Ne,I=>{e(a)==="Task Queue"?I(Ue):I(Ye,!1)},!0)}r(B,se)};o(je,B=>{e(a)==="Start"?B(He):B(Ke,!1)},!0)}r(v,L)};o(w,v=>{e(a)==="End"?v(ee):v(q,!1)},!0)}r(y,c)};o(ie,y=>{e(a)==="Status"?y($):y(Be,!1)})}Ce(l),r(u,l)};o(_,u=>{f.includes(e(a))||e(J)?u(Q):u(G,!1)})}r(O,h),ot(),U()}Et(["mouseover","focusin","focusout"]);const Pr=(O,t)=>{const m=Zt({workflows:O},null,2),N=`workflows-${O.length}-${t}-${Date.now()}.json`;U(m,N,"text/plain");function U(W,Y,z){const a=document.createElement("a"),P=new Blob([W],{type:z});a.href=URL.createObjectURL(P),a.download=Y,a.click()}};export{Rr as T,Pr as e};
