import"./CWj6FrbW.js";import{p as wt,at as W,au as it,f as L,j as o,h as r,s as h,g as t,v as a,r as s,n as Dt,k as ht,t as O,e as g,b as Tt,c as rt,u as bt,i as qt,d as Te,q as ke}from"./DPYmeJXN.js";import{s as w,e as Ie}from"./DtOlEDQN.js";import{i as F}from"./DqIiO-ir.js";import{k as oe}from"./DlFjb5xL.js";import{p as Mt,s as Ae,a as ae}from"./BkgVXhYA.js";import{p as se}from"./Du4j6vrc.js";import{s as Pe}from"./BuyG_Alt.js";import{B as St}from"./Dl8bQq-l.js";import{T as ie}from"./DY9wv1RX.js";import{t as n}from"./DEjs8ZrU.js";import{C as Nt}from"./BHcoTVMH.js";import{D as Ce,a as De}from"./DkM85sY5.js";import{I as mt}from"./CrdzKrnI.js";import{N as xe}from"./DcQ8zgVW.js";import{L as ct}from"./BiRA5p9H.js";import{s as zt}from"./ikbOq2O5.js";import{r as Qt,a as jt}from"./B8ZQMCVE.js";import{t as ne}from"./DAY2qct0.js";import{t as Kt,w as Se}from"./BpV6waxz.js";import{g as Et}from"./BgG8ash6.js";import{m as _t,e as Ct,d as gt,l as Ne,n as Me}from"./CtQjrHKC.js";import{M as le}from"./DE1TNxiq.js";import{P as _e}from"./Xi2vXHNf.js";import{t as Oe}from"./CLtBfc7Y.js";import{W as He}from"./Z9LHW962.js";import{A as Re}from"./CIMK_y_c.js";import{B as We}from"./Bn2mFndZ.js";import{C as re}from"./Dla4Xpsa.js";import{I as Be}from"./AOc3ct3q.js";import{c as Fe}from"./BSPnU9Hg.js";import{f as Le,b as Ue,a as qe}from"./0Fl4FzvE.js";import{o as ze}from"./C8ejR22J.js";const Qe=({date:b,now:e=Date.now(),negativeDefault:v})=>{if(!b)return"";const x=String(b);try{const m=(Number(new Date(x))-e)/1e3;return v!==void 0&&m<0?v:isNaN(m)?"":`${m.toFixed(0)}s`}catch{return""}},je=async({namespace:b,execution:e,id:v,reason:x,type:u,identity:m})=>{const S=Qt("activity.pause",{namespace:b});return jt(S,{options:{method:"POST",body:zt({execution:e,reason:x,id:v,type:u,...m&&{identity:m}})}})},Ke=async({namespace:b,execution:e,id:v,type:x,identity:u})=>{const m=Qt("activity.unpause",{namespace:b});return jt(m,{options:{method:"POST",body:zt({execution:e,id:v,type:x,...u&&{identity:u}})}})},Ee=async({namespace:b,execution:e,id:v,type:x,resetHeartbeat:u,identity:m})=>{const S=Qt("activity.reset",{namespace:b});return jt(S,{options:{method:"POST",body:zt({execution:e,id:v,type:x,resetHeartbeat:u,...m&&{identity:m}})}})},Ge=async({namespace:b,execution:e,id:v,type:x,activityOptions:u,identity:m})=>{const S=Qt("activity.update-options",{namespace:b});return jt(S,{options:{method:"POST",body:zt({execution:e,id:v,type:x,activityOptions:u,updateMask:"taskQueue.name,scheduleToCloseTimeout,scheduleToStartTimeout,startToCloseTimeout,heartbeatTimeout,retryPolicy.initialInterval,retryPolicy.backoffCoefficient,retryPolicy.maximumInterval,retryPolicy.maximumAttempts",...m&&{identity:m}})}})};var Je=L(`<form class="flex flex-col gap-4"><div><!> <p class="mb-1 text-xs text-secondary">Maximum permitted time between successful Worker Heartbeats.</p> <div class="flex flex-wrap items-center gap-2"><!> <p class="text-nowrap text-secondary"> </p></div></div> <div><!> <p class="mb-1 text-xs text-secondary">Coefficient used to calculate the next retry interval. The next retry
          interval is previous interval multiplied by the coefficient. Must be 1
          or larger.</p> <!></div> <div><!> <p class="mb-1 text-xs text-secondary">Interval of the first retry. If retryBackoffCoefficient is 1.0 then it
          is used for all retries.</p> <div class="flex flex-wrap items-center gap-2"><!> <p class="text-nowrap text-secondary"> </p></div></div> <div><!> <p class="mb-1 text-xs text-secondary">Maximum number of attempts. When exceeded the retries stop even if not
          expired yet. 1 disables retries. 0 means unlimited (up to the
          timeouts).</p> <!></div> <div><!> <p class="mb-1 text-xs text-secondary">Indicates how long the caller is willing to wait for an Activity
          completion. Limits how long retries will be attempted.</p> <div class="flex flex-wrap items-center gap-2"><!> <p class="text-nowrap text-secondary"> </p></div></div> <div><!> <p class="mb-1 text-xs text-secondary">Limits time an Activity Task can stay in a task queue before a Worker
          picks it up. This timeout is always non retryable, as all a retry
          would achieve is to put it back into the same queue.</p> <div class="flex flex-wrap items-center gap-2"><!> <p class="text-nowrap text-secondary"> </p></div></div> <div><!> <p class="mb-1 text-xs text-secondary">Maximum time an Activity is allowed to execute after being picked up
          by a Worker. This Timeout is always retryable.</p> <div class="flex flex-wrap items-center gap-2"><!> <p class="text-nowrap text-secondary"> </p></div></div> <div><!> <!></div> <!> <div class="flex items-center justify-end gap-4"><!> <!></div></form>`);function Ve(b,e){wt(e,!0);var v,x,u,m,S,_,k,Q,P,N,K,H,I,B;let y=Mt(e,"open",15),T=a(()=>e.activity.activityId),U=a(()=>e.activity.activityType),q=W(it((x=(v=e.activity.activityOptions)===null||v===void 0?void 0:v.taskQueue)===null||x===void 0?void 0:x.name)),E=W(it(_t(String((u=e.activity===null||e.activity===void 0?void 0:e.activity.activityOptions)===null||u===void 0?void 0:u.scheduleToCloseTimeout)))),C=W(it(_t(String((m=e.activity===null||e.activity===void 0?void 0:e.activity.activityOptions)===null||m===void 0?void 0:m.scheduleToStartTimeout)))),j=W(it(_t(String((S=e.activity===null||e.activity===void 0?void 0:e.activity.activityOptions)===null||S===void 0?void 0:S.startToCloseTimeout)))),tt=W(it(_t(String((_=e.activity===null||e.activity===void 0?void 0:e.activity.activityOptions)===null||_===void 0?void 0:_.heartbeatTimeout)))),z=W(it((Q=(k=e.activity===null||e.activity===void 0?void 0:e.activity.activityOptions)===null||k===void 0?void 0:k.retryPolicy)===null||Q===void 0?void 0:Q.maximumAttempts)),Y=W(it((N=(P=e.activity===null||e.activity===void 0?void 0:e.activity.activityOptions)===null||P===void 0?void 0:P.retryPolicy)===null||N===void 0?void 0:N.backoffCoefficient)),X=W(it(_t(String((H=(K=e.activity===null||e.activity===void 0?void 0:e.activity.activityOptions)===null||K===void 0?void 0:K.retryPolicy)===null||H===void 0?void 0:H.initialInterval)))),ot=it(_t(String((B=(I=e.activity===null||e.activity===void 0?void 0:e.activity.activityOptions)===null||I===void 0?void 0:I.retryPolicy)===null||B===void 0?void 0:B.maximumInterval))),J=W(!1);const st=a(()=>({taskQueue:{name:t(q)},scheduleToCloseTimeout:gt(t(E)),scheduleToStartTimeout:gt(t(C)),startToCloseTimeout:gt(t(j)),heartbeatTimeout:gt(t(tt)),retryPolicy:{maximumAttempts:t(z),initialInterval:gt(t(X)),backoffCoefficient:t(Y),maximumInterval:gt(ot)}})),vt=Et(),nt=()=>{y(!1)},Gt=async ft=>{ft.preventDefault();try{await Ge({namespace:e.namespace,execution:e.execution,id:t(J)?void 0:t(T),type:t(J)?t(U):void 0,activityOptions:t(st),identity:vt}),Kt(),ne.push({variant:"success",message:`Options for Activity ${t(T)} have been updated.`})}catch(lt){console.error("Error updating activity options:",lt),ne.push({variant:"error",message:`Options for Activity ${t(T)} have been failed to update: ${lt==null?void 0:lt.message}`,duration:5e3})}finally{nt()}};{let ft=a(()=>n("common.close"));Ce(b,{get open(){return y()},onClick:nt,position:"right",id:"activity-options-update-drawer",dark:!1,get closeButtonLabel(){return t(ft)},class:"w-[480px]",children:(lt,Jt)=>{De(lt,{get title(){return`Update Activity ${e.activity.activityId??""}`},children:(Vt,Xt)=>{var yt=Je(),pt=o(yt),Ot=o(pt);ct(Ot,{for:"heartbeat-timeout",label:"Heartbeat Timeout Duration"});var kt=r(Ot,4),Ht=o(kt);{let D=a(()=>isNaN(Number(t(tt))));mt(Ht,{id:"heartbeat-timeout",label:"Heartbeat Timeout Duration",labelHidden:!0,suffix:"sec",class:"w-36",get error(){return t(D)},get value(){return t(tt)},set value(V){h(tt,V,!0)}})}var Rt=r(Ht,2),Yt=o(Rt,!0);s(Rt),s(kt),s(pt);var xt=r(pt,2),It=o(xt);ct(It,{for:"retry-backoff-coefficient",label:"Retry Backoff Coefficient"});var Zt=r(It,4);xe(Zt,{id:"retry-backoff-coefficient",label:"Retry Backoff Coefficient",labelHidden:!0,step:.01,min:1,class:"w-24",get value(){return t(Y)},set value(D){h(Y,D,!0)}}),s(xt);var At=r(xt,2),Wt=o(At);ct(Wt,{for:"retry-initial-interval",label:"Retry Initial Interval Duration"});var i=r(Wt,4),c=o(i);{let D=a(()=>isNaN(Number(t(X))));mt(c,{id:"retry-initial-interval",label:"Retry Initial Interval Duration",labelHidden:!0,suffix:"sec",class:"w-36",get error(){return t(D)},get value(){return t(X)},set value(V){h(X,V,!0)}})}var l=r(c,2),M=o(l,!0);s(l),s(i),s(At);var R=r(At,2),d=o(R);ct(d,{for:"maximum-attempts",label:"Retry Maximum Attempts"});var p=r(d,4);xe(p,{id:"maximum-attempts",label:"Retry Maximum Attempts",labelHidden:!0,class:"w-24",get value(){return t(z)},set value(D){h(z,D,!0)}}),s(R);var f=r(R,2),A=o(f);ct(A,{for:"schedule-to-close-timeout",label:"Schedule to Close Timeout Duration"});var G=r(A,4),Z=o(G);{let D=a(()=>isNaN(Number(t(E))));mt(Z,{id:"schedule-to-close-timeout",label:"Schedule to Close Timeout Duration",labelHidden:!0,suffix:"sec",class:"w-36",get error(){return t(D)},get value(){return t(E)},set value(V){h(E,V,!0)}})}var et=r(Z,2),at=o(et,!0);s(et),s(G),s(f);var dt=r(f,2),Bt=o(dt);ct(Bt,{for:"schedule-to-start-timeout",label:"Schedule to Start Timeout Duration"});var Ft=r(Bt,4),Lt=o(Ft);{let D=a(()=>isNaN(Number(t(C))));mt(Lt,{id:"schedule-to-start-timeout",label:"Schedule to Start Timeout Duration",labelHidden:!0,suffix:"sec",class:"w-36",get error(){return t(D)},get value(){return t(C)},set value(V){h(C,V,!0)}})}var Ut=r(Lt,2),$t=o(Ut,!0);s(Ut),s(Ft),s(dt);var te=r(dt,2),ce=o(te);ct(ce,{for:"start-to-close-timeout",label:"Start to Close Timeout Duration"});var ve=r(ce,4),de=o(ve);{let D=a(()=>isNaN(Number(t(j))));mt(de,{id:"start-to-close-timeout",label:"Start to Close Timeout Duration",labelHidden:!0,suffix:"sec",class:"w-36",get error(){return t(D)},get value(){return t(j)},set value(V){h(j,V,!0)}})}var ue=r(de,2),ge=o(ue,!0);s(ue),s(ve),s(te);var ee=r(te,2),me=o(ee);ct(me,{for:"task-queue-name",label:"Task Queue Name"});var he=r(me,2);mt(he,{id:"task-queue-name",label:"Task Queue Name",labelHidden:!0,class:"w-full",get value(){return t(q)},set value(D){h(q,D,!0)}}),s(ee);var fe=r(ee,2);{let D=a(()=>n("activities.apply-to-all-activity-types",{type:t(U)}));Nt(fe,{get label(){return t(D)},get checked(){return t(J)},set checked(V){h(J,V,!0)}})}var ye=r(fe,2),pe=o(ye);St(pe,{type:"button",variant:"ghost",size:"sm",$$events:{click:nt},children:(D,V)=>{Dt();var ut=ht();O(Pt=>w(ut,Pt),[()=>n("common.cancel")]),g(D,ut)},$$slots:{default:!0}});var be=r(pe,2);St(be,{type:"submit",variant:"primary",size:"sm",children:(D,V)=>{Dt();var ut=ht();O(Pt=>w(ut,Pt),[()=>n("common.save")]),g(D,ut)},$$slots:{default:!0}}),s(ye),s(yt),O((D,V,ut,Pt,we)=>{w(Yt,D),w(M,V),w(at,ut),w($t,Pt),w(ge,we)},[()=>Ct(t(tt)),()=>Ct(t(X)),()=>Ct(t(E)),()=>Ct(t(C)),()=>Ct(t(j))]),Ie("submit",yt,Gt),g(Vt,yt)},$$slots:{default:!0}})},$$slots:{default:!0}})}Tt()}var Xe=L('<h3 slot="title"> </h3>'),Ye=L('<div slot="content" class="flex flex-col gap-4"><p> </p> <!> <!></div>');function Ze(b,e){wt(e,!0);let v=Mt(e,"open",15),x=a(()=>e.activity.activityId),u=a(()=>e.activity.activityType),m=W(""),S=!1,_=W(""),k=W(!1);const Q=Et(),P=()=>{v(!1),h(_,""),h(k,!1)},N=async()=>{await je({namespace:e.namespace,execution:e.execution,id:t(k)?void 0:t(x),reason:t(_),type:t(k)?t(u):void 0,identity:Q}),Kt(),P()};{let K=a(()=>n("workflows.pause")),H=a(()=>n("common.cancel"));le(b,{id:"activity-pause-confirmation-modal","data-testid":"activity-pause-confirmation-modal",loading:S,get confirmText(){return t(K)},get cancelText(){return t(H)},confirmType:"destructive",get error(){return t(m)},set error(I){h(m,I,!0)},get open(){return v()},set open(I){v(I)},$$events:{cancelModal:P,confirmModal:N},$$slots:{title:(I,B)=>{var y=Xe(),T=o(y,!0);s(y),O(U=>w(T,U),[()=>n("activities.pause-modal-confirmation",{activityId:e.activity.id})]),g(I,y)},content:(I,B)=>{var y=Ye(),T=o(y),U=o(T,!0);s(T);var q=r(T,2);{let C=a(()=>n("common.reason-placeholder")),j=a(()=>n("common.reason"));mt(q,{id:"activity-pause-reason",class:"mt-4",get placeholder(){return t(C)},get label(){return t(j)},get value(){return t(_)},set value(tt){h(_,tt,!0)}})}var E=r(q,2);{let C=a(()=>n("activities.pause-all-activity-types",{type:t(u)??""}));Nt(E,{get label(){return t(C)},get checked(){return t(k)},set checked(j){h(k,j,!0)}})}s(y),O(C=>w(U,C),[()=>n("activities.pause-modal-description")]),g(I,y)}}})}Tt()}var $e=L('<h3 slot="title"> </h3>'),ta=L('<div slot="content" class="flex flex-col gap-4"><p> </p> <!> <!></div>');function ea(b,e){wt(e,!0);let v=Mt(e,"open",15),x=a(()=>e.activity.activityId),u=a(()=>e.activity.activityType),m=W(""),S=!1,_=W(!1),k=W(!1);const Q=Et(),P=()=>{v(!1),h(_,!1),h(k,!1)},N=async()=>{await Ee({namespace:e.namespace,execution:e.execution,id:t(_)?void 0:t(x),resetHeartbeat:t(k),type:t(_)?t(u):void 0,identity:Q}),Kt(),ne.push({variant:"success",message:n("activities.reset-success",{activityId:t(x)})}),P()};{let K=a(()=>n("workflows.reset")),H=a(()=>n("common.cancel"));le(b,{id:"activity-pause-confirmation-modal","data-testid":"activity-pause-confirmation-modal",loading:S,get confirmText(){return t(K)},get cancelText(){return t(H)},confirmType:"destructive",get error(){return t(m)},set error(I){h(m,I,!0)},get open(){return v()},set open(I){v(I)},$$events:{cancelModal:P,confirmModal:N},$$slots:{title:(I,B)=>{var y=$e(),T=o(y,!0);s(y),O(U=>w(T,U),[()=>n("activities.reset-modal-confirmation",{activityId:e.activity.id})]),g(I,y)},content:(I,B)=>{var y=ta(),T=o(y),U=o(T,!0);s(T);var q=r(T,2);{let C=a(()=>n("activities.apply-to-all-activity-types",{type:t(u)}));Nt(q,{get label(){return t(C)},get checked(){return t(_)},set checked(j){h(_,j,!0)}})}var E=r(q,2);{let C=a(()=>n("activities.reset-heartbeat-details"));Nt(E,{get label(){return t(C)},get checked(){return t(k)},set checked(j){h(k,j,!0)}})}s(y),O(C=>w(U,C),[()=>n("activities.reset-modal-description")]),g(I,y)}}})}Tt()}var aa=L('<h3 slot="title"> </h3>'),ia=L('<div slot="content" class="flex flex-col gap-4"><p> </p> <!></div>');function ra(b,e){wt(e,!0);let v=Mt(e,"open",15),x=a(()=>e.activity.activityId),u=a(()=>e.activity.activityType),m=W(""),S=!1,_=W(!1);const k=Et(),Q=()=>{v(!1),h(_,!1)},P=async()=>{await Ke({namespace:e.namespace,execution:e.execution,id:t(_)?void 0:t(x),type:t(_)?t(u):void 0,identity:k}),Kt(),Q()};{let N=a(()=>n("workflows.unpause")),K=a(()=>n("common.cancel"));le(b,{id:"activity-unpause-confirmation-modal","data-testid":"activity-unpause-confirmation-modal",loading:S,get confirmText(){return t(N)},get cancelText(){return t(K)},confirmType:"destructive",get error(){return t(m)},set error(H){h(m,H,!0)},get open(){return v()},set open(H){v(H)},$$events:{cancelModal:Q,confirmModal:P},$$slots:{title:(H,I)=>{var B=aa(),y=o(B,!0);s(B),O(T=>w(y,T),[()=>n("activities.pause-modal-confirmation",{activityId:e.activity.id})]),g(H,B)},content:(H,I)=>{var B=ia(),y=o(B),T=o(y,!0);s(y);var U=r(y,2);{let q=a(()=>n("activities.unpause-all-activity-types",{type:t(u)}));Nt(U,{get label(){return t(q)},get checked(){return t(_)},set checked(E){h(_,E,!0)}})}s(B),O(q=>w(T,q),[()=>n("activities.unpause-modal-description")]),g(H,B)}}})}Tt()}var oa=L("<div><!> <!> <!></div> <!> <!> <!> <!>",1);function sa(b,e){wt(e,!0);let v=Mt(e,"class",3,"");const x=a(()=>se.params),u=a(()=>t(x).namespace),m=a(()=>t(x).workflow),S=a(()=>t(x).run),_=a(()=>({workflowId:t(m),runId:t(S)}));let k=W(!1),Q=W(!1),P=W(!1),N=W(!1);const K=async()=>{e.activity.paused?h(Q,!0):h(k,!0)},H=()=>{h(P,!0)},I=()=>{h(N,!0)};var B=oa(),y=rt(B),T=o(y);{let z=a(()=>e.activity.paused?"Resume this Activity":"Pauses this Activity, starting before it retries or the next time it heartbeats. It won’t time out while it’s paused.");ie(T,{bottomLeft:!0,width:200,get text(){return t(z)},children:(Y,X)=>{{let ot=a(()=>e.activity.paused?"play":"pause");St(Y,{variant:"secondary",size:"sm",get leadingIcon(){return t(ot)},$$events:{click:K},children:(J,st)=>{Dt();var vt=ht();O(nt=>w(vt,nt),[()=>e.activity.paused?n("workflows.unpause"):n("workflows.pause")]),g(J,vt)},$$slots:{default:!0}})}},$$slots:{default:!0}})}var U=r(T,2);ie(U,{bottomLeft:!0,width:200,text:"Update this Activity Options.",children:(z,Y)=>{St(z,{variant:"secondary",size:"sm",leadingIcon:"pencil",$$events:{click:I},children:(X,ot)=>{Dt();var J=ht();O(st=>w(J,st),[()=>n("common.update")]),g(X,J)},$$slots:{default:!0}})},$$slots:{default:!0}});var q=r(U,2);ie(q,{bottom:!0,width:200,text:"Reset this Activity.",children:(z,Y)=>{St(z,{variant:"secondary",size:"sm",leadingIcon:"retry",$$events:{click:H},children:(X,ot)=>{Dt();var J=ht();O(st=>w(J,st),[()=>n("workflows.reset")]),g(X,J)},$$slots:{default:!0}})},$$slots:{default:!0}}),s(y);var E=r(y,2);Ze(E,{get namespace(){return t(u)},get execution(){return t(_)},get activity(){return e.activity},get open(){return t(k)},set open(z){h(k,z,!0)}});var C=r(E,2);ra(C,{get namespace(){return t(u)},get execution(){return t(_)},get activity(){return e.activity},get open(){return t(Q)},set open(z){h(Q,z,!0)}});var j=r(C,2);ea(j,{get namespace(){return t(u)},get execution(){return t(_)},get activity(){return e.activity},get open(){return t(P)},set open(z){h(P,z,!0)}});var tt=r(j,2);oe(tt,()=>t(N),z=>{Ve(z,{get namespace(){return t(u)},get execution(){return t(_)},get activity(){return e.activity},get open(){return t(N)},set open(Y){h(N,Y,!0)}})}),O(()=>Pe(y,1,`flex items-center gap-2 ${v()??""}`)),g(b,B),Tt()}const na=(b,e,v)=>!b.disableWriteActions&&!e.namespaceWriteDisabled(v)&&!e.isActivityCommandsDisabled&&!b.activityCommandsDisabled,$=(b,e=bt,v=bt)=>{var x=la(),u=o(x),m=o(u,!0);s(u);var S=r(u,2),_=o(S);{var k=P=>{var N=ht();O(()=>w(N,v())),g(P,N)},Q=P=>{var N=qt(),K=rt(N);Te(K,()=>v()??bt),g(P,N)};F(_,P=>{typeof v()=="string"||typeof v()=="number"?P(k):P(Q,!1)})}s(S),s(x),O(()=>w(m,e())),g(b,x)};var la=L('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="w-full whitespace-pre-line"><!></p></div>'),ca=L('<div><p class="text-sm text-secondary/80"> </p> <!></div>'),va=L('<p class="text-sm text-secondary/80"> </p> <!>',1),da=L('<div><p class="text-sm text-secondary/80"> </p> <!></div>'),ua=L('<div class="flex flex-col gap-2"><div class="flex flex-1 flex-col"><!></div> <!></div>'),ma=L('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="flex w-full items-center gap-1 whitespace-pre-line"> <strong> </strong></p></div>'),fa=L("<!> ",1),ya=L('<p class="ml-1 text-sm text-secondary"> </p>'),pa=L('<div class="flex flex-wrap items-center gap-1"><!> <!></div>'),xa=L("<!> <!> <!>",1),_a=L("<!> <!>",1),ga=L('<div class="surface-primary flex flex-1 cursor-default flex-col gap-2 border-b border-subtle p-4"><div class="flex flex-1 flex-wrap justify-between gap-2"><div class="flex flex-wrap items-center space-x-3"><!> <h4> </h4></div> <!></div> <div class="flex flex-1 flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col gap-1 xl:w-1/2"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 md:flex-1 xl:w-1/2"><!> <!></div></div></div>');function $a(b,e){wt(e,!0);const v=()=>ae(Se,"$workflowRun",m),x=()=>ae(B,"$coreUser",m),u=()=>ae(Oe,"$timestamp",m),[m,S]=Ae(),_=i=>{var c=ca(),l=o(c),M=o(l,!0);s(l);var R=r(l,2);oe(R,()=>e.activity.attempt,d=>{_e(d,{get value(){return e.activity.heartbeatDetails},key:"payloads",children:(f,A=bt)=>{{let G=a(()=>n("common.copy-icon-title")),Z=a(()=>n("common.copy-success-icon-title"));re(f,{get content(){return A()},maxHeight:384,get copyIconTitle(){return t(G)},get copySuccessIconTitle(){return t(Z)}})}},$$slots:{default:!0}})}),s(c),O(d=>w(M,d),[()=>n("workflows.heartbeat-details")]),g(i,c)},k=i=>{var c=ua(),l=o(c),M=o(l);{var R=f=>{var A=va(),G=rt(A),Z=o(G,!0);s(G);var et=r(G,2);oe(et,()=>e.activity.attempt,at=>{{const dt=(Ft,Lt=bt)=>{{let Ut=a(()=>n("common.copy-icon-title")),$t=a(()=>n("common.copy-success-icon-title"));re(Ft,{get content(){return Lt()},maxHeight:384,get copyIconTitle(){return t(Ut)},get copySuccessIconTitle(){return t($t)}})}};let Bt=a(()=>ze(e.activity.lastFailure,"stackTrace"));_e(at,{get value(){return t(Bt)},children:dt,$$slots:{default:!0}})}}),O(at=>w(Z,at),[()=>n("workflows.last-failure")]),g(f,A)};F(M,f=>{e.activity.lastFailure&&f(R)})}s(l);var d=r(l,2);{var p=f=>{var A=da(),G=o(A),Z=o(G,!0);s(G);var et=r(G,2);{let at=a(()=>n("common.copy-icon-title")),dt=a(()=>n("common.copy-success-icon-title"));re(et,{language:"text",maxHeight:384,get content(){return e.activity.lastFailure.stackTrace},get copyIconTitle(){return t(at)},get copySuccessIconTitle(){return t(dt)}})}s(A),O(at=>w(Z,at),[()=>n("common.stack-trace")]),g(f,A)};F(d,f=>{var A;(A=e.activity.lastFailure)!=null&&A.stackTrace&&f(p)})}s(c),g(i,c)},Q=i=>{{let c=a(()=>{var l;return(l=e.activity.lastFailure)!=null&&l.stackTrace?n("workflows.last-failure-with-stack-trace"):n("workflows.last-failure")});Re(i,{get title(){return t(c)},children:ke,$$slots:{default:(l,M)=>{const R=a(()=>M.open);var d=qt(),p=rt(d);{var f=A=>{k(A)};F(p,A=>{t(R)&&A(f)})}g(l,d)}}})}},P=(i,c=bt)=>{var l=ma(),M=o(l),R=o(M,!0);s(M);var d=r(M,2),p=o(d),f=r(p),A=o(f);s(f),s(d),s(l),O((G,Z)=>{w(R,G),w(p,`${Z??""} `),w(A,`(${c()??""})`)},[()=>n("workflows.next-retry"),()=>u()(e.activity.scheduledTime,{relativeLabel:""})]),g(i,l)},N=i=>{var c=pa(),l=o(c);{let d=a(()=>t(H)?"danger":"default");We(l,{get type(){return t(d)},children:(p,f)=>{var A=fa(),G=rt(A);{let et=a(()=>t(H)&&"font-bold text-red-400");Be(G,{get class(){return`mr-1 ${t(et)??""}`},name:"retry"})}var Z=r(G);O(et=>w(Z,` ${e.activity.attempt??0??""} of ${et??""}`),[()=>Le(e.activity.maximumAttempts)]),g(p,A)},$$slots:{default:!0}})}var M=r(l,2);{var R=d=>{var p=ya(),f=o(p);s(p),O(A=>w(f,`${A??""} remaining`),[()=>qe(e.activity.maximumAttempts,e.activity.attempt)]),g(d,p)};F(M,d=>{e.activity.maximumAttempts&&d(R)})}s(c),g(i,c)};var K;const H=a(()=>e.activity.attempt>1&&!!e.activity.lastFailure),I=a(()=>(K=v()===null||v()===void 0?void 0:v().workflow)===null||K===void 0?void 0:K.isRunning);let B=Fe(),y=a(()=>na(se.data.settings,x(),se.params.namespace)&&t(I));var T=ga(),U=o(T),q=o(U),E=o(q);{let i=a(()=>e.activity.paused?"Paused":e.activity.state);He(E,{get status(){return t(i)}})}var C=r(E,2),j=o(C,!0);s(C),s(q);var tt=r(q,2);{var z=i=>{sa(i,{get activity(){return e.activity},class:"justify-end"})};F(tt,i=>{t(y)&&i(z)})}s(U);var Y=r(U,2),X=o(Y),ot=o(X);{let i=a(()=>n("workflows.activity-id"));$(ot,()=>t(i),()=>e.activity.activityId)}var J=r(ot,2);{var st=i=>{var c=xa(),l=rt(c);{let d=a(()=>n("activities.paused-by"));$(l,()=>t(d),()=>{var p,f;return((f=(p=e.activity.pauseInfo)==null?void 0:p.manual)==null?void 0:f.identity)||""})}var M=r(l,2);{let d=a(()=>n("activities.paused-since")),p=a(()=>{var f;return u()((f=e.activity.pauseInfo)==null?void 0:f.pauseTime)});$(M,()=>t(d),()=>t(p))}var R=r(M,2);{let d=a(()=>n("activities.pause-reason"));$(R,()=>t(d),()=>{var p,f;return((f=(p=e.activity.pauseInfo)==null?void 0:p.manual)==null?void 0:f.reason)||"-"})}g(i,c)};F(J,i=>{e.activity.paused&&e.activity.pauseInfo&&i(st)})}var vt=r(J,2);{let i=a(()=>n("workflows.attempt"));$(vt,()=>t(i),()=>N)}var nt=r(vt,2);{var Gt=i=>{const c=a(()=>Qe({date:e.activity.scheduledTime,negativeDefault:""}));var l=qt(),M=rt(l);{var R=d=>{P(d,()=>t(c))};F(M,d=>{t(c)&&d(R)})}g(i,l)};F(nt,i=>{e.activity.scheduledTime&&i(Gt)})}var ft=r(nt,2);{var lt=i=>{{let c=a(()=>n("workflows.last-attempt-completed-time")),l=a(()=>u()(e.activity.lastAttemptCompleteTime));$(i,()=>t(c),()=>t(l))}};F(ft,i=>{e.activity.lastAttemptCompleteTime&&i(lt)})}var Jt=r(ft,2);{var Vt=i=>{{let c=a(()=>n("workflows.retry-expiration")),l=a(()=>Ue(e.activity.maximumAttempts,Ne(Me({start:Date.now(),end:e.activity.expirationTime}))));$(i,()=>t(c),()=>t(l))}};F(Jt,i=>{e.activity.expirationTime&&i(Vt)})}var Xt=r(Jt,2);{var yt=i=>{{let c=a(()=>n("workflows.last-heartbeat")),l=a(()=>u()(e.activity.lastHeartbeatTime));$(i,()=>t(c),()=>t(l))}};F(Xt,i=>{e.activity.lastHeartbeatTime&&i(yt)})}var pt=r(Xt,2);{var Ot=i=>{{let c=a(()=>n("workflows.last-started-time")),l=a(()=>u()(e.activity.lastStartedTime));$(i,()=>t(c),()=>t(l))}};F(pt,i=>{e.activity.lastStartedTime&&i(Ot)})}var kt=r(pt,2);{var Ht=i=>{{let c=a(()=>n("workflows.last-worker-identity"));$(i,()=>t(c),()=>e.activity.lastWorkerIdentity)}};F(kt,i=>{e.activity.lastWorkerIdentity&&i(Ht)})}var Rt=r(kt,2);{var Yt=i=>{var c=_a(),l=rt(c);{var M=p=>{{let f=a(()=>n("workflows.priority"));$(p,()=>t(f),()=>e.activity.priority.priorityKey)}};F(l,p=>{e.activity.priority.priorityKey&&p(M)})}var R=r(l,2);{var d=p=>{{let f=a(()=>n("workflows.fairness"));$(p,()=>t(f),()=>e.activity.priority.fairnessKey)}};F(R,p=>{e.activity.priority.fairnessKey&&p(d)})}g(i,c)};F(Rt,i=>{e.activity.priority&&i(Yt)})}s(X);var xt=r(X,2),It=o(xt);{var Zt=i=>{var c=qt(),l=rt(c);{var M=d=>{Q(d)},R=d=>{k(d)};F(l,d=>{e.totalPending>20?d(M):d(R,!1)})}g(i,c)};F(It,i=>{t(H)&&i(Zt)})}var At=r(It,2);{var Wt=i=>{_(i)};F(At,i=>{e.activity.heartbeatDetails&&i(Wt)})}s(xt),s(Y),s(T),O(()=>w(j,e.activity.activityType)),g(b,T),Tt(),S()}export{$a as P,Qe as t};
