import"./Bzak7iHL.js";import{p as Ye,h as Re,f as he,e as n,b as ze,t as ue,i as _e,c as lt,r as Te,j as y,o as Ee,g as e,u as l,n as Ue,k as I,ag as bt,s as Je}from"./C-0kx8Rl.js";import{e as xe,s as F,d as yt}from"./B-1TjF6E.js";import{i as o}from"./DIXBMONz.js";import{p as D,s as Qe,a as Ge,c as $e}from"./B0Wc33k0.js";import{p as it}from"./DcMKwNll.js";import{T as ke}from"./D-7Yb9FW.js";import{W as kt}from"./rQ9pVa1K.js";import{B as gt}from"./CqraL4jo.js";import{i as et,c as ht,w as _t}from"./CFk5eimv.js";import{S as ge}from"./S6Q2Q0ub.js";import{i as Tt}from"./Dzb719w0.js";import{x as xt}from"./2uWpc1Jl.js";import{g as pt}from"./CT3a8W8Y.js";import{c as He,j as Bt}from"./CNssv2sr.js";import{k as It}from"./D7xQZi6Z.js";import"./69_IOA4Y.js";import{k as Ft}from"./B0kvq5Du.js";import{c as Dt,a as tt}from"./DliSAU7O.js";import{p as rt,s as ot}from"./Bfc47y5P.js";import{i as Vt,t as Ct}from"./DFzl7kYA.js";import{I as at}from"./BQ19dEFL.js";import{c as St}from"./CYpf-jeJ.js";import{L as st}from"./CkUdEkLD.js";import{T as Wt}from"./D7zMa2zU.js";import{t as Ke}from"./BXv1jDVW.js";import{w as Ne}from"./Ctz6qKu4.js";import{u as Ot}from"./CXQBZlOW.js";import{s as At}from"./BDfAQ6r3.js";const Et=(k,t=2)=>{if(!+k)return"0 Bytes";const h=1024,L=t<0?0:t,c=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],V=Math.floor(Math.log(k)/Math.log(h));return`${parseFloat((k/Math.pow(h,V)).toFixed(L))} ${c[V]}`};var Rt=ue('<button id="filter-button"><!></button>'),jt=ue('<button class="copy-or-filter-button svelte-qwjj97" id="copy-button"><!></button>'),Pt=ue("<div><!> <!></div>");function Mt(k,t){Ye(t,!1);const[h,L]=Qe(),c=()=>Ge(me,"$copied",h);let V=D(t,"show",8,!1),q=D(t,"filterable",8,!0),H=D(t,"copyable",8,!0),r=D(t,"content",8),R=D(t,"onFilter",8,()=>{}),U=D(t,"filtered",8,!1),b=D(t,"copyIconTitle",8),X=D(t,"copySuccessIconTitle",8),Z=D(t,"filterIconTitle",8),ce=D(t,"class",8,"");const{copy:ee,copied:me}=St();Vt();var te=Re(),ve=he(te);{var a=s=>{var m=Pt(),j=_e(m);{var _=f=>{var g=Rt();let u;var K=_e(g);Ft(K,U,W=>{at(W,{get title(){return Z()},name:"filter",class:"m-1"})}),Te(g),y(W=>u=tt(g,1,"copy-or-filter-button svelte-qwjj97",null,u,W),[()=>({filtered:U()})],Ee),xe("click",g,rt(ot(function(...W){var Y;(Y=R())==null||Y.apply(this,W)}))),n(f,g)};o(j,f=>{q()&&f(_)})}var i=lt(j,2);{var C=f=>{var g=jt(),u=_e(g);const K=Ee(()=>c()?X():b()),W=Ee(()=>c()?"checkmark":"copy");at(u,{get title(){return e(K)},get name(){return e(W)},class:"m-1"}),Te(g),xe("click",g,rt(ot(Y=>ee(Y,r())))),n(f,g)};o(i,f=>{H()&&f(C)})}Te(m),y(f=>tt(m,1,f,"svelte-qwjj97"),[()=>Dt(Ct("copy-or-filter",ce()))],Ee),n(s,m)};o(ve,s=>{V()&&s(a)})}n(k,te),ze(),L()}var Lt=ue("<!> <!>",1);function G(k,t){Ye(t,!0);const[h,L]=Qe(),c=()=>Ge(Ne,"$workflowFilters",h);let V=D(t,"filterOrCopyButtonsVisible",3,!1),q=D(t,"type",19,()=>ge.KEYWORD);const H=a=>a.length>11?`${a.slice(0,4)}...${a.slice(-4)}`:a,r=t.attribute==="RunId",R=()=>{const a=c().find(m=>m.attribute===t.attribute),s=()=>c().filter(m=>m.attribute!==t.attribute);if(!a||a.value!==t.value){const m={attribute:t.attribute,type:q(),value:t.value,conditional:"=",operator:"",parenthesis:""};$e(Ne,[...s(),m])}else $e(Ne,[...s()]);Ot(it.url,c())};var U=Lt(),b=he(U);{var X=a=>{Wt(a,{get text(){return t.value},top:!0,class:"min-w-0",children:(s,m)=>{st(s,{get href(){return t.href},class:"cursor-help",children:(j,_)=>{Ue();var i=I();y(C=>F(i,C),[()=>H(t.value)]),n(j,i)},$$slots:{default:!0}})},$$slots:{default:!0}})},Z=(a,s)=>{{var m=_=>{st(_,{get href(){return t.href},children:(i,C)=>{Ue();var f=I();y(()=>F(f,t.value)),n(i,f)},$$slots:{default:!0}})},j=_=>{var i=I();y(()=>F(i,t.value)),n(_,i)};o(a,_=>{t.href?_(m):_(j,!1)},s)}};o(b,a=>{r?a(X):a(Z,!1)})}var ce=lt(b,2);const ee=l(()=>Ke("common.copy-icon-title")),me=l(()=>Ke("common.copy-success-icon-title")),te=l(()=>Ke("common.filter-workflows")),ve=l(()=>c().some(a=>a.attribute===t.attribute&&a.value===t.value));Mt(ce,{get copyIconTitle(){return e(ee)},get copySuccessIconTitle(){return e(me)},get filterIconTitle(){return e(te)},get show(){return V()},get content(){return t.value},onFilter:R,get filtered(){return e(ve)}}),n(k,U),ze(),L()}const qt=(k,t)=>{const h=k.relatedTarget;h&&!["filter-button","copy-button"].includes(h.id)&&t()};var Ht=ue('<td class="workflows-summary-table-body-cell filterable svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>'),Kt=ue('<td class="workflows-summary-table-body-cell svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>');function hr(k,t){Ye(t,!0);const[h,L]=Qe(),c=()=>Ge(ht,"$customSearchAttributes",h);var V,q;let H=D(t,"archival",3,!1);const r=l(()=>t.column.label),R=l(()=>it.params.namespace),U=l(()=>et(e(r))&&(c()[e(r)]===ge.KEYWORD||c()[e(r)]===ge.TEXT)&&typeof((q=(V=t.workflow.searchAttributes)===null||V===void 0?void 0:V.indexedFields)===null||q===void 0?void 0:q[e(r)])=="string");let b=bt(!1);const X=()=>Je(b,!0),Z=()=>Je(b,!1),ce=["Type","Workflow ID","Run ID","Deployment","Versioning Behavior","Deployment Version","Build ID"];var ee=Re(),me=he(ee);{var te=a=>{var s=Ht();s.__mouseover=X,s.__focusin=X,s.__focusout=[qt,Z];var m=_e(s);{var j=i=>{const C=l(()=>He({namespace:e(R),workflow:t.workflow.id,run:t.workflow.runId,archival:H()}));G(i,{get filterOrCopyButtonsVisible(){return e(b)},attribute:"WorkflowType",get value(){return t.workflow.name},get href(){return e(C)}})},_=(i,C)=>{{var f=u=>{const K=l(()=>He({namespace:e(R),workflow:t.workflow.id,run:t.workflow.runId,archival:H()}));G(u,{get filterOrCopyButtonsVisible(){return e(b)},attribute:"WorkflowId",get value(){return t.workflow.id},get href(){return e(K)}})},g=(u,K)=>{{var W=T=>{const de=l(()=>He({namespace:e(R),workflow:t.workflow.id,run:t.workflow.runId,archival:H()}));G(T,{get filterOrCopyButtonsVisible(){return e(b)},attribute:"RunId",get value(){return t.workflow.runId},get href(){return e(de)}})},Y=(T,de)=>{{var je=x=>{const S=l(()=>{var v,p;return(p=(v=t.workflow.searchAttributes)==null?void 0:v.indexedFields)==null?void 0:p.TemporalWorkerDeployment}),we=l(()=>e(S)&&typeof e(S)=="string"?e(S):""),be=l(()=>e(S)?Bt({namespace:e(R),deployment:e(S)}):void 0);G(x,{get filterOrCopyButtonsVisible(){return e(b)},attribute:"TemporalWorkerDeployment",get value(){return e(we)},get href(){return e(be)}})},Pe=(x,S)=>{{var we=v=>{const p=l(()=>{var re,d;return(d=(re=t.workflow.searchAttributes)==null?void 0:re.indexedFields)==null?void 0:d.TemporalWorkerDeploymentVersion}),z=l(()=>e(p)&&typeof e(p)=="string"?e(p):"");G(v,{get filterOrCopyButtonsVisible(){return e(b)},attribute:"TemporalWorkerDeploymentVersion",get value(){return e(z)}})},be=(v,p)=>{{var z=d=>{const P=l(()=>{var oe,w,B,M,O;return((B=(w=(oe=t.workflow)==null?void 0:oe.searchAttributes)==null?void 0:w.indexedFields)==null?void 0:B.TemporalWorkerBuildId)||pt((O=(M=t.workflow.searchAttributes)==null?void 0:M.indexedFields)==null?void 0:O.TemporalWorkerDeploymentVersion)}),J=l(()=>e(P)&&typeof e(P)=="string"?e(P):"");G(d,{get filterOrCopyButtonsVisible(){return e(b)},attribute:"TemporalWorkerBuildId",get value(){return e(J)}})},re=(d,P)=>{{var J=w=>{const B=l(()=>{var O,A;return(A=(O=t.workflow.searchAttributes)==null?void 0:O.indexedFields)==null?void 0:A.TemporalWorkflowVersioningBehavior}),M=l(()=>e(B)&&typeof e(B)=="string"?e(B):"");G(w,{get filterOrCopyButtonsVisible(){return e(b)},attribute:"TemporalWorkflowVersioningBehavior",get value(){return e(M)}})},oe=(w,B)=>{{var M=O=>{const A=l(()=>{var pe,Be;return(Be=(pe=t.workflow.searchAttributes)==null?void 0:pe.indexedFields)==null?void 0:Be[e(r)]});G(O,{get filterOrCopyButtonsVisible(){return e(b)},get attribute(){return e(r)},get value(){return e(A)},get type(){return c()[e(r)]}})};o(w,O=>{e(U)&&O(M)},B)}};o(d,w=>{e(r)==="Versioning Behavior"?w(J):w(oe,!1)},P)}};o(v,d=>{e(r)==="Build ID"?d(z):d(re,!1)},p)}};o(x,v=>{e(r)==="Deployment Version"?v(we):v(be,!1)},S)}};o(T,x=>{e(r)==="Deployment"?x(je):x(Pe,!1)},de)}};o(u,T=>{e(r)==="Run ID"?T(W):T(Y,!1)},K)}};o(i,u=>{e(r)==="Workflow ID"?u(f):u(g,!1)},C)}};o(m,i=>{e(r)==="Type"?i(j):i(_,!1)})}Te(s),xe("focus",s,X),xe("mouseleave",s,Z),xe("blur",s,Z),n(a,s)},ve=a=>{var s=Kt(),m=_e(s);{var j=i=>{const C=l(()=>Tt(t.workflow)),f=l(()=>It(t.workflow));kt(i,{get status(){return t.workflow.status},get delayed(){return e(C)},get taskFailure(){return e(f)}})},_=(i,C)=>{{var f=u=>{ke(u,{get dateTime(){return t.workflow.endTime}})},g=(u,K)=>{{var W=T=>{ke(T,{get dateTime(){return t.workflow.startTime}})},Y=(T,de)=>{{var je=x=>{var S=I();y(()=>F(S,t.workflow.taskQueue)),n(x,S)},Pe=(x,S)=>{{var we=v=>{var p=I();y(()=>{var z;return F(p,((z=t.workflow)==null?void 0:z.parentNamespaceId)??"")}),n(v,p)},be=(v,p)=>{{var z=d=>{var P=I();y(J=>F(P,J),[()=>Et(parseInt(t.workflow.historySizeBytes,10))]),n(d,P)},re=(d,P)=>{{var J=w=>{var B=I();y(M=>F(B,M),[()=>parseInt(t.workflow.stateTransitionCount,10)>0?t.workflow.stateTransitionCount:""]),n(w,B)},oe=(w,B)=>{{var M=A=>{ke(A,{get dateTime(){return t.workflow.executionTime}})},O=(A,pe)=>{{var Be=ae=>{var Ie=I();y(Me=>F(Ie,Me),[()=>xt({start:t.workflow.startTime,end:t.workflow.endTime,includeMillisecondsForUnderSecond:!0})]),n(ae,Ie)},nt=(ae,Ie)=>{{var Me=se=>{var Fe=I();y(Le=>F(Fe,Le),[()=>parseInt(t.workflow.historyEvents,10)>0?t.workflow.historyEvents:""]),n(se,Fe)},ft=(se,Fe)=>{{var Le=le=>{var De=I();y(()=>{var Ve,Ce;return F(De,((Ce=(Ve=t.workflow.searchAttributes)==null?void 0:Ve.indexedFields)==null?void 0:Ce.TemporalScheduledById)??"")}),n(le,De)},ut=(le,De)=>{{var Ve=ie=>{var Se=Re();const ye=l(()=>{var E,$;return($=(E=t.workflow.searchAttributes)==null?void 0:E.indexedFields)==null?void 0:$.TemporalScheduledStartTime});var qe=he(Se);{var Q=E=>{ke(E,{get dateTime(){return e(ye)}})};o(qe,E=>{e(ye)&&typeof e(ye)=="string"&&E(Q)})}n(ie,Se)},Ce=(ie,Se)=>{{var ye=Q=>{var E=I();y(()=>{var $,ne;return F(E,(ne=($=t.workflow.searchAttributes)==null?void 0:$.indexedFields)==null?void 0:ne.TemporalChangeVersion)}),n(Q,E)},qe=(Q,E)=>{{var $=ne=>{var Xe=Re();const We=l(()=>{var N,Oe;return(Oe=(N=t.workflow.searchAttributes)==null?void 0:N.indexedFields)==null?void 0:Oe[e(r)]});var ct=he(Xe);{var mt=N=>{ke(N,{get dateTime(){return e(We)}})},vt=(N,Oe)=>{{var dt=fe=>{gt(fe,{children:(Ae,Nt)=>{Ue();var Ze=I();y(()=>F(Ze,e(We))),n(Ae,Ze)},$$slots:{default:!0}})},wt=fe=>{var Ae=I();y(()=>F(Ae,e(We))),n(fe,Ae)};o(N,fe=>{c()[e(r)]===ge.BOOL?fe(dt):fe(wt,!1)},Oe)}};o(ct,N=>{c()[e(r)]===ge.DATETIME&&typeof e(We)=="string"?N(mt):N(vt,!1)})}n(ne,Xe)};o(Q,ne=>{et(e(r))&&_t(t.workflow,e(r))&&ne($)},E)}};o(ie,Q=>{e(r)==="Change Version"?Q(ye):Q(qe,!1)},Se)}};o(le,ie=>{e(r)==="Scheduled Start Time"?ie(Ve):ie(Ce,!1)},De)}};o(se,le=>{e(r)==="Scheduled By ID"?le(Le):le(ut,!1)},Fe)}};o(ae,se=>{e(r)==="History Length"?se(Me):se(ft,!1)},Ie)}};o(A,ae=>{e(r)==="Execution Duration"?ae(Be):ae(nt,!1)},pe)}};o(w,A=>{e(r)==="Execution Time"?A(M):A(O,!1)},B)}};o(d,w=>{e(r)==="State Transitions"?w(J):w(oe,!1)},P)}};o(v,d=>{e(r)==="History Size"?d(z):d(re,!1)},p)}};o(x,v=>{e(r)==="Parent Namespace"?v(we):v(be,!1)},S)}};o(T,x=>{e(r)==="Task Queue"?x(je):x(Pe,!1)},de)}};o(u,T=>{e(r)==="Start"?T(W):T(Y,!1)},K)}};o(i,u=>{e(r)==="End"?u(f):u(g,!1)},C)}};o(m,i=>{e(r)==="Status"?i(j):i(_,!1)})}Te(s),n(a,s)};o(me,a=>{ce.includes(e(r))||e(U)?a(te):a(ve,!1)})}n(k,ee),ze(),L()}yt(["mouseover","focusin","focusout"]);const _r=(k,t)=>{const h=At({workflows:k},null,2),L=`workflows-${k.length}-${t}-${Date.now()}.json`;c(h,L,"text/plain");function c(V,q,H){const r=document.createElement("a"),R=new Blob([V],{type:H});r.href=URL.createObjectURL(R),r.download=q,r.click()}};export{hr as T,_r as e};
