import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as S,l as i,s,m as d,g as e,aE as b,ac as T,a as W,e as C,f as k,d as y,b as j}from"./CtXwlho8.js";import{a as q}from"./CHlFt2el.js";import{s as V}from"./CykH9iyL.js";import{i as z}from"./D4D3ThYu.js";import{p as u}from"./DdhuX4yd.js";import{a as B,s as F}from"./CI9zuxJp.js";import{p as G}from"./CsiAh9KY.js";import{a as H}from"./C4pxfVa2.js";import{g as J,b as K,a as N}from"./AS2n8ZAF.js";function ne(w,n){S(n,!1);const[D,E]=F(),a=()=>B(G,"$page",D),g=d(),p=d(),m=d(),_=d(),h=d();var l=d();let M=u(n,"value",8,void 0),c=u(n,"fallback",8,""),x=u(n,"prefix",8,""),v=u(n,"onDecode",8,void 0);const P=120;let o=d("");const I=t=>x()?(t=`${x()} â€¢ ${t}`,t.length<P?t:t.slice(0,P)+"..."):t;i(()=>a(),()=>{s(g,J(a().data.settings))}),i(()=>a(),()=>{s(p,K(a().data.settings))}),i(()=>a(),()=>{s(m,N(a().data.settings))}),i(()=>(a(),b(l),e(g),e(p),e(m)),()=>{s(_,{...a().data.settings,codec:{...s(l,a().data.settings)===null||b(l)===void 0?void 0:b(l).codec,endpoint:e(g),passAccessToken:e(p),includeCredentials:e(m)}})}),i(()=>(T(c()),e(o),e(_),T(v())),()=>{s(h,async t=>{if(!t)return c();if(e(o))return e(o);const r=await H(t,e(_));return typeof r=="string"?(s(o,I(r)),v()&&v()(e(o)),e(o)):(s(o,c()),c())})}),W(),z();var A=C(),L=k(A);q(L,()=>e(h)(M()),null,(t,r)=>{var f=C(),R=k(f);V(R,n,"default",{get decodedValue(){return e(r)}},null),y(t,f)},t=>{var r=C(),f=k(r);V(f,n,"default",{get decodedValue(){return c()}},null),y(t,r)}),y(w,A),j(),E()}export{ne as M};
