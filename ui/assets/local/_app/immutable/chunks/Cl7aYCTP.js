import"./CWj6FrbW.js";import{o as ha}from"./DsVF0eUi.js";import{p as Re,f as H,j as i,n as de,k as $,t as F,e as u,h as d,r as n,a9 as K,g as e,u as a,b as He,i as xe,c as W,d as wa,l as vt,s as Se,m as Ze,L as Z,a as Tt,G as Ee,q as Wt,aP as _t,o as Ht,ao as pt,al as jt,am as ka}from"./CckrFwdx.js";import{s as P,d as ba,e as Nt}from"./_IQD3yTx.js";import{i as w}from"./CoMawi-e.js";import{e as qe,i as It}from"./BTEtt5uP.js";import{c as kt,a as et,s as xt}from"./CjYTZKiB.js";import{s as Et,a as Ie,l as dt,p as X,b as yt}from"./BioCYJcK.js";import{p as Ue}from"./55PoKsDq.js";import{c as Ta,B as We}from"./DlLJhG5Q.js";import{C as Ke}from"./Dakcn231.js";import{I as bt}from"./POwFeHBs.js";import{L as Qe}from"./ChXiK9q-.js";import{T as ht}from"./IF1TuVBO.js";import{t as f}from"./DEjs8ZrU.js";import{b as Kt,i as Y,e as Ia,c as Ea,d as Pa}from"./VwaR8ecC.js";import{i as Aa}from"./DXQTJfob.js";import{a as Sa}from"./Bp7uNEFS.js";import{f as $e,t as Qt,r as Xt,a as Jt}from"./DBTYq7FH.js";import{c as Ca,d as Fa}from"./CGM1fST4.js";import{a as La,b as Ma,g as Oa}from"./CLDuWwZe.js";import{c as Da,f as Ra,d as lt,e as Ha,h as ja,j as Na,k as Ga,l as za}from"./ChKwx207.js";import{g as Ye,h as Pe,F as Ba}from"./DogDJM2Q.js";import{f as tt,s as Yt}from"./ByTIZu23.js";import{t as Zt,f as $t,P as Va}from"./lKLHQcvR.js";import{n as Gt}from"./EZHNhN5g.js";import{c as zt,k as Ua,l as qa,a as Wa,b as Bt}from"./CbE02337.js";import"./DAcYyk2F.js";import"./W7Zx1dhg.js";import"./BhhfJ7S1.js";import"./BUApaBEI.js";import"./Dk2sa4cb.js";import{s as Vt}from"./DSbgyoV1.js";import{C as Ae}from"./CneSAwz0.js";import{o as Ka}from"./C8ejR22J.js";import{T as ea}from"./DYFacKo_.js";import{g as ta}from"./BFT2rjv6.js";import"./69_IOA4Y.js";import{i as Pt,t as ut}from"./ebNgFJjp.js";import{p as Qa}from"./CTpZDl-1.js";import{M as aa}from"./D8qDWsFY.js";import{P as ct}from"./7f1-3v64.js";const it=6,Cn={height:it*4,gutter:it*8,radius:it*1.5,fontSizeRatio:it*4},Fn={height:32,radius:4},Xa={workflow:"workflow",signal:"signal",activity:"activity",nexus:"nexus",timer:"retention","local-activity":"feather","child-workflow":"relationship",update:"update",other:"terminal"},Ln=(s,t,r,l,m)=>{const{radius:g}=m,c=s[0],_=s[s.length-1];let h=!1,k="start",v=0;const x=c>1/2*r;let E=!x&&_<2/3*r&&!l;x&&(k="end"),E&&(v=s.indexOf(_));const L=1.5*g;let y=E?_+L:c-L;if(!E&&!x&&(h=!0,E=!0,y=c+L,s.length===2&&l&&s[1]-s[0]<r-s[1]&&(v=1,y=s[1]+L),s.length>2)){const S=s[1]-s[0];s[2]-s[1]>S&&(v=1,y=s[1]+L)}return{textPosition:[y,t],textIndex:v,textAnchor:k,backdrop:h}},Mn=(s,t)=>{const r=t.find(m=>m.eventIds.has(s.id));return r?Array.from(r.eventIds).indexOf(s.id)===1&&r.eventList.length===3:!1},wt=(s,t)=>parseInt(s)===parseInt(t)-1,Ja=s=>{const t=Array.from(s.eventIds);return t.length===1?!0:t.length===2?wt(t[0],t[1]):t.length===3?wt(t[0],t[1])&&wt(t[1],t[2]):!1},Ya=(s,t)=>{const r=Kt(t,s);if(!r)return 0;if(r.level!==void 0)return r.level;const l=t.filter(c=>c.isPending&&c.id!==r.id).filter(c=>parseInt(c.initialEvent.id)<parseInt(r.initialEvent.id)),m=t.filter(c=>c.eventList.length>1&&!c.isPending&&c.id!==r.id).filter(c=>parseInt(c.initialEvent.id)<parseInt(r.initialEvent.id)).filter(c=>parseInt(c.lastEvent.id)>parseInt(r.initialEvent.id)),g=[...l,...m];return!g.length&&Ja(r)&&(r.level=0),r.level=g.length+1,r.level},On=(s,t,r,l,m)=>{const g=Kt(r,t);let c=0,_=0;if(!g)return{nextDistance:c,offset:_};if(g.eventList.length===1&&!g.isPending)return{nextDistance:c,offset:_};const h=Ye(t)?g.eventList.indexOf(t):-1,k=Ye(t)?g.eventList[h+1]:void 0;if((!Ye(t)||t.category!=="workflow")&&(_=Ya(t,r)),!k&&!g.isPending)return{nextDistance:c,offset:_};let v=0;k&&Ye(t)?v=parseInt(k.id)-parseInt(t.id):g.isPending&&Ye(t)&&(v=s.length-parseInt(t.id)+2);const x=v*l;return c=m==="ascending"?x:-x,{nextDistance:c,offset:_}},Ut=async(s,t)=>{var c,_,h,k,v,x,E,L,y,D,S;if(!("eventType"in s)||!Pe(s))return;const{namespace:r,settings:l,accessToken:m}=t,g={...l,codec:{...l==null?void 0:l.codec,endpoint:Oa(l),passAccessToken:Ma(l),includeCredentials:La(l)}};try{const j=await Ca(s.attributes,r,g,m),M=((h=(_=(c=s.markerRecordedEventAttributes)==null?void 0:c.details)==null?void 0:_.data)==null?void 0:h.payloads)||((x=(v=(k=s.markerRecordedEventAttributes)==null?void 0:k.details)==null?void 0:v.type)==null?void 0:x.payloads)||[];if(!(M!=null&&M.length))return;const T=Fa(j),G=(S=((L=(E=T==null?void 0:T.details)==null?void 0:E.data)==null?void 0:L.payloads)||((D=(y=T==null?void 0:T.details)==null?void 0:y.type)==null?void 0:D.payloads))==null?void 0:S[0],z=Da(G);if(z)return Ra("ActivityType",z)}catch(j){console.error("Failed to decode local activity type:",j)}},Dn=s=>{if("eventList"in s)return s.eventList.find(Pe);if(Pe(s))return s},Za=Ta(["whitespace-nowrap font-semibold md:text-base flex items-center gap-0.5"],{variants:{category:{workflow:"text-blue-700 dark:text-blue-400",activity:"text-purple-600 dark:text-purple-500","child-workflow":"text-cyan-600",timer:"text-yellow-600 dark:text-yellow-400",signal:"text-pink-600 dark:text-pink-400",update:"text-blue-600 dark:text-blue-400",other:"text-slate-700 dark:text-slate-300",nexus:"text-indigo-600 dark:text-indigo-400","local-activity":"text-slate-700 dark:text-slate-300",default:"text-purple-600 dark:text-purple-500"}}}),pe=(s,t=K,r=K)=>{var l=er(),m=i(l),g=i(m,!0);n(m);var c=d(m,2),_=i(c);{var h=v=>{var x=$();F(()=>P(x,r())),u(v,x)},k=v=>{var x=xe(),E=W(x);wa(E,()=>r()??K),u(v,x)};w(_,v=>{typeof r()=="string"||typeof r()=="number"?v(h):v(k,!1)})}n(c),n(l),F(()=>P(g,t())),u(s,l)};var $a=H('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="flex w-full items-center gap-1 whitespace-pre-line"> <strong> </strong></p></div>'),er=H('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="w-full whitespace-pre-line"><!></p></div>'),tr=H("<!> ",1),ar=H('<p class="text-sm text-secondary/80"> </p> <!>',1),rr=H('<p class="text-sm text-secondary/80"> </p> <!>',1),nr=H('<div class="flex flex-col gap-2"><div class="flex flex-1 flex-col"><!></div> <div class="flex flex-1 flex-col"><!></div></div>'),or=H('<div class="flex flex-1 flex-col"><p class="text-sm text-secondary/80"> </p> <!></div>'),ir=H('<div class="flex flex-1 flex-col"><p class="text-sm text-secondary/80"> </p> <!></div>'),sr=H('<div class="surface-primary flex flex-1 cursor-default flex-col gap-2 border-b border-subtle p-4"><div class="flex-1"><div class="flex flex-wrap items-center space-x-3"><!> <h4> </h4></div></div> <div class="flex flex-1 flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col gap-1 xl:w-1/2"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 md:flex-1 xl:w-1/2"><!> <!> <!></div></div></div>');function lr(s,t){Re(t,!0);const r=()=>Ie(Jt,"$timeFormat",g),l=()=>Ie(Xt,"$relativeTime",g),m=()=>Ie(Qt,"$timestampFormat",g),[g,c]=Et(),_=(o,b=K)=>{var A=$a(),ae=i(A),ie=i(ae,!0);n(ae);var B=d(ae,2),se=i(B),we=d(se),le=i(we);n(we),n(B),n(A),F((fe,ce)=>{P(ie,fe),P(se,`${ce??""} `),P(le,`(${b()??""})`)},[()=>f("workflows.next-retry"),()=>$e(t.operation.nextAttemptScheduleTime,r(),{relative:l(),format:m(),relativeLabel:""})]),u(o,A)},h=o=>{{let b=a(()=>e(v)?"danger":"default");We(o,{class:"mr-1",get type(){return e(b)},children:(A,ae)=>{var ie=tr(),B=W(ie);{let we=a(()=>e(v)&&"font-bold text-red-400");bt(B,{get class(){return`mr-1 ${e(we)??""}`},name:"retry"})}var se=d(B);F(()=>P(se,` ${t.operation.attempt??0??""}`)),u(A,ie)},$$slots:{default:!0}})}},k=o=>{var b=nr(),A=i(b),ae=i(A);{var ie=le=>{var fe=ar(),ce=W(fe),Me=i(ce,!0);n(ce);var Ge=d(ce,2);{let Te=a(()=>Vt(Ka(t.operation.lastAttemptFailure,"stackTrace"))),Oe=a(()=>f("common.copy-icon-title")),nt=a(()=>f("common.copy-success-icon-title"));Ae(Ge,{get content(){return e(Te)},maxHeight:384,get copyIconTitle(){return e(Oe)},get copySuccessIconTitle(){return e(nt)}})}F(Te=>P(Me,Te),[()=>f("workflows.last-failure")]),u(le,fe)};w(ae,le=>{t.operation.lastAttemptFailure&&le(ie)})}n(A);var B=d(A,2),se=i(B);{var we=le=>{var fe=rr(),ce=W(fe),Me=i(ce,!0);n(ce);var Ge=d(ce,2);{let Te=a(()=>f("common.copy-icon-title")),Oe=a(()=>f("common.copy-success-icon-title"));Ae(Ge,{language:"text",maxHeight:384,get content(){return t.operation.lastAttemptFailure.stackTrace},get copyIconTitle(){return e(Te)},get copySuccessIconTitle(){return e(Oe)}})}F(Te=>P(Me,Te),[()=>f("common.stack-trace")]),u(le,fe)};w(se,le=>{var fe;(fe=t.operation.lastAttemptFailure)!=null&&fe.stackTrace&&le(we)})}n(B),n(b),u(o,b)},v=a(()=>t.operation.attempt>1);var x=sr(),E=i(x),L=i(E),y=i(L);We(y,{children:(o,b)=>{de();var A=$();F(()=>P(A,t.operation.state)),u(o,A)},$$slots:{default:!0}});var D=d(y,2),S=i(D,!0);n(D),n(L),n(E);var j=d(E,2),M=i(j),T=i(M);{var G=o=>{{let b=a(()=>f("nexus.endpoint"));pe(o,()=>e(b),()=>t.operation.endpoint)}};w(T,o=>{t.operation.endpoint&&o(G)})}var z=d(T,2);{var q=o=>{{let b=a(()=>f("nexus.service"));pe(o,()=>e(b),()=>t.operation.service)}};w(z,o=>{t.operation.service&&o(q)})}var U=d(z,2);{var V=o=>{{let b=a(()=>f("nexus.operation"));pe(o,()=>e(b),()=>t.operation.operation)}};w(U,o=>{t.operation.operation&&o(V)})}var ee=d(U,2);{var oe=o=>{{let b=a(()=>f("nexus.operation-token"));pe(o,()=>e(b),()=>t.operation.operationToken)}};w(ee,o=>{t.operation.operationToken&&o(oe)})}var ye=d(ee,2);{let o=a(()=>f("workflows.attempt"));pe(ye,()=>e(o),()=>h)}var O=d(ye,2);{var R=o=>{const b=a(()=>Zt({date:t.operation.nextAttemptScheduleTime,negativeDefault:""}));var A=xe(),ae=W(A);{var ie=B=>{_(B,()=>e(b))};w(ae,B=>{e(b)&&B(ie)})}u(o,A)};w(O,o=>{t.operation.nextAttemptScheduleTime&&o(R)})}var I=d(O,2);{var te=o=>{{let b=a(()=>f("workflows.last-attempt-completed-time")),A=a(()=>$e(t.operation.lastAttemptCompleteTime,r(),{relative:l(),format:m()}));pe(o,()=>e(b),()=>e(A))}};w(I,o=>{t.operation.lastAttemptCompleteTime&&o(te)})}var J=d(I,2);{var je=o=>{{let b=a(()=>f("workflows.schedule-event-id")),A=a(()=>String(t.operation.scheduledEventId));pe(o,()=>e(b),()=>e(A))}};w(J,o=>{t.operation.scheduledEventId&&o(je)})}var Ce=d(J,2);{var Fe=o=>{{let b=a(()=>f("workflows.scheduled-time")),A=a(()=>$e(t.operation.scheduledTime,r(),{relative:l(),format:m()}));pe(o,()=>e(b),()=>e(A))}};w(Ce,o=>{t.operation.scheduledTime&&o(Fe)})}var Ne=d(Ce,2);{var ue=o=>{{let b=a(()=>f("workflows.schedule-to-close-timeout"));pe(o,()=>e(b),()=>t.operation.scheduleToCloseTimeout)}};w(Ne,o=>{t.operation.scheduleToCloseTimeout&&o(ue)})}var me=d(Ne,2);{var he=o=>{{let b=a(()=>f("workflows.schedule-to-start-timeout"));pe(o,()=>e(b),()=>t.operation.scheduleToCloseTimeout)}};w(me,o=>{t.operation.scheduleToStartTimeout&&o(he)})}var Le=d(me,2);{var be=o=>{{let b=a(()=>f("workflows.start-to-close-timeout"));pe(o,()=>e(b),()=>t.operation.startToCloseTimeout)}};w(Le,o=>{t.operation.startToCloseTimeout&&o(be)})}n(M);var Xe=d(M,2),at=i(Xe);{var rt=o=>{k(o)};w(at,o=>{e(v)&&o(rt)})}var Je=d(at,2);{var mt=o=>{var b=or(),A=i(b),ae=i(A,!0);n(A);var ie=d(A,2);{let B=a(()=>f("common.copy-icon-title")),se=a(()=>f("common.copy-success-icon-title"));Ae(ie,{language:"text",get content(){return t.operation.blockedReason},get copyIconTitle(){return e(B)},get copySuccessIconTitle(){return e(se)}})}n(b),F(B=>P(ae,B),[()=>f("nexus.blocked-reason")]),u(o,b)};w(Je,o=>{t.operation.blockedReason&&o(mt)})}var ft=d(Je,2);{var gt=o=>{var b=ir(),A=i(b),ae=i(A,!0);n(A);var ie=d(A,2);{let B=a(()=>Vt(t.operation.cancellationInfo)),se=a(()=>f("common.copy-icon-title")),we=a(()=>f("common.copy-success-icon-title"));Ae(ie,{language:"text",get content(){return e(B)},get copyIconTitle(){return e(se)},get copySuccessIconTitle(){return e(we)}})}n(b),F(B=>P(ae,B),[()=>f("nexus.cancellation-info")]),u(o,b)};w(ft,o=>{Object.keys(t.operation.cancellationInfo??{}).length>0&&o(gt)})}n(Xe),n(j),n(x),F(o=>P(S,o),[()=>f("workflows.pending-nexus-operation")]),u(s,x),He(),c()}function ra(s,t){const r=dt(t,["children","$$slots","$$events","$$legacy"]),l=dt(r,["value","attributes","type"]);Re(t,!1);const m=()=>Ie(Qa,"$page",g),[g,c]=Et(),_=Ze(),h=Ze(),k=Ze();let v=X(t,"value",8),x=X(t,"attributes",8),E=X(t,"type",8);function L(y,D,S,j,M){return M==="execution"?zt({namespace:y,workflow:D,run:j}):M==="task-queue"?Ua({namespace:y,queue:j}):M==="child-workflow"?zt({namespace:y,workflow:S.workflowExecutionWorkflowId,run:S.workflowExecutionRunId}):M==="nexus-endpoint"?qa(j):""}vt(()=>(e(_),e(h),m()),()=>{(y=>{Se(_,y.workflow),Se(h,y.namespace)})(m().params)}),vt(()=>(e(h),e(_),Z(x()),Z(v()),Z(E())),()=>{Se(k,L(e(h),e(_),x(),v(),E()))}),Tt(),Pt(),Qe(s,{get class(){return Z(l),Ee(()=>l.class)},get href(){return e(k)},children:(y,D)=>{de();var S=$();F(()=>P(S,v())),u(y,S)},$$slots:{default:!0}}),He(),c()}const cr=(s,t=K)=>{const r=a(()=>ta(t())),l=a(()=>{var h;return((h=e(r).split("workflows/"))==null?void 0:h[1])||e(r)});var m=gr(),g=i(m),c=i(g,!0);n(g);var _=d(g,2);{let h=a(()=>f("common.copy-icon-title")),k=a(()=>f("common.copy-success-icon-title"));Ke(_,{get copyIconTitle(){return e(h)},get copySuccessIconTitle(){return e(k)},get content(){return e(l)},children:(v,x)=>{Qe(v,{get href(){return e(r)},class:"whitespace-pre-line",children:(E,L)=>{de();var y=$();F(()=>P(y,e(l))),u(E,y)},$$slots:{default:!0}})},$$slots:{default:!0}})}n(m),F(h=>P(c,h),[()=>f("nexus.link")]),u(s,m)},vr=(s,t=K)=>{const r=a(()=>Wa({namespace:t().workflowEvent.namespace}));var l=_r(),m=i(l),g=i(m,!0);n(m);var c=d(m,2);{let _=a(()=>f("common.copy-icon-title")),h=a(()=>f("common.copy-success-icon-title"));Ke(c,{get copyIconTitle(){return e(_)},get copySuccessIconTitle(){return e(h)},get content(){return t().workflowEvent.namespace},children:(k,v)=>{Qe(k,{get href(){return e(r)},class:"whitespace-pre-line",children:(x,E)=>{de();var L=$();F(()=>P(L,t().workflowEvent.namespace)),u(x,L)},$$slots:{default:!0}})},$$slots:{default:!0}})}n(l),F(_=>P(g,_),[()=>f("nexus.link-namespace")]),u(s,l)},dr=(s,t=K)=>{var r=xe(),l=W(r);qe(l,17,t,It,(m,g,c,_)=>{var h=pr(),k=W(h);cr(k,()=>e(g));var v=d(k,2);vr(v,()=>e(g)),u(m,h)}),u(s,r)},ur=(s,t=K)=>{var r=xr(),l=d(i(r),2),m=i(l);{let g=a(()=>f("events.decode-failed"));aa(m,{get value(){return t()},get fallback(){return e(g)},children:Wt,$$slots:{default:(c,_)=>{const h=a(()=>_.decodedValue);de();var k=$();F(()=>P(k,e(h))),u(c,k)}}})}n(l),n(r),u(s,r)},mr=(s,t=K,r=K)=>{const l=a(()=>Na(r())),m=a(()=>ja(e(l)));var g=hr(),c=W(g),_=i(c),h=i(_,!0);n(_);var k=d(_,2);{var v=y=>{ct(y,{get value(){return r()},key:"payloads",children:(S,j=K)=>{{let M=a(()=>f("common.copy-icon-title")),T=a(()=>f("common.copy-success-icon-title"));Ae(S,{get content(){return j()},maxHeight:384,get copyIconTitle(){return e(M)},get copySuccessIconTitle(){return e(T)}})}},$$slots:{default:!0}})},x=y=>{var D=xe(),S=W(D);{var j=T=>{{const G=(q,U=K)=>{{let V=a(()=>f("common.copy-icon-title")),ee=a(()=>f("common.copy-success-icon-title"));Ae(q,{get content(){return U()},maxHeight:384,get copyIconTitle(){return e(V)},get copySuccessIconTitle(){return e(ee)}})}};let z=a(()=>({searchAttributes:e(l)}));ct(T,{key:"searchAttributes",get value(){return e(z)},children:G,$$slots:{default:!0}})}},M=T=>{ct(T,{get value(){return e(l)},children:(z,q=K)=>{{let U=a(()=>f("common.copy-icon-title")),V=a(()=>f("common.copy-success-icon-title"));Ae(z,{get content(){return q()},maxHeight:384,get copyIconTitle(){return e(U)},get copySuccessIconTitle(){return e(V)}})}},$$slots:{default:!0}})};w(S,T=>{t()==="searchAttributes"?T(j):T(M,!1)},!0)}u(y,D)};w(k,y=>{var D;(D=r())!=null&&D.payloads?y(v):y(x,!1)})}n(c);var E=d(c,2);{var L=y=>{var D=yr(),S=i(D),j=i(S,!0);n(S);var M=d(S,2);{let T=a(()=>f("common.copy-icon-title")),G=a(()=>f("common.copy-success-icon-title"));Ae(M,{get content(){return e(m)},language:"text",maxHeight:384,get copyIconTitle(){return e(T)},get copySuccessIconTitle(){return e(G)}})}n(D),F(T=>P(j,T),[()=>f("workflows.call-stack-tab")]),u(y,D)};w(E,y=>{e(m)&&y(L)})}F(y=>P(h,y),[()=>tt(t())]),u(s,g)},fr=(s,t=K,r=K)=>{var l=kr(),m=i(l),g=i(m,!0);n(m);var c=d(m,2),_=i(c);{var h=v=>{ea(v,{get dateTime(){return r()}})},k=v=>{var x=$();F(()=>P(x,r())),u(v,x)};w(_,v=>{Ha(t())?v(h):v(k,!1)})}n(c),n(l),F(v=>P(g,v),[()=>tt(t())]),u(s,l)};var gr=H('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),_r=H('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),pr=H("<!> <!>",1),xr=H('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80">Summary</p> <p class="whitespace-pre-line"><!></p></div>'),yr=H('<div><p class="mb-1 min-w-56 text-sm text-secondary/80"> </p> <!></div>'),hr=H('<div><p class="mb-1 min-w-56 text-sm text-secondary/80"> </p> <!></div> <!>',1),wr=H('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),kr=H('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="whitespace-pre-line break-all"><!></p></div>'),br=H('<div class="flex w-full flex-col gap-1 xl:w-1/2"></div>'),Tr=H('<div class="surface-primary flex flex-1 cursor-default flex-col gap-2 border-b border-subtle p-4"><div class="flex flex-wrap items-center justify-between gap-2"><div class="flex items-center gap-2 text-base"><p class="font-mono"> </p> <p class="font-medium"> </p></div> <!></div> <div class="flex flex-col gap-1 xl:flex-row"><div class="flex w-full flex-col gap-1 xl:w-1/2"><!> <!> <!> <!></div> <!></div></div>');function qt(s,t){Re(t,!0);const r=(O,R=K,I=K)=>{var te=wr(),J=i(te),je=i(J,!0);n(J);var Ce=d(J,2);{let Fe=a(()=>f("common.copy-icon-title")),Ne=a(()=>f("common.copy-success-icon-title")),ue=a(()=>String(I()));Ke(Ce,{get copyIconTitle(){return e(Fe)},get copySuccessIconTitle(){return e(Ne)},get content(){return e(ue)},children:(me,he)=>{{let Le=a(()=>String(I())),be=a(()=>lt(R(),e(m)));ra(me,{get value(){return e(Le)},get attributes(){return e(m)},get type(){return e(be)},class:"whitespace-pre-line"})}},$$slots:{default:!0}})}n(te),F(Fe=>P(je,Fe),[()=>tt(R())]),u(O,te)},l=a(()=>Pe(t.event)?f("events.category.local-activity"):Yt(t.event.name)),m=a(()=>$t(t.event)),g=a(()=>Object.entries(e(m))),c=a(()=>e(g).filter(([O,R])=>typeof R=="object"&&Object.keys(R).length>0)),_=a(()=>e(g).filter(([O,R])=>lt(O,e(m))!=="none")),h=a(()=>t.event.category==="activity"?["scheduledEventId","startedEventId","namespaceId"]:t.event.category==="child-workflow"?["initiatedEventId","startedEventId","namespaceId"]:["namespaceId"]),k=a(()=>e(g).filter(([O,R])=>typeof R!="object"&&lt(O,e(m))==="none"&&!e(h).includes(O)&&(O!=="namespace"||O==="namespace"&&Ue.params.namespace!==R)));var v=Tr(),x=i(v),E=i(x),L=i(E),y=i(L,!0);n(L);var D=d(L,2),S=i(D,!0);n(D),n(E);var j=d(E,2);ea(j,{as:"p",class:"text-sm",get dateTime(){return t.event.eventTime}}),n(x);var M=d(x,2),T=i(M),G=i(T);{var z=O=>{dr(O,()=>t.event.links)};w(G,O=>{var R,I;(I=(R=t.event)==null?void 0:R.links)!=null&&I.length&&O(z)})}var q=d(G,2);{var U=O=>{ur(O,()=>t.event.userMetadata.summary)};w(q,O=>{var R,I;(I=(R=t.event)==null?void 0:R.userMetadata)!=null&&I.summary&&O(U)})}var V=d(q,2);qe(V,17,()=>e(k),([O,R])=>O,(O,R)=>{var I=a(()=>_t(e(R),2));fr(O,()=>e(I)[0],()=>e(I)[1])});var ee=d(V,2);qe(ee,17,()=>e(_),([O,R])=>O,(O,R)=>{var I=a(()=>_t(e(R),2));r(O,()=>e(I)[0],()=>e(I)[1])}),n(T);var oe=d(T,2);{var ye=O=>{var R=br();qe(R,21,()=>e(c),([I,te])=>I,(I,te)=>{var J=a(()=>_t(e(te),2));mr(I,()=>e(J)[0],()=>e(J)[1])}),n(R),u(O,R)};w(oe,O=>{e(c).length&&O(ye)})}n(M),n(v),F(()=>{P(y,t.event.id),P(S,e(l))}),u(s,v),He()}var Ir=H('<div class="flex flex-col overflow-hidden"><!> <!></div>');function Er(s,t){Re(t,!0);let r=X(t,"group",3,void 0),l=X(t,"event",3,void 0);const m=a(()=>(r()===null||r()===void 0?void 0:r().pendingActivity)||(r()===null||r()===void 0?void 0:r().pendingNexusOperation)),g=a(()=>r()&&(r().eventList.length>1||e(m)));var c=xe(),_=W(c);{var h=v=>{var x=Ir(),E=i(x);{var L=S=>{Va(S,{get activity(){return r().pendingActivity}})},y=S=>{var j=xe(),M=W(j);{var T=G=>{lr(G,{get operation(){return r().pendingNexusOperation}})};w(M,G=>{var z;(z=r())!=null&&z.pendingNexusOperation&&G(T)},!0)}u(S,j)};w(E,S=>{var j;(j=r())!=null&&j.pendingActivity?S(L):S(y,!1)})}var D=d(E,2);qe(D,17,()=>r().eventList,It,(S,j)=>{qt(S,{get event(){return e(j)}})}),n(x),u(v,x)},k=v=>{var x=xe(),E=W(x);{var L=y=>{qt(y,{get event(){return l()}})};w(E,y=>{l()&&y(L)},!0)}u(v,x)};w(_,v=>{e(g)?v(h):v(k,!1)})}u(s,c),He()}var Pr=H('<p class="whitespace-nowrap text-right text-xs"> </p>'),Ar=H('<div><code class="svelte-cy5z6t"><pre class="truncate svelte-cy5z6t"> </pre></code></div>'),Sr=H('<div class="flex max-w-sm items-center justify-between gap-2 overflow-hidden pr-1 xl:flex-nowrap"><!></div>'),Cr=H('<div class="flex max-w-xl items-center gap-2 first:pt-0 last:border-b-0 md:w-auto"><!> <!></div>');function st(s,t){const r=dt(t,["children","$$slots","$$events","$$legacy"]);Re(t,!1);const l=Ze();let m=X(t,"key",8),g=X(t,"value",8),c=X(t,"attributes",8),_=X(t,"showKey",8,!0);vt(()=>(Z(m()),Z(c())),()=>{Se(l,lt(m(),c()))}),Tt(),Pt();var h=xe(),k=W(h);{var v=x=>{var E=Cr(),L=i(E);{var y=M=>{var T=Pr(),G=i(T,!0);n(T),F(z=>P(G,z),[()=>(Z(tt),Z(m()),Ee(()=>tt(m())))]),u(M,T)};w(L,M=>{_()&&M(y)})}var D=d(L,2);{var S=M=>{var T=Sr(),G=i(T);ct(G,{get value(){return g()},key:"payloads",children:(q,U=K)=>{var V=Ar(),ee=i(V),oe=i(ee),ye=i(oe,!0);n(oe),n(ee),n(V),F((O,R)=>{et(V,1,O,"svelte-cy5z6t"),P(ye,R)},[()=>kt((Z(ut),Z(r),Ee(()=>ut("payload",r.class)))),()=>(U(),Ee(()=>U().slice(0,60)))]),u(q,V)},$$slots:{default:!0}}),n(T),u(M,T)},j=M=>{var T=xe(),G=W(T);{var z=U=>{{let V=Ht(()=>(Z(f),Ee(()=>f("common.copy-icon-title")))),ee=Ht(()=>(Z(f),Ee(()=>f("common.copy-success-icon-title"))));Ke(U,{get copyIconTitle(){return e(V)},get copySuccessIconTitle(){return e(ee)},get content(){return g()},"container-class":"truncate",children:(oe,ye)=>{ra(oe,{get value(){return g()},get attributes(){return c()},get type(){return e(l)},class:"truncate"})},$$slots:{default:!0}})}},q=U=>{We(U,{type:"subtle",class:"block select-none truncate",children:(V,ee)=>{de();var oe=$();F(()=>P(oe,g())),u(V,oe)},$$slots:{default:!0}})};w(G,U=>{e(l)!=="none"?U(z):U(q,!1)},!0)}u(M,T)};w(D,M=>{typeof g()=="object"?M(S):M(j,!1)})}n(E),u(x,E)};w(k,x=>{m()&&x(v)})}u(s,h),He()}var Fr=H('<div><p class="max-w-fit whitespace-nowrap text-right text-sm"> </p> <div><!></div></div>');function Lr(s,t){const r=dt(t,["children","$$slots","$$events","$$legacy"]);Re(t,!1);var l=Ze();let m=X(t,"link",8),g=X(t,"value",28,()=>m().workflowEvent.workflowId),c=X(t,"label",24,()=>f("nexus.link")),_=X(t,"href",12,void 0);vt(()=>(Z(_()),Z(m()),pt(l)),()=>{_()||(_(ta(m())),g((Se(l,_().split("workflows/"))===null||pt(l)===void 0?void 0:pt(l)[1])||_()))}),Tt(),Pt();var h=Fr(),k=i(h),v=i(k,!0);n(k);var x=d(k,2),E=i(x);Qe(E,{get href(){return _()},children:(L,y)=>{de();var D=$();F(()=>P(D,g())),u(L,D)},$$slots:{default:!0}}),n(x),n(h),F(()=>{et(h,1,`flex flex-row items-center gap-2 overflow-hidden first:pt-0 last:border-b-0 ${Z(r),Ee(()=>r.class)??""}`),P(v,c()),et(x,1,`overflow-hidden ${Z(r),Ee(()=>r.linkClass)??""}`)}),u(s,h),He()}var Mr=H('<td class="font-mono"><div class="flex items-center gap-0.5"></div></td>'),Or=H('<td class="font-mono"><!></td>'),Dr=H(" <!>",1),Rr=H("<!> <!>",1),Hr=H('<div class="flex max-w-xl items-center gap-2 first:pt-0 last:border-b-0 md:w-auto"><p class="whitespace-nowrap text-right text-xs">Summary</p> <!></div>'),jr=H('<td><div class="flex justify-center gap-0.5"><!></div></td>'),Nr=H('<tr class="w-full text-sm no-underline" data-testid="event-summary-row-expanded"><td class="!p-0"><!></td></tr>'),Gr=H('<tr data-testid="event-summary-row"><!><td class="text-right md:hidden"><!></td><td class="hidden text-right md:table-cell"><!></td><td class="truncate"><p><!> </p></td><td class="w-full items-center gap-2 text-right text-sm font-normal xl:text-left"><div class="flex items-center gap-2"><!> <!> <!> <!> <!> <!> <!></div></td><!></tr> <!>',1);function Rn(s,t){Re(t,!0);const r=()=>Ie(Jt,"$timeFormat",_),l=()=>Ie(Xt,"$relativeTime",_),m=()=>Ie(Qt,"$timestampFormat",_),g=()=>Ie(Sa,"$authUser",_),c=()=>Ie(Aa,"$isCloud",_),[_,h]=Et();var k,v,x,E,L,y,D,S;let j=X(t,"compact",3,!1),M=X(t,"expanded",3,!1),T=X(t,"onRowClick",3,()=>{}),G=X(t,"hoveredEventId",15),z=jt(ka(M())),q=jt(void 0);const U=a(()=>Y(t.event)?Array.from(t.event.events.keys()).shift():t.event.id),V=a(()=>Ue.params),ee=a(()=>e(V).workflow),oe=a(()=>e(V).run),ye=a(()=>e(V).namespace),O=a(()=>Bt({eventId:t.event.id,namespace:e(ye),workflow:e(ee),run:e(oe)})),R=a(()=>$t(t.event)),I=a(()=>Y(t.event)?t.event.events.get(e(U)):t.event),te=a(()=>Gt({start:t.initialItem===null||t.initialItem===void 0?void 0:t.initialItem.eventTime,end:Y(e(I))?(k=e(I).initialEvent)===null||k===void 0?void 0:k.eventTime:e(I)===null||e(I)===void 0?void 0:e(I).eventTime,includeMillisecondsForUnderSecond:!0})),J=a(()=>Y(t.event)?Gt({start:(v=t.event.initialEvent)===null||v===void 0?void 0:v.eventTime,end:(x=t.event.lastEvent)===null||x===void 0?void 0:x.eventTime,includeMillisecondsForUnderSecond:!0}):""),je=a(()=>Ia(t.event)),Ce=a(()=>Ea(t.event)),Fe=a(()=>Pa(t.event)),Ne=a(()=>Y(t.event)?t.event.label:Pe(t.event)?f("events.category.local-activity"):Yt(t.event.name)),ue=a(()=>Pe(t.event)?void 0:Ga(Y(t.event)?t.event.initialEvent:t.event)),me=a(()=>za(Y(t.event)?t.event.lastEvent:t.event,e(ue)===null||e(ue)===void 0?void 0:e(ue).key)),he=a(()=>Y(t.event)&&(t.event===null||t.event===void 0?void 0:t.event.pendingActivity)),Le=a(()=>e(he)&&(e(he)===null||e(he)===void 0?void 0:e(he).paused)),be=a(()=>Y(t.event)&&t.event.isPending&&(((E=t.event===null||t.event===void 0?void 0:t.event.pendingActivity)===null||E===void 0?void 0:E.attempt)||((L=t.event===null||t.event===void 0?void 0:t.event.pendingNexusOperation)===null||L===void 0?void 0:L.attempt))),Xe=a(()=>Y(t.event)&&!t.event.isPending&&((D=(y=t.event.eventList.find(Ba))===null||y===void 0?void 0:y.attributes)===null||D===void 0?void 0:D.attempt)),at=a(()=>j()&&(e(me)===null||e(me)===void 0?void 0:e(me).key)&&(e(me)===null||e(me)===void 0?void 0:e(me).key)!==(e(ue)===null||e(ue)===void 0?void 0:e(ue).key)&&!(!((S=e(I)===null||e(I)===void 0?void 0:e(I).userMetadata)===null||S===void 0)&&S.summary)),rt=a(()=>$e(e(I)===null||e(I)===void 0?void 0:e(I).eventTime,r(),{relative:l(),format:m()})),Je=a(()=>$e(e(I)===null||e(I)===void 0?void 0:e(I).eventTime,r(),{relative:l(),format:"short"})),mt=p=>{Se(z,!e(z)),p.stopPropagation(),T()()},ft=()=>{G(t.event.id)},gt=()=>{G(void 0)};let o=(p,C)=>{var N;return(N=p==null?void 0:p.eventIds)===null||N===void 0?void 0:N.has(C)};ha(async()=>{Pe(t.event)?Se(q,await Ut(t.event,{namespace:Ue.params.namespace,settings:Ue.data.settings,accessToken:g().accessToken}),!0):Y(t.event)&&Pe(t.event.initialEvent)&&Se(q,await Ut(t.event.initialEvent,{namespace:Ue.params.namespace,settings:Ue.data.settings,accessToken:g().accessToken}),!0)});var b=Gr(),A=W(b);A.__click=mt;var ae=i(A);{var ie=p=>{var C=Mr(),N=i(C);qe(N,21,()=>t.event.eventList,It,(ve,re)=>{{let Q=a(()=>Bt({eventId:e(re).id,namespace:e(ye),workflow:e(ee),run:e(oe)}));Qe(ve,{"data-testid":"link",get href(){return e(Q)},children:(ge,ke)=>{de();var ne=$();F(()=>P(ne,e(re).id)),u(ge,ne)},$$slots:{default:!0}})}}),n(N),n(C),u(p,C)},B=p=>{var C=Or(),N=i(C);Qe(N,{"data-testid":"link",get href(){return e(O)},children:(ve,re)=>{de();var Q=$();F(()=>P(Q,t.event.id)),u(ve,Q)},$$slots:{default:!0}}),n(C),u(p,C)};w(ae,p=>{Y(t.event)?p(ie):p(B,!1)})}var se=d(ae),we=i(se);{let p=a(()=>Y(t.event)&&!e(J)||!e(te)),C=a(()=>Y(t.event)?`Duration: ${e(J)}`:`+${e(te)}`);ht(we,{get hide(){return e(p)},get text(){return e(C)},class:"block",bottom:!0,children:(N,ve)=>{{let re=a(()=>f("common.copy-icon-title")),Q=a(()=>f("common.copy-success-icon-title"));Ke(N,{get copyIconTitle(){return e(re)},get copySuccessIconTitle(){return e(Q)},get content(){return e(Je)},children:(ge,ke)=>{de();var ne=$();F(()=>P(ne,e(Je))),u(ge,ne)},$$slots:{default:!0}})}},$$slots:{default:!0}})}n(se);var le=d(se),fe=i(le);{let p=a(()=>Y(t.event)&&!e(J)||!e(te)),C=a(()=>Y(t.event)?`Duration: ${e(J)}`:`+${e(te)}`);ht(fe,{get hide(){return e(p)},get text(){return e(C)},class:"block",bottom:!0,children:(N,ve)=>{{let re=a(()=>f("common.copy-icon-title")),Q=a(()=>f("common.copy-success-icon-title"));Ke(N,{get copyIconTitle(){return e(re)},get copySuccessIconTitle(){return e(Q)},get content(){return e(rt)},children:(ge,ke)=>{de();var ne=$();F(()=>P(ne,e(rt))),u(ge,ne)},$$slots:{default:!0}})}},$$slots:{default:!0}})}n(le);var ce=d(le),Me=i(ce),Ge=i(Me);bt(Ge,{get name(){return Xa[t.event.category]},class:"mr-1 inline"});var Te=d(Ge);n(Me),n(ce);var Oe=d(ce),nt=i(Oe),At=i(nt);{var na=p=>{{let C=a(()=>e(Le)?"warning":e(be)>1?"danger":"default");We(p,{class:"mr-1",get type(){return e(C)},children:(N,ve)=>{var re=Rr(),Q=W(re);{let _e=a(()=>ut("mr-1 inline",e(be)>1&&"font-bold text-red-400",e(Le)&&"font-bold text-yellow-700")),De=a(()=>e(Le)?"pause":"retry");bt(Q,{get class(){return e(_e)},get name(){return e(De)}})}var ge=d(Q),ke=d(ge);{var ne=_e=>{var De=Dr(),ze=W(De),ot=d(ze);{var _a=Be=>{const Ot=a(()=>{var Ve;return Zt({date:(Ve=e(he))==null?void 0:Ve.scheduledTime,negativeDefault:""})});var Dt=xe(),pa=W(Dt);{var xa=Ve=>{var Rt=$();F(ya=>P(Rt,`• ${ya??""}
                ${e(Ot)??""}`),[()=>f("workflows.next-retry")]),u(Ve,Rt)};w(pa,Ve=>{e(Ot)&&Ve(xa)})}u(Be,Dt)};w(ot,Be=>{e(be)>1&&Be(_a)})}F(()=>{var Be;return P(ze,`/ ${(((Be=e(he))==null?void 0:Be.maximumAttempts)||"∞")??""} `)}),u(_e,De)};w(ke,_e=>{e(he)&&_e(ne)})}F(_e=>P(ge,` ${_e??""}
          ${e(be)??""} `),[()=>f("workflows.attempt")]),u(N,re)},$$slots:{default:!0}})}};w(At,p=>{e(be)&&p(na)})}var St=d(At,2);{var oa=p=>{st(p,yt(()=>e(ue),{get attributes(){return e(R)}}))};w(St,p=>{var C;!e(q)&&((C=e(ue))!=null&&C.key)&&p(oa)})}var Ct=d(St,2);{var ia=p=>{st(p,yt(()=>e(q),{get attributes(){return e(R)}}))};w(Ct,p=>{e(q)&&e(q).key&&p(ia)})}var Ft=d(Ct,2);{var sa=p=>{aa(p,{get value(){return e(I).userMetadata.summary},children:Wt,$$slots:{default:(C,N)=>{const ve=a(()=>N.decodedValue);var re=xe(),Q=W(re);{var ge=ke=>{var ne=Hr(),_e=d(i(ne),2);We(_e,{type:"secondary",class:"block select-none truncate",children:(De,ze)=>{de();var ot=$();F(()=>P(ot,e(ve))),u(De,ot)},$$slots:{default:!0}}),n(ne),u(ke,ne)};w(Q,ke=>{e(ve)&&ke(ge)})}u(C,re)}}})};w(Ft,p=>{var C,N;(N=(C=e(I))==null?void 0:C.userMetadata)!=null&&N.summary&&p(sa)})}var Lt=d(Ft,2);{var la=p=>{Lr(p,{get link(){return e(I).links[0]},class:"max-w-xl",linkClass:"truncate"})};w(Lt,p=>{var C,N;(N=(C=e(I))==null?void 0:C.links)!=null&&N.length&&p(la)})}var Mt=d(Lt,2);{var ca=p=>{{let C=a(()=>e(Xe).toString());st(p,{key:"attempt",get value(){return e(C)},get attributes(){return e(R)}})}};w(Mt,p=>{e(Xe)&&p(ca)})}var va=d(Mt,2);{var da=p=>{st(p,yt(()=>e(me),{get attributes(){return e(R)}}))};w(va,p=>{e(at)&&p(da)})}n(nt),n(Oe);var ua=d(Oe);{var ma=p=>{var C=jr(),N=i(C),ve=i(N);{var re=Q=>{{let ge=a(()=>f("workflows.estimated-billable-actions"));ht(Q,{get text(){return e(ge)},topRight:!0,children:(ke,ne)=>{We(ke,{type:"subtle",class:"text-bold shrink-0 gap-1 px-1.5",children:(_e,De)=>{de();var ze=$();F(()=>P(ze,t.event.billableActions)),u(_e,ze)},$$slots:{default:!0}})},$$slots:{default:!0}})}};w(ve,Q=>{t.event.billableActions&&Q(re)})}n(N),n(C),u(p,C)};w(ua,p=>{c()&&p(ma)})}n(A);var fa=d(A,2);{var ga=p=>{var C=Nr(),N=i(C),ve=i(N);Er(ve,{get group(){return t.group},get event(){return e(I)}}),n(N),n(C),F(()=>xt(N,"colspan",c()?5:4)),u(p,C)};w(fa,p=>{e(z)&&p(ga)})}F((p,C)=>{et(A,1,p,"svelte-1cvp1uf"),xt(A,"id",`${t.event.id}-${t.index}`),xt(A,"data-eventid",t.event.id),et(Me,1,C),P(Te,` ${e(Ne)??""}`)},[()=>kt(ut("hover:cursor-pointer",e(je)&&"!bg-red-400/40 hover:!bg-red-400/60",e(Ce)&&"!bg-yellow-400/30 hover:!bg-yellow-400/50",e(Fe)&&"!bg-pink-700/30 hover:!bg-pink-700/50",o(t.group,G())&&"active")),()=>kt(Za({category:t.event.category}))]),Nt("mouseenter",A,ft),Nt("mouseleave",A,gt),u(s,b),He(),h()}ba(["click"]);export{Xa as C,Rn as E,Fn as H,Cn as T,st as a,Er as b,Dn as c,Ut as d,Za as e,Lr as f,On as g,Mn as i,Ln as t};
