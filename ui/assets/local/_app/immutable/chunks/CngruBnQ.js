import"./Bzak7iHL.js";import"./69_IOA4Y.js";import{p as R,l as i,s,m as d,g as e,aj as b,M,a as S,h as C,f as h,e as k,b as W}from"./C-0kx8Rl.js";import{a as q}from"./D7Rg7Pz7.js";import{i as z,s as T}from"./DFzl7kYA.js";import{p as u,a as B,s as F}from"./B0Wc33k0.js";import{p as G}from"./Crisr3ff.js";import{a as H}from"./C7YGd2vM.js";import{g as J,b as K,a as N}from"./CLo3YjZt.js";function ae(V,n){R(n,!1);const[w,D]=F(),a=()=>B(G,"$page",w),g=d(),p=d(),m=d(),_=d(),y=d();var l=d();let j=u(n,"value",8,void 0),c=u(n,"fallback",8,""),x=u(n,"prefix",8,""),v=u(n,"onDecode",8,void 0);const P=120;let o=d("");const E=t=>x()?(t=`${x()} â€¢ ${t}`,t.length<P?t:t.slice(0,P)+"..."):t;i(()=>a(),()=>{s(g,J(a().data.settings))}),i(()=>a(),()=>{s(p,K(a().data.settings))}),i(()=>a(),()=>{s(m,N(a().data.settings))}),i(()=>(a(),b(l),e(g),e(p),e(m)),()=>{s(_,{...a().data.settings,codec:{...s(l,a().data.settings)===null||b(l)===void 0?void 0:b(l).codec,endpoint:e(g),passAccessToken:e(p),includeCredentials:e(m)}})}),i(()=>(M(c()),e(o),e(_),M(v())),()=>{s(y,async t=>{if(!t)return c();if(e(o))return e(o);const r=await H(t,e(_));return typeof r=="string"?(s(o,E(r)),v()&&v()(e(o)),e(o)):(s(o,c()),c())})}),S(),z();var A=C(),I=h(A);q(I,()=>e(y)(j()),null,(t,r)=>{var f=C(),L=h(f);T(L,n,"default",{get decodedValue(){return e(r)}},null),k(t,f)},t=>{var r=C(),f=h(r);T(f,n,"default",{get decodedValue(){return c()}},null),k(t,r)}),k(V,A),W(),D()}export{ae as M};
