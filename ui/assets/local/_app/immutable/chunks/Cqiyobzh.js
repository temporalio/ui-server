import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as ce,h as V,f as D,e as h,b as ue,m as g,l as z,a as Be,t as de,i as p,c as o,r as m,n as se,j as B,o as a,g as e,s as x,L as re,k as Ge}from"./BUtADDjV.js";import{s as T}from"./BIRKK4Cx.js";import{i as pe,s as G}from"./h9b1Gopq.js";import{p as u,s as me,a as Je,b as ne}from"./B1GMiS9d.js";import{a as Oe,w as Ue}from"./BEyRdwvQ.js";import{i as We}from"./Cx0Hed4m.js";import{p as Xe}from"./GPioZwvj.js";import{A as Ye}from"./QvA4o0bH.js";import{C as le}from"./W9Ec4MiK.js";import{I as oe}from"./BrBFT0VX.js";import{M as Ze}from"./B4Rvajl_.js";import{t as n}from"./D2OY9xdY.js";function et(K,s){ce(s,!1);const[J,Q]=me(),I=()=>Je(Xe,"$page",J);let R=u(s,"isCloud",8,!1);pe();var _=V(),y=D(_);{var w=i=>{var l=V(),c=D(l);G(c,s,"default",{},null),h(i,l)},k=i=>{var l=V(),c=D(l);G(c,s,"fallback",{},null),h(i,l)};We(y,i=>{var l,c,f;R()||(f=(c=(l=I().data)==null?void 0:l.settings)==null?void 0:c.runtimeEnvironment)!=null&&f.isCloud?i(w):i(k,!1)})}h(K,_),ue(),Q()}const ve={spec:{name:"",descriptionString:"",target:{worker:{namespace:"",taskQueue:""}},allowedCallerNamespaces:[]}},ie=Ue(ve);var tt=de('<div class="flex flex-col gap-0"><p class="text-base text-primary"> </p> <p class="text-xs text-secondary"> </p></div> <!>',1),at=de('<div class="flex w-full flex-col gap-4 xl:w-1/2"><!> <div class="flex flex-col gap-0"><p class="text-base text-primary"> </p> <p class="text-xs text-secondary"> </p></div> <!> <!> <!> <div class="flex flex-col gap-2"><p class="text-sm font-medium">Description</p> <!> <p class="text-xs text-secondary">Do not include sensitive data.</p></div> <!></div> <!>',1);function _t(K,s){ce(s,!1);const[J,Q]=me(),I=g(),R=g();var _,y,w,k,i,l,c,f,$;let r=u(s,"endpoint",8,void 0),ge=u(s,"targetNamespaceList",24,()=>[]),O=u(s,"callerNamespaceList",24,()=>[]),j=u(s,"error",8,void 0),xe=u(s,"nameDisabled",8,!1),_e=u(s,"isCloud",8,!0),fe=u(s,"nameHintText",8),U=u(s,"nameRegexPattern",8),b=g(((_=r()===null||r()===void 0?void 0:r().spec)===null||_===void 0?void 0:_.name)||""),S=g(((y=r()===null||r()===void 0?void 0:r().spec)===null||y===void 0?void 0:y.descriptionString)||""),N=g(((i=(k=(w=r()===null||r()===void 0?void 0:r().spec)===null||w===void 0?void 0:w.target)===null||k===void 0?void 0:k.worker)===null||i===void 0?void 0:i.namespace)||""),C=g(((f=(c=(l=r()===null||r()===void 0?void 0:r().spec)===null||l===void 0?void 0:l.target)===null||c===void 0?void 0:c.worker)===null||f===void 0?void 0:f.taskQueue)||""),q=g((($=r()===null||r()===void 0?void 0:r().spec)===null||$===void 0?void 0:$.allowedCallerNamespaces)||[]);const be=(t,L,v,d,P)=>{ne(ie,{spec:{name:t,descriptionString:L,target:{worker:{namespace:v,taskQueue:d}},allowedCallerNamespaces:P}})};Oe(()=>{ne(ie,ve)}),z(()=>(e(b),e(S),e(N),e(C),e(q)),()=>{be(e(b),e(S),e(N),e(C),e(q))}),z(()=>re(O()),()=>{x(I,O().map(t=>({value:t.namespace,label:t.namespace})))}),z(()=>re(U()),()=>{x(R,t=>U().test(t))}),Be(),pe();var W=at(),A=D(W),X=p(A);const he=a(()=>!e(b)||!e(R)(e(b))),ye=a(()=>n("nexus.endpoint-name")),we=a(()=>n("nexus.endpoint-name-placeholder"));oe(X,{required:!0,get disabled(){return xe()},get error(){return e(he)},get hintText(){return fe()},get label(){return e(ye)},id:"name",maxLength:255,get placeholder(){return e(we)},get value(){return e(b)},set value(t){x(b,t)},$$legacy:!0});var E=o(X,2),F=p(E),ke=p(F,!0);m(F);var Y=o(F,2),Ne=p(Y,!0);m(Y),m(E);var Z=o(E,2);const Ce=a(()=>n("nexus.target-namespace")),qe=a(()=>n("common.no-results")),Le=a(()=>!!e(N)),Pe=a(()=>n("nexus.select-namespace"));le(Z,{get label(){return e(Ce)},get noResultsText(){return e(qe)},get valid(){return e(Le)},error:"Please select a target Namespace.",required:!0,id:"target-namespace",get placeholder(){return e(Pe)},leadingIcon:"namespace-switcher",get options(){return ge()},optionValueKey:"namespace",minSize:32,get value(){return e(N)},set value(t){x(N,t)},$$legacy:!0});var ee=o(Z,2);const Te=a(()=>!e(C)),De=a(()=>n("common.task-queue")),Ie=a(()=>n("nexus.task-queue-placeholder"));oe(ee,{required:!0,get error(){return e(Te)},get label(){return e(De)},id:"task-queue",get placeholder(){return e(Ie)},get value(){return e(C)},set value(t){x(C,t)},$$legacy:!0});var te=o(ee,2);et(te,{get isCloud(){return _e()},children:(t,L)=>{var v=tt(),d=D(v),P=p(d),je=p(P,!0);m(P);var ae=o(P,2),Ae=p(ae,!0);m(ae),m(d);var Ee=o(d,2);const Fe=a(()=>n("nexus.allowed-caller-namespaces")),He=a(()=>n("common.no-results")),Me=a(()=>!!e(q).length),Ve=a(()=>n("nexus.select-namespaces"));le(Ee,{id:"caller-namespace-filter-menu",multiselect:!0,displayChips:!1,get options(){return e(I)},get label(){return e(Fe)},leadingIcon:"search",get noResultsText(){return e(He)},get valid(){return e(Me)},error:"Please select at least one Namespace.",get placeholder(){return e(Ve)},optionValueKey:"value",optionLabelKey:"label",get value(){return e(q)},set value(M){x(q,M)},$$legacy:!0}),B((M,ze)=>{T(je,M),T(Ae,ze)},[()=>n("nexus.access-policy"),()=>n("nexus.allowed-caller-namespaces-description")],a),h(t,v)},$$slots:{default:!0}});var H=o(te,2),Re=o(p(H),2);Ze(Re,{get content(){return e(S)},set content(t){x(S,t)},$$legacy:!0}),se(2),m(H);var Se=o(H,2);G(Se,s,"footer",{},null),m(A);var Ke=o(A,2);const Qe=a(()=>{var t;return(t=j())==null?void 0:t.statusText}),$e=a(()=>!j());Ye(Ke,{get title(){return e(Qe)},intent:"error",get hidden(){return e($e)},children:(t,L)=>{se();var v=Ge();B(()=>{var d;return T(v,(d=j())==null?void 0:d.message)}),h(t,v)},$$slots:{default:!0}}),B((t,L)=>{T(ke,t),T(Ne,L)},[()=>n("nexus.target"),()=>n("nexus.target-description")],a),h(K,W),ue(),Q()}export{_t as N,ie as e};
