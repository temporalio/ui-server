import{c as Xe,B as We}from"./BvcST-tr.js";import{g as fe,h as be}from"./C3dhG0FN.js";import"./DAcYyk2F.js";import"./6T4_EBP1.js";import"./vp2td3Dl.js";import"./CKqP6R_E.js";import"./DPCFp0jY.js";import"./BUApaBEI.js";import"./ewzzm9Vv.js";import"./Cbxe4ekR.js";import{s as Ge}from"./ikbOq2O5.js";import{d as Je}from"./Cjtrpq_A.js";import{c as ut,d as ft,a as mt}from"./DHcXakAE.js";import{a as Ke,b as Ye,g as Ze}from"./DibjUyqX.js";import{f as pt,h as gt,d as Le,j as xt,k as _t,l as yt}from"./CJs7lbqv.js";import"./CWj6FrbW.js";import{p as pe,f as V,j as f,n as ge,k as ce,t as H,e as k,h as y,r as d,u as $,g as t,v as o,b as xe,i as Z,c as j,d as ht,l as se,s as Q,m as Y,M as le,a as et,I as tt,av as Fe,q as wt,aQ as Oe}from"./BzuLCQNf.js";import{i as S}from"./Be-bjpec.js";import{e as me,i as at}from"./DHcq7Esf.js";import{s as He,a as Be,l as qe,p as ae}from"./DdNojIXk.js";import{t as kt,P as Tt}from"./D-Bhfkhr.js";import{s as O}from"./HOnlAALn.js";import{t as bt,T as rt}from"./pi-WXkM0.js";import{C as oe}from"./BVTTWmbH.js";import{I as It}from"./CKL6Zfw6.js";import{t as g}from"./DEjs8ZrU.js";import{o as Ct}from"./C8ejR22J.js";import{p as Et}from"./CBeG13Yt.js";import{C as Ne}from"./Vk2HnYFn.js";import{L as Ve}from"./DxzPJd5t.js";import{g as At}from"./CLJGxs4a.js";import{f as $e,s as Pt}from"./ByTIZu23.js";import{b as St}from"./Nh_YAR0t.js";import{d as ze,l as Lt,m as Ft,a as Ot}from"./BaL1mSN6.js";import"./69_IOA4Y.js";import{i as nt}from"./W-5sOwmb.js";import{p as ot}from"./DtEMrm9R.js";import{a as Rt}from"./D-F-0Ojj.js";import{s as Qe}from"./D7yhRzLA.js";import{P as Re}from"./BHxPLQEH.js";const it={workflow:"text-blue-700 dark:text-blue-400",activity:"text-purple-600 dark:text-purple-500","child-workflow":"text-cyan-600",timer:"text-yellow-600 dark:text-yellow-400",signal:"text-pink-600 dark:text-pink-400",update:"text-blue-600 dark:text-blue-400",other:"text-slate-700 dark:text-slate-300",nexus:"text-indigo-600 dark:text-indigo-400","local-activity":"text-slate-700 dark:text-slate-300",default:"text-purple-600 dark:text-purple-500"},Ya=Xe("",{variants:{category:it}}),Za=Xe(["whitespace-nowrap font-semibold md:text-base flex items-center gap-0.5"],{variants:{category:it}}),Te=6,er={height:Te*4,gutter:Te*8,radius:Te*1.5,fontSizeRatio:Te*4},tr={height:32,radius:4},ar={workflow:{name:"workflow",title:"Workflow"},signal:{name:"signal",title:"Signal"},activity:{name:"activity",title:"Activity"},nexus:{name:"nexus",title:"Nexus"},timer:{name:"retention",title:"Timer"},"local-activity":{name:"feather",title:"Local Activity"},"child-workflow":{name:"relationship",title:"Child Workflow"},update:{name:"update",title:"Update"},other:{name:"terminal",title:"Other"}},rr=(n,e,a,l,c)=>{const{radius:v}=c,s=n[0],m=n[n.length-1];let p=!1,h="start",i=0;const x=s>1/2*a;let T=!x&&m<2/3*a&&!l;x&&(h="end"),T&&(i=n.indexOf(m));const I=1.5*v;let u=T?m+I:s-I;if(!T&&!x&&(p=!0,T=!0,u=s+I,n.length===2&&l&&n[1]-n[0]<a-n[1]&&(i=1,u=n[1]+I),n.length>2)){const _=n[1]-n[0];n[2]-n[1]>_&&(i=1,u=n[1]+I)}return{textPosition:[u,e],textIndex:i,textAnchor:h,backdrop:p}},nr=(n,e)=>{const a=e.find(c=>c.eventIds.has(n.id));return a?Array.from(a.eventIds).indexOf(n.id)===1&&a.eventList.length===3:!1},De=(n,e)=>parseInt(n)===parseInt(e)-1,Dt=n=>{const e=Array.from(n.eventIds);return e.length===1?!0:e.length===2?De(e[0],e[1]):e.length===3?De(e[0],e[1])&&De(e[1],e[2]):!1},Ht=(n,e)=>{const a=Je(e,n);if(!a)return 0;if(a.level!==void 0)return a.level;const l=e.filter(s=>s.isPending&&s.id!==a.id).filter(s=>parseInt(s.initialEvent.id)<parseInt(a.initialEvent.id)),c=e.filter(s=>s.eventList.length>1&&!s.isPending&&s.id!==a.id).filter(s=>parseInt(s.initialEvent.id)<parseInt(a.initialEvent.id)).filter(s=>parseInt(s.lastEvent.id)>parseInt(a.initialEvent.id)),v=[...l,...c];return!v.length&&Dt(a)&&(a.level=0),a.level=v.length+1,a.level},or=(n,e,a,l,c)=>{const v=Je(a,e);let s=0,m=0;if(!v)return{nextDistance:s,offset:m};if(v.eventList.length===1&&!v.isPending)return{nextDistance:s,offset:m};const p=fe(e)?v.eventList.indexOf(e):-1,h=fe(e)?v.eventList[p+1]:void 0;if((!fe(e)||e.category!=="workflow")&&(m=Ht(e,a)),!h&&!v.isPending)return{nextDistance:s,offset:m};let i=0;h&&fe(e)?i=parseInt(h.id)-parseInt(e.id):v.isPending&&fe(e)&&(i=n.length-parseInt(e.id)+2);const x=i*l;return s=c==="ascending"?x:-x,{nextDistance:s,offset:m}},ir=n=>{switch(n){case"Completed":return"#1ff1a5";case"Failed":case"Terminated":return"#c71607";case"Signaled":return"#d300d8";case"Fired":return"#f8a208";case"TimedOut":return"#f97316";case"Canceled":return"#fed64b";case"Running":return"#3b82f6";case"Delayed":return"#fbbf24";default:return"currentColor"}},sr=n=>{switch(n){case"timer":return"#fbbf24";case"signal":return"#d300d8";case"activity":return"#a78bfa";case"workflow":case"marker":case"command":return"#ebebeb";case"child-workflow":return"#0899B2";case"update":return"#FF9B70";case"pending":return"#a78bfa";case"retry":return"#FF9B70";default:return"currentColor"}},lr=async(n,e)=>{var s,m,p,h,i,x,T,I,u,L,_;if(!("eventType"in n)||!be(n))return;const{namespace:a,settings:l,accessToken:c}=e,v={...l,codec:{...l==null?void 0:l.codec,endpoint:Ze(l),passAccessToken:Ye(l),includeCredentials:Ke(l)}};try{const E=await ut(n.attributes,a,v,c),R=((p=(m=(s=n.markerRecordedEventAttributes)==null?void 0:s.details)==null?void 0:m.data)==null?void 0:p.payloads)||((x=(i=(h=n.markerRecordedEventAttributes)==null?void 0:h.details)==null?void 0:i.type)==null?void 0:x.payloads)||[];if(!(R!=null&&R.length))return;const C=ft(E),A=(_=((I=(T=C==null?void 0:C.details)==null?void 0:T.data)==null?void 0:I.payloads)||((L=(u=C==null?void 0:C.details)==null?void 0:u.type)==null?void 0:L.payloads))==null?void 0:_[0],D=pt(A);if(D)return gt("ActivityType",D)}catch(E){console.error("Failed to decode local activity type:",E)}},cr=n=>{if("eventList"in n)return n.eventList.find(be);if(be(n))return n},z=(n,e=$,a=$)=>{var l=Nt(),c=f(l),v=f(c,!0);d(c);var s=y(c,2),m=f(s);{var p=i=>{var x=ce();H(()=>O(x,a())),k(i,x)},h=i=>{var x=Z(),T=j(x);ht(T,()=>a()??$),k(i,x)};S(m,i=>{typeof a()=="string"||typeof a()=="number"?i(p):i(h,!1)})}d(s),d(l),H(()=>O(v,e())),k(n,l)};var Bt=V('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="flex w-full items-center gap-1 whitespace-pre-line"> <strong> </strong></p></div>'),Nt=V('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="w-full whitespace-pre-line"><!></p></div>'),Vt=V("<!> ",1),$t=V('<p class="text-sm text-secondary/80"> </p> <!>',1),jt=V('<p class="text-sm text-secondary/80"> </p> <!>',1),Mt=V('<div class="flex flex-col gap-2"><div class="flex flex-1 flex-col"><!></div> <div class="flex flex-1 flex-col"><!></div></div>'),Wt=V('<div class="flex flex-1 flex-col"><p class="text-sm text-secondary/80"> </p> <!></div>'),Gt=V('<div class="flex flex-1 flex-col"><p class="text-sm text-secondary/80"> </p> <!></div>'),qt=V('<div class="surface-primary flex flex-1 cursor-default flex-col gap-2 border-b border-subtle p-4"><div class="flex-1"><div class="flex flex-wrap items-center space-x-3"><!> <h4> </h4></div></div> <div class="flex flex-1 flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col gap-1 xl:w-1/2"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 md:flex-1 xl:w-1/2"><!> <!> <!></div></div></div>');function zt(n,e){pe(e,!0);const a=()=>Be(bt,"$timestamp",l),[l,c]=He(),v=(r,w=$)=>{var P=Bt(),W=f(P),G=f(W,!0);d(W);var N=y(W,2),J=f(N),ne=y(J),ee=f(ne);d(ne),d(N),d(P),H((K,te)=>{O(G,K),O(J,`${te??""} `),O(ee,`(${w()??""})`)},[()=>g("workflows.next-retry"),()=>a()(e.operation.nextAttemptScheduleTime,{relativeLabel:""})]),k(r,P)},s=r=>{{let w=o(()=>t(p)?"danger":"default");We(r,{class:"mr-1",get type(){return t(w)},children:(P,W)=>{var G=Vt(),N=j(G);{let ne=o(()=>t(p)&&"font-bold text-red-400");It(N,{get class(){return`mr-1 ${t(ne)??""}`},name:"retry"})}var J=y(N);H(()=>O(J,` ${e.operation.attempt??0??""}`)),k(P,G)},$$slots:{default:!0}})}},m=r=>{var w=Mt(),P=f(w),W=f(P);{var G=ee=>{var K=$t(),te=j(K),Ae=f(te,!0);d(te);var Pe=y(te,2);{let ie=o(()=>Ge(Ct(e.operation.lastAttemptFailure,"stackTrace"))),Se=o(()=>g("common.copy-icon-title")),vt=o(()=>g("common.copy-success-icon-title"));oe(Pe,{get content(){return t(ie)},maxHeight:384,get copyIconTitle(){return t(Se)},get copySuccessIconTitle(){return t(vt)}})}H(ie=>O(Ae,ie),[()=>g("workflows.last-failure")]),k(ee,K)};S(W,ee=>{e.operation.lastAttemptFailure&&ee(G)})}d(P);var N=y(P,2),J=f(N);{var ne=ee=>{var K=jt(),te=j(K),Ae=f(te,!0);d(te);var Pe=y(te,2);{let ie=o(()=>g("common.copy-icon-title")),Se=o(()=>g("common.copy-success-icon-title"));oe(Pe,{language:"text",maxHeight:384,get content(){return e.operation.lastAttemptFailure.stackTrace},get copyIconTitle(){return t(ie)},get copySuccessIconTitle(){return t(Se)}})}H(ie=>O(Ae,ie),[()=>g("common.stack-trace")]),k(ee,K)};S(J,ee=>{var K;(K=e.operation.lastAttemptFailure)!=null&&K.stackTrace&&ee(ne)})}d(N),d(w),k(r,w)},p=o(()=>e.operation.attempt>1);var h=qt(),i=f(h),x=f(i),T=f(x);We(T,{children:(r,w)=>{ge();var P=ce();H(()=>O(P,e.operation.state)),k(r,P)},$$slots:{default:!0}});var I=y(T,2),u=f(I,!0);d(I),d(x),d(i);var L=y(i,2),_=f(L),E=f(_);{var R=r=>{{let w=o(()=>g("nexus.endpoint"));z(r,()=>t(w),()=>e.operation.endpoint)}};S(E,r=>{e.operation.endpoint&&r(R)})}var C=y(E,2);{var A=r=>{{let w=o(()=>g("nexus.service"));z(r,()=>t(w),()=>e.operation.service)}};S(C,r=>{e.operation.service&&r(A)})}var D=y(C,2);{var M=r=>{{let w=o(()=>g("nexus.operation"));z(r,()=>t(w),()=>e.operation.operation)}};S(D,r=>{e.operation.operation&&r(M)})}var U=y(D,2);{var re=r=>{{let w=o(()=>g("nexus.operation-token"));z(r,()=>t(w),()=>e.operation.operationToken)}};S(U,r=>{e.operation.operationToken&&r(re)})}var de=y(U,2);{let r=o(()=>g("workflows.attempt"));z(de,()=>t(r),()=>s)}var _e=y(de,2);{var Ie=r=>{const w=o(()=>kt({date:e.operation.nextAttemptScheduleTime,negativeDefault:""}));var P=Z(),W=j(P);{var G=N=>{v(N,()=>t(w))};S(W,N=>{t(w)&&N(G)})}k(r,P)};S(_e,r=>{e.operation.nextAttemptScheduleTime&&r(Ie)})}var b=y(_e,2);{var F=r=>{{let w=o(()=>g("workflows.last-attempt-completed-time")),P=o(()=>a()(e.operation.lastAttemptCompleteTime));z(r,()=>t(w),()=>t(P))}};S(b,r=>{e.operation.lastAttemptCompleteTime&&r(F)})}var B=y(b,2);{var X=r=>{{let w=o(()=>g("workflows.schedule-event-id")),P=o(()=>String(e.operation.scheduledEventId));z(r,()=>t(w),()=>t(P))}};S(B,r=>{e.operation.scheduledEventId&&r(X)})}var q=y(B,2);{var ye=r=>{{let w=o(()=>g("workflows.scheduled-time")),P=o(()=>a()(e.operation.scheduledTime));z(r,()=>t(w),()=>t(P))}};S(q,r=>{e.operation.scheduledTime&&r(ye)})}var ve=y(q,2);{var ue=r=>{{let w=o(()=>g("workflows.schedule-to-close-timeout"));z(r,()=>t(w),()=>e.operation.scheduleToCloseTimeout)}};S(ve,r=>{e.operation.scheduleToCloseTimeout&&r(ue)})}var he=y(ve,2);{var Ce=r=>{{let w=o(()=>g("workflows.schedule-to-start-timeout"));z(r,()=>t(w),()=>e.operation.scheduleToCloseTimeout)}};S(he,r=>{e.operation.scheduleToStartTimeout&&r(Ce)})}var Ee=y(he,2);{var je=r=>{{let w=o(()=>g("workflows.start-to-close-timeout"));z(r,()=>t(w),()=>e.operation.startToCloseTimeout)}};S(Ee,r=>{e.operation.startToCloseTimeout&&r(je)})}d(_);var we=y(_,2),ke=f(we);{var st=r=>{m(r)};S(ke,r=>{t(p)&&r(st)})}var Me=y(ke,2);{var lt=r=>{var w=Wt(),P=f(w),W=f(P,!0);d(P);var G=y(P,2);{let N=o(()=>g("common.copy-icon-title")),J=o(()=>g("common.copy-success-icon-title"));oe(G,{language:"text",get content(){return e.operation.blockedReason},get copyIconTitle(){return t(N)},get copySuccessIconTitle(){return t(J)}})}d(w),H(N=>O(W,N),[()=>g("nexus.blocked-reason")]),k(r,w)};S(Me,r=>{e.operation.blockedReason&&r(lt)})}var ct=y(Me,2);{var dt=r=>{var w=Gt(),P=f(w),W=f(P,!0);d(P);var G=y(P,2);{let N=o(()=>Ge(e.operation.cancellationInfo)),J=o(()=>g("common.copy-icon-title")),ne=o(()=>g("common.copy-success-icon-title"));oe(G,{language:"text",get content(){return t(N)},get copyIconTitle(){return t(J)},get copySuccessIconTitle(){return t(ne)}})}d(w),H(N=>O(W,N),[()=>g("nexus.cancellation-info")]),k(r,w)};S(ct,r=>{Object.keys(e.operation.cancellationInfo??{}).length>0&&r(dt)})}d(we),d(L),d(h),H(r=>O(u,r),[()=>g("workflows.pending-nexus-operation")]),k(n,h),xe(),c()}function Qt(n,e){const a=qe(e,["children","$$slots","$$events","$$legacy"]),l=qe(a,["value","attributes","type"]);pe(e,!1);const c=()=>Be(ot,"$page",v),[v,s]=He(),m=Y(),p=Y(),h=Y();let i=ae(e,"value",8),x=ae(e,"attributes",8),T=ae(e,"type",8);function I(u,L,_,E,R){return R==="execution"?ze({namespace:u,workflow:L,run:E}):R==="task-queue"?Lt({namespace:u,queue:E}):R==="child-workflow"?ze({namespace:u,workflow:_.workflowExecutionWorkflowId,run:_.workflowExecutionRunId}):R==="nexus-endpoint"?Ft(E):""}se(()=>(t(m),t(p),c()),()=>{(u=>{Q(m,u.workflow),Q(p,u.namespace)})(c().params)}),se(()=>(t(p),t(m),le(x()),le(i()),le(T())),()=>{Q(h,I(t(p),t(m),x(),i(),T()))}),et(),nt(),Ve(n,{get class(){return le(l),tt(()=>l.class)},get href(){return t(h)},children:(u,L)=>{ge();var _=ce();H(()=>O(_,i())),k(u,_)},$$slots:{default:!0}}),xe(),s()}function Ut(n,e){pe(e,!1);const a=()=>Be(ot,"$page",l),[l,c]=He(),v=Y(),s=Y(),m=Y(),p=Y(),h=Y();var i=Y();let x=ae(e,"value",8,void 0),T=ae(e,"fallback",8,""),I=ae(e,"prefix",8,""),u=ae(e,"onDecode",8,void 0);const L=120;let _=Y("");const E=A=>I()?(A=`${I()} â€¢ ${A}`,A.length<L?A:A.slice(0,L)+"..."):A;se(()=>a(),()=>{Q(v,Ze(a().data.settings))}),se(()=>a(),()=>{Q(s,Ye(a().data.settings))}),se(()=>a(),()=>{Q(m,Ke(a().data.settings))}),se(()=>(a(),Fe(i),t(v),t(s),t(m)),()=>{Q(p,{...a().data.settings,codec:{...Q(i,a().data.settings)===null||Fe(i)===void 0?void 0:Fe(i).codec,endpoint:t(v),passAccessToken:t(s),includeCredentials:t(m)}})}),se(()=>(le(T()),t(_),t(p),le(u())),()=>{Q(h,async A=>{if(!A)return T();if(t(_))return t(_);const D=await mt(A,t(p));return typeof D=="string"?(Q(_,E(D)),u()&&u()(t(_)),t(_)):(Q(_,T()),T())})}),et(),nt();var R=Z(),C=j(R);Rt(C,()=>(t(h),le(x()),tt(()=>t(h)(x()))),null,(A,D)=>{var M=Z(),U=j(M);Qe(U,e,"default",{get decodedValue(){return t(D)}},null),k(A,M)},A=>{var D=Z(),M=j(D);Qe(M,e,"default",{get decodedValue(){return T()}},null),k(A,D)}),k(n,R),xe(),c()}const Xt=(n,e=$)=>{const a=o(()=>At(e())),l=o(()=>{var p;return((p=t(a).split("workflows/"))==null?void 0:p[1])||t(a)});var c=ta(),v=f(c),s=f(v,!0);d(v);var m=y(v,2);{let p=o(()=>g("common.copy-icon-title")),h=o(()=>g("common.copy-success-icon-title"));Ne(m,{get copyIconTitle(){return t(p)},get copySuccessIconTitle(){return t(h)},get content(){return t(l)},children:(i,x)=>{Ve(i,{get href(){return t(a)},class:"whitespace-pre-line",children:(T,I)=>{ge();var u=ce();H(()=>O(u,t(l))),k(T,u)},$$slots:{default:!0}})},$$slots:{default:!0}})}d(c),H(p=>O(s,p),[()=>g("nexus.link")]),k(n,c)},Jt=(n,e=$)=>{const a=o(()=>Ot({namespace:e().workflowEvent.namespace}));var l=aa(),c=f(l),v=f(c,!0);d(c);var s=y(c,2);{let m=o(()=>g("common.copy-icon-title")),p=o(()=>g("common.copy-success-icon-title"));Ne(s,{get copyIconTitle(){return t(m)},get copySuccessIconTitle(){return t(p)},get content(){return e().workflowEvent.namespace},children:(h,i)=>{Ve(h,{get href(){return t(a)},class:"whitespace-pre-line",children:(x,T)=>{ge();var I=ce();H(()=>O(I,e().workflowEvent.namespace)),k(x,I)},$$slots:{default:!0}})},$$slots:{default:!0}})}d(l),H(m=>O(v,m),[()=>g("nexus.link-namespace")]),k(n,l)},Kt=(n,e=$)=>{var a=Z(),l=j(a);me(l,17,e,at,(c,v,s,m)=>{var p=ra(),h=j(p);Xt(h,()=>t(v));var i=y(h,2);Jt(i,()=>t(v)),k(c,p)}),k(n,a)},Yt=(n,e=$)=>{var a=na(),l=y(f(a),2),c=f(l);{let v=o(()=>g("events.decode-failed"));Ut(c,{get value(){return e()},get fallback(){return t(v)},children:wt,$$slots:{default:(s,m)=>{const p=o(()=>m.decodedValue);ge();var h=ce();H(()=>O(h,t(p))),k(s,h)}}})}d(l),d(a),k(n,a)},Zt=(n,e=$,a=$)=>{const l=o(()=>yt(a())),c=o(()=>_t(t(l)));var v=ia(),s=j(v),m=f(s),p=f(m,!0);d(m);var h=y(m,2);{var i=u=>{Re(u,{get value(){return a()},key:"payloads",children:(_,E=$)=>{{let R=o(()=>g("common.copy-icon-title")),C=o(()=>g("common.copy-success-icon-title"));oe(_,{get content(){return E()},maxHeight:384,get copyIconTitle(){return t(R)},get copySuccessIconTitle(){return t(C)}})}},$$slots:{default:!0}})},x=u=>{var L=Z(),_=j(L);{var E=C=>{{const A=(M,U=$)=>{{let re=o(()=>g("common.copy-icon-title")),de=o(()=>g("common.copy-success-icon-title"));oe(M,{get content(){return U()},maxHeight:384,get copyIconTitle(){return t(re)},get copySuccessIconTitle(){return t(de)}})}};let D=o(()=>({searchAttributes:t(l)}));Re(C,{key:"searchAttributes",get value(){return t(D)},children:A,$$slots:{default:!0}})}},R=C=>{Re(C,{get value(){return t(l)},children:(D,M=$)=>{{let U=o(()=>g("common.copy-icon-title")),re=o(()=>g("common.copy-success-icon-title"));oe(D,{get content(){return M()},maxHeight:384,get copyIconTitle(){return t(U)},get copySuccessIconTitle(){return t(re)}})}},$$slots:{default:!0}})};S(_,C=>{e()==="searchAttributes"?C(E):C(R,!1)},!0)}k(u,L)};S(h,u=>{var L;(L=a())!=null&&L.payloads?u(i):u(x,!1)})}d(s);var T=y(s,2);{var I=u=>{var L=oa(),_=f(L),E=f(_,!0);d(_);var R=y(_,2);{let C=o(()=>g("common.copy-icon-title")),A=o(()=>g("common.copy-success-icon-title"));oe(R,{get content(){return t(c)},language:"text",maxHeight:384,get copyIconTitle(){return t(C)},get copySuccessIconTitle(){return t(A)}})}d(L),H(C=>O(E,C),[()=>g("workflows.call-stack-tab")]),k(u,L)};S(T,u=>{t(c)&&u(I)})}H(u=>O(p,u),[()=>$e(e())]),k(n,v)},ea=(n,e=$,a=$)=>{var l=la(),c=f(l),v=f(c,!0);d(c);var s=y(c,2),m=f(s);{var p=i=>{rt(i,{get dateTime(){return a()}})},h=i=>{var x=ce();H(()=>O(x,a())),k(i,x)};S(m,i=>{xt(e())?i(p):i(h,!1)})}d(s),d(l),H(i=>O(v,i),[()=>$e(e())]),k(n,l)};var ta=V('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),aa=V('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),ra=V("<!> <!>",1),na=V('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80">Summary</p> <p class="whitespace-pre-line"><!></p></div>'),oa=V('<div><p class="mb-1 min-w-56 text-sm text-secondary/80"> </p> <!></div>'),ia=V('<div><p class="mb-1 min-w-56 text-sm text-secondary/80"> </p> <!></div> <!>',1),sa=V('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),la=V('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="whitespace-pre-line break-all"><!></p></div>'),ca=V('<div class="flex w-full flex-col gap-1 xl:w-1/2"></div>'),da=V('<div class="surface-primary flex flex-1 cursor-default flex-col gap-2 border-b border-subtle p-4"><div class="flex flex-wrap items-center justify-between gap-2"><div class="flex items-center gap-2 text-base"><p class="font-mono"> </p> <p class="font-medium"> </p></div> <!></div> <div class="flex flex-col gap-1 xl:flex-row"><div class="flex w-full flex-col gap-1 xl:w-1/2"><!> <!> <!> <!></div> <!></div></div>');function Ue(n,e){pe(e,!0);const a=(b,F=$,B=$)=>{var X=sa(),q=f(X),ye=f(q,!0);d(q);var ve=y(q,2);{let ue=o(()=>g("common.copy-icon-title")),he=o(()=>g("common.copy-success-icon-title")),Ce=o(()=>String(B()));Ne(ve,{get copyIconTitle(){return t(ue)},get copySuccessIconTitle(){return t(he)},get content(){return t(Ce)},children:(Ee,je)=>{{let we=o(()=>String(B())),ke=o(()=>Le(F(),t(c)));Qt(Ee,{get value(){return t(we)},get attributes(){return t(c)},get type(){return t(ke)},class:"whitespace-pre-line"})}},$$slots:{default:!0}})}d(X),H(ue=>O(ye,ue),[()=>$e(F())]),k(b,X)},l=o(()=>be(e.event)?g("events.category.local-activity"):Pt(e.event.name)),c=o(()=>St(e.event)),v=o(()=>Object.entries(t(c))),s=o(()=>t(v).filter(([b,F])=>typeof F=="object"&&Object.keys(F).length>0)),m=o(()=>t(v).filter(([b,F])=>Le(b,t(c))!=="none")),p=o(()=>e.event.category==="activity"?["scheduledEventId","startedEventId","namespaceId"]:e.event.category==="child-workflow"?["initiatedEventId","startedEventId","namespaceId"]:["namespaceId"]),h=o(()=>t(v).filter(([b,F])=>typeof F!="object"&&Le(b,t(c))==="none"&&!t(p).includes(b)&&(b!=="namespace"||b==="namespace"&&Et.params.namespace!==F)));var i=da(),x=f(i),T=f(x),I=f(T),u=f(I,!0);d(I);var L=y(I,2),_=f(L,!0);d(L),d(T);var E=y(T,2);rt(E,{as:"p",class:"text-sm",get dateTime(){return e.event.eventTime}}),d(x);var R=y(x,2),C=f(R),A=f(C);{var D=b=>{Kt(b,()=>e.event.links)};S(A,b=>{var F,B;(B=(F=e.event)==null?void 0:F.links)!=null&&B.length&&b(D)})}var M=y(A,2);{var U=b=>{Yt(b,()=>e.event.userMetadata.summary)};S(M,b=>{var F,B;(B=(F=e.event)==null?void 0:F.userMetadata)!=null&&B.summary&&b(U)})}var re=y(M,2);me(re,17,()=>t(h),([b,F])=>b,(b,F)=>{var B=o(()=>Oe(t(F),2));ea(b,()=>t(B)[0],()=>t(B)[1])});var de=y(re,2);me(de,17,()=>t(m),([b,F])=>b,(b,F)=>{var B=o(()=>Oe(t(F),2));a(b,()=>t(B)[0],()=>t(B)[1])}),d(C);var _e=y(C,2);{var Ie=b=>{var F=ca();me(F,21,()=>t(s),([B,X])=>B,(B,X)=>{var q=o(()=>Oe(t(X),2));Zt(B,()=>t(q)[0],()=>t(q)[1])}),d(F),k(b,F)};S(_e,b=>{t(s).length&&b(Ie)})}d(R),d(i),H(()=>{O(u,e.event.id),O(_,t(l))}),k(n,i),xe()}var va=V('<div class="flex flex-col overflow-hidden"><!> <!></div>');function dr(n,e){pe(e,!0);let a=ae(e,"group",3,void 0),l=ae(e,"event",3,void 0);const c=o(()=>(a()===null||a()===void 0?void 0:a().pendingActivity)||(a()===null||a()===void 0?void 0:a().pendingNexusOperation)),v=o(()=>a()&&(a().eventList.length>1||t(c)));var s=Z(),m=j(s);{var p=i=>{var x=va(),T=f(x);{var I=_=>{Tt(_,{get activity(){return a().pendingActivity}})},u=_=>{var E=Z(),R=j(E);{var C=A=>{zt(A,{get operation(){return a().pendingNexusOperation}})};S(R,A=>{var D;(D=a())!=null&&D.pendingNexusOperation&&A(C)},!0)}k(_,E)};S(T,_=>{var E;(E=a())!=null&&E.pendingActivity?_(I):_(u,!1)})}var L=y(T,2);me(L,17,()=>a().eventList,at,(_,E)=>{Ue(_,{get event(){return t(E)}})}),d(x),k(i,x)},h=i=>{var x=Z(),T=j(x);{var I=u=>{Ue(u,{get event(){return l()}})};S(T,u=>{l()&&u(I)},!0)}k(i,x)};S(m,i=>{t(v)?i(p):i(h,!1)})}k(n,s),xe()}export{ar as C,Qt as E,tr as H,Ut as M,er as T,dr as a,ir as b,sr as c,lr as d,Za as e,Ya as f,or as g,cr as h,nr as i,rr as t};
