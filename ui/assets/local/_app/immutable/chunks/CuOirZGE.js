import"./CWj6FrbW.js";import{p as bt,al as W,am as ot,f as L,j as s,h as r,s as w,g as e,u as a,r as n,n as Ct,k as wt,t as H,e as g,b as kt,c as st,a9 as ht,i as zt,d as De,q as Ce}from"./CckrFwdx.js";import{s as I,e as Se}from"./_IQD3yTx.js";import{i as j}from"./CoMawi-e.js";import{k as ne}from"./DLKvYI2j.js";import{p as Ot,s as Mt,c as Qt,a as re}from"./BioCYJcK.js";import{p as le}from"./BUhcbzda.js";import{a as Ne}from"./CjYTZKiB.js";import{B as St}from"./CHATTkJU.js";import{T as oe}from"./IF1TuVBO.js";import{t as o}from"./DEjs8ZrU.js";import{C as Nt}from"./CsDSImD3.js";import{D as Oe,a as Me}from"./BmehmNOq.js";import{I as ut}from"./DyoIDm6C.js";import{N as we}from"./CVVSzO2K.js";import{L as ct}from"./CAyssMxo.js";import{s as qt}from"./DSbgyoV1.js";import{r as Et,a as Kt}from"./DPnq5ZHl.js";import{t as ce}from"./CLoECSqK.js";import{r as Vt,w as He}from"./DiTAogHV.js";import{g as Gt}from"./Dja_hTL6.js";import{l as _t,d as Dt,c as gt,j as Re,m as We}from"./EZHNhN5g.js";import{M as ve}from"./D2ksYAKS.js";import{P as he}from"./BbslnEsH.js";import{t as Fe}from"./Buiq-mNa.js";import{W as Be}from"./CndamSP-.js";import{A as je}from"./CYxllHas.js";import{B as Le}from"./DlLJhG5Q.js";import{C as se}from"./CneSAwz0.js";import{I as Ue}from"./POwFeHBs.js";import{c as ze}from"./Dx970jzj.js";import{c as be}from"./ByTIZu23.js";import"./DynX2UVw.js";import{s as Qe,b as qe}from"./DCRkJDxb.js";import{o as Ee}from"./C8ejR22J.js";const Ke=new Set(["taskQueue","retryPolicy","parentWorkflowExecution","workflowExecution","meta"]),Ve=new Set(["maximumAttempts"]),Ge=(l,t)=>l===0?o("workflows.no-expiration"):t,Je=(l,t)=>l?l-t:o("workflows.unlimited"),Xe=l=>l||o("workflows.unlimited"),Ye=(l,t)=>l==="maximumAttempts"&&!t?o("workflows.unlimited"):t,Ze=(l,t)=>{if(Ke.has(t)&&typeof l[t]=="object"){for(const[m,f]of Object.entries(l[t]))qe(f)&&(Ve.has(m)?l[`${t}${be(m)}`]=Ye(m,f):l[`${t}${be(m)}`]=f);delete l[t]}},ui=l=>{const t={};if(l.attributes)for(const[m,f]of Object.entries(l.attributes))Qe(m,f)&&(t[m]=f),Ze(t,m);return t},$e=({date:l,now:t=Date.now(),negativeDefault:m})=>{if(!l)return"";const f=String(l);try{const y=(Number(new Date(f))-t)/1e3;return m!==void 0&&y<0?m:isNaN(y)?"":`${y.toFixed(0)}s`}catch{return""}},ta=async({namespace:l,execution:t,id:m,reason:f,type:c,identity:y})=>{const A=Et("activity.pause",{namespace:l});return Kt(A,{options:{method:"POST",body:qt({execution:t,reason:f,id:m,type:c,...y&&{identity:y}})}})},ea=async({namespace:l,execution:t,id:m,type:f,identity:c})=>{const y=Et("activity.unpause",{namespace:l});return Kt(y,{options:{method:"POST",body:qt({execution:t,id:m,type:f,...c&&{identity:c}})}})},aa=async({namespace:l,execution:t,id:m,type:f,resetHeartbeat:c,identity:y})=>{const A=Et("activity.reset",{namespace:l});return Kt(A,{options:{method:"POST",body:qt({execution:t,id:m,type:f,resetHeartbeat:c,...y&&{identity:y}})}})},ia=async({namespace:l,execution:t,id:m,type:f,activityOptions:c,identity:y})=>{const A=Et("activity.update-options",{namespace:l});return Kt(A,{options:{method:"POST",body:qt({execution:t,id:m,type:f,activityOptions:c,updateMask:"taskQueue.name,scheduleToCloseTimeout,scheduleToStartTimeout,startToCloseTimeout,heartbeatTimeout,retryPolicy.initialInterval,retryPolicy.backoffCoefficient,retryPolicy.maximumInterval,retryPolicy.maximumAttempts",...y&&{identity:y}})}})};var ra=L(`<form class="flex flex-col gap-4"><div><!> <p class="mb-1 text-xs text-secondary">Maximum permitted time between successful Worker Heartbeats.</p> <div class="flex flex-wrap items-center gap-2"><!> <p class="text-nowrap text-secondary"> </p></div></div> <div><!> <p class="mb-1 text-xs text-secondary">Coefficient used to calculate the next retry interval. The next retry
          interval is previous interval multiplied by the coefficient. Must be 1
          or larger.</p> <!></div> <div><!> <p class="mb-1 text-xs text-secondary">Interval of the first retry. If retryBackoffCoefficient is 1.0 then it
          is used for all retries.</p> <div class="flex flex-wrap items-center gap-2"><!> <p class="text-nowrap text-secondary"> </p></div></div> <div><!> <p class="mb-1 text-xs text-secondary">Maximum number of attempts. When exceeded the retries stop even if not
          expired yet. 1 disables retries. 0 means unlimited (up to the
          timeouts).</p> <!></div> <div><!> <p class="mb-1 text-xs text-secondary">Indicates how long the caller is willing to wait for an Activity
          completion. Limits how long retries will be attempted.</p> <div class="flex flex-wrap items-center gap-2"><!> <p class="text-nowrap text-secondary"> </p></div></div> <div><!> <p class="mb-1 text-xs text-secondary">Limits time an Activity Task can stay in a task queue before a Worker
          picks it up. This timeout is always non retryable, as all a retry
          would achieve is to put it back into the same queue.</p> <div class="flex flex-wrap items-center gap-2"><!> <p class="text-nowrap text-secondary"> </p></div></div> <div><!> <p class="mb-1 text-xs text-secondary">Maximum time an Activity is allowed to execute after being picked up
          by a Worker. This Timeout is always retryable.</p> <div class="flex flex-wrap items-center gap-2"><!> <p class="text-nowrap text-secondary"> </p></div></div> <div><!> <!></div> <!> <div class="flex items-center justify-end gap-4"><!> <!></div></form>`);function oa(l,t){bt(t,!0);const[m,f]=Mt();var c,y,A,O,Q,k,h,C,U,J,Y,F,T,M;let _=Ot(t,"open",15),P=a(()=>t.activity.activityId),q=a(()=>t.activity.activityType),z=W(ot((y=(c=t.activity.activityOptions)===null||c===void 0?void 0:c.taskQueue)===null||y===void 0?void 0:y.name)),K=W(ot(_t(String((A=t.activity===null||t.activity===void 0?void 0:t.activity.activityOptions)===null||A===void 0?void 0:A.scheduleToCloseTimeout)))),R=W(ot(_t(String((O=t.activity===null||t.activity===void 0?void 0:t.activity.activityOptions)===null||O===void 0?void 0:O.scheduleToStartTimeout)))),b=W(ot(_t(String((Q=t.activity===null||t.activity===void 0?void 0:t.activity.activityOptions)===null||Q===void 0?void 0:Q.startToCloseTimeout)))),V=W(ot(_t(String((k=t.activity===null||t.activity===void 0?void 0:t.activity.activityOptions)===null||k===void 0?void 0:k.heartbeatTimeout)))),Z=W(ot((C=(h=t.activity===null||t.activity===void 0?void 0:t.activity.activityOptions)===null||h===void 0?void 0:h.retryPolicy)===null||C===void 0?void 0:C.maximumAttempts)),et=W(ot((J=(U=t.activity===null||t.activity===void 0?void 0:t.activity.activityOptions)===null||U===void 0?void 0:U.retryPolicy)===null||J===void 0?void 0:J.backoffCoefficient)),G=W(ot(_t(String((F=(Y=t.activity===null||t.activity===void 0?void 0:t.activity.activityOptions)===null||Y===void 0?void 0:Y.retryPolicy)===null||F===void 0?void 0:F.initialInterval)))),nt=ot(_t(String((M=(T=t.activity===null||t.activity===void 0?void 0:t.activity.activityOptions)===null||T===void 0?void 0:T.retryPolicy)===null||M===void 0?void 0:M.maximumInterval))),at=W(!1);const dt=a(()=>({taskQueue:{name:e(z)},scheduleToCloseTimeout:gt(e(K)),scheduleToStartTimeout:gt(e(R)),startToCloseTimeout:gt(e(b)),heartbeatTimeout:gt(e(V)),retryPolicy:{maximumAttempts:e(Z),initialInterval:gt(e(G)),backoffCoefficient:e(et),maximumInterval:gt(nt)}})),Jt=Gt(),mt=()=>{_(!1)},Xt=async ft=>{ft.preventDefault();try{await ia({namespace:t.namespace,execution:t.execution,id:e(at)?void 0:e(P),type:e(at)?e(q):void 0,activityOptions:e(dt),identity:Jt}),Qt(Vt,Date.now()),ce.push({variant:"success",message:`Options for Activity ${e(P)} have been updated.`})}catch(lt){console.error("Error updating activity options:",lt),ce.push({variant:"error",message:`Options for Activity ${e(P)} have been failed to update: ${lt==null?void 0:lt.message}`,duration:5e3})}finally{mt()}};{let ft=a(()=>o("common.close"));Oe(l,{get open(){return _()},onClick:mt,position:"right",id:"activity-options-update-drawer",dark:!1,get closeButtonLabel(){return e(ft)},class:"w-[480px]",children:(lt,Yt)=>{Me(lt,{get title(){return`Update Activity ${t.activity.activityId??""}`},children:(Zt,$t)=>{var yt=ra(),pt=s(yt),Ht=s(pt);ct(Ht,{for:"heartbeat-timeout",label:"Heartbeat Timeout Duration"});var Rt=r(Ht,4),Wt=s(Rt);{let N=a(()=>isNaN(Number(e(V))));ut(Wt,{id:"heartbeat-timeout",label:"Heartbeat Timeout Duration",labelHidden:!0,suffix:"sec",class:"w-36",get error(){return e(N)},get value(){return e(V)},set value(X){w(V,X,!0)}})}var Tt=r(Wt,2),Ft=s(Tt,!0);n(Tt),n(Rt),n(pt);var It=r(pt,2),Bt=s(It);ct(Bt,{for:"retry-backoff-coefficient",label:"Retry Backoff Coefficient"});var te=r(Bt,4);we(te,{id:"retry-backoff-coefficient",label:"Retry Backoff Coefficient",labelHidden:!0,step:.01,min:1,class:"w-24",get value(){return e(et)},set value(N){w(et,N,!0)}}),n(It);var i=r(It,2),u=s(i);ct(u,{for:"retry-initial-interval",label:"Retry Initial Interval Duration"});var v=r(u,4),S=s(v);{let N=a(()=>isNaN(Number(e(G))));ut(S,{id:"retry-initial-interval",label:"Retry Initial Interval Duration",labelHidden:!0,suffix:"sec",class:"w-36",get error(){return e(N)},get value(){return e(G)},set value(X){w(G,X,!0)}})}var B=r(S,2),d=s(B,!0);n(B),n(v),n(i);var p=r(i,2),x=s(p);ct(x,{for:"maximum-attempts",label:"Retry Maximum Attempts"});var D=r(x,4);we(D,{id:"maximum-attempts",label:"Retry Maximum Attempts",labelHidden:!0,class:"w-24",get value(){return e(Z)},set value(N){w(Z,N,!0)}}),n(p);var E=r(p,2),$=s(E);ct($,{for:"schedule-to-close-timeout",label:"Schedule to Close Timeout Duration"});var it=r($,4),rt=s(it);{let N=a(()=>isNaN(Number(e(K))));ut(rt,{id:"schedule-to-close-timeout",label:"Schedule to Close Timeout Duration",labelHidden:!0,suffix:"sec",class:"w-36",get error(){return e(N)},get value(){return e(K)},set value(X){w(K,X,!0)}})}var xt=r(rt,2),ee=s(xt,!0);n(xt),n(it),n(E);var At=r(E,2),jt=s(At);ct(jt,{for:"schedule-to-start-timeout",label:"Schedule to Start Timeout Duration"});var Lt=r(jt,4),Ut=s(Lt);{let N=a(()=>isNaN(Number(e(R))));ut(Ut,{id:"schedule-to-start-timeout",label:"Schedule to Start Timeout Duration",labelHidden:!0,suffix:"sec",class:"w-36",get error(){return e(N)},get value(){return e(R)},set value(X){w(R,X,!0)}})}var ue=r(Ut,2),ke=s(ue,!0);n(ue),n(Lt),n(At);var ae=r(At,2),de=s(ae);ct(de,{for:"start-to-close-timeout",label:"Start to Close Timeout Duration"});var me=r(de,4),fe=s(me);{let N=a(()=>isNaN(Number(e(b))));ut(fe,{id:"start-to-close-timeout",label:"Start to Close Timeout Duration",labelHidden:!0,suffix:"sec",class:"w-36",get error(){return e(N)},get value(){return e(b)},set value(X){w(b,X,!0)}})}var ye=r(fe,2),Te=s(ye,!0);n(ye),n(me),n(ae);var ie=r(ae,2),pe=s(ie);ct(pe,{for:"task-queue-name",label:"Task Queue Name"});var Ie=r(pe,2);ut(Ie,{id:"task-queue-name",label:"Task Queue Name",labelHidden:!0,class:"w-full",get value(){return e(z)},set value(N){w(z,N,!0)}}),n(ie);var xe=r(ie,2);{let N=a(()=>o("activities.apply-to-all-activity-types",{type:e(q)}));Nt(xe,{get label(){return e(N)},get checked(){return e(at)},set checked(X){w(at,X,!0)}})}var _e=r(xe,2),ge=s(_e);St(ge,{type:"button",variant:"ghost",size:"sm",$$events:{click:mt},children:(N,X)=>{Ct();var vt=wt();H(Pt=>I(vt,Pt),[()=>o("common.cancel")]),g(N,vt)},$$slots:{default:!0}});var Ae=r(ge,2);St(Ae,{type:"submit",variant:"primary",size:"sm",children:(N,X)=>{Ct();var vt=wt();H(Pt=>I(vt,Pt),[()=>o("common.save")]),g(N,vt)},$$slots:{default:!0}}),n(_e),n(yt),H((N,X,vt,Pt,Pe)=>{I(Ft,N),I(d,X),I(ee,vt),I(ke,Pt),I(Te,Pe)},[()=>Dt(e(V)),()=>Dt(e(G)),()=>Dt(e(K)),()=>Dt(e(R)),()=>Dt(e(b))]),Se("submit",yt,Xt),g(Zt,yt)},$$slots:{default:!0}})},$$slots:{default:!0}})}kt(),f()}var sa=L('<h3 slot="title"> </h3>'),na=L('<div slot="content" class="flex flex-col gap-4"><p> </p> <!> <!></div>');function la(l,t){bt(t,!0);const[m,f]=Mt();let c=Ot(t,"open",15),y=a(()=>t.activity.activityId),A=a(()=>t.activity.activityType),O=W(""),Q=!1,k=W(""),h=W(!1);const C=Gt(),U=()=>{c(!1),w(k,""),w(h,!1)},J=async()=>{await ta({namespace:t.namespace,execution:t.execution,id:e(h)?void 0:e(y),reason:e(k),type:e(h)?e(A):void 0,identity:C}),Qt(Vt,Date.now()),U()};{let Y=a(()=>o("workflows.pause")),F=a(()=>o("common.cancel"));ve(l,{id:"activity-pause-confirmation-modal","data-testid":"activity-pause-confirmation-modal",loading:Q,get confirmText(){return e(Y)},get cancelText(){return e(F)},confirmType:"destructive",get error(){return e(O)},set error(T){w(O,T,!0)},get open(){return c()},set open(T){c(T)},$$events:{cancelModal:U,confirmModal:J},$$slots:{title:(T,M)=>{var _=sa(),P=s(_,!0);n(_),H(q=>I(P,q),[()=>o("activities.pause-modal-confirmation",{activityId:t.activity.id})]),g(T,_)},content:(T,M)=>{var _=na(),P=s(_),q=s(P,!0);n(P);var z=r(P,2);{let R=a(()=>o("common.reason-placeholder")),b=a(()=>o("common.reason"));ut(z,{id:"activity-pause-reason",class:"mt-4",get placeholder(){return e(R)},get label(){return e(b)},get value(){return e(k)},set value(V){w(k,V,!0)}})}var K=r(z,2);{let R=a(()=>o("activities.pause-all-activity-types",{type:e(A)}));Nt(K,{get label(){return e(R)},get checked(){return e(h)},set checked(b){w(h,b,!0)}})}n(_),H(R=>I(q,R),[()=>o("activities.pause-modal-description")]),g(T,_)}}})}kt(),f()}var ca=L('<h3 slot="title"> </h3>'),va=L('<div slot="content" class="flex flex-col gap-4"><p> </p> <!> <!></div>');function ua(l,t){bt(t,!0);const[m,f]=Mt();let c=Ot(t,"open",15),y=a(()=>t.activity.activityId),A=a(()=>t.activity.activityType),O=W(""),Q=!1,k=W(!1),h=W(!1);const C=Gt(),U=()=>{c(!1),w(k,!1),w(h,!1)},J=async()=>{await aa({namespace:t.namespace,execution:t.execution,id:e(k)?void 0:e(y),resetHeartbeat:e(h),type:e(k)?e(A):void 0,identity:C}),Qt(Vt,Date.now()),ce.push({variant:"success",message:o("activities.reset-success",{activityId:e(y)})}),U()};{let Y=a(()=>o("workflows.reset")),F=a(()=>o("common.cancel"));ve(l,{id:"activity-pause-confirmation-modal","data-testid":"activity-pause-confirmation-modal",loading:Q,get confirmText(){return e(Y)},get cancelText(){return e(F)},confirmType:"destructive",get error(){return e(O)},set error(T){w(O,T,!0)},get open(){return c()},set open(T){c(T)},$$events:{cancelModal:U,confirmModal:J},$$slots:{title:(T,M)=>{var _=ca(),P=s(_,!0);n(_),H(q=>I(P,q),[()=>o("activities.reset-modal-confirmation",{activityId:t.activity.id})]),g(T,_)},content:(T,M)=>{var _=va(),P=s(_),q=s(P,!0);n(P);var z=r(P,2);{let R=a(()=>o("activities.apply-to-all-activity-types",{type:e(A)}));Nt(z,{get label(){return e(R)},get checked(){return e(k)},set checked(b){w(k,b,!0)}})}var K=r(z,2);{let R=a(()=>o("activities.reset-heartbeat-details"));Nt(K,{get label(){return e(R)},get checked(){return e(h)},set checked(b){w(h,b,!0)}})}n(_),H(R=>I(q,R),[()=>o("activities.reset-modal-description")]),g(T,_)}}})}kt(),f()}var da=L('<h3 slot="title"> </h3>'),ma=L('<div slot="content" class="flex flex-col gap-4"><p> </p> <!></div>');function fa(l,t){bt(t,!0);const[m,f]=Mt();let c=Ot(t,"open",15),y=a(()=>t.activity.activityId),A=a(()=>t.activity.activityType),O=W(""),Q=!1,k=W(!1);const h=Gt(),C=()=>{c(!1),w(k,!1)},U=async()=>{await ea({namespace:t.namespace,execution:t.execution,id:e(k)?void 0:e(y),type:e(k)?e(A):void 0,identity:h}),Qt(Vt,Date.now()),C()};{let J=a(()=>o("workflows.unpause")),Y=a(()=>o("common.cancel"));ve(l,{id:"activity-unpause-confirmation-modal","data-testid":"activity-unpause-confirmation-modal",loading:Q,get confirmText(){return e(J)},get cancelText(){return e(Y)},confirmType:"destructive",get error(){return e(O)},set error(F){w(O,F,!0)},get open(){return c()},set open(F){c(F)},$$events:{cancelModal:C,confirmModal:U},$$slots:{title:(F,T)=>{var M=da(),_=s(M,!0);n(M),H(P=>I(_,P),[()=>o("activities.pause-modal-confirmation",{activityId:t.activity.id})]),g(F,M)},content:(F,T)=>{var M=ma(),_=s(M),P=s(_,!0);n(_);var q=r(_,2);{let z=a(()=>o("activities.unpause-all-activity-types",{type:e(A)}));Nt(q,{get label(){return e(z)},get checked(){return e(k)},set checked(K){w(k,K,!0)}})}n(M),H(z=>I(P,z),[()=>o("activities.unpause-modal-description")]),g(F,M)}}})}kt(),f()}var ya=L("<div><!> <!> <!></div> <!> <!> <!> <!>",1);function pa(l,t){bt(t,!0);let m=Ot(t,"class",3,"");const f=a(()=>le.params),c=a(()=>e(f).namespace),y=a(()=>e(f).workflow),A=a(()=>e(f).run),O=a(()=>({workflowId:e(y),runId:e(A)}));let Q=W(!1),k=W(!1),h=W(!1),C=W(!1);const U=async()=>{t.activity.paused?w(k,!0):w(Q,!0)},J=()=>{w(h,!0)},Y=()=>{w(C,!0)};var F=ya(),T=st(F),M=s(T);{let b=a(()=>t.activity.paused?"Resume this Activity":"Pauses this Activity, starting before it retries or the next time it heartbeats. It won’t time out while it’s paused.");oe(M,{bottomLeft:!0,width:200,get text(){return e(b)},children:(V,Z)=>{{let et=a(()=>t.activity.paused?"play":"pause");St(V,{variant:"secondary",size:"sm",get leadingIcon(){return e(et)},$$events:{click:U},children:(G,nt)=>{Ct();var at=wt();H(dt=>I(at,dt),[()=>t.activity.paused?o("workflows.unpause"):o("workflows.pause")]),g(G,at)},$$slots:{default:!0}})}},$$slots:{default:!0}})}var _=r(M,2);oe(_,{bottomLeft:!0,width:200,text:"Update this Activity Options.",children:(b,V)=>{St(b,{variant:"secondary",size:"sm",leadingIcon:"pencil",$$events:{click:Y},children:(Z,et)=>{Ct();var G=wt();H(nt=>I(G,nt),[()=>o("common.update")]),g(Z,G)},$$slots:{default:!0}})},$$slots:{default:!0}});var P=r(_,2);oe(P,{bottom:!0,width:200,text:"Reset this Activity.",children:(b,V)=>{St(b,{variant:"secondary",size:"sm",leadingIcon:"retry",$$events:{click:J},children:(Z,et)=>{Ct();var G=wt();H(nt=>I(G,nt),[()=>o("workflows.reset")]),g(Z,G)},$$slots:{default:!0}})},$$slots:{default:!0}}),n(T);var q=r(T,2);la(q,{get namespace(){return e(c)},get execution(){return e(O)},get activity(){return t.activity},get open(){return e(Q)},set open(b){w(Q,b,!0)}});var z=r(q,2);fa(z,{get namespace(){return e(c)},get execution(){return e(O)},get activity(){return t.activity},get open(){return e(k)},set open(b){w(k,b,!0)}});var K=r(z,2);ua(K,{get namespace(){return e(c)},get execution(){return e(O)},get activity(){return t.activity},get open(){return e(h)},set open(b){w(h,b,!0)}});var R=r(K,2);ne(R,()=>e(C),b=>{oa(b,{get namespace(){return e(c)},get execution(){return e(O)},get activity(){return t.activity},get open(){return e(C)},set open(V){w(C,V,!0)}})}),H(()=>Ne(T,1,`flex items-center gap-2 ${m()??""}`)),g(l,F),kt()}const xa=(l,t,m)=>!l.disableWriteActions&&!t.namespaceWriteDisabled(m)&&!t.isActivityCommandsDisabled&&!l.activityCommandsDisabled,tt=(l,t=ht,m=ht)=>{var f=_a(),c=s(f),y=s(c,!0);n(c);var A=r(c,2),O=s(A);{var Q=h=>{var C=wt();H(()=>I(C,m())),g(h,C)},k=h=>{var C=zt(),U=st(C);De(U,()=>m()??ht),g(h,C)};j(O,h=>{typeof m()=="string"||typeof m()=="number"?h(Q):h(k,!1)})}n(A),n(f),H(()=>I(y,t())),g(l,f)};var _a=L('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="w-full whitespace-pre-line"><!></p></div>'),ga=L('<div><p class="text-sm text-secondary/80"> </p> <!></div>'),wa=L('<p class="text-sm text-secondary/80"> </p> <!>',1),ha=L('<div><p class="text-sm text-secondary/80"> </p> <!></div>'),ba=L('<div class="flex flex-col gap-2"><div class="flex flex-1 flex-col"><!></div> <!></div>'),ka=L('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="flex w-full items-center gap-1 whitespace-pre-line"> <strong> </strong></p></div>'),Ta=L("<!> ",1),Ia=L('<p class="ml-1 text-sm text-secondary"> </p>'),Aa=L('<div class="flex flex-wrap items-center gap-1"><!> <!></div>'),Pa=L("<!> <!> <!>",1),Da=L("<!> <!>",1),Ca=L('<div class="surface-primary flex flex-1 cursor-default flex-col gap-2 border-b border-subtle p-4"><div class="flex flex-1 flex-wrap justify-between gap-2"><div class="flex flex-wrap items-center space-x-3"><!> <h4> </h4></div> <!></div> <div class="flex flex-1 flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col gap-1 xl:w-1/2"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 md:flex-1 xl:w-1/2"><!> <!></div></div></div>');function di(l,t){bt(t,!0);const m=()=>re(He,"$workflowRun",y),f=()=>re(F,"$coreUser",y),c=()=>re(Fe,"$timestamp",y),[y,A]=Mt(),O=i=>{var u=ga(),v=s(u),S=s(v,!0);n(v);var B=r(v,2);ne(B,()=>t.activity.attempt,d=>{he(d,{get value(){return t.activity.heartbeatDetails},key:"payloads",children:(x,D=ht)=>{{let E=a(()=>o("common.copy-icon-title")),$=a(()=>o("common.copy-success-icon-title"));se(x,{get content(){return D()},maxHeight:384,get copyIconTitle(){return e(E)},get copySuccessIconTitle(){return e($)}})}},$$slots:{default:!0}})}),n(u),H(d=>I(S,d),[()=>o("workflows.heartbeat-details")]),g(i,u)},Q=i=>{var u=ba(),v=s(u),S=s(v);{var B=x=>{var D=wa(),E=st(D),$=s(E,!0);n(E);var it=r(E,2);ne(it,()=>t.activity.attempt,rt=>{{const xt=(At,jt=ht)=>{{let Lt=a(()=>o("common.copy-icon-title")),Ut=a(()=>o("common.copy-success-icon-title"));se(At,{get content(){return jt()},maxHeight:384,get copyIconTitle(){return e(Lt)},get copySuccessIconTitle(){return e(Ut)}})}};let ee=a(()=>Ee(t.activity.lastFailure,"stackTrace"));he(rt,{get value(){return e(ee)},children:xt,$$slots:{default:!0}})}}),H(rt=>I($,rt),[()=>o("workflows.last-failure")]),g(x,D)};j(S,x=>{t.activity.lastFailure&&x(B)})}n(v);var d=r(v,2);{var p=x=>{var D=ha(),E=s(D),$=s(E,!0);n(E);var it=r(E,2);{let rt=a(()=>o("common.copy-icon-title")),xt=a(()=>o("common.copy-success-icon-title"));se(it,{language:"text",maxHeight:384,get content(){return t.activity.lastFailure.stackTrace},get copyIconTitle(){return e(rt)},get copySuccessIconTitle(){return e(xt)}})}n(D),H(rt=>I($,rt),[()=>o("common.stack-trace")]),g(x,D)};j(d,x=>{var D;(D=t.activity.lastFailure)!=null&&D.stackTrace&&x(p)})}n(u),g(i,u)},k=i=>{{let u=a(()=>{var v;return(v=t.activity.lastFailure)!=null&&v.stackTrace?o("workflows.last-failure-with-stack-trace"):o("workflows.last-failure")});je(i,{get title(){return e(u)},children:Ce,$$slots:{default:(v,S)=>{const B=a(()=>S.open);var d=zt(),p=st(d);{var x=D=>{Q(D)};j(p,D=>{e(B)&&D(x)})}g(v,d)}}})}},h=(i,u=ht)=>{var v=ka(),S=s(v),B=s(S,!0);n(S);var d=r(S,2),p=s(d),x=r(p),D=s(x);n(x),n(d),n(v),H((E,$)=>{I(B,E),I(p,`${$??""} `),I(D,`(${u()??""})`)},[()=>o("workflows.next-retry"),()=>c()(t.activity.scheduledTime,{relativeLabel:""})]),g(i,v)},C=i=>{var u=Aa(),v=s(u);{let d=a(()=>e(J)?"danger":"default");Le(v,{get type(){return e(d)},children:(p,x)=>{var D=Ta(),E=st(D);{let it=a(()=>e(J)&&"font-bold text-red-400");Ue(E,{get class(){return`mr-1 ${e(it)??""}`},name:"retry"})}var $=r(E);H(it=>I($,` ${t.activity.attempt??0??""} of ${it??""}`),[()=>Xe(t.activity.maximumAttempts)]),g(p,D)},$$slots:{default:!0}})}var S=r(v,2);{var B=d=>{var p=Ia(),x=s(p);n(p),H(D=>I(x,`${D??""} remaining`),[()=>Je(t.activity.maximumAttempts,t.activity.attempt)]),g(d,p)};j(S,d=>{t.activity.maximumAttempts&&d(B)})}n(u),g(i,u)};var U;const J=a(()=>t.activity.attempt>1&&!!t.activity.lastFailure),Y=a(()=>(U=m()===null||m()===void 0?void 0:m().workflow)===null||U===void 0?void 0:U.isRunning);let F=ze(),T=a(()=>xa(le.data.settings,f(),le.params.namespace)&&e(Y));var M=Ca(),_=s(M),P=s(_),q=s(P);{let i=a(()=>t.activity.paused?"Paused":t.activity.state);Be(q,{get status(){return e(i)}})}var z=r(q,2),K=s(z,!0);n(z),n(P);var R=r(P,2);{var b=i=>{pa(i,{get activity(){return t.activity},class:"justify-end"})};j(R,i=>{e(T)&&i(b)})}n(_);var V=r(_,2),Z=s(V),et=s(Z);{let i=a(()=>o("workflows.activity-id"));tt(et,()=>e(i),()=>t.activity.activityId)}var G=r(et,2);{var nt=i=>{var u=Pa(),v=st(u);{let d=a(()=>o("activities.paused-by"));tt(v,()=>e(d),()=>{var p,x;return((x=(p=t.activity.pauseInfo)==null?void 0:p.manual)==null?void 0:x.identity)||""})}var S=r(v,2);{let d=a(()=>o("activities.paused-since")),p=a(()=>{var x;return c()((x=t.activity.pauseInfo)==null?void 0:x.pauseTime)});tt(S,()=>e(d),()=>e(p))}var B=r(S,2);{let d=a(()=>o("activities.pause-reason"));tt(B,()=>e(d),()=>{var p,x;return((x=(p=t.activity.pauseInfo)==null?void 0:p.manual)==null?void 0:x.reason)||"-"})}g(i,u)};j(G,i=>{t.activity.paused&&t.activity.pauseInfo&&i(nt)})}var at=r(G,2);{let i=a(()=>o("workflows.attempt"));tt(at,()=>e(i),()=>C)}var dt=r(at,2);{var Jt=i=>{const u=a(()=>$e({date:t.activity.scheduledTime,negativeDefault:""}));var v=zt(),S=st(v);{var B=d=>{h(d,()=>e(u))};j(S,d=>{e(u)&&d(B)})}g(i,v)};j(dt,i=>{t.activity.scheduledTime&&i(Jt)})}var mt=r(dt,2);{var Xt=i=>{{let u=a(()=>o("workflows.last-attempt-completed-time")),v=a(()=>c()(t.activity.lastAttemptCompleteTime));tt(i,()=>e(u),()=>e(v))}};j(mt,i=>{t.activity.lastAttemptCompleteTime&&i(Xt)})}var ft=r(mt,2);{var lt=i=>{{let u=a(()=>o("workflows.retry-expiration")),v=a(()=>Ge(t.activity.maximumAttempts,Re(We({start:Date.now(),end:t.activity.expirationTime}))));tt(i,()=>e(u),()=>e(v))}};j(ft,i=>{t.activity.expirationTime&&i(lt)})}var Yt=r(ft,2);{var Zt=i=>{{let u=a(()=>o("workflows.last-heartbeat")),v=a(()=>c()(t.activity.lastHeartbeatTime));tt(i,()=>e(u),()=>e(v))}};j(Yt,i=>{t.activity.lastHeartbeatTime&&i(Zt)})}var $t=r(Yt,2);{var yt=i=>{{let u=a(()=>o("workflows.last-started-time")),v=a(()=>c()(t.activity.lastStartedTime));tt(i,()=>e(u),()=>e(v))}};j($t,i=>{t.activity.lastStartedTime&&i(yt)})}var pt=r($t,2);{var Ht=i=>{{let u=a(()=>o("workflows.last-worker-identity"));tt(i,()=>e(u),()=>t.activity.lastWorkerIdentity)}};j(pt,i=>{t.activity.lastWorkerIdentity&&i(Ht)})}var Rt=r(pt,2);{var Wt=i=>{var u=Da(),v=st(u);{var S=p=>{{let x=a(()=>o("workflows.priority"));tt(p,()=>e(x),()=>t.activity.priority.priorityKey)}};j(v,p=>{t.activity.priority.priorityKey&&p(S)})}var B=r(v,2);{var d=p=>{{let x=a(()=>o("workflows.fairness"));tt(p,()=>e(x),()=>t.activity.priority.fairnessKey)}};j(B,p=>{t.activity.priority.fairnessKey&&p(d)})}g(i,u)};j(Rt,i=>{t.activity.priority&&i(Wt)})}n(Z);var Tt=r(Z,2),Ft=s(Tt);{var It=i=>{var u=zt(),v=st(u);{var S=d=>{k(d)},B=d=>{Q(d)};j(v,d=>{t.totalPending>20?d(S):d(B,!1)})}g(i,u)};j(Ft,i=>{e(J)&&i(It)})}var Bt=r(Ft,2);{var te=i=>{O(i)};j(Bt,i=>{t.activity.heartbeatDetails&&i(te)})}n(Tt),n(V),n(M),H(()=>I(K,t.activity.activityType)),g(l,M),kt(),A()}export{di as P,ui as f,$e as t};
