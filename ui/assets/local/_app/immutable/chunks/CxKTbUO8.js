import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{a as G}from"./DsVF0eUi.js";import{p as L,f as P,c as H,j as x,r as y,h as k,t as S,e as D,b as R,l as J,L as _,a as N,G as F,g as O,o as B}from"./CckrFwdx.js";import{e as E,s as K}from"./_IQD3yTx.js";import{i as M}from"./CoMawi-e.js";import{k as Q}from"./DLKvYI2j.js";import{s as w,a as W}from"./CjYTZKiB.js";import{i as V}from"./ebNgFJjp.js";import{p as a}from"./BioCYJcK.js";import{C as X}from"./AoLe9iY8.js";import{I as Y}from"./tBOn7xqW.js";import{t as s}from"./DEjs8ZrU.js";import{t as Z}from"./CLoECSqK.js";import{L as $}from"./CH2BVq3x.js";import{T as ee}from"./Bf95Vmcc.js";var te=P('<label class="file-upload-label svelte-vg1zto"><!></label> <input class="hidden" type="file"/>',1);function ae(I,e){L(e,!1);let d=a(e,"id",8),r=a(e,"accept",8,".json"),l=a(e,"onUpload",8);const T=U=>{var v;const g=U.target,c=(v=g==null?void 0:g.files)===null||v===void 0?void 0:v[0],i=new FileReader;c&&(i.readAsText(c),i.onload=()=>{var n,f;try{const h=(f=(n=i==null?void 0:i.result)===null||n===void 0?void 0:n.toString())!==null&&f!==void 0?f:"";l()(h)}catch{Z.push({variant:"error",message:s("common.upload-error")})}})};V();var u=te(),o=H(u),p=x(o);Y(p,{name:"upload"}),y(o);var m=k(o,2);S(()=>{w(o,"for",d()),w(m,"id",d()),w(m,"accept",r())}),E("change",m,T),D(I,u),R()}var le=P('<div class="flex flex-col gap-2"><!> <div class="flex gap-2"><!> <!></div> <span> </span></div>');function ye(I,e){L(e,!1);let d=a(e,"id",24,()=>crypto.randomUUID()),r=a(e,"error",12,!1),l=a(e,"input",12),T=a(e,"label",24,()=>s("workflows.signal-payload-input-label")),u=a(e,"loading",12,!1),o=a(e,"hintText",24,()=>s("workflows.signal-payload-input-label-hint")),p=a(e,"editing",8,!0);const m=t=>{if(!l())return!0;try{return JSON.parse(t),!0}catch{return!1}},U=t=>{l(t)},v=()=>{l(""),u(!1)},g=t=>{l(t)};G(v),J(()=>_(l()),()=>{r(!m(l()))}),N(),V();var c=le(),i=x(c);$(i,{get for(){return d()},get label(){return T()}});var n=k(i,2),f=x(n);Q(f,()=>[u(),p()],t=>{X(t,{get id(){return d()},maxHeight:320,get content(){return l()},onchange:U,get editable(){return p()},copyable:!1})});var h=k(f,2);{var q=t=>{{let C=B(()=>(_(s),F(()=>s("common.upload-json"))));ee(t,{get text(){return O(C)},topRight:!0,children:(A,re)=>{ae(A,{get id(){return`${d()??""}-input-file-upload`},onUpload:g})},$$slots:{default:!0}})}};M(h,t=>{p()&&t(q)})}y(n);var b=k(n,2);let j;var z=x(b,!0);y(b),y(c),S(t=>{j=W(b,1,`text-xs ${r()?"text-danger":"text-primary"} inline-block`,null,j,{hidden:!o()&&!r()}),w(b,"role",r()?"alert":null),K(z,t)},[()=>(_(r()),_(s),_(o()),F(()=>r()?s("common.input-valid-json"):o()))]),D(I,c),R()}export{ye as P};
