import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as me,ad as Se,l as ge,ac as _e,a as pe,t as J,f as _,h as ie,c as N,e as M,d as c,i as ve,j as C,g as a,r as de,b as be,ae as we,m as A,s as q}from"./DSxqszTl.js";import{s as E}from"./Qdkaj6Y8.js";import{b as Ve}from"./K6Afqa47.js";import{i as xe}from"./BcaHj5WR.js";import{l as X,p as t}from"./Bp73-jql.js";import{b as re,a as G,s as Ce}from"./CZBNCVvj.js";import{w as F,o as he,c as Be,a as He}from"./Cb3VdkNs.js";import"./D2ZduoFY.js";import{c as Te,d as je,b as ze}from"./BpCgdzWs.js";import{s as De}from"./CXaSvchK.js";import{i as W}from"./BAt4aHTa.js";import{k as Ne}from"./CvtqSEth.js";import{r as Ae,b as Fe,C as We}from"./DyEeuWnl.js";import{I as oe}from"./Dc8cZy7F.js";import{L as Xe}from"./LntrTj2C.js";import{M as Ge}from"./Cahp3hJS.js";import{t as Je}from"./Ds6tgvmq.js";const ke="select-context";var Ke=J("<input> <!>",1),Qe=J('<span class="text-xs text-danger"> </span>'),Re=J('<div class="flex flex-col gap-1"><!> <!></div> <!> <!>',1);function pt(K,e){const Q=X(e,["children","$$slots","$$events","$$legacy"]),L=X(Q,["label","labelHidden","id","value","placeholder","disabled","loading","leadingIcon","onChange","menuButtonClass","menuClass","variant","required","error","valid","position"]);me(e,!1);const[h,R]=Ce(),k=()=>G(i,"$labelCtx",h),y=()=>G(s,"$optionsCtx",h);let O=t(e,"label",8),U=t(e,"labelHidden",8,!1),u=t(e,"id",8),n=t(e,"value",12,void 0),d=t(e,"placeholder",8,""),p=t(e,"disabled",8,!1),S=t(e,"loading",8,!1),w=t(e,"leadingIcon",8,null),V=t(e,"onChange",8,()=>{}),f=t(e,"menuButtonClass",8,void 0),r=t(e,"menuClass",8,void 0),Y=t(e,"variant",8,"secondary"),v=t(e,"required",8,!1),B=t(e,"error",8,""),H=t(e,"valid",8,!0),o=t(e,"position",8,void 0);const m=F(n()),s=F([]),i=F(n()===null||n()===void 0?void 0:n().toString()),T=F(!1);function ye(){re(m,n()),re(i,ce(n()))}const Pe=P=>{n(P),V()(n())};function ce(P){const Z=y().find(j=>j.value===P);return Z!==void 0?Z.label:""}Se(ke,{selectValue:m,selectLabel:i,options:s,open:T,handleChange:Pe}),he(()=>{re(i,ce(n()))}),ge(()=>_e(n()),()=>{n(),ye()}),pe(),xe(),Te(K,{class:"w-full",open:T,children:(P,Z)=>{var j=Re(),ee=_(j),ue=ie(ee);Xe(ue,{get label(){return O()},get hidden(){return U()},get for(){return u()},get required(){return v()}});var Ie=N(ue,2);Ne(Ie,k,g=>{const b=C(()=>Je("w-full",!H()&&"border-danger",f())),x=C(()=>!p()),te=C(()=>p()||S()),Me=C(()=>`${L["data-testid"]??u()}-button`);Ge(g,{get class(){return a(b)},get hasIndicator(){return a(x)},get disabled(){return a(te)},get controls(){return`${u()??""}-select`},get variant(){return Y()},get"data-testid"(){return a(Me)},"data-track-name":"select","data-track-intent":"select",get"data-track-text"(){return O()},children:(ae,Ee)=>{var I=Ke(),$=_(I);Ae($);let z;var D=N($,2);{var ne=l=>{oe(l,{slot:"trailing",name:"lock"})},se=(l,Le)=>{{var Oe=le=>{oe(le,{name:"spinner",class:"animate-spin"})};W(l,le=>{S()&&le(Oe)},Le)}};W(D,l=>{p()?l(ne):l(se,!1)})}ve(l=>z=Fe($,z,{id:u(),value:!n()&&d()!==""?d():k(),tabindex:"-1",disabled:!0,required:v(),"aria-required":v(),...L,[We]:l},"svelte-1j0yr8e"),[()=>({disabled:p()})],C),c(ae,I)},$$slots:{default:!0,leading:(ae,Ee)=>{var I=M(),$=_(I);E($,e,"leading",{},z=>{var D=M(),ne=_(D);{var se=l=>{oe(l,{get name(){return w()}})};W(ne,l=>{w()&&l(se)})}c(z,D)}),c(ae,I)}}})}),de(ee);var fe=N(ee,2);je(fe,{role:"listbox",get id(){return`${u()??""}-select`},get class(){return r()},get position(){return o()},children:(g,b)=>{var x=M(),te=_(x);E(te,e,"default",{},null),c(g,x)},$$slots:{default:!0}});var $e=N(fe,2);{var qe=g=>{var b=Qe(),x=ie(b,!0);de(b),ve(()=>De(x,B())),c(g,b)};W($e,g=>{B()&&!H()&&g(qe)})}c(P,j)},$$slots:{default:!0}}),be(),R()}var Ue=J("<span><!></span>");function bt(K,e){const Q=X(e,["children","$$slots","$$events","$$legacy"]),L=X(Q,["value","description","disabled","class"]);me(e,!1);const[h,R]=Ce(),k=()=>G(O,"$selectValue",h),y=()=>G(u,"$options",h),{selectValue:O,handleChange:U,options:u}=we(ke),n=Be();let d=t(e,"value",8),p=t(e,"description",8,""),S=t(e,"disabled",8,!1),w=t(e,"class",8,""),V=A(!1),f=A(),r=A(),Y,v=A();he(()=>{a(r)&&(q(v,a(r).textContent),y().push({value:d(),label:a(v),nativeElement:Y}))}),He(()=>{let o=y().findIndex(m=>m.value===d());o!==void 0&&y().splice(o,1)});const B=()=>{U(a(f)),n("click",{value:a(f)})};ge(()=>(a(r),a(f),_e(d()),k()),()=>{a(r)&&(q(f,d()!==null&&d()!==void 0?d():a(r).textContent),q(V,k()===a(f)),q(v,a(r).textContent))}),pe(),xe();const H=C(()=>L["data-testid"]??"");ze(K,{role:"option",get selected(){return a(V)},get description(){return p()},get disabled(){return S()},get class(){return w()},get"data-testid"(){return a(H)},$$events:{click:B},children:(o,m)=>{var s=Ue(),i=ie(s);E(i,e,"default",{},null),de(s),Ve(s,T=>q(r,T),()=>a(r)),c(o,s)},$$slots:{default:!0,leading:(o,m)=>{var s=M(),i=_(s);E(i,e,"leading",{},null),c(o,s)},trailing:(o,m)=>{var s=M(),i=_(s);E(i,e,"trailing",{},null),c(o,s)}}}),be(),R()}export{bt as O,pt as S};
