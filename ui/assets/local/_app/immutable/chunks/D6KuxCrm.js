import"./CWj6FrbW.js";import{p as ve,ac as H,t as R,i as z,g as a,r as E,j as J,e as O,b as ke,d as he,c as G,aH as Et,af as me,ah as ae,ai as _t,aI as ce,s as ue,h as It,f as Ot}from"./kQSYtCfc.js";import{d as be,e as zt,s as Nt}from"./DFbJB1Uf.js";import{i as X}from"./CpVHIMM-.js";import{e as wt}from"./BGqzo1gH.js";import{c as V,s as P,b as Rt,C as Ht}from"./BWHJ-dez.js";import{b as Jt}from"./DK-i4VCv.js";import{p,s as Gt,a as _e,r as Vt}from"./BXb_iK_q.js";import{w as T,I as Pt,z as Ut,j as je,A as Ie,E as b,B as Ke,D as U,S as Ft,F as qt,i as jt,a as Kt,G as We,H as Qe,J as de,K as Xe,M as Wt,O as Qt,Q as Xt,R as Oe,k as Yt,U as Zt,l as $t,V as en,W as tn,X as nn,Y as on,Z as rn,_ as sn,$ as ln,a0 as an,n as ze,a1 as cn,a2 as un,a3 as dn,a4 as fn}from"./BJfEFiL0.js";import{o as hn}from"./krDHeU5i.js";import{B as Ne}from"./DgL5hrcI.js";import{I as mn}from"./OxX2Pvn0.js";import{t as we}from"./D2OY9xdY.js";import{t as w}from"./mtgEvp4k.js";import{c as gn}from"./DidG_e_F.js";import"./69_IOA4Y.js";import{u as pn}from"./BiIZbas2.js";import{p as yn,s as vn}from"./byHaz_JD.js";const ge=Qe.define(),kn=Qe.define(),bn=We.define(),xn=We.define({combine(e){return Xt(e,{minDepth:100,newGroupDelay:500,joinToEvent:(t,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,n)=>(o,r)=>t(o,r)||n(o,r)})}}),Sn=Ft.define({create(){return A.empty},update(e,t){let n=t.state.facet(xn),o=t.annotation(ge);if(o){let c=k.fromTransaction(t,o.selection),m=o.side,d=m==0?e.undone:e.done;return c?d=Y(d,d.length,n.minDepth,c):d=Ze(d,t.startState.selection),new A(m==0?o.rest:d,m==0?d:o.rest)}let r=t.annotation(kn);if((r=="full"||r=="before")&&(e=e.isolate()),t.annotation(de.addToHistory)===!1)return t.changes.empty?e:e.addMapping(t.changes.desc);let s=k.fromTransaction(t),i=t.annotation(de.time),l=t.annotation(de.userEvent);return s?e=e.addChanges(s,i,l,n,t):t.selection&&(e=e.addSelection(t.startState.selection,i,l,n.newGroupDelay)),(r=="full"||r=="after")&&(e=e.isolate()),e},toJSON(e){return{done:e.done.map(t=>t.toJSON()),undone:e.undone.map(t=>t.toJSON())}},fromJSON(e){return new A(e.done.map(k.fromJSON),e.undone.map(k.fromJSON))}});function Z(e,t){return function({state:n,dispatch:o}){if(!t&&n.readOnly)return!1;let r=n.field(Sn,!1);if(!r)return!1;let s=r.pop(e,n,t);return s?(o(s),!0):!1}}const Bn=Z(0,!1),Re=Z(1,!1),An=Z(0,!0),Dn=Z(1,!0);class k{constructor(t,n,o,r,s){this.changes=t,this.effects=n,this.mapped=o,this.startSelection=r,this.selectionsAfter=s}setSelAfter(t){return new k(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,n,o;return{changes:(t=this.changes)===null||t===void 0?void 0:t.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(o=this.startSelection)===null||o===void 0?void 0:o.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(t){return new k(t.changes&&Wt.fromJSON(t.changes),[],t.mapped&&Qt.fromJSON(t.mapped),t.startSelection&&b.fromJSON(t.startSelection),t.selectionsAfter.map(b.fromJSON))}static fromTransaction(t,n){let o=S;for(let r of t.startState.facet(bn)){let s=r(t);s.length&&(o=o.concat(s))}return!o.length&&t.changes.empty?null:new k(t.changes.invert(t.startState.doc),o,void 0,n||t.startState.selection,S)}static selection(t){return new k(void 0,S,void 0,void 0,t)}}function Y(e,t,n,o){let r=t+1>n+20?t-n-1:0,s=e.slice(r,t);return s.push(o),s}function Cn(e,t){let n=[],o=!1;return e.iterChangedRanges((r,s)=>n.push(r,s)),t.iterChangedRanges((r,s,i,l)=>{for(let c=0;c<n.length;){let m=n[c++],d=n[c++];l>=m&&i<=d&&(o=!0)}}),o}function Mn(e,t){return e.ranges.length==t.ranges.length&&e.ranges.filter((n,o)=>n.empty!=t.ranges[o].empty).length===0}function Ye(e,t){return e.length?t.length?e.concat(t):e:t}const S=[],Tn=200;function Ze(e,t){if(e.length){let n=e[e.length-1],o=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-Tn));return o.length&&o[o.length-1].eq(t)?e:(o.push(t),Y(e,e.length-1,1e9,n.setSelAfter(o)))}else return[k.selection([t])]}function Ln(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function fe(e,t){if(!e.length)return e;let n=e.length,o=S;for(;n;){let r=En(e[n-1],t,o);if(r.changes&&!r.changes.empty||r.effects.length){let s=e.slice(0,n);return s[n-1]=r,s}else t=r.mapped,n--,o=r.selectionsAfter}return o.length?[k.selection(o)]:S}function En(e,t,n){let o=Ye(e.selectionsAfter.length?e.selectionsAfter.map(l=>l.map(t)):S,n);if(!e.changes)return k.selection(o);let r=e.changes.map(t),s=t.mapDesc(e.changes,!0),i=e.mapped?e.mapped.composeDesc(s):s;return new k(r,Xe.mapEffects(e.effects,t),i,e.startSelection.map(s),o)}const _n=/^(input\.type|delete)($|\.)/;class A{constructor(t,n,o=0,r=void 0){this.done=t,this.undone=n,this.prevTime=o,this.prevUserEvent=r}isolate(){return this.prevTime?new A(this.done,this.undone):this}addChanges(t,n,o,r,s){let i=this.done,l=i[i.length-1];return l&&l.changes&&!l.changes.empty&&t.changes&&(!o||_n.test(o))&&(!l.selectionsAfter.length&&n-this.prevTime<r.newGroupDelay&&r.joinToEvent(s,Cn(l.changes,t.changes))||o=="input.type.compose")?i=Y(i,i.length-1,r.minDepth,new k(t.changes.compose(l.changes),Ye(Xe.mapEffects(t.effects,l.changes),l.effects),l.mapped,l.startSelection,S)):i=Y(i,i.length,r.minDepth,t),new A(i,S,n,o)}addSelection(t,n,o,r){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:S;return s.length>0&&n-this.prevTime<r&&o==this.prevUserEvent&&o&&/^select($|\.)/.test(o)&&Mn(s[s.length-1],t)?this:new A(Ze(this.done,t),this.undone,n,o)}addMapping(t){return new A(fe(this.done,t),fe(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,n,o){let r=t==0?this.done:this.undone;if(r.length==0)return null;let s=r[r.length-1],i=s.selectionsAfter[0]||n.selection;if(o&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:ge.of({side:t,rest:Ln(r),selection:i}),userEvent:t==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let l=r.length==1?S:r.slice(0,r.length-1);return s.mapped&&(l=fe(l,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:ge.of({side:t,rest:l,selection:i}),filter:!1,userEvent:t==0?"undo":"redo",scrollIntoView:!0})}else return null}}A.empty=new A(S,S);const In=[{key:"Mod-z",run:Bn,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Re,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Re,preventDefault:!0},{key:"Mod-u",run:An,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Dn,preventDefault:!0}];function xe(e,t){return b.create(e.ranges.map(t),e.mainIndex)}function N(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function L({state:e,dispatch:t},n){let o=xe(e.selection,n);return o.eq(e.selection,!0)?!1:(t(N(e,o)),!0)}function $(e,t){return b.cursor(t?e.to:e.from)}function $e(e,t){return L(e,n=>n.empty?e.moveByChar(n,t):$(n,t))}function B(e){return e.textDirectionAt(e.state.selection.main.head)==qt.LTR}const et=e=>$e(e,!B(e)),tt=e=>$e(e,B(e));function nt(e,t){return L(e,n=>n.empty?e.moveByGroup(n,t):$(n,t))}const On=e=>nt(e,!B(e)),zn=e=>nt(e,B(e));function ot(e,t){return L(e,n=>{if(!n.empty)return $(n,t);let o=e.moveVertically(n,t);return o.head!=n.head?o:e.moveToLineBoundary(n,t)})}const rt=e=>ot(e,!1),st=e=>ot(e,!0);function it(e){let t=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,n=0,o=0,r;if(t){for(let s of e.state.facet(T.scrollMargins)){let i=s(e);i!=null&&i.top&&(n=Math.max(i==null?void 0:i.top,n)),i!=null&&i.bottom&&(o=Math.max(i==null?void 0:i.bottom,o))}r=e.scrollDOM.clientHeight-n-o}else r=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:o,selfScroll:t,height:Math.max(e.defaultLineHeight,r-5)}}function lt(e,t){let n=it(e),{state:o}=e,r=xe(o.selection,i=>i.empty?e.moveVertically(i,t,n.height):$(i,t));if(r.eq(o.selection))return!1;let s;if(n.selfScroll){let i=e.coordsAtPos(o.selection.main.head),l=e.scrollDOM.getBoundingClientRect(),c=l.top+n.marginTop,m=l.bottom-n.marginBottom;i&&i.top>c&&i.bottom<m&&(s=T.scrollIntoView(r.main.head,{y:"start",yMargin:i.top-c}))}return e.dispatch(N(o,r),{effects:s}),!0}const He=e=>lt(e,!1),pe=e=>lt(e,!0);function _(e,t,n){let o=e.lineBlockAt(t.head),r=e.moveToLineBoundary(t,n);if(r.head==t.head&&r.head!=(n?o.to:o.from)&&(r=e.moveToLineBoundary(t,n,!1)),!n&&r.head==o.from&&o.length){let s=/^\s*/.exec(e.state.sliceDoc(o.from,Math.min(o.from+100,o.to)))[0].length;s&&t.head!=o.from+s&&(r=b.cursor(o.from+s))}return r}const Nn=e=>L(e,t=>_(e,t,!0)),wn=e=>L(e,t=>_(e,t,!1)),Rn=e=>L(e,t=>_(e,t,!B(e))),Hn=e=>L(e,t=>_(e,t,B(e))),Jn=e=>L(e,t=>b.cursor(e.lineBlockAt(t.head).from,1)),Gn=e=>L(e,t=>b.cursor(e.lineBlockAt(t.head).to,-1));function D(e,t){let n=xe(e.state.selection,o=>{let r=t(o);return b.range(o.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return n.eq(e.state.selection)?!1:(e.dispatch(N(e.state,n)),!0)}function at(e,t){return D(e,n=>e.moveByChar(n,t))}const ct=e=>at(e,!B(e)),ut=e=>at(e,B(e));function dt(e,t){return D(e,n=>e.moveByGroup(n,t))}const Vn=e=>dt(e,!B(e)),Pn=e=>dt(e,B(e));function ft(e,t){return D(e,n=>e.moveVertically(n,t))}const ht=e=>ft(e,!1),mt=e=>ft(e,!0);function gt(e,t){return D(e,n=>e.moveVertically(n,t,it(e).height))}const Je=e=>gt(e,!1),Ge=e=>gt(e,!0),Un=e=>D(e,t=>_(e,t,!0)),Fn=e=>D(e,t=>_(e,t,!1)),qn=e=>D(e,t=>_(e,t,!B(e))),jn=e=>D(e,t=>_(e,t,B(e))),Kn=e=>D(e,t=>b.cursor(e.lineBlockAt(t.head).from)),Wn=e=>D(e,t=>b.cursor(e.lineBlockAt(t.head).to)),Ve=({state:e,dispatch:t})=>(t(N(e,{anchor:0})),!0),Pe=({state:e,dispatch:t})=>(t(N(e,{anchor:e.doc.length})),!0),Ue=({state:e,dispatch:t})=>(t(N(e,{anchor:e.selection.main.anchor,head:0})),!0),Fe=({state:e,dispatch:t})=>(t(N(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0),Qn=({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0);function F(e,t){if(e.state.readOnly)return!1;let n="delete.selection",{state:o}=e,r=o.changeByRange(s=>{let{from:i,to:l}=s;if(i==l){let c=t(s);c<i?(n="delete.backward",c=Q(e,c,!1)):c>i&&(n="delete.forward",c=Q(e,c,!0)),i=Math.min(i,c),l=Math.max(l,c)}else i=Q(e,i,!1),l=Q(e,l,!0);return i==l?{range:s}:{changes:{from:i,to:l},range:b.cursor(i,i<s.head?-1:1)}});return r.changes.empty?!1:(e.dispatch(o.update(r,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?T.announce.of(o.phrase("Selection deleted")):void 0})),!0)}function Q(e,t,n){if(e instanceof T)for(let o of e.state.facet(T.atomicRanges).map(r=>r(e)))o.between(t,t,(r,s)=>{r<t&&s>t&&(t=n?s:r)});return t}const pt=(e,t,n)=>F(e,o=>{let r=o.from,{state:s}=e,i=s.doc.lineAt(r),l,c;if(n&&!t&&r>i.from&&r<i.from+200&&!/[^ \t]/.test(l=i.text.slice(0,r-i.from))){if(l[l.length-1]=="	")return r-1;let m=je(l,s.tabSize),d=m%Oe(s)||Oe(s);for(let y=0;y<d&&l[l.length-1-y]==" ";y++)r--;c=r}else c=U(i.text,r-i.from,t,t)+i.from,c==r&&i.number!=(t?s.doc.lines:1)?c+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(i.text.slice(c-i.from,r-i.from))&&(c=U(i.text,c-i.from,!1,!1)+i.from);return c}),ye=e=>pt(e,!1,!0),yt=e=>pt(e,!0,!1),vt=(e,t)=>F(e,n=>{let o=n.head,{state:r}=e,s=r.doc.lineAt(o),i=r.charCategorizer(o);for(let l=null;;){if(o==(t?s.to:s.from)){o==n.head&&s.number!=(t?r.doc.lines:1)&&(o+=t?1:-1);break}let c=U(s.text,o-s.from,t)+s.from,m=s.text.slice(Math.min(o,c)-s.from,Math.max(o,c)-s.from),d=i(m);if(l!=null&&d!=l)break;(m!=" "||o!=n.head)&&(l=d),o=c}return o}),kt=e=>vt(e,!1),Xn=e=>vt(e,!0),Yn=e=>F(e,t=>{let n=e.lineBlockAt(t.head).to;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}),Zn=e=>F(e,t=>{let n=e.moveToLineBoundary(t,!1).head;return t.head>n?n:Math.max(0,t.head-1)}),$n=e=>F(e,t=>{let n=e.moveToLineBoundary(t,!0).head;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}),eo=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(o=>({changes:{from:o.from,to:o.to,insert:Ke.of(["",""])},range:b.cursor(o.from)}));return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},to=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(o=>{if(!o.empty||o.from==0||o.from==e.doc.length)return{range:o};let r=o.from,s=e.doc.lineAt(r),i=r==s.from?r-1:U(s.text,r-s.from,!1)+s.from,l=r==s.to?r+1:U(s.text,r-s.from,!0)+s.from;return{changes:{from:i,to:l,insert:e.doc.slice(r,l).append(e.doc.slice(i,r))},range:b.cursor(l)}});return n.changes.empty?!1:(t(e.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function no(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n=jt(e).resolveInner(t),o=n.childBefore(t),r=n.childAfter(t),s;return o&&r&&o.to<=t&&r.from>=t&&(s=o.type.prop(Kt.closedBy))&&s.indexOf(r.name)>-1&&e.doc.lineAt(o.to).from==e.doc.lineAt(r.from).from&&!/\S/.test(e.sliceDoc(o.to,r.from))?{from:o.to,to:r.from}:null}const qe=oo(!1);function oo(e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let o=t.changeByRange(r=>{let{from:s,to:i}=r,l=t.doc.lineAt(s),c=!e&&s==i&&no(t,s);e&&(s=i=(i<=l.to?l:t.doc.lineAt(i)).to);let m=new Pt(t,{simulateBreak:s,simulateDoubleBreak:!!c}),d=Ut(m,s);for(d==null&&(d=je(/^\s*/.exec(t.doc.lineAt(s).text)[0],t.tabSize));i<l.to&&/\s/.test(l.text[i-l.from]);)i++;c?{from:s,to:i}=c:s>l.from&&s<l.from+100&&!/\S/.test(l.text.slice(0,s))&&(s=l.from);let y=["",Ie(t,d)];return c&&y.push(Ie(t,m.lineIndent(l.from,-1))),{changes:{from:s,to:i,insert:Ke.of(y)},range:b.cursor(s+1+y[1].length)}});return n(t.update(o,{scrollIntoView:!0,userEvent:"input"})),!0}}const ro=[{key:"Ctrl-b",run:et,shift:ct,preventDefault:!0},{key:"Ctrl-f",run:tt,shift:ut},{key:"Ctrl-p",run:rt,shift:ht},{key:"Ctrl-n",run:st,shift:mt},{key:"Ctrl-a",run:Jn,shift:Kn},{key:"Ctrl-e",run:Gn,shift:Wn},{key:"Ctrl-d",run:yt},{key:"Ctrl-h",run:ye},{key:"Ctrl-k",run:Yn},{key:"Ctrl-Alt-h",run:kt},{key:"Ctrl-o",run:eo},{key:"Ctrl-t",run:to},{key:"Ctrl-v",run:pe}],so=[{key:"ArrowLeft",run:et,shift:ct,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:On,shift:Vn,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Rn,shift:qn,preventDefault:!0},{key:"ArrowRight",run:tt,shift:ut,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:zn,shift:Pn,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Hn,shift:jn,preventDefault:!0},{key:"ArrowUp",run:rt,shift:ht,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Ve,shift:Ue},{mac:"Ctrl-ArrowUp",run:He,shift:Je},{key:"ArrowDown",run:st,shift:mt,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Pe,shift:Fe},{mac:"Ctrl-ArrowDown",run:pe,shift:Ge},{key:"PageUp",run:He,shift:Je},{key:"PageDown",run:pe,shift:Ge},{key:"Home",run:wn,shift:Fn,preventDefault:!0},{key:"Mod-Home",run:Ve,shift:Ue},{key:"End",run:Nn,shift:Un,preventDefault:!0},{key:"Mod-End",run:Pe,shift:Fe},{key:"Enter",run:qe,shift:qe},{key:"Mod-a",run:Qn},{key:"Backspace",run:ye,shift:ye},{key:"Delete",run:yt},{key:"Mod-Backspace",mac:"Alt-Backspace",run:kt},{key:"Mod-Delete",mac:"Alt-Delete",run:Xn},{mac:"Mod-Backspace",run:Zn},{mac:"Mod-Delete",run:$n}].concat(ro.map(e=>({mac:e.key,run:e.run,shift:e.shift})));var io=R("<button><!></button>");function lo(e,t){ve(t,!0);let n=p(t,"class",3,void 0);const o=we("common.minimize"),r=we("common.maximize"),s=H(()=>t.maximized?o:r),i=H(()=>t.maximized?"minimize":"expand");var l=io();l.__click=function(...m){var d;(d=t.onclick)==null||d.apply(this,m)};var c=z(l);mn(c,{get title(){return a(s)},get name(){return a(i)}}),E(l),J(m=>P(l,1,m),[()=>V(w("surface-interactive-secondary m-1 border border-[transparent] bg-transparent p-1 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/70",n()))]),O(e,l),ke()}be(["click"]);const ao=(e,t)=>{t()&&(!(e.currentTarget instanceof Element)||!(e.relatedTarget instanceof Element)||!e.currentTarget.contains(e.relatedTarget))&&t(!1)};var co=R("<div><!> <div><!> <!></div></div>");function uo(e,t){ve(t,!0);let n=p(t,"maximized",15,!1),o=p(t,"class",3,void 0),r=p(t,"enabled",3,!0),s=p(t,"actions",3,void 0),i=v=>{n()&&v.key==="Escape"&&n(!1)};const l=()=>{n(!n())};var c=co();zt("keydown",Et,i),c.__focusout=[ao,n];var m=z(c);he(m,()=>t.children);var d=G(m,2),y=z(d);he(y,()=>s()??me);var q=G(y,2);{var j=v=>{lo(v,{class:"m-0 rounded-full text-secondary",onclick:l,get maximized(){return n()}})};X(q,v=>{r()&&v(j)})}E(d),E(c),J((v,ee)=>{P(c,1,v),P(d,1,ee)},[()=>V(w("relative",n()&&"fixed bottom-0 left-0 right-0 top-0 z-100 h-full w-full overflow-y-auto bg-white dark:bg-black",o())),()=>V(w("absolute",n()&&"fixed","right-2 top-2 flex items-center"))]),O(e,c),ke()}be(["focusout"]);function fo(e,t){if(!e)return"";let n="";try{const o=yn(e);n=vn(o,void 0,t)}catch{n=e}return n}var ho=(e,t,n)=>t(n()),mo=R("<button> </button>"),go=R('<div class="flex flex-row items-center justify-between border-b border-subtle bg-code-block px-3"><div class="flex flex-row items-center gap-4"></div> <div class="flex flex-row items-center gap-4"><!> <!></div></div>'),po=R("<div></div>"),yo=R("<div><!> <!></div>");function wo(e,t){ve(t,!0);const[n,o]=Gt(),r=()=>_e(pn,"$useDarkMode",n),s=()=>_e(At,"$copied",n),i=(f,h=me)=>{var g=mo();g.__click=[ho,Se,h];var x=z(g,!0);E(g),J(C=>{P(g,1,C),Nt(x,h())},[()=>V(w("h-full border-b-2 border-transparent py-2",h()===Se()?"border-brand":""))]),O(f,g)};var l;let c=p(t,"language",3,"json"),m=p(t,"class",3,void 0),d=p(t,"editable",3,!1),y=p(t,"copyable",3,!0),q=p(t,"copyIconTitle",3,""),j=p(t,"copySuccessIconTitle",3,""),v=p(t,"inline",3,!1),ee=p(t,"testId",3,void 0),bt=p(t,"minHeight",3,void 0),te=p(t,"maxHeight",3,void 0),xt=p(t,"label",3,""),ne=p(t,"onchange",3,void 0),Se=p(t,"activeTab",15),St=Vt(t,["$$slots","$$events","$$legacy","content","language","class","editable","copyable","copyIconTitle","copySuccessIconTitle","inline","testId","minHeight","maxHeight","label","onchange","tabs","activeTab","headerActions"]),oe=ae(void 0),u=ae(void 0);const{copy:Bt,copied:At}=gn(),Be=(f,h,g)=>h==="json"?fo(f,g?0:2):f,Ae=()=>Be(t.content,c(),v()),re=()=>{var f;const h=(f=a(u)===null||a(u)===void 0?void 0:a(u).state)===null||f===void 0?void 0:f.doc;return h?Be(h.toString(),c(),v()):""},De=f=>{var h;const g=(h=a(u)===null||a(u)===void 0?void 0:a(u).state)===null||h===void 0?void 0:h.doc;g&&g.toString()!==f&&(a(u)===null||a(u)===void 0||a(u).dispatch({changes:{from:0,to:g.length,insert:f}}))},K=H(()=>!!t.tabs);let se=ae(!1);const ie=H(()=>(l=te()&&!a(K)&&(a(u)===null||a(u)===void 0?void 0:a(u).contentHeight)>te())!==null&&l!==void 0?l:!1),Ce=_t(new rn),Dt=[Yt.of([...so,...In]),Zt(sn,{fallback:!0}),$t.of("  "),en(),tn(),nn(),on()];let Me=H(()=>[ln(r(),a(K)),an({hasActions:y()||a(ie)}),ze.readOnly.of(!d()),T.editable.of(d()),T.contentAttributes.of({"aria-label":xt()}),cn(d()),un(c()),v()?void 0:T.lineWrapping,!v()&&!d()?dn():void 0,fn({maxHeight:te(),minHeight:bt(),maximized:a(se)})].filter(f=>f!=null));const Ct=()=>new T({parent:a(oe),state:ze.create({doc:Ae(),extensions:[Dt,Ce.of(a(Me))]}),dispatch(f){a(u).update([f]),f.docChanged&&(ne()===null||ne()===void 0||ne()(re()))}});ce(()=>{a(u)===null||a(u)===void 0||a(u).dispatch({effects:Ce.reconfigure(a(Me))})}),ce(()=>{var f,h;a(ie)?(f=a(u)===null||a(u)===void 0?void 0:a(u).scrollDOM)===null||f===void 0||f.setAttribute("tabindex","0"):(h=a(u)===null||a(u)===void 0?void 0:a(u).scrollDOM)===null||h===void 0||h.removeAttribute("tabindex")}),ce(()=>{var f;t.content,c(),v(),d(),a(u)===null||a(u)===void 0||a(u).hasFocus;const h=(f=a(u)===null||a(u)===void 0?void 0:a(u).state)===null||f===void 0?void 0:f.doc;if(!h)return;if(!(d()&&(a(u)===null||a(u)===void 0?void 0:a(u).hasFocus))){const x=Ae();h.toString()!==x&&De(x)}});const Te=f=>{Bt(f,re())},Le=()=>{De(re())};hn(()=>(ue(u,Ct(),!0),a(u).contentDOM.onblur=Le,()=>{a(u)===null||a(u)===void 0||a(u).destroy()}));var W=yo(),Ee=z(W);{var Mt=f=>{var h=go(),g=z(h);wt(g,20,()=>t.tabs,I=>I,(I,Lt)=>{i(I,()=>Lt)}),E(g);var x=G(g,2),C=z(x);he(C,()=>t.headerActions??me);var M=G(C,2);{var le=I=>{Ne(I,{get copyIconTitle(){return q()},get copySuccessIconTitle(){return j()},class:"m-0 rounded-full text-secondary",get copied(){return s()},$$events:{click:Te}})};X(M,I=>{y()&&I(le)})}E(x),E(h),O(f,h)};X(Ee,f=>{t.tabs&&t.tabs.length>0&&f(Mt)})}var Tt=G(Ee,2);uo(Tt,{get enabled(){return a(ie)},get maximized(){return a(se)},set maximized(h){ue(se,h,!0)},actions:h=>{var g=It(),x=Ot(g);{var C=M=>{Ne(M,{get copyIconTitle(){return q()},get copySuccessIconTitle(){return j()},class:"m-0 rounded-full text-secondary",get copied(){return s()},$$events:{click:Te}})};X(x,M=>{y()&&!a(K)&&M(C)})}O(h,g)},children:(h,g)=>{var x=po();let C;Jt(x,M=>ue(oe,M),()=>a(oe)),J((M,le)=>C=Rt(x,C,{class:M,"data-testid":ee(),...St,onblur:Le,[Ht]:le}),[()=>w("h-full",m()),()=>({inline:v(),editable:d(),readOnly:!d()})]),O(h,x)},$$slots:{actions:!0,default:!0}}),E(W),J(f=>P(W,1,f),[()=>V(w("min-w-[80px] grow",a(K)&&["border border-subtle"]))]),O(e,W),ke(),o()}be(["click"]);export{wo as C};
