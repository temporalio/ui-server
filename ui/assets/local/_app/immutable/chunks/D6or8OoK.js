import{h as g}from"./D7M76E8h.js";import{i as c}from"./DI6i4Kkd.js";const p=(i={},e={})=>{const s={...i};for(const r of Object.keys(e)){const t=s[r];Array.isArray(t)?s[r]=s[r].concat(e[r]):typeof t=="object"&&!Array.isArray(t)?s[r]=p(s[r],e[r]):s[r]=e[r]}return s},k=async(i,{onStart:e,onUpdate:s,onComplete:r,onError:t=g,token:u,previousProps:f}={})=>{!f&&c(e)&&e();try{const o=await i(u);if(o){const{nextPageToken:n,...y}=o,a=p(f,y);return c(s)&&s(a,y),n?k(i,{onStart:e,onUpdate:s,onComplete:r,token:n,previousProps:a}):(c(r)&&r(a),a)}}catch(o){t(o)}};export{k as p};
