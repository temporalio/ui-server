import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as de,m as I,g as t,f as ee,j as H,o as u,h as K,s as O,r as W,e as m,b as me,I as l,M as r,l as ie,a as _e,i as J,c as j,n as ae,k as re,t as Z,aQ as De}from"./BBjqMsu1.js";import{s as le}from"./DHOm-mSm.js";import{e as he,i as ye}from"./B8KdL4-8.js";import{s as ke}from"./Cd9fk9Xa.js";import{i as ge}from"./DIZ-FoJG.js";import{p as S,a as ce,s as we}from"./D42yUzBQ.js";import{B as ve}from"./BFnrD-w4.js";import{t as a}from"./DEjs8ZrU.js";import{b as Ie,c as Te}from"./BqDc1cgM.js";import{S as i}from"./S6Q2Q0ub.js";import{i as V}from"./DrCjka1e.js";import{C as Oe}from"./J6lFt9N9.js";import{I as fe}from"./BSrwByb7.js";import{N as Ne}from"./DWlzd8g0.js";import{S as pe,O as ne}from"./DLKQcdZn.js";import{o as Ue}from"./r33Ll6et.js";import{D as Re,T as Pe}from"./D97nOKN7.js";import{b as Le}from"./DGYYVAig.js";import{s as $e}from"./CtQjrHKC.js";var Me=ee('<div class="flex flex-col gap-2"><!> <!></div>');function Be(X,c){de(c,!1);let g=S(c,"value",12);const _=g()?new Date(g()):new Date,L=new Date(_.getUTCFullYear(),_.getUTCMonth(),_.getUTCDate());let h=I($e(L)),s=I(g()?String(_.getUTCHours()):""),A=I(g()?String(_.getUTCMinutes()):""),e=I(g()?String(_.getUTCSeconds()):"");Ue(()=>{g()||b()});const M=v=>{O(h,$e(v.detail)),b()},b=()=>{g(Le({date:t(h),hour:t(s),minute:t(A),second:t(e)}))};ge();var B=Me(),N=H(B);{let v=u(()=>(r(a),l(()=>a("common.value")))),U=u(()=>(r(a),l(()=>a("common.utc")))),p=u(()=>(r(a),l(()=>a("common.today")))),o=u(()=>(r(a),l(()=>a("common.close")))),E=u(()=>(r(a),l(()=>a("common.clear-input-button-label"))));Re(N,{get label(){return`${t(v)??""} (${t(U)??""})`},get selected(){return t(h)},get todayLabel(){return t(p)},get closeLabel(){return t(o)},get clearLabel(){return t(E)},$$events:{datechange:M}})}var x=K(N,2);Pe(x,{twelveHourClock:!1,get hour(){return t(s)},set hour(v){O(s,v)},get minute(){return t(A)},set minute(v){O(A,v)},get second(){return t(e)},set second(v){O(e,v)},$$events:{timechange:b},$$legacy:!0}),W(B),m(X,B),me()}var Fe=ee("<!> <!>",1),Ye=ee("<div><!></div>"),je=ee('<div class="flex flex-col gap-2 border-b border-subtle pb-4 sm:flex-row sm:gap-4"><div class="flex min-w-fit justify-between gap-2 sm:gap-4"><div class="grow [&amp;_button]:w-full"><!></div> <!></div> <!> <!></div>');function He(X,c){de(c,!1);const g=()=>ce(Te,"$customSearchAttributes",L),_=()=>ce(Ie,"$customSearchAttributeOptions",L),[L,h]=we(),s=I();let A=S(c,"attributes",24,()=>[]),e=S(c,"attribute",12),M=S(c,"onRemove",8),b=S(c,"id",8),N=I(e().label||void 0);const x=n=>g()[n],v=n=>{e(e().label=n,!0);const f=x(n);f===i.KEYWORDLIST?e(e().value=[],!0):e().type!==f&&e(e().value=null,!0),e(e().type=f,!0)};ie(()=>r(A()),()=>{O(s,n=>!!A().find(f=>f.label===n))}),_e(),ge();var U=je(),p=H(U),o=H(p),E=H(o);{let n=u(()=>(r(a),l(()=>a("workflows.custom-search-attribute")))),f=u(()=>(r(a),l(()=>a("workflows.select-attribute"))));pe(E,{get id(){return`search-attribute-${b()??""}`},"data-testid":"search-attribute-select",get label(){return t(n)},get placeholder(){return t(f)},onChange:v,get value(){return t(N)},set value(y){O(N,y)},children:(y,se)=>{var R=J(),$=j(R);he($,1,_,ye,(C,w,te,D)=>{let d=()=>t(w).value,k=()=>t(w).label,G=()=>t(w).type;{let q=u(()=>(t(s),d(),l(()=>t(s)(d()))));ne(C,{get disabled(){return t(q)},get value(){return d()},get description(){return G()},children:(Q,T)=>{ae();var P=re();Z(()=>le(P,k())),m(Q,P)},$$slots:{default:!0}})}}),m(y,R)},$$slots:{default:!0},$$legacy:!0})}W(o);var F=K(o,2);ve(F,{variant:"ghost",leadingIcon:"close",class:"mt-6 w-10 rounded-full sm:hidden",$$events:{click:()=>M()(e().label)}}),W(p);var be=K(p,2);{var Se=n=>{{let f=u(()=>(r(a),l(()=>a("common.value"))));pe(n,{get label(){return t(f)},get id(){return`attribute-value-${b()??""}`},get value(){return e().value},set value(y){e(e().value=y,!0)},children:(y,se)=>{var R=Fe(),$=j(R);ne($,{value:!0,children:(w,te)=>{ae();var D=re();Z(d=>le(D,d),[()=>(r(a),l(()=>a("common.true")))]),m(w,D)},$$slots:{default:!0}});var C=K($,2);ne(C,{value:!1,children:(w,te)=>{ae();var D=re();Z(d=>le(D,d),[()=>(r(a),l(()=>a("common.false")))]),m(w,D)},$$slots:{default:!0}}),m(y,R)},$$slots:{default:!0},$$legacy:!0})}},Ae=n=>{var f=J(),y=j(f);{var se=$=>{Be($,{get value(){return e().value},set value(C){e(e().value=C,!0)},$$legacy:!0})},R=$=>{var C=J(),w=j(C);{var te=d=>{var k=Ye(),G=H(k);{let q=u(()=>(r(a),l(()=>a("common.value")))),Q=u(()=>(r(e()),l(()=>e().value<Number.MAX_SAFE_INTEGER)));Ne(G,{get label(){return t(q)},get id(){return`attribute-value-${b()??""}`},get valid(){return t(Q)},hintText:"Number is too large",max:l(()=>Number.MAX_SAFE_INTEGER),get value(){return e().value},set value(T){e(e().value=T,!0)},$$legacy:!0})}W(k),m(d,k)},D=d=>{var k=J(),G=j(k);{var q=T=>{{let P=u(()=>(r(a),l(()=>a("common.value"))));Oe(T,{get label(){return t(P)},get id(){return`attribute-value-${b()??""}`},class:"w-full",removeChipButtonLabel:z=>a("workflows.remove-keyword-label",{keyword:z}),get chips(){return e().value},set chips(z){e(e().value=z,!0)},$$legacy:!0})}},Q=T=>{var P=J(),z=j(P);{var Ee=Y=>{{let ue=u(()=>(r(a),l(()=>a("common.value"))));fe(Y,{get label(){return t(ue)},"data-testid":"custom-search-attribute-value",get id(){return`attribute-value-${b()??""}`},class:"grow",get value(){return e().value},set value(oe){e(e().value=oe,!0)},$$legacy:!0})}},Ce=Y=>{{let ue=u(()=>(r(a),l(()=>a("common.value")))),oe=u(()=>(r(a),l(()=>a("workflows.unsupported-attribute"))));fe(Y,{get label(){return t(ue)},get id(){return`attribute-value-${b()??""}`},class:"grow",get placeholder(){return t(oe)},error:!0,disabled:!0,value:""})}};V(z,Y=>{r(e()),r(i),l(()=>e().type===i.TEXT||e().type===i.KEYWORD||e().type===i.UNSPECIFIED)?Y(Ee):Y(Ce,!1)},!0)}m(T,P)};V(G,T=>{r(e()),r(i),l(()=>e().type===i.KEYWORDLIST)?T(q):T(Q,!1)},!0)}m(d,k)};V(w,d=>{r(e()),r(i),l(()=>e().type===i.INT||e().type===i.DOUBLE)?d(te):d(D,!1)},!0)}m($,C)};V(y,$=>{r(e()),r(i),l(()=>e().type===i.DATETIME)?$(se):$(R,!1)},!0)}m(n,f)};V(be,n=>{r(e()),r(i),l(()=>e().type===i.BOOL)?n(Se):n(Ae,!1)})}var xe=K(be,2);ve(xe,{variant:"ghost",leadingIcon:"close","data-testid":"search-attribute-close-button",class:"mt-6 w-10 rounded-full max-sm:hidden",$$events:{click:()=>M()(e().label)}}),W(U),m(X,U),me(),h()}var Ke=ee("<div><!> <!></div>");function dt(X,c){de(c,!1);const g=()=>ce(Te,"$customSearchAttributes",_),[_,L]=we(),h=I(),s=I();let A=S(c,"class",8,""),e=S(c,"attributesToAdd",28,()=>[]),M=S(c,"buttonCopy",24,()=>a("workflows.add-search-attribute")),b=S(c,"variant",8,"ghost");const B=()=>{e([...e(),{label:null,value:null,type:i.UNSPECIFIED}])},N=p=>{e(e().filter(o=>o.label!==p))};ie(()=>g(),()=>{O(h,Object.keys(g()))}),ie(()=>r(e()),()=>{O(s,e())}),_e(),ge();var x=Ke(),v=H(x);he(v,1,()=>t(s),ye,(p,o,E)=>{He(p,{id:E,get attributes(){return t(s)},onRemove:N,get attribute(){return t(s)[E]},set attribute(F){t(s)[E]=F,De(()=>(t(s),e()))},$$legacy:!0})});var U=K(v,2);{let p=u(()=>(t(h),t(s),l(()=>!t(h).length||t(s).length===t(h).length||t(s).filter(o=>o.value===""||o.value===null||Array.isArray(o.value)&&o.value.length===0).length>0)));ve(U,{get variant(){return b()},leadingIcon:"add",class:"max-sm:w-full","data-testid":"add-search-attribute-button",get disabled(){return t(p)},$$events:{click:B},children:(o,E)=>{ae();var F=re();Z(()=>le(F,M())),m(o,F)},$$slots:{default:!0}})}W(x),Z(()=>ke(x,1,`flex flex-col gap-4 ${A()??""}`)),m(X,x),me(),L()}export{dt as A};
