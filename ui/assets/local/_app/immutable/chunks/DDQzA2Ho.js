import"./CWj6FrbW.js";import{p as de,m as ae,g as t,f as te,j as P,o as q,h as L,s as Z,r as M,e as u,b as me,I as z,M as J,i as Q,c as R,n as re,k as le,t as ee,v as o}from"./BzuLCQNf.js";import{s as se}from"./HOnlAALn.js";import{e as pe}from"./DHcq7Esf.js";import{c as Te,s as Se}from"./wWuJlbLq.js";import{p as B,a as ce,s as he}from"./DdNojIXk.js";import{B as ve}from"./D6Qk-Ztv.js";import{t as a}from"./DEjs8ZrU.js";import{b as xe,c as _e}from"./3i2J6kZN.js";import{S as p}from"./S6Q2Q0ub.js";import{i as V}from"./Be-bjpec.js";import{C as Ae}from"./BcAdJLz3.js";import{I as be}from"./CrujQJxK.js";import{N as Ee}from"./CvKuLrZV.js";import{S as ge,O as ie}from"./CQLss2FW.js";import"./69_IOA4Y.js";import{o as Ce}from"./SxBBeV83.js";import{i as De,t as ke}from"./W-5sOwmb.js";import{D as Ie,T as Oe}from"./DM7Ox7SE.js";import{b as Ne}from"./DGYYVAig.js";import{s as fe}from"./CtQjrHKC.js";var Ue=te('<div class="flex flex-col gap-2"><!> <!></div>');function Re(F,r){de(r,!1);let v=B(r,"value",12);const g=v()?new Date(v()):new Date,O=new Date(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate());let C=ae(fe(O)),e=ae(v()?String(g.getUTCHours()):""),D=ae(v()?String(g.getUTCMinutes()):""),y=ae(v()?String(g.getUTCSeconds()):"");Ce(()=>{v()||T()});const Y=l=>{Z(C,fe(l.detail)),T()},T=()=>{v(Ne({date:t(C),hour:t(e),minute:t(D),second:t(y)}))};De();var h=Ue(),S=P(h);{let l=q(()=>(J(a),z(()=>a("common.value")))),j=q(()=>(J(a),z(()=>a("common.utc")))),n=q(()=>(J(a),z(()=>a("common.today")))),d=q(()=>(J(a),z(()=>a("common.close")))),x=q(()=>(J(a),z(()=>a("common.clear-input-button-label"))));Ie(S,{get label(){return`${t(l)??""} (${t(j)??""})`},get selected(){return t(C)},get todayLabel(){return t(n)},get closeLabel(){return t(d)},get clearLabel(){return t(x)},$$events:{datechange:Y}})}var f=L(S,2);Oe(f,{twelveHourClock:!1,get hour(){return t(e)},set hour(l){Z(e,l)},get minute(){return t(D)},set minute(l){Z(D,l)},get second(){return t(y)},set second(l){Z(y,l)},$$events:{timechange:T},$$legacy:!0}),M(h),u(F,h),me()}var Pe=te("<!> <!>",1),Le=te("<div><!></div>"),Me=te('<div class="flex flex-col gap-2 border-b border-subtle pb-4 sm:flex-row sm:gap-4"><div class="flex min-w-fit justify-between gap-2 sm:gap-4"><div class="grow [&amp;_button]:w-full"><!></div> <!></div> <!> <!></div>');function Be(F,r){de(r,!0);const v=()=>ce(_e,"$customSearchAttributes",O),g=()=>ce(xe,"$customSearchAttributeOptions",O),[O,C]=he();let e=B(r,"attribute",15),D,y=o(()=>e().label||D);const Y=s=>!!r.attributes.find(c=>c.label===s),T=s=>v()[s],h=s=>{e(e().label=s,!0);const c=T(s);c===p.KEYWORDLIST?e(e().value=[],!0):e().type!==c&&e(e().value=null,!0),e(e().type=c,!0)};var S=Me(),f=P(S),l=P(f),j=P(l);{let s=o(()=>a("workflows.custom-search-attribute")),c=o(()=>a("workflows.select-attribute"));ge(j,{get id(){return`search-attribute-${r.id??""}`},"data-testid":"search-attribute-select",get label(){return t(s)},get placeholder(){return t(c)},onChange:h,get value(){return t(y)},set value(_){Z(y,_)},children:(_,ue)=>{var k=Q(),m=R(k);pe(m,1,g,({value:$,label:b,type:H})=>b,($,b,H,A)=>{let i=()=>t(b).value,E=()=>t(b).label,K=()=>t(b).type;{let W=o(()=>Y(i()));ie($,{get disabled(){return t(W)},get value(){return i()},get description(){return K()},children:(X,w)=>{re();var I=le();ee(()=>se(I,E())),u(X,I)},$$slots:{default:!0}})}}),u(_,k)},$$slots:{default:!0}})}M(l);var n=L(l,2);ve(n,{variant:"ghost",leadingIcon:"close",class:"mt-6 w-10 rounded-full sm:hidden",$$events:{click:()=>r.onRemove(e().label)}}),M(f);var d=L(f,2);{var x=s=>{{let c=o(()=>a("common.value"));ge(s,{get label(){return t(c)},get id(){return`attribute-value-${r.id??""}`},get value(){return e().value},set value(_){e(e().value=_,!0)},children:(_,ue)=>{var k=Pe(),m=R(k);ie(m,{value:!0,children:(b,H)=>{re();var A=le();ee(i=>se(A,i),[()=>a("common.true")]),u(b,A)},$$slots:{default:!0}});var $=L(m,2);ie($,{value:!1,children:(b,H)=>{re();var A=le();ee(i=>se(A,i),[()=>a("common.false")]),u(b,A)},$$slots:{default:!0}}),u(_,k)},$$slots:{default:!0}})}},N=s=>{var c=Q(),_=R(c);{var ue=m=>{Re(m,{get value(){return e().value},set value($){e(e().value=$,!0)}})},k=m=>{var $=Q(),b=R($);{var H=i=>{var E=Le(),K=P(E);{let W=o(()=>a("common.value")),X=o(()=>e().value<Number.MAX_SAFE_INTEGER);Ee(K,{get label(){return t(W)},get id(){return`attribute-value-${r.id??""}`},get valid(){return t(X)},hintText:"Number is too large",max:Number.MAX_SAFE_INTEGER,get value(){return e().value},set value(w){e(e().value=w,!0)}})}M(E),u(i,E)},A=i=>{var E=Q(),K=R(E);{var W=w=>{{let I=o(()=>a("common.value"));Ae(w,{get label(){return t(I)},get id(){return`attribute-value-${r.id??""}`},class:"w-full",removeChipButtonLabel:G=>a("workflows.remove-keyword-label",{keyword:G}),get chips(){return e().value},set chips(G){e(e().value=G,!0)}})}},X=w=>{var I=Q(),G=R(I);{var we=U=>{{let oe=o(()=>a("common.value"));be(U,{get label(){return t(oe)},"data-testid":"custom-search-attribute-value",get id(){return`attribute-value-${r.id??""}`},class:"grow",get value(){return e().value},set value(ne){e(e().value=ne,!0)}})}},ye=U=>{{let oe=o(()=>a("common.value")),ne=o(()=>a("workflows.unsupported-attribute"));be(U,{get label(){return t(oe)},get id(){return`attribute-value-${r.id??""}`},class:"grow",get placeholder(){return t(ne)},error:!0,disabled:!0,value:""})}};V(G,U=>{e().type===p.TEXT||e().type===p.KEYWORD||e().type===p.UNSPECIFIED?U(we):U(ye,!1)},!0)}u(w,I)};V(K,w=>{e().type===p.KEYWORDLIST?w(W):w(X,!1)},!0)}u(i,E)};V(b,i=>{e().type===p.INT||e().type===p.DOUBLE?i(H):i(A,!1)},!0)}u(m,$)};V(_,m=>{e().type===p.DATETIME?m(ue):m(k,!1)},!0)}u(s,c)};V(d,s=>{e().type===p.BOOL?s(x):s(N,!1)})}var $e=L(d,2);ve($e,{variant:"ghost",leadingIcon:"close","data-testid":"search-attribute-close-button",class:"mt-6 w-10 rounded-full max-sm:hidden",$$events:{click:()=>r.onRemove(e().label)}}),M(S),u(F,S),me(),C()}var Fe=te("<div><!> <!></div>");function nt(F,r){de(r,!0);const v=()=>ce(_e,"$customSearchAttributes",g),[g,O]=he();let C=B(r,"class",3,""),e=B(r,"attributesToAdd",15),D=B(r,"buttonCopy",19,()=>a("workflows.add-search-attribute")),y=B(r,"variant",3,"ghost");const Y=()=>{e([...e(),{label:null,value:null,type:p.UNSPECIFIED}])},T=o(()=>Object.keys(v())),h=o(e),S=n=>{e(e().filter(d=>d.label!==n))};var f=Fe(),l=P(f);pe(l,19,()=>t(h),(n,d)=>`${n.label}-${d}`,(n,d,x)=>{Be(n,{get id(){return t(x)},get attributes(){return t(h)},onRemove:S,get attribute(){return e()[t(x)]},set attribute(N){e(e()[t(x)]=N,!0)}})});var j=L(l,2);{let n=o(()=>!t(T).length||t(h).length===t(T).length);ve(j,{get variant(){return y()},leadingIcon:"add",class:"max-sm:w-full","data-testid":"add-search-attribute-button",get disabled(){return t(n)},$$events:{click:Y},children:(d,x)=>{re();var N=le();ee(()=>se(N,D())),u(d,N)},$$slots:{default:!0}})}M(f),ee(n=>Se(f,1,n),[()=>Te(ke("flex flex-col gap-4",C()))]),u(F,f),me(),O()}export{nt as A};
