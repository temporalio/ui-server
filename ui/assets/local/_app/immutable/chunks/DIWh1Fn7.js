import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as S,l as i,s,m as d,g as e,ak as b,L as T,a as W,h as k,f as C,e as h,b as j}from"./U_G9-AHJ.js";import{a as q}from"./B38O4Zli.js";import{i as z,s as V}from"./D2UjXFL6.js";import{p as u,a as B,s as F}from"./DNW1xCX_.js";import{p as G}from"./PpxJq6tV.js";import{a as H}from"./uWoPbzQG.js";import{g as J,b as K,a as N}from"./t3eJnCMt.js";function ae(w,n){S(n,!1);const[D,L]=F(),a=()=>B(G,"$page",D),g=d(),p=d(),m=d(),_=d(),y=d();var l=d();let M=u(n,"value",8,void 0),c=u(n,"fallback",8,""),x=u(n,"prefix",8,""),v=u(n,"onDecode",8,void 0);const P=120;let o=d("");const E=t=>x()?(t=`${x()} â€¢ ${t}`,t.length<P?t:t.slice(0,P)+"..."):t;i(()=>a(),()=>{s(g,J(a().data.settings))}),i(()=>a(),()=>{s(p,K(a().data.settings))}),i(()=>a(),()=>{s(m,N(a().data.settings))}),i(()=>(a(),b(l),e(g),e(p),e(m)),()=>{s(_,{...a().data.settings,codec:{...s(l,a().data.settings)===null||b(l)===void 0?void 0:b(l).codec,endpoint:e(g),passAccessToken:e(p),includeCredentials:e(m)}})}),i(()=>(T(c()),e(o),e(_),T(v())),()=>{s(y,async t=>{if(!t)return c();if(e(o))return e(o);const r=await H(t,e(_));return typeof r=="string"?(s(o,E(r)),v()&&v()(e(o)),e(o)):(s(o,c()),c())})}),W(),z();var A=k(),I=C(A);q(I,()=>e(y)(M()),null,(t,r)=>{var f=k(),R=C(f);V(R,n,"default",{get decodedValue(){return e(r)}},null),h(t,f)},t=>{var r=k(),f=C(r);V(f,n,"default",{get decodedValue(){return c()}},null),h(t,r)}),h(w,A),j(),L()}export{ae as M};
