import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as ae,l as ne,s as se,m as re,O as e,a as ie,f as T,j as x,h as g,r as k,t as y,K as o,e as v,g as R,o as O,k as W,b as oe}from"./DZ1-1a5q.js";import{s as q}from"./DxwvfIkW.js";import{i as m}from"./DnKg3jxh.js";import{t as le,f as de}from"./DWtHxl-H.js";import{s as ce}from"./D3L9VHHD.js";import{c as h,s as C}from"./B3h3Bc2r.js";import{i as fe,t as r}from"./Bby3K3wO.js";import{l as ue,p as u}from"./TaaIktnz.js";import{c as pe}from"./CqqsKTDn.js";import{S as ge,I as j}from"./BwERH40W.js";import{T as ve}from"./DM1_LFNw.js";import{t as a}from"./DEjs8ZrU.js";import{H as me}from"./DaqlfAHd.js";var we=T("<span><!></span>"),_e=T("<span><!></span>"),be=T("<span><!> </span>"),xe=T("<div><span><!> <!></span> <!> <!> <!></div>");function Ue(z,i){const I=ue(i,["children","$$slots","$$events","$$legacy"]);ae(i,!1);const N=re();let K=u(i,"delay",8,0),w=u(i,"status",8,"Running"),F=u(i,"count",8,void 0),M=u(i,"loading",8,!1),l=u(i,"newCount",8,void 0),s=u(i,"big",8,!1),p=u(i,"delayed",8,!1),d=u(i,"taskFailure",8,!1);const B={Running:a("workflows.running"),TimedOut:a("workflows.timed-out"),Completed:a("workflows.completed"),Failed:a("workflows.failed"),ContinuedAsNew:a("workflows.continued-as-new"),Canceled:a("workflows.canceled"),Terminated:a("workflows.terminated"),Paused:a("workflows.paused"),Scheduled:a("events.event-classification.scheduled"),Started:a("events.event-classification.started"),Unspecified:a("events.event-classification.unspecified"),Open:a("events.event-classification.open"),New:a("events.event-classification.new"),Initiated:a("events.event-classification.initiated"),Fired:a("events.event-classification.fired"),CancelRequested:a("events.event-classification.cancelrequested"),Signaled:a("events.event-classification.signaled"),Pending:a("events.event-classification.pending"),Retrying:a("events.event-classification.retrying")},P=pe(["flex items-center rounded-sm px-1 py-0.5 h-5 whitespace-nowrap text-black gap-1 font-medium"],{variants:{status:{Running:"bg-blue-300",TimedOut:"bg-orange-200",Completed:"bg-green-200",Failed:"bg-red-200",ContinuedAsNew:"bg-purple-200",Canceled:"bg-slate-100",Terminated:"bg-yellow-200",Paused:"bg-yellow-200",Unspecified:"bg-slate-100",Scheduled:"bg-blue-300",Started:"bg-blue-300",Open:"bg-green-200",New:"bg-blue-300",Initiated:"bg-blue-300",Fired:"bg-pink-200",CancelRequested:"bg-yellow-200",Signaled:"bg-pink-200",Pending:"bg-purple-200",Retrying:"bg-red-200"}}});ne(()=>(e(p()),e(d())),()=>{se(N,p()?a("workflows.delayed"):d()?a("workflows.task-failure"):"")}),ie(),fe();{let D=O(()=>!p()&&!d());ve(z,{topLeft:!0,get text(){return R(N)},get hide(){return R(D)},class:"block",children:(E,ke)=>{var _=xe(),S=x(_),A=x(S);{var G=t=>{ge(t,{class:"h-4 w-4 animate-spin"})},J=t=>{var n=W();y(f=>q(n,f),[()=>(e(F()),o(()=>F().toLocaleString()))]),v(t,n)};m(A,t=>{M()?t(G):F()>=0&&t(J,1)})}var H=g(A),Q=g(H);{var V=t=>{me(t,{get delay(){return K()}})};m(Q,t=>{w()==="Running"&&!p()&&!d()&&t(V)})}k(S);var L=g(S,2);{var X=t=>{var n=we(),f=x(n);{let c=O(()=>(e(r),e(s()),o(()=>r(!s()&&"px-0.5"))));j(f,{name:"clock",get class(){return R(c)}})}k(n),y(c=>C(n,1,c),[()=>h((e(r),e(l()),e(d()),e(s()),o(()=>r(P({status:"Paused"}),"rounded-l-none",(l()||d())&&"rounded-r-none",s()&&"h-8 px-2"))))]),v(t,n)};m(L,t=>{p()&&t(X)})}var U=g(L,2);{var Y=t=>{var n=_e(),f=x(n);{let c=O(()=>(e(r),e(s()),o(()=>r(!s()&&"px-0.5"))));j(f,{name:"exclamation-octagon",get class(){return R(c)}})}k(n),y(c=>C(n,1,c),[()=>h((e(r),e(l()),e(s()),o(()=>r(P(),"bg-red-200 text-red-900 dark:bg-red-700 dark:text-white","rounded-l-none",l()&&"rounded-r-none",s()&&"h-8 px-2"))))]),v(t,n)};m(U,t=>{d()&&t(Y)})}var Z=g(U,2);{var $=t=>{var n=be(),f=x(n);{var c=b=>{var te=W("+");v(b,te)};m(f,b=>{l()>0&&b(c)})}var ee=g(f,1,!0);k(n),y(b=>{C(n,1,b),q(ee,l())},[()=>h((e(r),e(s()),o(()=>r("font-base surface-primary rounded-r-sm px-1 py-0.5",s()&&"px-2"))))]),le(1,n,()=>de),v(t,n)};m(Z,t=>{l()&&t($)})}k(_),y((t,n)=>{C(_,1,t),ce(_,"data-testid",(e(I),o(()=>I["test-id"]||"workflow-status"))),C(S,1,n),q(H,` ${e(w()),o(()=>B[w()])??""} `)},[()=>h((e(r),e(s()),o(()=>r("relative flex items-center gap-0 text-center text-xs leading-4",s()&&"text-lg")))),()=>h((e(r),e(w()),e(l()),e(p()),e(d()),e(s()),o(()=>r(P({status:w()}),(l()||p()||d())&&"rounded-r-none",s()&&"h-8 px-4"))))]),v(E,_)},$$slots:{default:!0}})}oe()}export{Ue as W};
