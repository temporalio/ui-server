import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as Me,l as tt,s as Te,m as rt,g as e,a as yt,t as ae,i as re,o as N,c as Ze,n as Je,k as y,j as m,e as a,r as oe,b as Re,h as Ke,f as Le,ac as f,ah as gt}from"./BUtADDjV.js";import{s as g,e as be,d as ht}from"./BIRKK4Cx.js";import{t as ot,a as _t,f as kt}from"./Buo-kHrs.js";import{p as Ge,s as at}from"./Bfc47y5P.js";import{i as nt,t as pt}from"./h9b1Gopq.js";import{a as z,s as qe,b as we,p as O}from"./B1GMiS9d.js";import{p as ct}from"./DL061CTb.js";import{B as xt}from"./GvnbonMU.js";import{I as Tt}from"./Dbn0k47H.js";import{t as te}from"./D2OY9xdY.js";import{w as Be}from"./Dgc1f04S.js";import{c as Bt}from"./PL4gBzqq.js";import{s as It,i as Ft,w as Dt,c as St}from"./CeiffAIw.js";import{l as Wt,r as Ct}from"./DxLL7oVp.js";import{a as Vt,u as At}from"./C-ruumcr.js";import{M as st}from"./fTC5Z_Cv.js";import{u as Ot}from"./D6icQx-f.js";import{i as o}from"./Cx0Hed4m.js";import{p as Et}from"./CDTaStrc.js";import{W as Pt}from"./55Irp7Oo.js";import{B as jt}from"./DVhdhZc5.js";import{f as xe,r as Lt,t as Mt}from"./Cfkcborb.js";import{S as Xe}from"./S6Q2Q0ub.js";import{i as Rt}from"./Dzb719w0.js";import{k as qt}from"./CeMbHz9m.js";import{g as Ht}from"./CT3a8W8Y.js";import{c as ze,h as Qt}from"./D4uR32U_.js";import{k as Nt}from"./DN0UWYhh.js";import{c as Ut,s as lt}from"./D8C9uSNL.js";import{I as it}from"./BVWW46Sb.js";import{c as Yt}from"./kVg1qS1e.js";import{L as zt}from"./CLc0AhQw.js";import{s as Kt}from"./byHaz_JD.js";var Gt=ae('<div class="w-full"><form class="flex gap-0" role="search"><!> <!></form></div>');function qr(h,t){Me(t,!1);const[v,W]=qe(),n=()=>z(ct,"$page",v),_=()=>z(It,"$searchAttributes",v),T=rt();let r=rt("");function x(u){Te(r,u)}const d=()=>{if(!e(r))we(Be,[]),we(Wt,"");else try{we(Be,Vt(e(r),_()))}catch(u){console.error(u)}e(r)&&e(r)===e(T)?we(Ct,Date.now()):Ot({url:n().url,parameter:"query",value:e(r),allowEmpty:!0,clearParameters:[Bt]})};function E(){d()}tt(()=>n(),()=>{Te(T,n().url.searchParams.get("query"))}),tt(()=>e(T),()=>{x(e(T))}),yt(),nt();var S=Gt(),P=re(S),M=re(P);const K=N(()=>te("workflows.search-placeholder")),G=N(()=>te("workflows.search-placeholder")),X=N(()=>te("common.clear-input-button-label")),l=N(()=>!e(r)||e(r).length<st);Tt(M,{id:"manual-search",type:"search",get label(){return e(K)},labelHidden:!0,get placeholder(){return e(G)},icon:"search",class:"grow lg:w-3/4 [&_*]:border-r-0",clearable:!0,get clearButtonLabel(){return e(X)},maxLength:st,get hideCount(){return e(l)},get value(){return e(r)},set value(u){Te(r,u)},$$events:{clear:E},$$legacy:!0});var s=Ze(M,2);xt(s,{"data-testid":"manual-search-button",variant:"primary",type:"submit",children:(u,C)=>{Je();var V=y();m(b=>g(V,b),[()=>te("common.search")],N),a(u,V)},$$slots:{default:!0}}),oe(P),oe(S),be("submit",P,Ge(d)),ot(1,P,()=>_t,()=>({x:-100,duration:150})),ot(1,S,()=>kt),a(h,S),Re(),W()}const Xt=(h,t=2)=>{if(!+h)return"0 Bytes";const v=1024,W=t<0?0:t,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],_=Math.floor(Math.log(h)/Math.log(v));return`${parseFloat((h/Math.pow(v,_)).toFixed(W))} ${n[_]}`};var Zt=ae('<button id="filter-button"><!></button>'),Jt=ae('<button class="copy-or-filter-button svelte-qwjj97" id="copy-button"><!></button>'),$t=ae("<div><!> <!></div>");function er(h,t){Me(t,!1);const[v,W]=qe(),n=()=>z(X,"$copied",v);let _=O(t,"show",8,!1),T=O(t,"filterable",8,!0),r=O(t,"copyable",8,!0),x=O(t,"content",8),d=O(t,"onFilter",8,()=>{}),E=O(t,"filtered",8,!1),S=O(t,"copyIconTitle",8),P=O(t,"copySuccessIconTitle",8),M=O(t,"filterIconTitle",8),K=O(t,"class",8,"");const{copy:G,copied:X}=Yt();nt();var l=Ke(),s=Le(l);{var u=C=>{var V=$t(),b=re(V);{var R=i=>{var w=Zt();let j;var Z=re(w);Nt(Z,E,c=>{it(c,{get title(){return M()},name:"filter",class:"m-1"})}),oe(w),m(c=>j=lt(w,1,"copy-or-filter-button svelte-qwjj97",null,j,c),[()=>({filtered:E()})],N),be("click",w,Ge(at(function(...c){var B;(B=d())==null||B.apply(this,c)}))),a(i,w)};o(b,i=>{T()&&i(R)})}var ye=Ze(b,2);{var ge=i=>{var w=Jt(),j=re(w);const Z=N(()=>n()?P():S()),c=N(()=>n()?"checkmark":"copy");it(j,{get title(){return e(Z)},get name(){return e(c)},class:"m-1"}),oe(w),be("click",w,Ge(at(B=>G(B,x())))),a(i,w)};o(ye,i=>{r()&&i(ge)})}oe(V),m(i=>lt(V,1,i,"svelte-qwjj97"),[()=>Ut(pt("copy-or-filter",K()))],N),a(C,V)};o(s,C=>{_()&&C(u)})}a(h,l),Re(),W()}var tr=ae("<!> <!>",1);function ee(h,t){Me(t,!0);const[v,W]=qe(),n=()=>z(Be,"$workflowFilters",v),_=()=>z(ct,"$page",v);let T=O(t,"filterOrCopyButtonsVisible",3,!1);const r=()=>{const l=n().find(u=>u.attribute===t.attribute),s=()=>n().filter(u=>u.attribute!==t.attribute);if(!l||l.value!==t.value){const u={attribute:t.attribute,type:Xe.KEYWORD,value:t.value,conditional:"=",operator:"",parenthesis:""};we(Be,[...s(),u])}else we(Be,[...s()]);At(_().url,n())};var x=tr(),d=Le(x);{var E=l=>{zt(l,{get href(){return t.href},children:(s,u)=>{Je();var C=y();m(()=>g(C,t.value)),a(s,C)},$$slots:{default:!0}})},S=l=>{var s=y();m(()=>g(s,t.value)),a(l,s)};o(d,l=>{t.href?l(E):l(S,!1)})}var P=Ze(d,2);const M=f(()=>te("common.copy-icon-title")),K=f(()=>te("common.copy-success-icon-title")),G=f(()=>te("common.filter-workflows")),X=f(()=>n().some(l=>l.attribute===t.attribute&&l.value===t.value));er(P,{get copyIconTitle(){return e(M)},get copySuccessIconTitle(){return e(K)},get filterIconTitle(){return e(G)},get show(){return T()},get content(){return t.value},onFilter:r,get filtered(){return e(X)}}),a(h,x),Re(),W()}const rr=(h,t)=>{const v=h.relatedTarget;v&&!["filter-button","copy-button"].includes(v.id)&&t()};var or=ae('<td class="workflows-summary-table-body-cell filterable svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>'),ar=ae('<td class="workflows-summary-table-body-cell svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>');function Hr(h,t){Me(t,!0);const[v,W]=qe(),n=()=>z(Mt,"$timeFormat",v),_=()=>z(Lt,"$relativeTime",v),T=()=>z(St,"$customSearchAttributes",v),r=f(()=>t.column.label),x=f(()=>Et.params.namespace);let d=gt(!1);const E=()=>Te(d,!0),S=()=>Te(d,!1),P=["Type","Workflow ID","Run ID","Deployment","Versioning Behavior","Deployment Version","Build ID"];var M=Ke(),K=Le(M);{var G=l=>{var s=or();s.__mouseover=E,s.__focusin=E,s.__focusout=[rr,S];var u=re(s);{var C=b=>{const R=f(()=>ze({namespace:e(x),workflow:t.workflow.id,run:t.workflow.runId}));ee(b,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"WorkflowType",get value(){return t.workflow.name},get href(){return e(R)}})},V=(b,R)=>{{var ye=i=>{const w=f(()=>ze({namespace:e(x),workflow:t.workflow.id,run:t.workflow.runId}));ee(i,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"WorkflowId",get value(){return t.workflow.id},get href(){return e(w)}})},ge=(i,w)=>{{var j=c=>{const B=f(()=>ze({namespace:e(x),workflow:t.workflow.id,run:t.workflow.runId}));ee(c,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"RunId",get value(){return t.workflow.runId},get href(){return e(B)}})},Z=(c,B)=>{{var he=I=>{const A=f(()=>{var k,F;return(F=(k=t.workflow.searchAttributes)==null?void 0:k.indexedFields)==null?void 0:F.TemporalWorkerDeployment}),_e=f(()=>e(A)&&typeof e(A)=="string"?e(A):""),ke=f(()=>Qt({namespace:e(x),deployment:e(A)}));ee(I,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"TemporalWorkerDeployment",get value(){return e(_e)},get href(){return e(ke)}})},He=(I,A)=>{{var _e=k=>{const F=f(()=>{var se,p;return(p=(se=t.workflow.searchAttributes)==null?void 0:se.indexedFields)==null?void 0:p.TemporalWorkerDeploymentVersion}),U=f(()=>e(F)&&typeof e(F)=="string"?e(F):"");ee(k,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"TemporalWorkerDeploymentVersion",get value(){return e(U)}})},ke=(k,F)=>{{var U=p=>{const L=f(()=>{var Y,D,q,H,$;return((q=(D=(Y=t.workflow)==null?void 0:Y.searchAttributes)==null?void 0:D.indexedFields)==null?void 0:q.TemporalWorkerBuildId)||Ht(($=(H=t.workflow.searchAttributes)==null?void 0:H.indexedFields)==null?void 0:$.TemporalWorkerDeploymentVersion)}),J=f(()=>e(L)&&typeof e(L)=="string"?e(L):"");ee(p,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"TemporalWorkerBuildId",get value(){return e(J)}})},se=(p,L)=>{{var J=Y=>{const D=f(()=>{var H,$;return($=(H=t.workflow.searchAttributes)==null?void 0:H.indexedFields)==null?void 0:$.TemporalWorkflowVersioningBehavior}),q=f(()=>e(D)&&typeof e(D)=="string"?e(D):"");ee(Y,{get filterOrCopyButtonsVisible(){return e(d)},attribute:"TemporalWorkflowVersioningBehavior",get value(){return e(q)}})};o(p,Y=>{e(r)==="Versioning Behavior"&&Y(J)},L)}};o(k,p=>{e(r)==="Build ID"?p(U):p(se,!1)},F)}};o(I,k=>{e(r)==="Deployment Version"?k(_e):k(ke,!1)},A)}};o(c,I=>{e(r)==="Deployment"?I(he):I(He,!1)},B)}};o(i,c=>{e(r)==="Run ID"?c(j):c(Z,!1)},w)}};o(b,i=>{e(r)==="Workflow ID"?i(ye):i(ge,!1)},R)}};o(u,b=>{e(r)==="Type"?b(C):b(V,!1)})}oe(s),be("focus",s,E),be("mouseleave",s,S),be("blur",s,S),a(l,s)},X=l=>{var s=ar(),u=re(s);{var C=b=>{const R=f(()=>Rt(t.workflow));Pt(b,{get status(){return t.workflow.status},get delayed(){return e(R)}})},V=(b,R)=>{{var ye=i=>{var w=y();m(j=>g(w,j),[()=>xe(t.workflow.endTime,n(),{relative:_()})]),a(i,w)},ge=(i,w)=>{{var j=c=>{var B=y();m(he=>g(B,he),[()=>xe(t.workflow.startTime,n(),{relative:_()})]),a(c,B)},Z=(c,B)=>{{var he=I=>{var A=y();m(()=>g(A,t.workflow.taskQueue)),a(I,A)},He=(I,A)=>{{var _e=k=>{var F=y();m(()=>{var U;return g(F,((U=t.workflow)==null?void 0:U.parentNamespaceId)??"")}),a(k,F)},ke=(k,F)=>{{var U=p=>{var L=y();m(J=>g(L,J),[()=>Xt(parseInt(t.workflow.historySizeBytes,10))]),a(p,L)},se=(p,L)=>{{var J=D=>{var q=y();m(H=>g(q,H),[()=>parseInt(t.workflow.stateTransitionCount,10)>0?t.workflow.stateTransitionCount:""]),a(D,q)},Y=(D,q)=>{{var H=le=>{var Ie=y();m(Qe=>g(Ie,Qe),[()=>xe(t.workflow.executionTime,n(),{relative:_()})]),a(le,Ie)},$=(le,Ie)=>{{var Qe=ie=>{var Fe=y();m(Ne=>g(Fe,Ne),[()=>qt({start:t.workflow.startTime,end:t.workflow.endTime,includeMillisecondsForUnderSecond:!0})]),a(ie,Fe)},ft=(ie,Fe)=>{{var Ne=ne=>{var De=y();m(Ue=>g(De,Ue),[()=>parseInt(t.workflow.historyEvents,10)>0?t.workflow.historyEvents:""]),a(ne,De)},ut=(ne,De)=>{{var Ue=ce=>{var Se=y();m(()=>{var We,Ce;return g(Se,((Ce=(We=t.workflow.searchAttributes)==null?void 0:We.indexedFields)==null?void 0:Ce.TemporalScheduledById)??"")}),a(ce,Se)},mt=(ce,Se)=>{{var We=fe=>{var Ve=y();const pe=f(()=>{var ue,Q;return(Q=(ue=t.workflow.searchAttributes)==null?void 0:ue.indexedFields)==null?void 0:Q.TemporalScheduledStartTime});m(ue=>g(Ve,ue),[()=>e(pe)&&typeof e(pe)=="string"?xe(e(pe),n(),{relative:_()}):""]),a(fe,Ve)},Ce=(fe,Ve)=>{{var pe=Q=>{var Ae=y();m(()=>{var Oe,me;return g(Ae,(me=(Oe=t.workflow.searchAttributes)==null?void 0:Oe.indexedFields)==null?void 0:me.TemporalChangeVersion)}),a(Q,Ae)},ue=(Q,Ae)=>{{var Oe=me=>{var $e=Ke();const Ee=f(()=>t.workflow.searchAttributes.indexedFields[e(r)]);var vt=Le($e);{var dt=ve=>{var Pe=y();m(Ye=>g(Pe,Ye),[()=>xe(e(Ee),n(),{relative:_()})]),a(ve,Pe)},wt=(ve,Pe)=>{{var Ye=de=>{jt(de,{children:(je,sr)=>{Je();var et=y();m(()=>g(et,e(Ee))),a(je,et)},$$slots:{default:!0}})},bt=de=>{var je=y();m(()=>g(je,e(Ee))),a(de,je)};o(ve,de=>{T()[e(r)]===Xe.BOOL?de(Ye):de(bt,!1)},Pe)}};o(vt,ve=>{T()[e(r)]===Xe.DATETIME&&typeof e(Ee)=="string"?ve(dt):ve(wt,!1)})}a(me,$e)};o(Q,me=>{Ft(e(r))&&Dt(t.workflow,e(r))&&me(Oe)},Ae)}};o(fe,Q=>{e(r)==="Change Version"?Q(pe):Q(ue,!1)},Ve)}};o(ce,fe=>{e(r)==="Scheduled Start Time"?fe(We):fe(Ce,!1)},Se)}};o(ne,ce=>{e(r)==="Scheduled By ID"?ce(Ue):ce(mt,!1)},De)}};o(ie,ne=>{e(r)==="History Length"?ne(Ne):ne(ut,!1)},Fe)}};o(le,ie=>{e(r)==="Execution Duration"?ie(Qe):ie(ft,!1)},Ie)}};o(D,le=>{e(r)==="Execution Time"?le(H):le($,!1)},q)}};o(p,D=>{e(r)==="State Transitions"?D(J):D(Y,!1)},L)}};o(k,p=>{e(r)==="History Size"?p(U):p(se,!1)},F)}};o(I,k=>{e(r)==="Parent Namespace"?k(_e):k(ke,!1)},A)}};o(c,I=>{e(r)==="Task Queue"?I(he):I(He,!1)},B)}};o(i,c=>{e(r)==="Start"?c(j):c(Z,!1)},w)}};o(b,i=>{e(r)==="End"?i(ye):i(ge,!1)},R)}};o(u,b=>{e(r)==="Status"?b(C):b(V,!1)})}oe(s),a(l,s)};o(K,l=>{P.includes(e(r))?l(G):l(X,!1)})}a(h,M),Re(),W()}ht(["mouseover","focusin","focusout"]);const Qr=(h,t)=>{const v=Kt({workflows:h},null,2),W=`workflows-${h.length}-${t}-${Date.now()}.json`;n(v,W,"text/plain");function n(_,T,r){const x=document.createElement("a"),d=new Blob([_],{type:r});x.href=URL.createObjectURL(d),x.download=T,x.click()}};export{Hr as T,qr as W,Qr as e};
