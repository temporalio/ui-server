import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{a as H}from"./CfXw_P7u.js";import{p as F,f as P,c as J,j as b,r as x,h as y,t as S,e as D,b as L,l as M,M as _,a as N,I as C,g as O,o as B}from"./B6CF0p-B.js";import{e as E,s as G}from"./BSSJzwu8.js";import{i as K}from"./DVfqY6Lp.js";import{k as Q}from"./CmR3ARMz.js";import{s as k}from"./Rrz4rnkO.js";import{s as W}from"./CVNTlwXL.js";import{i as R}from"./BC0HqUZ9.js";import{p as r}from"./BrOjBIf0.js";import{C as X}from"./BN-QgJsm.js";import{I as Y}from"./CsmBsHFA.js";import{t as s}from"./DEjs8ZrU.js";import{t as Z}from"./BxHUL3FD.js";import{L as $}from"./gE4noIMR.js";import{T as ee}from"./C82XNxlY.js";var te=P('<label class="file-upload-label svelte-vg1zto"><!></label> <input class="hidden" type="file"/>',1);function ae(I,t){F(t,!1);let d=r(t,"id",8),l=r(t,"accept",8,".json"),a=r(t,"onUpload",8);const w=T=>{var v;const g=T.target,f=(v=g==null?void 0:g.files)===null||v===void 0?void 0:v[0],i=new FileReader;f&&(i.readAsText(f),i.onload=()=>{var n,c;try{const U=(c=(n=i==null?void 0:i.result)===null||n===void 0?void 0:n.toString())!==null&&c!==void 0?c:"";a()(U)}catch{Z.push({variant:"error",message:s("common.upload-error")})}})};R();var u=te(),o=J(u),p=b(o);Y(p,{name:"upload"}),x(o);var m=y(o,2);S(()=>{k(o,"for",d()),k(m,"id",d()),k(m,"accept",l())}),E("change",m,w),D(I,u),L()}var re=P('<div class="flex flex-col gap-2"><!> <div class="flex gap-2"><!> <!></div> <span> </span></div>');function ke(I,t){F(t,!1);let d=r(t,"id",24,()=>crypto.randomUUID()),l=r(t,"error",12,!1),a=r(t,"input",12),w=r(t,"label",24,()=>s("workflows.signal-payload-input-label")),u=r(t,"loading",12,!1),o=r(t,"hintText",24,()=>s("workflows.signal-payload-input-label-hint")),p=r(t,"editing",8,!0);const m=e=>{if(!a())return!0;try{return JSON.parse(e),!0}catch{return!1}},T=e=>{e!==a()&&a(e)},v=()=>{a(""),u(!1)},g=e=>{a(e)};H(v),M(()=>_(a()),()=>{l(!m(a()))}),N(),R();var f=re(),i=b(f);$(i,{get for(){return d()},get label(){return w()}});var n=y(i,2),c=b(n);Q(c,()=>[u(),p()],e=>{X(e,{get id(){return d()},maxHeight:320,get content(){return a()},onchange:T,get editable(){return p()},copyable:!1})});var U=y(c,2);{var V=e=>{{let z=B(()=>(_(s),C(()=>s("common.upload-json"))));ee(e,{get text(){return O(z)},topRight:!0,children:(A,le)=>{ae(A,{get id(){return`${d()??""}-input-file-upload`},onUpload:g})},$$slots:{default:!0}})}};K(U,e=>{p()&&e(V)})}x(n);var h=y(n,2);let j;var q=b(h,!0);x(h),x(f),S(e=>{j=W(h,1,`text-xs ${l()?"text-danger":"text-primary"} inline-block`,null,j,{hidden:!o()&&!l()}),k(h,"role",l()?"alert":null),G(q,e)},[()=>(_(l()),_(s),_(o()),C(()=>l()?s("common.input-valid-json"):o()))]),D(I,f),L()}export{ke as P};
