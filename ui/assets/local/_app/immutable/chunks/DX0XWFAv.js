import{ak as x,w as A,x as n,y as D,al as N,H as g,B,A as H,D as c,C as S,J as q,U as v,Z as k,m as E,am as L,an as R,ao as U,ap as Z,aq as C,ar as G}from"./UnFCzZBm.js";const T=0,_=1;function M(y,b,m,r,l){n&&D();var h=x(),t=G,i=h?k(t):E(t,!1,!1),o=h?k(t):E(t,!1,!1),a=new S(y);A(()=>{var u=b(),d=!1;let p=n&&N(u)===(y.data===g);if(p&&(B(H()),c(!1)),N(u)){var w=L(),I=!1;const s=e=>{if(!d){I=!0,w(!1),R.ensure(),n&&c(!1);try{e()}finally{U(),Z||C()}}};u.then(e=>{s(()=>{v(i,e),a.ensure(_,r&&(f=>r(f,i)))})},e=>{s(()=>{if(v(o,e),a.ensure(_,l&&(f=>l(f,o))),!l)throw o.v})}),n?a.ensure(T,m):q(()=>{I||s(()=>{a.ensure(T,m)})})}else v(i,u),a.ensure(_,r&&(s=>r(s,i)));return p&&c(!0),()=>{d=!0}})}export{M as a};
