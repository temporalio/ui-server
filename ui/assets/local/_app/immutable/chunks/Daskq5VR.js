import{c as Ze,B as Qe}from"./BvcST-tr.js";import{g as xe,h as Ie}from"./Dpq9Ytb2.js";import"./DAcYyk2F.js";import"./2dgXBwRQ.js";import"./CrZfxCV7.js";import"./BSLsaSV2.js";import"./be8vA72F.js";import"./BUApaBEI.js";import"./ewzzm9Vv.js";import"./Cbxe4ekR.js";import{s as Ue}from"./ikbOq2O5.js";import{d as et}from"./CQzS74iW.js";import{c as pt,d as gt,a as xt}from"./BavUuBxu.js";import{a as tt,b as at,g as rt}from"./6PyUlFEN.js";import{f as _t,h as yt,d as Oe,j as ht,k as wt,l as kt}from"./DYb73ngQ.js";import"./CWj6FrbW.js";import{p as ue,f as j,j as m,n as fe,k as le,t as R,e as k,h as y,r as v,u as N,g as t,v as o,b as me,i as te,c as V,d as Tt,l as ie,s as z,m as K,M as X,a as Be,I as Ce,av as ve,q as bt,aQ as Re}from"./BzuLCQNf.js";import{i as L}from"./Be-bjpec.js";import{e as _e,i as nt}from"./DHcq7Esf.js";import{s as Ne,a as Ve,l as je,p as W}from"./DdNojIXk.js";import{t as It,P as Ct}from"./BWEddw-u.js";import{s as $}from"./HOnlAALn.js";import{t as Et,T as ot}from"./DQtg0T9O.js";import{C as se}from"./BVTTWmbH.js";import{I as At}from"./CKL6Zfw6.js";import{t as x}from"./DEjs8ZrU.js";import{o as Pt}from"./C8ejR22J.js";import{p as St}from"./Ck1QX1w3.js";import{C as Me}from"./Vk2HnYFn.js";import{L as Ee}from"./BH1Vvb8t.js";import{g as it}from"./BmM-MZg6.js";import{f as We,s as Lt}from"./ByTIZu23.js";import{b as Ft}from"./Dv61g21_.js";import{d as Ke,l as $t,m as Ot,a as Rt}from"./DMWK6oI8.js";import"./69_IOA4Y.js";import{i as Ge}from"./W-5sOwmb.js";import{p as st}from"./CIy0ubmg.js";import{a as Dt}from"./D-F-0Ojj.js";import{s as Xe}from"./D7yhRzLA.js";import{P as De}from"./BuFbpzrl.js";import{s as Je}from"./wWuJlbLq.js";const lt={workflow:"text-blue-700 dark:text-blue-400",activity:"text-purple-600 dark:text-purple-500","child-workflow":"text-cyan-600",timer:"text-yellow-600 dark:text-yellow-400",signal:"text-pink-600 dark:text-pink-400",update:"text-blue-600 dark:text-blue-400",other:"text-slate-700 dark:text-slate-300",nexus:"text-indigo-600 dark:text-indigo-400","local-activity":"text-slate-700 dark:text-slate-300",default:"text-purple-600 dark:text-purple-500"},ar=Ze("",{variants:{category:lt}}),rr=Ze(["whitespace-nowrap font-semibold md:text-base flex items-center gap-0.5"],{variants:{category:lt}}),be=6,nr={height:be*4,gutter:be*8,radius:be*1.5,fontSizeRatio:be*4},or={height:32,radius:4},ir={workflow:{name:"workflow",title:"Workflow"},signal:{name:"signal",title:"Signal"},activity:{name:"activity",title:"Activity"},nexus:{name:"nexus",title:"Nexus"},timer:{name:"retention",title:"Timer"},"local-activity":{name:"feather",title:"Local Activity"},"child-workflow":{name:"relationship",title:"Child Workflow"},update:{name:"update",title:"Update"},other:{name:"terminal",title:"Other"}},sr=(r,e,a,l,c)=>{const{radius:u}=c,s=r[0],d=r[r.length-1];let f=!1,_="start",i=0;const p=s>1/2*a;let T=!p&&d<2/3*a&&!l;p&&(_="end"),T&&(i=r.indexOf(d));const b=1.5*u;let g=T?d+b:s-b;if(!T&&!p&&(f=!0,T=!0,g=s+b,r.length===2&&l&&r[1]-r[0]<a-r[1]&&(i=1,g=r[1]+b),r.length>2)){const h=r[1]-r[0];r[2]-r[1]>h&&(i=1,g=r[1]+b)}return{textPosition:[g,e],textIndex:i,textAnchor:_,backdrop:f}},lr=(r,e)=>{const a=e.find(c=>c.eventIds.has(r.id));return a?Array.from(a.eventIds).indexOf(r.id)===1&&a.eventList.length===3:!1},He=(r,e)=>parseInt(r)===parseInt(e)-1,Ht=r=>{const e=Array.from(r.eventIds);return e.length===1?!0:e.length===2?He(e[0],e[1]):e.length===3?He(e[0],e[1])&&He(e[1],e[2]):!1},jt=(r,e)=>{const a=et(e,r);if(!a)return 0;if(a.level!==void 0)return a.level;const l=e.filter(s=>s.isPending&&s.id!==a.id).filter(s=>parseInt(s.initialEvent.id)<parseInt(a.initialEvent.id)),c=e.filter(s=>s.eventList.length>1&&!s.isPending&&s.id!==a.id).filter(s=>parseInt(s.initialEvent.id)<parseInt(a.initialEvent.id)).filter(s=>parseInt(s.lastEvent.id)>parseInt(a.initialEvent.id)),u=[...l,...c];return!u.length&&Ht(a)&&(a.level=0),a.level=u.length+1,a.level},cr=(r,e,a,l,c)=>{const u=et(a,e);let s=0,d=0;if(!u)return{nextDistance:s,offset:d};if(u.eventList.length===1&&!u.isPending)return{nextDistance:s,offset:d};const f=xe(e)?u.eventList.indexOf(e):-1,_=xe(e)?u.eventList[f+1]:void 0;if((!xe(e)||e.category!=="workflow")&&(d=jt(e,a)),!_&&!u.isPending)return{nextDistance:s,offset:d};let i=0;_&&xe(e)?i=parseInt(_.id)-parseInt(e.id):u.isPending&&xe(e)&&(i=r.length-parseInt(e.id)+2);const p=i*l;return s=c==="ascending"?p:-p,{nextDistance:s,offset:d}},ct="currentColor",dr=r=>{switch(r){case"Completed":return"#1ff1a5";case"Failed":case"Terminated":return"#c71607";case"Signaled":return"#d300d8";case"Fired":return"#f8a208";case"TimedOut":return"#f97316";case"Canceled":return"#fed64b";case"Running":return"#3b82f6";case"Delayed":return"#fbbf24";default:return ct}},vr=r=>{switch(r){case"timer":return"#fbbf24";case"signal":return"#d300d8";case"activity":return"#a78bfa";case"workflow":case"marker":case"command":return"#ebebeb";case"child-workflow":return"#0899B2";case"update":return"#FF9B70";case"pending":return"#a78bfa";case"retry":return"#FF9B70";default:return ct}},ur=async(r,e)=>{var s,d,f,_,i,p,T,b,g,C,h;if(!("eventType"in r)||!Ie(r))return;const{namespace:a,settings:l,accessToken:c}=e,u={...l,codec:{...l==null?void 0:l.codec,endpoint:rt(l),passAccessToken:at(l),includeCredentials:tt(l)}};try{const A=await pt(r.attributes,a,u,c),O=((f=(d=(s=r.markerRecordedEventAttributes)==null?void 0:s.details)==null?void 0:d.data)==null?void 0:f.payloads)||((p=(i=(_=r.markerRecordedEventAttributes)==null?void 0:_.details)==null?void 0:i.type)==null?void 0:p.payloads)||[];if(!(O!=null&&O.length))return;const E=gt(A),P=(h=((b=(T=E==null?void 0:E.details)==null?void 0:T.data)==null?void 0:b.payloads)||((C=(g=E==null?void 0:E.details)==null?void 0:g.type)==null?void 0:C.payloads))==null?void 0:h[0],D=_t(P);if(D)return yt("ActivityType",D)}catch(A){console.error("Failed to decode local activity type:",A)}},fr=r=>{if("eventList"in r)return r.eventList.find(Ie);if(Ie(r))return r},U=(r,e=N,a=N)=>{var l=Nt(),c=m(l),u=m(c,!0);v(c);var s=y(c,2),d=m(s);{var f=i=>{var p=le();R(()=>$(p,a())),k(i,p)},_=i=>{var p=te(),T=V(p);Tt(T,()=>a()??N),k(i,p)};L(d,i=>{typeof a()=="string"||typeof a()=="number"?i(f):i(_,!1)})}v(s),v(l),R(()=>$(u,e())),k(r,l)};var Bt=j('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="flex w-full items-center gap-1 whitespace-pre-line"> <strong> </strong></p></div>'),Nt=j('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="w-full whitespace-pre-line"><!></p></div>'),Vt=j("<!> ",1),Mt=j('<p class="text-sm text-secondary/80"> </p> <!>',1),Wt=j('<p class="text-sm text-secondary/80"> </p> <!>',1),Gt=j('<div class="flex flex-col gap-2"><div class="flex flex-1 flex-col"><!></div> <div class="flex flex-1 flex-col"><!></div></div>'),qt=j('<div class="flex flex-1 flex-col"><p class="text-sm text-secondary/80"> </p> <!></div>'),zt=j('<div class="flex flex-1 flex-col"><p class="text-sm text-secondary/80"> </p> <!></div>'),Qt=j('<div class="surface-primary flex flex-1 cursor-default flex-col gap-2 border-b border-subtle p-4"><div class="flex-1"><div class="flex flex-wrap items-center space-x-3"><!> <h4> </h4></div></div> <div class="flex flex-1 flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col gap-1 xl:w-1/2"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 md:flex-1 xl:w-1/2"><!> <!> <!></div></div></div>');function Ut(r,e){ue(e,!0);const a=()=>Ve(Et,"$timestamp",l),[l,c]=Ne(),u=(n,w=N)=>{var S=Bt(),G=m(S),q=m(G,!0);v(G);var B=y(G,2),Z=m(B),oe=y(Z),ae=m(oe);v(oe),v(B),v(S),R((ee,re)=>{$(q,ee),$(Z,`${re??""} `),$(ae,`(${w()??""})`)},[()=>x("workflows.next-retry"),()=>a()(e.operation.nextAttemptScheduleTime,{relativeLabel:""})]),k(n,S)},s=n=>{{let w=o(()=>t(f)?"danger":"default");Qe(n,{class:"mr-1",get type(){return t(w)},children:(S,G)=>{var q=Vt(),B=V(q);{let oe=o(()=>t(f)&&"font-bold text-red-400");At(B,{get class(){return`mr-1 ${t(oe)??""}`},name:"retry"})}var Z=y(B);R(()=>$(Z,` ${e.operation.attempt??0??""}`)),k(S,q)},$$slots:{default:!0}})}},d=n=>{var w=Gt(),S=m(w),G=m(S);{var q=ae=>{var ee=Mt(),re=V(ee),Le=m(re,!0);v(re);var Fe=y(re,2);{let ce=o(()=>Ue(Pt(e.operation.lastAttemptFailure,"stackTrace"))),$e=o(()=>x("common.copy-icon-title")),mt=o(()=>x("common.copy-success-icon-title"));se(Fe,{get content(){return t(ce)},maxHeight:384,get copyIconTitle(){return t($e)},get copySuccessIconTitle(){return t(mt)}})}R(ce=>$(Le,ce),[()=>x("workflows.last-failure")]),k(ae,ee)};L(G,ae=>{e.operation.lastAttemptFailure&&ae(q)})}v(S);var B=y(S,2),Z=m(B);{var oe=ae=>{var ee=Wt(),re=V(ee),Le=m(re,!0);v(re);var Fe=y(re,2);{let ce=o(()=>x("common.copy-icon-title")),$e=o(()=>x("common.copy-success-icon-title"));se(Fe,{language:"text",maxHeight:384,get content(){return e.operation.lastAttemptFailure.stackTrace},get copyIconTitle(){return t(ce)},get copySuccessIconTitle(){return t($e)}})}R(ce=>$(Le,ce),[()=>x("common.stack-trace")]),k(ae,ee)};L(Z,ae=>{var ee;(ee=e.operation.lastAttemptFailure)!=null&&ee.stackTrace&&ae(oe)})}v(B),v(w),k(n,w)},f=o(()=>e.operation.attempt>1);var _=Qt(),i=m(_),p=m(i),T=m(p);Qe(T,{children:(n,w)=>{fe();var S=le();R(()=>$(S,e.operation.state)),k(n,S)},$$slots:{default:!0}});var b=y(T,2),g=m(b,!0);v(b),v(p),v(i);var C=y(i,2),h=m(C),A=m(h);{var O=n=>{{let w=o(()=>x("nexus.endpoint"));U(n,()=>t(w),()=>e.operation.endpoint)}};L(A,n=>{e.operation.endpoint&&n(O)})}var E=y(A,2);{var P=n=>{{let w=o(()=>x("nexus.service"));U(n,()=>t(w),()=>e.operation.service)}};L(E,n=>{e.operation.service&&n(P)})}var D=y(E,2);{var M=n=>{{let w=o(()=>x("nexus.operation"));U(n,()=>t(w),()=>e.operation.operation)}};L(D,n=>{e.operation.operation&&n(M)})}var J=y(D,2);{var ne=n=>{{let w=o(()=>x("nexus.operation-token"));U(n,()=>t(w),()=>e.operation.operationToken)}};L(J,n=>{e.operation.operationToken&&n(ne)})}var de=y(J,2);{let n=o(()=>x("workflows.attempt"));U(de,()=>t(n),()=>s)}var ye=y(de,2);{var Ae=n=>{const w=o(()=>It({date:e.operation.nextAttemptScheduleTime,negativeDefault:""}));var S=te(),G=V(S);{var q=B=>{u(B,()=>t(w))};L(G,B=>{t(w)&&B(q)})}k(n,S)};L(ye,n=>{e.operation.nextAttemptScheduleTime&&n(Ae)})}var I=y(ye,2);{var F=n=>{{let w=o(()=>x("workflows.last-attempt-completed-time")),S=o(()=>a()(e.operation.lastAttemptCompleteTime));U(n,()=>t(w),()=>t(S))}};L(I,n=>{e.operation.lastAttemptCompleteTime&&n(F)})}var H=y(I,2);{var Y=n=>{{let w=o(()=>x("workflows.schedule-event-id")),S=o(()=>String(e.operation.scheduledEventId));U(n,()=>t(w),()=>t(S))}};L(H,n=>{e.operation.scheduledEventId&&n(Y)})}var Q=y(H,2);{var he=n=>{{let w=o(()=>x("workflows.scheduled-time")),S=o(()=>a()(e.operation.scheduledTime));U(n,()=>t(w),()=>t(S))}};L(Q,n=>{e.operation.scheduledTime&&n(he)})}var pe=y(Q,2);{var ge=n=>{{let w=o(()=>x("workflows.schedule-to-close-timeout"));U(n,()=>t(w),()=>e.operation.scheduleToCloseTimeout)}};L(pe,n=>{e.operation.scheduleToCloseTimeout&&n(ge)})}var we=y(pe,2);{var Pe=n=>{{let w=o(()=>x("workflows.schedule-to-start-timeout"));U(n,()=>t(w),()=>e.operation.scheduleToCloseTimeout)}};L(we,n=>{e.operation.scheduleToStartTimeout&&n(Pe)})}var Se=y(we,2);{var qe=n=>{{let w=o(()=>x("workflows.start-to-close-timeout"));U(n,()=>t(w),()=>e.operation.startToCloseTimeout)}};L(Se,n=>{e.operation.startToCloseTimeout&&n(qe)})}v(h);var ke=y(h,2),Te=m(ke);{var dt=n=>{d(n)};L(Te,n=>{t(f)&&n(dt)})}var ze=y(Te,2);{var vt=n=>{var w=qt(),S=m(w),G=m(S,!0);v(S);var q=y(S,2);{let B=o(()=>x("common.copy-icon-title")),Z=o(()=>x("common.copy-success-icon-title"));se(q,{language:"text",get content(){return e.operation.blockedReason},get copyIconTitle(){return t(B)},get copySuccessIconTitle(){return t(Z)}})}v(w),R(B=>$(G,B),[()=>x("nexus.blocked-reason")]),k(n,w)};L(ze,n=>{e.operation.blockedReason&&n(vt)})}var ut=y(ze,2);{var ft=n=>{var w=zt(),S=m(w),G=m(S,!0);v(S);var q=y(S,2);{let B=o(()=>Ue(e.operation.cancellationInfo)),Z=o(()=>x("common.copy-icon-title")),oe=o(()=>x("common.copy-success-icon-title"));se(q,{language:"text",get content(){return t(B)},get copyIconTitle(){return t(Z)},get copySuccessIconTitle(){return t(oe)}})}v(w),R(B=>$(G,B),[()=>x("nexus.cancellation-info")]),k(n,w)};L(ut,n=>{Object.keys(e.operation.cancellationInfo??{}).length>0&&n(ft)})}v(ke),v(C),v(_),R(n=>$(g,n),[()=>x("workflows.pending-nexus-operation")]),k(r,_),me(),c()}function Kt(r,e){const a=je(e,["children","$$slots","$$events","$$legacy"]),l=je(a,["value","attributes","type"]);ue(e,!1);const c=()=>Ve(st,"$page",u),[u,s]=Ne(),d=K(),f=K(),_=K();let i=W(e,"value",8),p=W(e,"attributes",8),T=W(e,"type",8);function b(g,C,h,A,O){return O==="execution"?Ke({namespace:g,workflow:C,run:A}):O==="task-queue"?$t({namespace:g,queue:A}):O==="child-workflow"?Ke({namespace:g,workflow:h.workflowExecutionWorkflowId,run:h.workflowExecutionRunId}):O==="nexus-endpoint"?Ot(A):""}ie(()=>(t(d),t(f),c()),()=>{(g=>{z(d,g.workflow),z(f,g.namespace)})(c().params)}),ie(()=>(t(f),t(d),X(p()),X(i()),X(T())),()=>{z(_,b(t(f),t(d),p(),i(),T()))}),Be(),Ge(),Ee(r,{get class(){return X(l),Ce(()=>l.class)},get href(){return t(_)},children:(g,C)=>{fe();var h=le();R(()=>$(h,i())),k(g,h)},$$slots:{default:!0}}),me(),s()}function Xt(r,e){ue(e,!1);const a=()=>Ve(st,"$page",l),[l,c]=Ne(),u=K(),s=K(),d=K(),f=K(),_=K();var i=K();let p=W(e,"value",8,void 0),T=W(e,"fallback",8,""),b=W(e,"prefix",8,""),g=W(e,"onDecode",8,void 0);const C=120;let h=K("");const A=P=>b()?(P=`${b()} â€¢ ${P}`,P.length<C?P:P.slice(0,C)+"..."):P;ie(()=>a(),()=>{z(u,rt(a().data.settings))}),ie(()=>a(),()=>{z(s,at(a().data.settings))}),ie(()=>a(),()=>{z(d,tt(a().data.settings))}),ie(()=>(a(),ve(i),t(u),t(s),t(d)),()=>{z(f,{...a().data.settings,codec:{...z(i,a().data.settings)===null||ve(i)===void 0?void 0:ve(i).codec,endpoint:t(u),passAccessToken:t(s),includeCredentials:t(d)}})}),ie(()=>(X(T()),t(h),t(f),X(g())),()=>{z(_,async P=>{if(!P)return T();if(t(h))return t(h);const D=await xt(P,t(f));return typeof D=="string"?(z(h,A(D)),g()&&g()(t(h)),t(h)):(z(h,T()),T())})}),Be(),Ge();var O=te(),E=V(O);Dt(E,()=>(t(_),X(p()),Ce(()=>t(_)(p()))),null,(P,D)=>{var M=te(),J=V(M);Xe(J,e,"default",{get decodedValue(){return t(D)}},null),k(P,M)},P=>{var D=te(),M=V(D);Xe(M,e,"default",{get decodedValue(){return T()}},null),k(P,D)}),k(r,O),me(),c()}const Jt=(r,e=N)=>{const a=o(()=>it(e())),l=o(()=>{var f;return((f=t(a).split("workflows/"))==null?void 0:f[1])||t(a)});var c=ra(),u=m(c),s=m(u,!0);v(u);var d=y(u,2);{let f=o(()=>x("common.copy-icon-title")),_=o(()=>x("common.copy-success-icon-title"));Me(d,{get copyIconTitle(){return t(f)},get copySuccessIconTitle(){return t(_)},get content(){return t(l)},children:(i,p)=>{Ee(i,{get href(){return t(a)},class:"whitespace-pre-line",children:(T,b)=>{fe();var g=le();R(()=>$(g,t(l))),k(T,g)},$$slots:{default:!0}})},$$slots:{default:!0}})}v(c),R(f=>$(s,f),[()=>x("nexus.link")]),k(r,c)},Yt=(r,e=N)=>{const a=o(()=>Rt({namespace:e().workflowEvent.namespace}));var l=na(),c=m(l),u=m(c,!0);v(c);var s=y(c,2);{let d=o(()=>x("common.copy-icon-title")),f=o(()=>x("common.copy-success-icon-title"));Me(s,{get copyIconTitle(){return t(d)},get copySuccessIconTitle(){return t(f)},get content(){return e().workflowEvent.namespace},children:(_,i)=>{Ee(_,{get href(){return t(a)},class:"whitespace-pre-line",children:(p,T)=>{fe();var b=le();R(()=>$(b,e().workflowEvent.namespace)),k(p,b)},$$slots:{default:!0}})},$$slots:{default:!0}})}v(l),R(d=>$(u,d),[()=>x("nexus.link-namespace")]),k(r,l)},Zt=(r,e=N)=>{var a=te(),l=V(a);_e(l,17,e,nt,(c,u,s,d)=>{var f=oa(),_=V(f);Jt(_,()=>t(u));var i=y(_,2);Yt(i,()=>t(u)),k(c,f)}),k(r,a)},ea=(r,e=N)=>{var a=ia(),l=y(m(a),2),c=m(l);{let u=o(()=>x("events.decode-failed"));Xt(c,{get value(){return e()},get fallback(){return t(u)},children:bt,$$slots:{default:(s,d)=>{const f=o(()=>d.decodedValue);fe();var _=le();R(()=>$(_,t(f))),k(s,_)}}})}v(l),v(a),k(r,a)},ta=(r,e=N,a=N)=>{const l=o(()=>kt(a())),c=o(()=>wt(t(l)));var u=la(),s=V(u),d=m(s),f=m(d,!0);v(d);var _=y(d,2);{var i=g=>{De(g,{get value(){return a()},key:"payloads",children:(h,A=N)=>{{let O=o(()=>x("common.copy-icon-title")),E=o(()=>x("common.copy-success-icon-title"));se(h,{get content(){return A()},maxHeight:384,get copyIconTitle(){return t(O)},get copySuccessIconTitle(){return t(E)}})}},$$slots:{default:!0}})},p=g=>{var C=te(),h=V(C);{var A=E=>{{const P=(M,J=N)=>{{let ne=o(()=>x("common.copy-icon-title")),de=o(()=>x("common.copy-success-icon-title"));se(M,{get content(){return J()},maxHeight:384,get copyIconTitle(){return t(ne)},get copySuccessIconTitle(){return t(de)}})}};let D=o(()=>({searchAttributes:t(l)}));De(E,{key:"searchAttributes",get value(){return t(D)},children:P,$$slots:{default:!0}})}},O=E=>{De(E,{get value(){return t(l)},children:(D,M=N)=>{{let J=o(()=>x("common.copy-icon-title")),ne=o(()=>x("common.copy-success-icon-title"));se(D,{get content(){return M()},maxHeight:384,get copyIconTitle(){return t(J)},get copySuccessIconTitle(){return t(ne)}})}},$$slots:{default:!0}})};L(h,E=>{e()==="searchAttributes"?E(A):E(O,!1)},!0)}k(g,C)};L(_,g=>{var C;(C=a())!=null&&C.payloads?g(i):g(p,!1)})}v(s);var T=y(s,2);{var b=g=>{var C=sa(),h=m(C),A=m(h,!0);v(h);var O=y(h,2);{let E=o(()=>x("common.copy-icon-title")),P=o(()=>x("common.copy-success-icon-title"));se(O,{get content(){return t(c)},language:"text",maxHeight:384,get copyIconTitle(){return t(E)},get copySuccessIconTitle(){return t(P)}})}v(C),R(E=>$(A,E),[()=>x("workflows.call-stack-tab")]),k(g,C)};L(T,g=>{t(c)&&g(b)})}R(g=>$(f,g),[()=>We(e())]),k(r,u)},aa=(r,e=N,a=N)=>{var l=da(),c=m(l),u=m(c,!0);v(c);var s=y(c,2),d=m(s);{var f=i=>{ot(i,{get dateTime(){return a()}})},_=i=>{var p=le();R(()=>$(p,a())),k(i,p)};L(d,i=>{ht(e())?i(f):i(_,!1)})}v(s),v(l),R(i=>$(u,i),[()=>We(e())]),k(r,l)};var ra=j('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),na=j('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),oa=j("<!> <!>",1),ia=j('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80">Summary</p> <p class="whitespace-pre-line"><!></p></div>'),sa=j('<div><p class="mb-1 min-w-56 text-sm text-secondary/80"> </p> <!></div>'),la=j('<div><p class="mb-1 min-w-56 text-sm text-secondary/80"> </p> <!></div> <!>',1),ca=j('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),da=j('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="whitespace-pre-line break-all"><!></p></div>'),va=j('<div class="flex w-full flex-col gap-1 xl:w-1/2"></div>'),ua=j('<div class="surface-primary flex flex-1 cursor-default flex-col gap-2 border-b border-subtle p-4"><div class="flex flex-wrap items-center justify-between gap-2"><div class="flex items-center gap-2 text-base"><p class="font-mono"> </p> <p class="font-medium"> </p></div> <!></div> <div class="flex flex-col gap-1 xl:flex-row"><div class="flex w-full flex-col gap-1 xl:w-1/2"><!> <!> <!> <!></div> <!></div></div>');function Ye(r,e){ue(e,!0);const a=(I,F=N,H=N)=>{var Y=ca(),Q=m(Y),he=m(Q,!0);v(Q);var pe=y(Q,2);{let ge=o(()=>x("common.copy-icon-title")),we=o(()=>x("common.copy-success-icon-title")),Pe=o(()=>String(H()));Me(pe,{get copyIconTitle(){return t(ge)},get copySuccessIconTitle(){return t(we)},get content(){return t(Pe)},children:(Se,qe)=>{{let ke=o(()=>String(H())),Te=o(()=>Oe(F(),t(c)));Kt(Se,{get value(){return t(ke)},get attributes(){return t(c)},get type(){return t(Te)},class:"whitespace-pre-line"})}},$$slots:{default:!0}})}v(Y),R(ge=>$(he,ge),[()=>We(F())]),k(I,Y)},l=o(()=>Ie(e.event)?x("events.category.local-activity"):Lt(e.event.name)),c=o(()=>Ft(e.event)),u=o(()=>Object.entries(t(c))),s=o(()=>t(u).filter(([I,F])=>typeof F=="object"&&Object.keys(F).length>0)),d=o(()=>t(u).filter(([I,F])=>Oe(I,t(c))!=="none")),f=o(()=>e.event.category==="activity"?["scheduledEventId","startedEventId","namespaceId"]:e.event.category==="child-workflow"?["initiatedEventId","startedEventId","namespaceId"]:["namespaceId"]),_=o(()=>t(u).filter(([I,F])=>typeof F!="object"&&Oe(I,t(c))==="none"&&!t(f).includes(I)&&(I!=="namespace"||I==="namespace"&&St.params.namespace!==F)));var i=ua(),p=m(i),T=m(p),b=m(T),g=m(b,!0);v(b);var C=y(b,2),h=m(C,!0);v(C),v(T);var A=y(T,2);ot(A,{as:"p",class:"text-sm",get dateTime(){return e.event.eventTime}}),v(p);var O=y(p,2),E=m(O),P=m(E);{var D=I=>{Zt(I,()=>e.event.links)};L(P,I=>{var F,H;(H=(F=e.event)==null?void 0:F.links)!=null&&H.length&&I(D)})}var M=y(P,2);{var J=I=>{ea(I,()=>e.event.userMetadata.summary)};L(M,I=>{var F,H;(H=(F=e.event)==null?void 0:F.userMetadata)!=null&&H.summary&&I(J)})}var ne=y(M,2);_e(ne,17,()=>t(_),([I,F])=>I,(I,F)=>{var H=o(()=>Re(t(F),2));aa(I,()=>t(H)[0],()=>t(H)[1])});var de=y(ne,2);_e(de,17,()=>t(d),([I,F])=>I,(I,F)=>{var H=o(()=>Re(t(F),2));a(I,()=>t(H)[0],()=>t(H)[1])}),v(E);var ye=y(E,2);{var Ae=I=>{var F=va();_e(F,21,()=>t(s),([H,Y])=>H,(H,Y)=>{var Q=o(()=>Re(t(Y),2));ta(H,()=>t(Q)[0],()=>t(Q)[1])}),v(F),k(I,F)};L(ye,I=>{t(s).length&&I(Ae)})}v(O),v(i),R(()=>{$(g,e.event.id),$(h,t(l))}),k(r,i),me()}var fa=j('<div class="flex flex-col overflow-hidden"><!> <!></div>');function mr(r,e){ue(e,!0);let a=W(e,"group",3,void 0),l=W(e,"event",3,void 0);const c=o(()=>(a()===null||a()===void 0?void 0:a().pendingActivity)||(a()===null||a()===void 0?void 0:a().pendingNexusOperation)),u=o(()=>a()&&(a().eventList.length>1||t(c)));var s=te(),d=V(s);{var f=i=>{var p=fa(),T=m(p);{var b=h=>{Ct(h,{get activity(){return a().pendingActivity}})},g=h=>{var A=te(),O=V(A);{var E=P=>{Ut(P,{get operation(){return a().pendingNexusOperation}})};L(O,P=>{var D;(D=a())!=null&&D.pendingNexusOperation&&P(E)},!0)}k(h,A)};L(T,h=>{var A;(A=a())!=null&&A.pendingActivity?h(b):h(g,!1)})}var C=y(T,2);_e(C,17,()=>a().eventList,nt,(h,A)=>{Ye(h,{get event(){return t(A)}})}),v(p),k(i,p)},_=i=>{var p=te(),T=V(p);{var b=g=>{Ye(g,{get event(){return l()}})};L(T,g=>{l()&&g(b)},!0)}k(i,p)};L(d,i=>{t(u)?i(f):i(_,!1)})}k(r,s),me()}var ma=j('<div><p class="max-w-fit whitespace-nowrap text-right text-sm"> </p> <div><!></div></div>');function pr(r,e){const a=je(e,["children","$$slots","$$events","$$legacy"]);ue(e,!1);var l=K();let c=W(e,"link",8),u=W(e,"value",28,()=>c().workflowEvent.workflowId),s=W(e,"label",24,()=>x("nexus.link")),d=W(e,"href",12,void 0);ie(()=>(X(d()),X(c()),ve(l)),()=>{d()||(d(it(c())),u((z(l,d().split("workflows/"))===null||ve(l)===void 0?void 0:ve(l)[1])||d()))}),Be(),Ge();var f=ma(),_=m(f),i=m(_,!0);v(_);var p=y(_,2),T=m(p);Ee(T,{get href(){return d()},children:(b,g)=>{fe();var C=le();R(()=>$(C,u())),k(b,C)},$$slots:{default:!0}}),v(p),v(f),R(()=>{Je(f,1,`flex flex-row items-center gap-2 overflow-hidden first:pt-0 last:border-b-0 ${X(a),Ce(()=>a.class)??""}`),$(i,s()),Je(p,1,`overflow-hidden ${X(a),Ce(()=>a.linkClass)??""}`)}),k(r,f),me()}export{ir as C,ct as D,Kt as E,or as H,Xt as M,nr as T,pr as a,mr as b,dr as c,ur as d,rr as e,vr as f,cr as g,ar as h,lr as i,fr as j,sr as t};
