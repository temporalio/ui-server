import"./Bzak7iHL.js";import{p as Qe,h as ze,f as Me,e as a,b as Ge,t as de,i as pe,c as lt,r as Be,j as i,o as Re,g as e,u as s,n as it,k as m,ag as wt,s as $e}from"./DtSMpxPp.js";import{e as Fe,s as v,d as bt}from"./ChP_J8fE.js";import{i as o}from"./BUX2ey9N.js";import{p as V,s as Xe,a as ve,c as et}from"./QkTQNHha.js";import{p as kt}from"./CVs2KaLS.js";import{W as yt}from"./BFZadM_C.js";import{B as gt}from"./CsMNScE5.js";import{i as tt,c as _t,w as ht}from"./_Af9DppT.js";import{f as xe,r as xt,t as Tt}from"./D8JWfvYP.js";import{S as Te}from"./S6Q2Q0ub.js";import{i as pt}from"./Dzb719w0.js";import{k as Bt}from"./CHqpB290.js";import{g as Ft}from"./CT3a8W8Y.js";import{c as Ne,h as It}from"./gZORtZ2S.js";import{k as Dt}from"./BwXdrpFm.js";import{p as Vt}from"./BFVGPH9d.js";import"./69_IOA4Y.js";import{k as Ct}from"./CdG1RbPO.js";import{c as St,a as rt}from"./Dbhi2jYg.js";import{p as ot,s as at}from"./Bfc47y5P.js";import{i as Wt,t as Ot}from"./DM92YGvC.js";import{I as st}from"./Db7F_qcf.js";import{c as At}from"./BfFy7Osf.js";import{L as Et}from"./D38Loa21.js";import{t as Ue}from"./BXv1jDVW.js";import{w as Ye}from"./BnpLtrju.js";import{u as jt}from"./y45QXPia.js";import{s as Rt}from"./BDfAQ6r3.js";const Mt=(x,t=2)=>{if(!+x)return"0 Bytes";const d=1024,P=t<0?0:t,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],T=Math.floor(Math.log(x)/Math.log(d));return`${parseFloat((x/Math.pow(d,T)).toFixed(P))} ${n[T]}`};var Lt=de('<button id="filter-button"><!></button>'),Pt=de('<button class="copy-or-filter-button svelte-qwjj97" id="copy-button"><!></button>'),qt=de("<div><!> <!></div>");function Ht(x,t){Qe(t,!1);const[d,P]=Xe(),n=()=>ve(ee,"$copied",d);let T=V(t,"show",8,!1),C=V(t,"filterable",8,!0),q=V(t,"copyable",8,!0),S=V(t,"content",8),r=V(t,"onFilter",8,()=>{}),j=V(t,"filtered",8,!1),$=V(t,"copyIconTitle",8),p=V(t,"copySuccessIconTitle",8),Q=V(t,"filterIconTitle",8),G=V(t,"class",8,"");const{copy:we,copied:ee}=At();Wt();var te=ze(),w=Me(te);{var W=f=>{var l=qt(),re=pe(l);{var be=u=>{var b=Lt();let N;var c=pe(b);Ct(c,j,k=>{st(k,{get title(){return Q()},name:"filter",class:"m-1"})}),Be(b),i(k=>N=rt(b,1,"copy-or-filter-button svelte-qwjj97",null,N,k),[()=>({filtered:j()})],Re),Fe("click",b,ot(at(function(...k){var R;(R=r())==null||R.apply(this,k)}))),a(u,b)};o(re,u=>{C()&&u(be)})}var ke=lt(re,2);{var h=u=>{var b=Pt(),N=pe(b);const c=Re(()=>n()?p():$()),k=Re(()=>n()?"checkmark":"copy");st(N,{get title(){return e(c)},get name(){return e(k)},class:"m-1"}),Be(b),Fe("click",b,ot(at(R=>we(R,S())))),a(u,b)};o(ke,u=>{q()&&u(h)})}Be(l),i(u=>rt(l,1,u,"svelte-qwjj97"),[()=>St(Ot("copy-or-filter",G()))],Re),a(f,l)};o(w,f=>{T()&&f(W)})}a(x,te),Ge(),P()}var Kt=de("<!> <!>",1);function z(x,t){Qe(t,!0);const[d,P]=Xe(),n=()=>ve(Ye,"$workflowFilters",d),T=()=>ve(Vt,"$page",d);let C=V(t,"filterOrCopyButtonsVisible",3,!1),q=V(t,"type",19,()=>Te.KEYWORD);const S=()=>{const w=n().find(f=>f.attribute===t.attribute),W=()=>n().filter(f=>f.attribute!==t.attribute);if(!w||w.value!==t.value){const f={attribute:t.attribute,type:q(),value:t.value,conditional:"=",operator:"",parenthesis:""};et(Ye,[...W(),f])}else et(Ye,[...W()]);jt(T().url,n())};var r=Kt(),j=Me(r);{var $=w=>{Et(w,{get href(){return t.href},children:(W,f)=>{it();var l=m();i(()=>v(l,t.value)),a(W,l)},$$slots:{default:!0}})},p=w=>{var W=m();i(()=>v(W,t.value)),a(w,W)};o(j,w=>{t.href?w($):w(p,!1)})}var Q=lt(j,2);const G=s(()=>Ue("common.copy-icon-title")),we=s(()=>Ue("common.copy-success-icon-title")),ee=s(()=>Ue("common.filter-workflows")),te=s(()=>n().some(w=>w.attribute===t.attribute&&w.value===t.value));Ht(Q,{get copyIconTitle(){return e(G)},get copySuccessIconTitle(){return e(we)},get filterIconTitle(){return e(ee)},get show(){return C()},get content(){return t.value},onFilter:S,get filtered(){return e(te)}}),a(x,r),Ge(),P()}const Nt=(x,t)=>{const d=x.relatedTarget;d&&!["filter-button","copy-button"].includes(d.id)&&t()};var Ut=de('<td class="workflows-summary-table-body-cell filterable svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>'),Yt=de('<td class="workflows-summary-table-body-cell svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>');function Tr(x,t){Qe(t,!0);const[d,P]=Xe(),n=()=>ve(_t,"$customSearchAttributes",d),T=()=>ve(Tt,"$timeFormat",d),C=()=>ve(xt,"$relativeTime",d);var q,S;const r=s(()=>t.column.label),j=s(()=>kt.params.namespace),$=s(()=>tt(e(r))&&(n()[e(r)]===Te.KEYWORD||n()[e(r)]===Te.TEXT)&&typeof((S=(q=t.workflow.searchAttributes)===null||q===void 0?void 0:q.indexedFields)===null||S===void 0?void 0:S[e(r)])=="string");let p=wt(!1);const Q=()=>$e(p,!0),G=()=>$e(p,!1),we=["Type","Workflow ID","Run ID","Deployment","Versioning Behavior","Deployment Version","Build ID"];var ee=ze(),te=Me(ee);{var w=f=>{var l=Ut();l.__mouseover=Q,l.__focusin=Q,l.__focusout=[Nt,G];var re=pe(l);{var be=h=>{const u=s(()=>Ne({namespace:e(j),workflow:t.workflow.id,run:t.workflow.runId}));z(h,{get filterOrCopyButtonsVisible(){return e(p)},attribute:"WorkflowType",get value(){return t.workflow.name},get href(){return e(u)}})},ke=(h,u)=>{{var b=c=>{const k=s(()=>Ne({namespace:e(j),workflow:t.workflow.id,run:t.workflow.runId}));z(c,{get filterOrCopyButtonsVisible(){return e(p)},attribute:"WorkflowId",get value(){return t.workflow.id},get href(){return e(k)}})},N=(c,k)=>{{var R=B=>{const U=s(()=>Ne({namespace:e(j),workflow:t.workflow.id,run:t.workflow.runId}));z(B,{get filterOrCopyButtonsVisible(){return e(p)},attribute:"RunId",get value(){return t.workflow.runId},get href(){return e(U)}})},Le=(B,U)=>{{var ye=F=>{const O=s(()=>{var y,I;return(I=(y=t.workflow.searchAttributes)==null?void 0:y.indexedFields)==null?void 0:I.TemporalWorkerDeployment}),ge=s(()=>e(O)&&typeof e(O)=="string"?e(O):""),_e=s(()=>It({namespace:e(j),deployment:e(O)}));z(F,{get filterOrCopyButtonsVisible(){return e(p)},attribute:"TemporalWorkerDeployment",get value(){return e(ge)},get href(){return e(_e)}})},Pe=(F,O)=>{{var ge=y=>{const I=s(()=>{var oe,g;return(g=(oe=t.workflow.searchAttributes)==null?void 0:oe.indexedFields)==null?void 0:g.TemporalWorkerDeploymentVersion}),Y=s(()=>e(I)&&typeof e(I)=="string"?e(I):"");z(y,{get filterOrCopyButtonsVisible(){return e(p)},attribute:"TemporalWorkerDeploymentVersion",get value(){return e(Y)}})},_e=(y,I)=>{{var Y=g=>{const M=s(()=>{var ae,_,D,L,A;return((D=(_=(ae=t.workflow)==null?void 0:ae.searchAttributes)==null?void 0:_.indexedFields)==null?void 0:D.TemporalWorkerBuildId)||Ft((A=(L=t.workflow.searchAttributes)==null?void 0:L.indexedFields)==null?void 0:A.TemporalWorkerDeploymentVersion)}),X=s(()=>e(M)&&typeof e(M)=="string"?e(M):"");z(g,{get filterOrCopyButtonsVisible(){return e(p)},attribute:"TemporalWorkerBuildId",get value(){return e(X)}})},oe=(g,M)=>{{var X=_=>{const D=s(()=>{var A,E;return(E=(A=t.workflow.searchAttributes)==null?void 0:A.indexedFields)==null?void 0:E.TemporalWorkflowVersioningBehavior}),L=s(()=>e(D)&&typeof e(D)=="string"?e(D):"");z(_,{get filterOrCopyButtonsVisible(){return e(p)},attribute:"TemporalWorkflowVersioningBehavior",get value(){return e(L)}})},ae=(_,D)=>{{var L=A=>{const E=s(()=>{var Z,se;return(se=(Z=t.workflow.searchAttributes)==null?void 0:Z.indexedFields)==null?void 0:se[e(r)]});z(A,{get filterOrCopyButtonsVisible(){return e(p)},get attribute(){return e(r)},get value(){return e(E)},get type(){return n()[e(r)]}})};o(_,A=>{e($)&&A(L)},D)}};o(g,_=>{e(r)==="Versioning Behavior"?_(X):_(ae,!1)},M)}};o(y,g=>{e(r)==="Build ID"?g(Y):g(oe,!1)},I)}};o(F,y=>{e(r)==="Deployment Version"?y(ge):y(_e,!1)},O)}};o(B,F=>{e(r)==="Deployment"?F(ye):F(Pe,!1)},U)}};o(c,B=>{e(r)==="Run ID"?B(R):B(Le,!1)},k)}};o(h,c=>{e(r)==="Workflow ID"?c(b):c(N,!1)},u)}};o(re,h=>{e(r)==="Type"?h(be):h(ke,!1)})}Be(l),Fe("focus",l,Q),Fe("mouseleave",l,G),Fe("blur",l,G),a(f,l)},W=f=>{var l=Yt(),re=pe(l);{var be=h=>{const u=s(()=>pt(t.workflow)),b=s(()=>Dt(t.workflow));yt(h,{get status(){return t.workflow.status},get delayed(){return e(u)},get taskFailure(){return e(b)}})},ke=(h,u)=>{{var b=c=>{var k=m();i(R=>v(k,R),[()=>xe(t.workflow.endTime,T(),{relative:C()})]),a(c,k)},N=(c,k)=>{{var R=B=>{var U=m();i(ye=>v(U,ye),[()=>xe(t.workflow.startTime,T(),{relative:C()})]),a(B,U)},Le=(B,U)=>{{var ye=F=>{var O=m();i(()=>v(O,t.workflow.taskQueue)),a(F,O)},Pe=(F,O)=>{{var ge=y=>{var I=m();i(()=>{var Y;return v(I,((Y=t.workflow)==null?void 0:Y.parentNamespaceId)??"")}),a(y,I)},_e=(y,I)=>{{var Y=g=>{var M=m();i(X=>v(M,X),[()=>Mt(parseInt(t.workflow.historySizeBytes,10))]),a(g,M)},oe=(g,M)=>{{var X=_=>{var D=m();i(L=>v(D,L),[()=>parseInt(t.workflow.stateTransitionCount,10)>0?t.workflow.stateTransitionCount:""]),a(_,D)},ae=(_,D)=>{{var L=E=>{var Z=m();i(se=>v(Z,se),[()=>xe(t.workflow.executionTime,T(),{relative:C()})]),a(E,Z)},A=(E,Z)=>{{var se=le=>{var Ie=m();i(qe=>v(Ie,qe),[()=>Bt({start:t.workflow.startTime,end:t.workflow.endTime,includeMillisecondsForUnderSecond:!0})]),a(le,Ie)},nt=(le,Ie)=>{{var qe=ie=>{var De=m();i(He=>v(De,He),[()=>parseInt(t.workflow.historyEvents,10)>0?t.workflow.historyEvents:""]),a(ie,De)},ft=(ie,De)=>{{var He=ne=>{var Ve=m();i(()=>{var Ce,Se;return v(Ve,((Se=(Ce=t.workflow.searchAttributes)==null?void 0:Ce.indexedFields)==null?void 0:Se.TemporalScheduledById)??"")}),a(ne,Ve)},ut=(ne,Ve)=>{{var Ce=fe=>{var We=m();const he=s(()=>{var ue,H;return(H=(ue=t.workflow.searchAttributes)==null?void 0:ue.indexedFields)==null?void 0:H.TemporalScheduledStartTime});i(ue=>v(We,ue),[()=>e(he)&&typeof e(he)=="string"?xe(e(he),T(),{relative:C()}):""]),a(fe,We)},Se=(fe,We)=>{{var he=H=>{var Oe=m();i(()=>{var Ae,ce;return v(Oe,(ce=(Ae=t.workflow.searchAttributes)==null?void 0:Ae.indexedFields)==null?void 0:ce.TemporalChangeVersion)}),a(H,Oe)},ue=(H,Oe)=>{{var Ae=ce=>{var Ze=ze();const Ee=s(()=>{var K,J;return(J=(K=t.workflow.searchAttributes)==null?void 0:K.indexedFields)==null?void 0:J[e(r)]});var ct=Me(Ze);{var mt=K=>{var J=m();i(Ke=>v(J,Ke),[()=>xe(e(Ee),T(),{relative:C()})]),a(K,J)},vt=(K,J)=>{{var Ke=me=>{gt(me,{children:(je,zt)=>{it();var Je=m();i(()=>v(Je,e(Ee))),a(je,Je)},$$slots:{default:!0}})},dt=me=>{var je=m();i(()=>v(je,e(Ee))),a(me,je)};o(K,me=>{n()[e(r)]===Te.BOOL?me(Ke):me(dt,!1)},J)}};o(ct,K=>{n()[e(r)]===Te.DATETIME&&typeof e(Ee)=="string"?K(mt):K(vt,!1)})}a(ce,Ze)};o(H,ce=>{tt(e(r))&&ht(t.workflow,e(r))&&ce(Ae)},Oe)}};o(fe,H=>{e(r)==="Change Version"?H(he):H(ue,!1)},We)}};o(ne,fe=>{e(r)==="Scheduled Start Time"?fe(Ce):fe(Se,!1)},Ve)}};o(ie,ne=>{e(r)==="Scheduled By ID"?ne(He):ne(ut,!1)},De)}};o(le,ie=>{e(r)==="History Length"?ie(qe):ie(ft,!1)},Ie)}};o(E,le=>{e(r)==="Execution Duration"?le(se):le(nt,!1)},Z)}};o(_,E=>{e(r)==="Execution Time"?E(L):E(A,!1)},D)}};o(g,_=>{e(r)==="State Transitions"?_(X):_(ae,!1)},M)}};o(y,g=>{e(r)==="History Size"?g(Y):g(oe,!1)},I)}};o(F,y=>{e(r)==="Parent Namespace"?y(ge):y(_e,!1)},O)}};o(B,F=>{e(r)==="Task Queue"?F(ye):F(Pe,!1)},U)}};o(c,B=>{e(r)==="Start"?B(R):B(Le,!1)},k)}};o(h,c=>{e(r)==="End"?c(b):c(N,!1)},u)}};o(re,h=>{e(r)==="Status"?h(be):h(ke,!1)})}Be(l),a(f,l)};o(te,f=>{we.includes(e(r))||e($)?f(w):f(W,!1)})}a(x,ee),Ge(),P()}bt(["mouseover","focusin","focusout"]);const pr=(x,t)=>{const d=Rt({workflows:x},null,2),P=`workflows-${x.length}-${t}-${Date.now()}.json`;n(d,P,"text/plain");function n(T,C,q){const S=document.createElement("a"),r=new Blob([T],{type:q});S.href=URL.createObjectURL(r),S.download=C,S.click()}};export{Tr as T,pr as e};
