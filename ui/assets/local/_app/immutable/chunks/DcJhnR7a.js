import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{a as H}from"./r33Ll6et.js";import{p as P,f as S,c as J,j as x,r as y,h as k,t as D,e as L,b as R,l as M,M as _,a as N,I as F,g as O,o as B}from"./BBjqMsu1.js";import{e as E,s as G}from"./DHOm-mSm.js";import{i as K}from"./DrCjka1e.js";import{k as Q}from"./C9OGzM-W.js";import{s as I}from"./CDFkFKEl.js";import{s as W}from"./Cd9fk9Xa.js";import{i as V}from"./DIZ-FoJG.js";import{p as a}from"./D42yUzBQ.js";import{C as X}from"./CuY3ug9w.js";import{I as Y}from"./cYmRoqvp.js";import{t as s}from"./DEjs8ZrU.js";import{t as Z}from"./BTcyvo72.js";import{L as $}from"./Dn4VAsVw.js";import{T as ee}from"./B-EYHHC0.js";var te=S('<label class="file-upload-label svelte-vg1zto"><!></label> <input class="hidden" type="file"/>',1);function ae(w,e){P(e,!1);let d=a(e,"id",8),l=a(e,"accept",8,".json"),r=a(e,"onUpload",8);const T=U=>{var v;const g=U.target,c=(v=g==null?void 0:g.files)===null||v===void 0?void 0:v[0],i=new FileReader;c&&(i.readAsText(c),i.onload=()=>{var n,f;try{const h=(f=(n=i==null?void 0:i.result)===null||n===void 0?void 0:n.toString())!==null&&f!==void 0?f:"";r()(h)}catch{Z.push({variant:"error",message:s("common.upload-error")})}})};V();var u=te(),o=J(u),p=x(o);Y(p,{name:"upload"}),y(o);var m=k(o,2);D(()=>{I(o,"for",d()),I(m,"id",d()),I(m,"accept",l())}),E("change",m,T),L(w,u),R()}var re=S('<div class="flex flex-col gap-2"><!> <div class="flex gap-2"><!> <!></div> <span> </span></div>');function ke(w,e){P(e,!1);let d=a(e,"id",24,()=>crypto.randomUUID()),l=a(e,"error",12,!1),r=a(e,"input",12),T=a(e,"label",24,()=>s("workflows.signal-payload-input-label")),u=a(e,"loading",12,!1),o=a(e,"hintText",24,()=>s("workflows.signal-payload-input-label-hint")),p=a(e,"editing",8,!0);const m=t=>{if(!r())return!0;try{return JSON.parse(t),!0}catch{return!1}},U=t=>{r(t)},v=()=>{r(""),u(!1)},g=t=>{r(t)};H(v),M(()=>_(r()),()=>{l(!m(r()))}),N(),V();var c=re(),i=x(c);$(i,{get for(){return d()},get label(){return T()}});var n=k(i,2),f=x(n);Q(f,()=>[u(),p()],t=>{X(t,{get id(){return d()},maxHeight:320,get content(){return r()},onchange:U,get editable(){return p()},copyable:!1})});var h=k(f,2);{var q=t=>{{let C=B(()=>(_(s),F(()=>s("common.upload-json"))));ee(t,{get text(){return O(C)},topRight:!0,children:(A,le)=>{ae(A,{get id(){return`${d()??""}-input-file-upload`},onUpload:g})},$$slots:{default:!0}})}};K(h,t=>{p()&&t(q)})}y(n);var b=k(n,2);let j;var z=x(b,!0);y(b),y(c),D(t=>{j=W(b,1,`text-xs ${l()?"text-danger":"text-primary"} inline-block`,null,j,{hidden:!o()&&!l()}),I(b,"role",l()?"alert":null),G(z,t)},[()=>(_(l()),_(s),_(o()),F(()=>l()?s("common.input-valid-json"):o()))]),L(w,c),R()}export{ke as P};
