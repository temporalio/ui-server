import"./Bzak7iHL.js";import"./69_IOA4Y.js";import{p as le,O as Ut,l as ze,s as I,m as P,M as gt,a as qe,t as j,i as _,r as f,j as H,o,g as e,e as k,b as ne,n as ae,k as se,c as s,f as ye,ag as Ce,q as Kt}from"./DbzSl5JP.js";import{s as C}from"./B3b0ZBK9.js";import{i as Ze}from"./BwgIsUu1.js";import{i as oe,s as pt}from"./0AwovCk4.js";import{l as vt,p as d,a as be,s as Qe,c as Ee,d as Vt}from"./BV6aaRB7.js";import{a as Jt,w as Gt}from"./Bq4CR0Xw.js";import{p as _t}from"./M-g2db-p.js";import{C as Rt}from"./B5VDjD0v.js";import{C as Xt}from"./51NTAvwI.js";import{I as he}from"./Dcvxt_90.js";import{T as Yt,a as xt,b as bt,c as Ie}from"./94FdLsNz.js";import{b as Zt,C as er,s as tr}from"./TqT1w0aw.js";import{t as c}from"./BXv1jDVW.js";import{e as Be,i as Fe}from"./DgMCLi2J.js";import{B as Ae}from"./BLezAGsT.js";import{m as rr,T as ar,g as Xe,w as sr}from"./C_VxGpNH.js";import{I as lr}from"./ZcSUWOp6.js";import{S as nr}from"./CZceR3q3.js";import{S as or,O as De}from"./DJvhyK4k.js";import{A as ir}from"./B7uMlIQJ.js";import{C as dr}from"./CYMP8Tm_.js";import{L as ur}from"./eV1nEQKI.js";import{L as cr}from"./BXom7Buh.js";import{e as Ye,l as vr}from"./CfReivyu.js";import{c as fr}from"./CChGWUcS.js";import{d as ft}from"./BGX8Ly3E.js";import{p as mr,q as hr}from"./DvLeceFN.js";import{P as gr,k as pr,l as _r}from"./B5Yfg8wC.js";import{a as mt}from"./D1lF4JF7.js";import{g as xr}from"./BIhuk9d5.js";import{P as br}from"./BmB9dOmW.js";import{A as ht}from"./BueVY113.js";var yr=j("<div><!></div>");function Se(N,t){const n=vt(t,["children","$$slots","$$events","$$legacy"]),y=vt(n,["id","tabId"]);le(t,!1);const[w,g]=Qe(),l=()=>be(b,"$activePanel",w),r=P();let a=d(t,"id",8),i=d(t,"tabId",8);const{registerPanel:v,activePanel:b}=Ut(Yt);v(a()),ze(()=>(l(),gt(a())),()=>{I(r,l()===a())}),qe(),oe();var u=yr();let m;var h=_(u);pt(h,t,"default",{},null),f(u),H(A=>m=Zt(u,m,{id:a(),"aria-labelledby":i(),tabindex:"0",role:"tabpanel",...y,[er]:A}),[()=>({hidden:!e(r),"text-primary":e(r)})],o),k(N,u),ne(),g()}var $r=j('<div class="surface-primary grid place-items-center gap-1 rounded border border-subtle px-0 py-4 text-center sm:gap-4 md:gap-x-8 md:px-2 xl:gap-x-16 xl:px-4 svelte-qnj0j6"></div>');function wr(N,t){le(t,!1);const n=Array.from({length:31}).map((l,r)=>r+1);let y=d(t,"daysOfMonth",12);const w=(l,r)=>{l.metaKey?y().includes(r)?y().filter(a=>a!==r):y([...y(),r]):y([r])};oe();var g=$r();Be(g,5,()=>n,Fe,(l,r)=>{const a=o(()=>y().includes(e(r))),i=o(()=>e(a)&&"bg-interactive-secondary-active");Ae(l,{variant:"secondary",get class(){return`max-md:h-9 max-md:px-4 max-md:py-1.5 max-md:text-sm max-sm:h-8 max-sm:px-2 max-sm:py-1 max-sm:text-xs ${e(i)??""}`},$$events:{click:v=>w(v,e(r))},children:(v,b)=>{ae();var u=se();H(()=>C(u,e(r))),k(v,u)},$$slots:{default:!0}})}),f(g),k(N,g),ne()}var kr=j('<div class="flex flex-wrap gap-4 text-center"></div>');function Ir(N,t){le(t,!1);let n=d(t,"months",12);const y=(g,l)=>{g.metaKey&&l!=="*"?(n().includes("*")&&n(n().filter(r=>r!=="*")),n().includes(l)?n(n().filter(r=>r!==l)):n([...n(),l])):n([l])};oe();var w=kr();Be(w,5,()=>rr,Fe,(g,l)=>{let r=()=>e(l).label,a=()=>e(l).value;const i=o(()=>n().includes(a())),v=o(()=>e(i)&&"bg-interactive-secondary-active");Ae(g,{variant:"secondary",get class(){return e(v)},$$events:{click:b=>y(b,a())},children:(b,u)=>{ae();var m=se();H(()=>C(m,r())),k(b,m)},$$slots:{default:!0}})}),f(w),k(N,w),ne()}var Sr=j('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <div class="flex w-full flex-row items-center gap-2"><!> <span class="text-xs font-normal text-slate-500"> </span></div></div>');function yt(N,t){le(t,!1);const n=P();let y=d(t,"hour",12,""),w=d(t,"minute",12,""),g=d(t,"timezoneName",8);ze(()=>gt(g()),()=>{I(n,g().toLowerCase()==="utc"?"Universal Standard Time (UTC)":g())}),qe(),oe();var l=Sr(),r=_(l),a=_(r),i=_(a,!0);f(a);var v=s(a,2),b=_(v,!0);f(v);var u=s(v,2);ar(u,{twelveHourClock:!1,includeSeconds:!1,get hour(){return y()},set hour(z){y(z)},get minute(){return w()},set minute(z){w(z)},$$legacy:!0}),f(r);var m=s(r,2),h=_(m);lr(h,{name:"clock","aria-hidden":"true"});var A=s(h,2),T=_(A);f(A),f(m),f(l),H((z,ie,X)=>{C(i,z),C(b,ie),C(T,`${X??""} ${e(n)??""}`)},[()=>c("schedules.time-view-heading"),()=>c("schedules.time-view-description",{timezoneName:g()}),()=>c("common.based-on-time-preface")],o),k(N,l),ne()}var Ar=j('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <!> <!></div>');function Pr(N,t){le(t,!1);let n=d(t,"daysOfMonth",12),y=d(t,"months",12),w=d(t,"hour",12),g=d(t,"minute",12),l=d(t,"timezoneName",8);oe();var r=Ar(),a=_(r),i=_(a),v=_(i,!0);f(i);var b=s(i,2),u=_(b,!0);f(b);var m=s(b,2);wr(m,{get daysOfMonth(){return n()},set daysOfMonth(T){n(T)},$$legacy:!0}),f(a);var h=s(a,2);Ir(h,{get months(){return y()},set months(T){y(T)},$$legacy:!0});var A=s(h,2);yt(A,{get timezoneName(){return l()},get hour(){return w()},set hour(T){w(T)},get minute(){return g()},set minute(T){g(T)},$$legacy:!0}),f(r),H((T,z)=>{C(v,T),C(u,z)},[()=>c("schedules.recurring-dates-heading"),()=>c("schedules.recurring-dates-description")],o),k(N,r),ne()}var Tr=j('<div class="flex flex-col gap-4 text-center"><div class="flex flex-wrap gap-2 text-center"></div> <div class="flex flex-wrap gap-2 text-center"></div></div>');function Or(N,t){le(t,!1);let n=d(t,"daysOfWeek",12);const y=(r,a)=>{r.metaKey?(Xe.find(i=>i.value===a)?n([a]):n().find(i=>Xe.find(v=>v.value===i))&&n([a]),n().includes(a)?n().filter(i=>i!==a):n([...n(),a])):n([a])};oe();var w=Tr(),g=_(w);Be(g,5,()=>Xe,Fe,(r,a)=>{let i=()=>e(a).label,v=()=>e(a).value;const b=o(()=>n().includes(v())),u=o(()=>e(b)&&"bg-interactive-secondary-active");Ae(r,{variant:"secondary",get class(){return e(u)},$$events:{click:m=>y(m,v())},children:(m,h)=>{ae();var A=se();H(()=>C(A,i())),k(m,A)},$$slots:{default:!0}})}),f(g);var l=s(g,2);Be(l,5,()=>sr,Fe,(r,a)=>{let i=()=>e(a).label,v=()=>e(a).value;const b=o(()=>n().includes(v())),u=o(()=>e(b)&&"bg-interactive-secondary-active");Ae(r,{variant:"secondary",get class(){return e(u)},$$events:{click:m=>y(m,v())},children:(m,h)=>{ae();var A=se();H(()=>C(A,i())),k(m,A)},$$slots:{default:!0}})}),f(l),f(w),k(N,w),ne()}var Cr=j('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <!></div>');function Wr(N,t){le(t,!1);let n=d(t,"daysOfWeek",12),y=d(t,"hour",12),w=d(t,"minute",12),g=d(t,"timezoneName",8);oe();var l=Cr(),r=_(l),a=_(r),i=_(a,!0);f(a);var v=s(a,2),b=_(v,!0);f(v);var u=s(v,2);Or(u,{get daysOfWeek(){return n()},set daysOfWeek(h){n(h)},$$legacy:!0}),f(r);var m=s(r,2);yt(m,{get timezoneName(){return g()},get hour(){return y()},set hour(h){y(h)},get minute(){return w()},set minute(h){w(h)},$$legacy:!0}),f(l),H((h,A)=>{C(i,h),C(b,A)},[()=>c("schedules.recurring-days-heading"),()=>c("schedules.recurring-days-description")],o),k(N,l),ne()}var Nr=j("<!> <!> <!> <!>",1),Mr=j('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <div class="flex flex-col gap-2 md:flex-row md:items-center"><!> <div class="hidden md:block">:</div> <!> <div class="hidden md:block">:</div> <!> <div class="hidden md:block">:</div> <!></div></div> <div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <div class="flex w-48 gap-2"><!> <!></div></div></div>');function zr(N,t){le(t,!1);let n=d(t,"days",12,""),y=d(t,"hour",12,""),w=d(t,"minute",12,""),g=d(t,"second",12,""),l=d(t,"phase",12,""),r=P(""),a=P("min");const i=W=>W?isNaN(parseInt(W)):!1;ze(()=>(e(r),e(a)),()=>{e(r)&&(e(a)==="days"?l((parseInt(e(r))*60*60*24).toString()+"s"):e(a)==="hrs"?l((parseInt(e(r))*60*60).toString()+"s"):e(a)==="min"?l((parseInt(e(r))*60).toString()+"s"):e(a)==="sec"&&l(parseInt(e(r)).toString()+"s"))}),qe(),oe();var v=Mr(),b=_(v),u=_(b),m=_(u,!0);f(u);var h=s(u,2),A=_(h,!0);f(h);var T=s(h,2),z=_(T);const ie=o(()=>c("common.days")),X=o(()=>c("common.days")),de=o(()=>i(n()));he(z,{id:"days","data-testid":"days-input",class:"w-28",get label(){return e(ie)},labelHidden:!0,placeholder:"000",get suffix(){return e(X)},hideCount:!0,maxLength:3,get error(){return e(de)},get value(){return n()},set value(W){n(W)},$$legacy:!0});var M=s(z,4);const V=o(()=>c("common.hours-abbreviated")),E=o(()=>c("common.hours-abbreviated")),Q=o(()=>i(y()));he(M,{id:"hour-interval","data-testid":"hour-interval-input",class:"w-24",get label(){return e(V)},labelHidden:!0,placeholder:"00",get suffix(){return e(E)},hideCount:!0,maxLength:2,get error(){return e(Q)},get value(){return y()},set value(W){y(W)},$$legacy:!0});var B=s(M,4);const F=o(()=>c("common.minutes-abbreviated")),ee=o(()=>c("common.minutes-abbreviated")),x=o(()=>i(w()));he(B,{id:"minute-interval","data-testid":"minute-interval-input",class:"w-24",get label(){return e(F)},labelHidden:!0,placeholder:"00",get suffix(){return e(ee)},hideCount:!0,maxLength:2,get error(){return e(x)},get value(){return w()},set value(W){w(W)},$$legacy:!0});var _e=s(B,4);const Pe=o(()=>c("common.seconds-abbreviated")),Te=o(()=>c("common.seconds-abbreviated")),ge=o(()=>i(g()));he(_e,{id:"second","data-testid":"second-interval-input",class:"w-24",get label(){return e(Pe)},labelHidden:!0,placeholder:"00",get suffix(){return e(Te)},hideCount:!0,maxLength:2,get error(){return e(ge)},get value(){return g()},set value(W){g(W)},$$legacy:!0}),f(T),f(b);var L=s(b,2),te=_(L),$=_(te,!0);f(te);var U=s(te,2),ue=_(U,!0);f(U);var S=s(U,2),q=_(S);const K=o(()=>c("schedules.offset-heading")),J=o(()=>i(l()));he(q,{id:"phase",class:"w-28",get label(){return e(K)},labelHidden:!0,placeholder:"00",maxLength:3,hideCount:!0,get error(){return e(J)},get value(){return e(r)},set value(W){I(r,W)},$$legacy:!0});var G=s(q,2);const re=o(()=>c("schedules.offset-unit"));or(G,{get label(){return e(re)},labelHidden:!0,id:"phase-unit",get value(){return e(a)},set value(W){I(a,W)},children:(W,xe)=>{var ve=Nr(),R=ye(ve);De(R,{value:"days",children:(Y,pe)=>{ae();var D=se();H(ce=>C(D,ce),[()=>c("common.days")],o),k(Y,D)},$$slots:{default:!0}});var fe=s(R,2);De(fe,{value:"hrs",children:(Y,pe)=>{ae();var D=se();H(ce=>C(D,ce),[()=>c("common.hours-abbreviated")],o),k(Y,D)},$$slots:{default:!0}});var me=s(fe,2);De(me,{value:"min",children:(Y,pe)=>{ae();var D=se();H(ce=>C(D,ce),[()=>c("common.minutes-abbreviated")],o),k(Y,D)},$$slots:{default:!0}});var $e=s(me,2);De($e,{value:"sec",children:(Y,pe)=>{ae();var D=se();H(ce=>C(D,ce),[()=>c("common.seconds-abbreviated")],o),k(Y,D)},$$slots:{default:!0}}),k(W,ve)},$$slots:{default:!0},$$legacy:!0}),f(S),f(L),f(v),H((W,xe,ve,R)=>{C(m,W),C(A,xe),C($,ve),C(ue,R)},[()=>c("schedules.interval-view-heading"),()=>c("schedules.interval-view-description"),()=>c("schedules.offset-heading"),()=>c("schedules.offset-description")],o),k(N,v),ne()}var qr=j("<!> <!> <!> <!> <!>",1),Lr=j('<div class="flex flex-col gap-2"><h3> </h3> <p class="text-secondary"> </p> <!></div> <div class="flex flex-col gap-2"><p class="text-secondary"> </p> <!></div>',1),jr=j('<h2 class="mb-4"> </h2> <!> <div class="mt-4 flex w-full flex-wrap gap-6"><!> <!> <!> <!> <!></div> <!>',1);function Hr(N,t){le(t,!1);const[n,y]=Qe();let g=be(_t,"$page",n).params.schedule,l=P(g?"existing":"interval"),r=d(t,"schedule",8,null),a=d(t,"daysOfWeek",12),i=d(t,"daysOfMonth",12),v=d(t,"months",12),b=d(t,"days",12),u=d(t,"hour",12),m=d(t,"minute",12),h=d(t,"second",12),A=d(t,"phase",12),T=d(t,"cronString",12),z=d(t,"timezoneName",8);const ie=()=>{a([]),i([]),v([]),b(""),u(""),m(""),h(""),A(""),T("")};ze(()=>{},()=>{ie()}),qe(),oe(),xt(N,{class:"mt-8 w-full",children:(X,de)=>{var M=jr(),V=ye(M),E=_(V,!0);f(V);var Q=s(V,2);bt(Q,{label:"Schedule Tabs",children:(L,te)=>{var $=qr(),U=ye($);{var ue=G=>{Ie(G,{label:"Existing",id:"existing-tab","data-testid":"existing-tab",panelId:"existing-panel",onClick:()=>I(l,"existing")})};Ze(U,G=>{r()&&G(ue)})}var S=s(U,2);Ie(S,{label:"Interval",id:"interval-tab","data-testid":"interval-tab",panelId:"interval-panel",onClick:()=>I(l,"interval")});var q=s(S,2);Ie(q,{label:"Days of the Week",id:"daily-tab","data-testid":"daily-tab",panelId:"daily-panel",onClick:()=>I(l,"week")});var K=s(q,2);Ie(K,{label:"Days of the Month",id:"monthly-tab","data-testid":"monthly-tab",panelId:"monthly-panel",onClick:()=>I(l,"month")});var J=s(K,2);Ie(J,{label:"String",id:"string-tab","data-testid":"string-tab",panelId:"string-panel",onClick:()=>I(l,"string")}),k(L,$)},$$slots:{default:!0}});var B=s(Q,2),F=_(B);{var ee=L=>{Se(L,{id:"existing-panel",tabId:"existing-tab",class:"w-full",children:(te,$)=>{const U=o(()=>{var S,q,K,J;return[...((q=(S=r())==null?void 0:S.spec)==null?void 0:q.structuredCalendar)??[],...((J=(K=r())==null?void 0:K.spec)==null?void 0:J.interval)??[]]}),ue=o(()=>{var S,q;return(q=(S=r())==null?void 0:S.spec)==null?void 0:q.timezoneName});nr(te,{get frequency(){return e(U)},get timezoneName(){return e(ue)}})},$$slots:{default:!0}})};Ze(F,L=>{r()&&L(ee)})}var x=s(F,2);Se(x,{id:"interval-panel",tabId:"interval-tab",children:(L,te)=>{zr(L,{get days(){return b()},set days($){b($)},get hour(){return u()},set hour($){u($)},get minute(){return m()},set minute($){m($)},get second(){return h()},set second($){h($)},get phase(){return A()},set phase($){A($)},$$legacy:!0})},$$slots:{default:!0}});var _e=s(x,2);Se(_e,{id:"daily-panel",tabId:"daily-tab",children:(L,te)=>{Wr(L,{get timezoneName(){return z()},get daysOfWeek(){return a()},set daysOfWeek($){a($)},get hour(){return u()},set hour($){u($)},get minute(){return m()},set minute($){m($)},$$legacy:!0})},$$slots:{default:!0}});var Pe=s(_e,2);Se(Pe,{id:"monthly-panel",tabId:"monthly-tab",children:(L,te)=>{Pr(L,{get timezoneName(){return z()},get daysOfMonth(){return i()},set daysOfMonth($){i($)},get months(){return v()},set months($){v($)},get hour(){return u()},set hour($){u($)},get minute(){return m()},set minute($){m($)},$$legacy:!0})},$$slots:{default:!0}});var Te=s(Pe,2);Se(Te,{id:"string-panel",tabId:"string-tab",class:"flex w-full flex-col gap-4",children:(L,te)=>{var $=Lr(),U=ye($),ue=_(U),S=_(ue,!0);f(ue);var q=s(ue,2),K=_(q,!0);f(q);var J=s(q,2);Xt(J,{inline:!0,language:"text",content:`┌───────────── minute (0 - 59) 
│ ┌───────────── hour (0 - 23)
│ │ ┌───────────── day of the month (1 - 31)
│ │ │ ┌───────────── month (1 - 12)
│ │ │ │ ┌───────────── day of the week (0 - 6) (Sunday to Saturday)
│ │ │ │ │
* * * * *`,copyable:!1}),f(U);var G=s(U,2),re=_(G),W=_(re,!0);f(re);var xe=s(re,2);const ve=o(()=>c("schedules.cron-view-title"));he(xe,{get label(){return e(ve)},labelHidden:!0,id:"cronString",placeholder:"* * * * *",get value(){return T()},set value(R){T(R)},$$legacy:!0}),f(G),H((R,fe,me)=>{C(S,R),C(K,fe),C(W,me)},[()=>c("schedules.cron-view-title"),()=>c("schedules.crow-view-example-description"),()=>c("schedules.cron-view-description")],o),k(L,$)},$$slots:{default:!0}}),f(B);var ge=s(B,2);pt(ge,t,"default",{get preset(){return e(l)}},null),H(L=>C(E,L),[()=>c("schedules.schedule-spec")],o),k(X,M)},$$slots:{default:!0}}),ne(),y()}var Dr=j('<div slot="action"><!></div>'),Er=j('<div class="flex flex-col gap-1"><!></div>');function Br(N,t){le(t,!1);const[n,y]=Qe(),w=()=>be(r(),"$encoding",n);let g=d(t,"input",12),l=d(t,"editInput",12),r=d(t,"encoding",12),a=d(t,"messageType",12),i=d(t,"payloads",8),v=d(t,"showEditActions",8,!1),b="",u="json/plain",m="",h=P(!0);const A=X=>{var de,M,V,E,Q,B,F;b=xr(X),g(b);const ee=mt(String((V=(M=(de=i()===null||i()===void 0?void 0:i().payloads[0])===null||de===void 0?void 0:de.metadata)===null||M===void 0?void 0:M.encoding)!==null&&V!==void 0?V:"json/plain")),x=!((Q=(E=i()===null||i()===void 0?void 0:i().payloads[0])===null||E===void 0?void 0:E.metadata)===null||Q===void 0)&&Q.messageType?mt(String((F=(B=i()===null||i()===void 0?void 0:i().payloads[0])===null||B===void 0?void 0:B.metadata)===null||F===void 0?void 0:F.messageType)):"";pr(ee)&&(Ee(r(),ee),u=w(),ee==="json/protobuf"&&x&&(a(x),m=x)),I(h,!1)},T=()=>{l()?(l(!1),g(b),Ee(r(),u),a(m)):(l(!0),g())};oe();var z=Er(),ie=_(z);br(ie,{get value(){return i()},key:"payloads",onDecode:A,children:(X,de)=>{gr(X,{get editing(){return l()},id:"schedule-payload-input",get input(){return g()},set input(M){g(M)},get encoding(){return r()},set encoding(M){r(M)},get messageType(){return a()},set messageType(M){a(M)},get loading(){return e(h)},set loading(M){I(h,M)},$$slots:{action:(M,V)=>{var E=Dr();let Q;var B=_(E);Ae(B,{variant:"secondary",$$events:{click:T},children:(F,ee)=>{ae();var x=se();H(_e=>C(x,_e),[()=>l()?c("common.cancel"):c("common.edit")],o),k(F,x)},$$slots:{default:!0}}),f(E),H(F=>Q=tr(E,1,"",null,Q,F),[()=>({hidden:!v()})],o),k(M,E)}},$$legacy:!0})},$$slots:{default:!0}}),f(z),k(N,z),ne(),y()}var Fr=j("<!> <!>",1),Qr=j('<h2 class="mb-4 mt-12">Search Attributes</h2> <!> <div class="mt-4 flex w-full flex-wrap gap-6"><!> <!></div>',1);function Ur(N,t){le(t,!1);let n=d(t,"searchAttributesInput",28,()=>[]),y=d(t,"workflowSearchAttributesInput",28,()=>[]);oe(),xt(N,{children:(w,g)=>{var l=Qr(),r=s(ye(l),2);const a=o(()=>c("schedules.add-schedule-attr"));bt(r,{get label(){return e(a)},class:"flex flex-wrap gap-6",children:(u,m)=>{var h=Fr(),A=ye(h);Ie(A,{label:"Schedule",id:"schedule-tab","data-testid":"schedule-tab",panelId:"schedule-panel"});var T=s(A,2);Ie(T,{label:"Workflows",id:"workflows-tab","data-testid":"workflows-tab",panelId:"workflows-panel"}),k(u,h)},$$slots:{default:!0}});var i=s(r,2),v=_(i);Se(v,{id:"schedule-panel",tabId:"schedule-tab",class:"w-full","data-testid":"schedule-panel",children:(u,m)=>{ht(u,{class:"w-full",get attributesToAdd(){return n()},set attributesToAdd(h){n(h)},$$legacy:!0})},$$slots:{default:!0}});var b=s(v,2);Se(b,{id:"workflows-panel",tabId:"workflows-tab",class:"w-full","data-testid":"workflows-panel",children:(u,m)=>{ht(u,{class:"w-full",get attributesToAdd(){return y()},set attributesToAdd(h){y(h)},$$legacy:!0})},$$slots:{default:!0}}),f(i),k(w,l)},$$slots:{default:!0}}),ne()}var Kr=j('<!> <div class="mt-4 flex flex-row items-center gap-4 max-sm:flex-col"><!> <!></div>',1),Vr=j('<form class="mb-4 flex w-full flex-col gap-4"><!> <!> <!> <!> <!> <!> <!> <!></form>'),Jr=j("<!> <h1></h1> <!>",1),Gr=j('<div class="flex flex-col gap-4 pb-10"><!></div>');function Oa(N,t){le(t,!1);const[n,y]=Qe(),w=()=>be(_t,"$page",n),g=()=>be(fr,"$customSearchAttributes",n),l=()=>be(e(xe),"$encoding",n),r=()=>be(Ye,"$error",n),a=()=>be(vr,"$loading",n),i=P();var v,b,u,m,h,A,T,z,ie,X,de,M,V,E,Q,B,F,ee;let x=d(t,"schedule",8,null),_e=d(t,"searchAttributes",24,()=>({})),Pe=d(t,"onConfirm",8),Te=w().params.namespace,ge=w().params.schedule,L=c(x()?"schedules.edit":"schedules.create"),te=c(x()?"schedules.editing":"schedules.creating"),$=c(x()?"schedules.back-to-schedule":"schedules.back-to-schedules"),U=x()?mr({namespace:Te,scheduleId:ge}):hr({namespace:Te}),ue=x()?c("common.save"):c("schedules.create"),S=P({}),q=P(ge??""),K=P((m=(u=(b=(v=x()===null||x()===void 0?void 0:x().action)===null||v===void 0?void 0:v.startWorkflow)===null||b===void 0?void 0:b.workflowType)===null||u===void 0?void 0:u.name)!==null&&m!==void 0?m:""),J=P((T=(A=(h=x()===null||x()===void 0?void 0:x().action)===null||h===void 0?void 0:h.startWorkflow)===null||A===void 0?void 0:A.workflowId)!==null&&T!==void 0?T:""),G=P((de=(X=(ie=(z=x()===null||x()===void 0?void 0:x().action)===null||z===void 0?void 0:z.startWorkflow)===null||ie===void 0?void 0:ie.taskQueue)===null||X===void 0?void 0:X.name)!==null&&de!==void 0?de:""),re=P(""),W=P(!x()),xe=P(Gt("json/plain")),ve=P(""),R=P([]),fe=P([]),me=P([]),$e=P(""),Y=P(""),pe=P(""),D=P(""),ce=P(""),We=P(""),$t=(V=(M=x()===null||x()===void 0?void 0:x().spec)===null||M===void 0?void 0:M.timezoneName)!==null&&V!==void 0?V:"UTC";const Ue=ft({searchAttributes:_e()}),Ke=ft({searchAttributes:(B=(Q=(E=x()===null||x()===void 0?void 0:x().action)===null||E===void 0?void 0:E.startWorkflow)===null||Q===void 0?void 0:Q.searchAttributes)!==null&&B!==void 0?B:{}}),wt=(F=Ue==null?void 0:Ue.searchAttributes.indexedFields)!==null&&F!==void 0?F:{},kt=(ee=Ke==null?void 0:Ke.searchAttributes.indexedFields)!==null&&ee!==void 0?ee:{};let Ve=P(Object.entries(wt).map(([O,Z])=>({label:O,value:Z,type:g()[O]}))),Je=P(Object.entries(kt).map(([O,Z])=>({label:O,value:Z,type:g()[O]})));const It=(O,Z)=>{const we={name:e(q).trimEnd(),workflowType:e(K),workflowId:e(J),taskQueue:e(G),...e(W)&&{input:e(re)},encoding:l(),messageType:e(ve),hour:e(Y),minute:e(pe),second:e(D),phase:e(ce),cronString:e(We),daysOfWeek:e(R),daysOfMonth:e(fe),days:e($e),months:e(me),searchAttributes:e(Ve),workflowSearchAttributes:e(Je)};Pe()(O,we,Z)},Le=O=>{const{id:Z}=O.target;Ce(S,e(S)[Z]=!1),r()&&Ee(Ye,"")},je=O=>{const{value:Z,id:we}=O.target;Z.trim()?Ce(S,e(S)[we]=!1):Ce(S,e(S)[we]=!0)},St=O=>{if(!e(re))return Ce(S,e(S).input=!1),!0;try{return JSON.parse(O),Ce(S,e(S).input=!1),!0}catch{return Ce(S,e(S).input=!0),!1}};Jt(()=>Ee(Ye,"")),ze(()=>(e(q),e(K),e(J),e(G),e(re),e($e),e(Y),e(pe),e(D),e(R),e(fe),e(me),e(We)),()=>{I(i,O=>!e(q)||!e(K)||!e(J)||!e(G)||!St(e(re))?!0:O==="interval"?!e($e)&&!e(Y)&&!e(pe)&&!e(D):O==="week"?!e(R).length:O==="month"?!e(fe).length||!e(me).length:O==="string"?!e(We):!1)}),qe(),oe();var Ge=Gr(),At=_(Ge);{var Pt=O=>{cr(O,{title:te})},Tt=O=>{var Z=Jr(),we=ye(Z);ur(we,{href:U,icon:"chevron-left",children:(Re,Ct)=>{ae();var Oe=se();Oe.nodeValue=$,k(Re,Oe)},$$slots:{default:!0}});var et=s(we,2);et.textContent=L;var Ot=s(et,2);dr(Ot,{class:"w-full xl:w-3/4 2xl:w-1/2",children:(Re,Ct)=>{var Oe=Vr(),tt=_(Oe);const Wt=o(()=>c("schedules.name-label")),Nt=o(()=>!!ge);he(tt,{id:"name","data-testid":"schedule-name-input",get label(){return e(Wt)},get error(){return e(S).name},maxLength:232,get disabled(){return e(Nt)},required:!0,get value(){return e(q)},set value(p){I(q,p)},$$events:{input:Le,blur:je},$$legacy:!0});var rt=s(tt,2);const Mt=o(()=>c("schedules.workflow-type-label"));he(rt,{id:"workflowType","data-testid":"schedule-type-input",get label(){return e(Mt)},get error(){return e(S).workflowType},required:!0,get value(){return e(K)},set value(p){I(K,p)},$$events:{input:Le,blur:je},$$legacy:!0});var at=s(rt,2);const zt=o(()=>c("schedules.workflow-id-label"));he(at,{id:"workflowId","data-testid":"schedule-workflow-id-input",get label(){return e(zt)},get error(){return e(S).workflowId},required:!0,get value(){return e(J)},set value(p){I(J,p)},$$events:{input:Le,blur:je},$$legacy:!0});var st=s(at,2);const qt=o(()=>c("schedules.task-queue-label"));he(st,{id:"taskQueue","data-testid":"schedule-task-queue-input",get label(){return e(qt)},get error(){return e(S).taskQueue},required:!0,get value(){return e(G)},set value(p){I(G,p)},$$events:{input:Le,blur:je},$$legacy:!0});var lt=s(st,2);const Lt=o(()=>{var p,He,Ne;return(Ne=(He=(p=x())==null?void 0:p.action)==null?void 0:He.startWorkflow)==null?void 0:Ne.input}),jt=o(()=>!!x());Br(lt,{get payloads(){return e(Lt)},get showEditActions(){return e(jt)},get input(){return e(re)},set input(p){I(re,p)},get editInput(){return e(W)},set editInput(p){I(W,p)},get encoding(){return e(xe)},set encoding(p){Vt(I(xe,p),"$encoding",n)},get messageType(){return e(ve)},set messageType(p){I(ve,p)},$$legacy:!0});var nt=s(lt,2);Hr(nt,{get schedule(){return x()},timezoneName:$t,get daysOfWeek(){return e(R)},set daysOfWeek(p){I(R,p)},get daysOfMonth(){return e(fe)},set daysOfMonth(p){I(fe,p)},get months(){return e(me)},set months(p){I(me,p)},get days(){return e($e)},set days(p){I($e,p)},get hour(){return e(Y)},set hour(p){I(Y,p)},get minute(){return e(pe)},set minute(p){I(pe,p)},get second(){return e(D)},set second(p){I(D,p)},get phase(){return e(ce)},set phase(p){I(ce,p)},get cronString(){return e(We)},set cronString(p){I(We,p)},children:Kt,$$slots:{default:(p,He)=>{const Ne=o(()=>He.preset);var it=Kr(),dt=ye(it);Ur(dt,{get searchAttributesInput(){return e(Ve)},set searchAttributesInput(ke){I(Ve,ke)},get workflowSearchAttributesInput(){return e(Je)},set workflowSearchAttributesInput(ke){I(Je,ke)},$$legacy:!0});var ut=s(dt,2),ct=_(ut);const Et=o(()=>e(i)(e(Ne))||!_r());Ae(ct,{get disabled(){return e(Et)},class:"max-sm:w-full","data-testid":"create-schedule-button",$$events:{click:()=>It(e(Ne),x())},children:(ke,Ft)=>{ae();var Me=se();Me.nodeValue=ue,k(ke,Me)},$$slots:{default:!0}});var Bt=s(ct,2);Ae(Bt,{variant:"ghost",href:U,class:"max-sm:w-full","data-testid":"cancel-schedule-button",children:(ke,Ft)=>{ae();var Me=se();H(Qt=>C(Me,Qt),[()=>c("common.cancel")],o),k(ke,Me)},$$slots:{default:!0}}),f(ut),k(p,it)}},$$legacy:!0});var ot=s(nt,2);const Ht=o(()=>!r());ir(ot,{intent:"error",get title(){return r()},get hidden(){return e(Ht)}});var Dt=s(ot,2);Rt(Dt,{}),f(Oe),k(Re,Oe)},$$slots:{default:!0}}),k(O,Z)};Ze(At,O=>{a()?O(Pt):O(Tt,!1)})}f(Ge),k(N,Ge),ne(),y()}export{Oa as S};
