import"./Bzak7iHL.js";import"./69_IOA4Y.js";import{I as N,aa as H,p as A,t as Q,i as k,k as J,j as x,e as g,r as z,b as I,c as K,aP as R,h as C,f as F,o as T,g as S,m as U,s as W}from"./DtSMpxPp.js";import{e as V,i as B}from"./D_0FA0ti.js";import{i as M,s as O,t as X}from"./DM92YGvC.js";import{l as w,p as s,a as Y,b as Z,s as ee}from"./QkTQNHha.js";import{p as te}from"./DXF-sZmN.js";import{u as ae}from"./B5nXMyC4.js";import{l as re,s as le,e as ne}from"./ChP_J8fE.js";import{a as se,b as ie,C as ue}from"./Dbhi2jYg.js";import{b as oe}from"./lfQGXmy2.js";import{L as ve}from"./BI3gsI5V.js";function D(t,e,l){if(t.multiple)return ce(t,e);for(var r of t.options){var a=p(r);if(H(a,e)){r.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function de(t,e){N(()=>{var l=new MutationObserver(()=>{var r=t.__value;D(t,r)});return l.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{l.disconnect()}})}function fe(t,e,l=e){var r=!0;re(t,"change",a=>{var n=a?"[selected]":":checked",i;if(t.multiple)i=[].map.call(t.querySelectorAll(n),p);else{var u=t.querySelector(n)??t.querySelector("option:not([disabled])");i=u&&p(u)}l(i)}),N(()=>{var a=e();if(D(t,a,r),r&&a===void 0){var n=t.querySelector(":checked");n!==null&&(a=p(n),l(a))}t.__value=a,r=!1}),de(t)}function ce(t,e){for(var l of t.options)l.selected=~e.indexOf(p(l))}function p(t){return"__value"in t?t.__value:t.value}var me=Q("<option><!></option>");function E(t,e){const l=w(e,["children","$$slots","$$events","$$legacy"]);A(e,!1);let r=s(e,"value",8,null);M();var a=me(),n={},i=k(a);O(i,e,"default",{},u=>{var d=J();x(()=>le(d,r())),g(u,d)}),z(a),x(()=>{n!==(n=r())&&(a.value=(a.__value=r())==null?"":r()),se(a,1,`border-0 ${l.class??""}`)}),g(t,a),I()}var _e=Q("<div><!> <select><!></select></div>");function ge(t,e){const l=w(e,["children","$$slots","$$events","$$legacy"]),r=w(l,["class","id","value","label","arrow","name","required","options"]);A(e,!1);let a=s(e,"class",8,null),n=s(e,"id",8),i=s(e,"value",12),u=s(e,"label",8),d=s(e,"arrow",8,!1),f=s(e,"name",24,n),h=s(e,"required",8,!1),y=s(e,"options",24,()=>[]);M();var b=_e(),m=k(b);ve(m,{get required(){return h()},get label(){return u()},hidden:!0,get for(){return n()}});var c=K(m,2);x(()=>{i(),R(()=>{a(),d(),f(),n(),y()})});let o;var j=k(c);O(j,e,"default",{},v=>{var _=C(),P=F(_);V(P,1,y,B,(q,L)=>{E(q,{get value(){return S(L)}})}),g(v,_)}),z(c),z(b),x((v,_)=>o=ie(c,o,{class:v,name:f(),id:n(),...r,[ue]:_},"svelte-19wlu2a"),[()=>X("inline h-10 w-full border px-2 text-base",a()),()=>({remove:d()})],T),fe(c,i),ne("change",c,function(v){oe.call(this,e,v)}),g(t,b),I()}function ze(t,e){const l=w(e,["children","$$slots","$$events","$$legacy"]);A(e,!1);const[r,a]=ee(),n=()=>Y(te,"$page",r);let i=s(e,"label",8),u=s(e,"value",12),d=s(e,"options",24,()=>[]),f=s(e,"parameter",8,null),h=s(e,"position",8,void 0);const y=`${f()||i()}-${h()?`${h()}-filter`:"filter"}`,b=f()&&n().url.searchParams.get(f());let m=U(b||u()&&u().toString());const c=()=>{ae({parameter:f(),value:S(m),url:n().url}).then(o=>u(o))};M(),ge(t,Z({id:y,get label(){return i()}},()=>l,{get value(){return S(m)},set value(o){W(m,o)},$$events:{change:c},children:(o,j)=>{var v=C(),_=F(v);O(_,e,"default",{},P=>{var q=C(),L=F(q);V(L,1,()=>d().map($=>$.toString()),B,($,G)=>{E($,{get value(){return S(G)}})}),g(P,q)}),g(o,v)},$$slots:{default:!0},$$legacy:!0})),I(),a()}export{ze as F};
