import"./Bzak7iHL.js";import"./69_IOA4Y.js";import{p as R,b as q,t as T,i as _,r as h,j as x,o as i,e as y,s as r,m as b,g as n,c as Q}from"./DGYx9ZL3.js";import{s as $}from"./DAS8iFM1.js";import{i as H}from"./C4Tw_PiO.js";import{p as m,s as N,c as z}from"./_1tBR0sn.js";import{M as B}from"./OTNoTeuo.js";import{t as o}from"./BXv1jDVW.js";import{j as S,t as U}from"./Bvv8SRkL.js";import{t as F}from"./CEAh6Cix.js";import{g as G}from"./6jHlPjhK.js";import{i as J}from"./DV_FlHO5.js";import{I as V}from"./DAoDWLEy.js";var X=T('<h3 slot="title"> </h3>'),Y=T("<p> </p>");function pe(a,e){R(e,!1);const[d,D]=N();let f=m(e,"open",12),W=m(e,"workflow",8),M=m(e,"namespace",8),C=m(e,"refresh",8),u=b(),l=b("");const p=G(),k=async()=>{r(l,""),r(u,!0);try{await S({namespace:M(),workflow:W(),identity:p}),f(!1),z(C(),Date.now()),F.push({id:"workflow-cancelation-success-toast",message:o("workflows.cancel-success")})}catch(s){r(l,J(s)?s.message:o("common.unknown-error"))}finally{r(u,!1)}};H();const E=i(()=>o("common.confirm")),P=i(()=>o("common.cancel"));B(a,{id:"cancel-confirmation-modal","data-testid":"cancel-confirmation-modal",get confirmText(){return n(E)},get cancelText(){return n(P)},get loading(){return n(u)},confirmType:"destructive",get error(){return n(l)},set error(s){r(l,s)},get open(){return f()},set open(s){f(s)},$$events:{confirmModal:k},$$slots:{title:(s,A)=>{var c=X(),t=_(c,!0);h(c),x(g=>$(t,g),[()=>o("workflows.cancel-modal-title")],i),y(s,c)},content:(s,A)=>{var c=Y(),t=_(c,!0);h(c),x(g=>$(t,g),[()=>o("workflows.cancel-modal-confirmation")],i),y(s,c)}},$$legacy:!0}),q(),D()}var Z=T('<h3 slot="title"> </h3>'),ee=T('<div slot="content"><p> </p> <!></div>');function ue(a,e){R(e,!1);const[d,D]=N();let f=m(e,"open",12),W=m(e,"workflow",8),M=m(e,"namespace",8),C=m(e,"refresh",8),u=m(e,"first",8,void 0),l=b(""),p=b(""),k=b(!1);const E=G(),P=()=>{f(!1),r(l,"")},s=async()=>{r(p,""),r(k,!0);try{await U({workflow:W(),namespace:M(),reason:n(l),first:u(),identity:E}),f(!1),r(l,""),z(C(),Date.now()),F.push({id:"workflow-termination-success-toast",message:o("workflows.terminate-success")})}catch(t){r(p,J(t)?t.message:o("common.unknown-error"))}finally{r(k,!1)}};H();const A=i(()=>o("workflows.terminate")),c=i(()=>o("common.cancel"));B(a,{id:"terminate-confirmation-modal","data-testid":"terminate-confirmation-modal",get loading(){return n(k)},get confirmText(){return n(A)},get cancelText(){return n(c)},confirmType:"destructive",get error(){return n(p)},set error(t){r(p,t)},get open(){return f()},set open(t){f(t)},$$events:{cancelModal:P,confirmModal:s},$$slots:{title:(t,g)=>{var w=Z(),v=_(w,!0);h(w),x(I=>$(v,I),[()=>o("workflows.terminate-modal-title")],i),y(t,w)},content:(t,g)=>{var w=ee(),v=_(w),I=_(v,!0);h(v);var K=Q(v,2);const L=i(()=>o("common.reason-placeholder")),O=i(()=>o("common.reason-placeholder"));V(K,{id:"workflow-termination-reason",class:"mt-4",get placeholder(){return n(L)},get label(){return n(O)},labelHidden:!0,get value(){return n(l)},set value(j){r(l,j)},$$legacy:!0}),h(w),x(j=>$(I,j),[()=>o("workflows.terminate-modal-confirmation")],i),y(t,w)}},$$legacy:!0}),q(),D()}const ke=(a,e,d)=>!a.disableWriteActions&&!a.workflowCancelDisabled&&!e.namespaceWriteDisabled(d),ge=(a,e,d)=>!a.disableWriteActions&&!a.workflowResetDisabled&&!e.namespaceWriteDisabled(d),ve=(a,e,d)=>!a.disableWriteActions&&!a.workflowTerminateDisabled&&!e.namespaceWriteDisabled(d);export{pe as C,ue as T,ve as a,ge as b,ke as w};
