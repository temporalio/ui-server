import{v as d,w as L,aa as U,x as F,al as P,U as w,_ as h,a0 as C,m as D,D as c,L as S,G as Z,am as E,an as T,ao as q,ap as j,C as p,F as x,aq as z}from"./DbzSl5JP.js";const y=0,l=1,I=2;function J(A,G,n,N,o){d&&L();var i=A,b=U(),H=j,a=w,r,s,t,_=(b?C:D)(void 0),v=(b?C:D)(void 0),m=!1;function u(e,f){m=!0,f&&(E(k),T(k),q(H));try{e===y&&n&&(r?p(r):r=c(()=>n(i))),e===l&&N&&(s?p(s):s=c(()=>N(i,_))),e===I&&o&&(t?p(t):t=c(()=>o(i,v))),e!==y&&r&&x(r,()=>r=null),e!==l&&s&&x(s,()=>s=null),e!==I&&t&&x(t,()=>t=null)}finally{f&&(q(null),T(null),E(null),z())}}var k=F(()=>{if(a!==(a=G())){if(P(a)){var e=a;m=!1,e.then(f=>{e===a&&(h(_,f),u(l,!0))},f=>{if(e===a&&(h(v,f),u(I,!0),!o))throw v.v}),d?n&&(r=c(()=>n(i))):S(()=>{m||u(y,!0)})}else h(_,a),u(l,!1);return()=>a=w}});d&&(i=Z)}export{J as a};
