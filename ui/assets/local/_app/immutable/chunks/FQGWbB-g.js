import"./Bzak7iHL.js";import{p as Ge,h as ze,f as Pe,e as s,b as Xe,t as de,i as Te,c as nt,r as pe,j as f,o as je,g as e,u as l,n as Qe,k as c,ag as kt,s as et}from"./DtSMpxPp.js";import{e as Be,s as v,d as yt}from"./ChP_J8fE.js";import{i as o}from"./BUX2ey9N.js";import{p as S,s as Ze,a as Fe,c as tt}from"./QkTQNHha.js";import{p as ft}from"./_-aWb4mz.js";import{W as gt}from"./D2AUmkDq.js";import{B as _t}from"./CsMNScE5.js";import{i as rt,c as ht,w as xt}from"./_Af9DppT.js";import{f as he,r as Tt,t as pt}from"./D8JWfvYP.js";import{S as xe}from"./S6Q2Q0ub.js";import{i as Bt}from"./Dzb719w0.js";import{k as Ft}from"./CHqpB290.js";import{g as It}from"./CT3a8W8Y.js";import{c as Ne,h as Dt}from"./VFSn5b0f.js";import{k as Vt}from"./BlK7ueRx.js";import"./69_IOA4Y.js";import{k as Ct}from"./CdG1RbPO.js";import{c as St,a as ot}from"./Dbhi2jYg.js";import{p as at,s as st}from"./Bfc47y5P.js";import{i as Wt,t as Ot}from"./DM92YGvC.js";import{I as lt}from"./Db7F_qcf.js";import{c as At}from"./BfFy7Osf.js";import{L as it}from"./CIiOR4AJ.js";import{T as Et}from"./B5dU76Br.js";import{t as Ue}from"./BXv1jDVW.js";import{w as Ye}from"./B9UNUqOR.js";import{u as Rt}from"./BzFSFN9m.js";import{s as jt}from"./BDfAQ6r3.js";const Pt=(x,t=2)=>{if(!+x)return"0 Bytes";const h=1024,H=t<0?0:t,m=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],T=Math.floor(Math.log(x)/Math.log(h));return`${parseFloat((x/Math.pow(h,T)).toFixed(H))} ${m[T]}`};var Mt=de('<button id="filter-button"><!></button>'),Lt=de('<button class="copy-or-filter-button svelte-qwjj97" id="copy-button"><!></button>'),qt=de("<div><!> <!></div>");function Ht(x,t){Ge(t,!1);const[h,H]=Ze(),m=()=>Fe(re,"$copied",h);let T=S(t,"show",8,!1),W=S(t,"filterable",8,!0),K=S(t,"copyable",8,!0),O=S(t,"content",8),r=S(t,"onFilter",8,()=>{}),j=S(t,"filtered",8,!1),X=S(t,"copyIconTitle",8),p=S(t,"copySuccessIconTitle",8),Z=S(t,"filterIconTitle",8),J=S(t,"class",8,"");const{copy:we,copied:re}=At();Wt();var oe=ze(),be=Pe(oe);{var i=d=>{var a=qt(),P=Te(a);{var B=n=>{var b=Mt();let Y;var w=Te(b);Ct(w,j,k=>{lt(k,{get title(){return Z()},name:"filter",class:"m-1"})}),pe(b),f(k=>Y=ot(b,1,"copy-or-filter-button svelte-qwjj97",null,Y,k),[()=>({filtered:j()})],je),Be("click",b,at(st(function(...k){var M;(M=r())==null||M.apply(this,k)}))),s(n,b)};o(P,n=>{W()&&n(B)})}var F=nt(P,2);{var u=n=>{var b=Lt(),Y=Te(b);const w=je(()=>m()?p():X()),k=je(()=>m()?"checkmark":"copy");lt(Y,{get title(){return e(w)},get name(){return e(k)},class:"m-1"}),pe(b),Be("click",b,at(st(M=>we(M,O())))),s(n,b)};o(F,n=>{K()&&n(u)})}pe(a),f(n=>ot(a,1,n,"svelte-qwjj97"),[()=>St(Ot("copy-or-filter",J()))],je),s(d,a)};o(be,d=>{T()&&d(i)})}s(x,oe),Xe(),H()}var Kt=de("<!> <!>",1);function G(x,t){Ge(t,!0);const[h,H]=Ze(),m=()=>Fe(Ye,"$workflowFilters",h);let T=S(t,"filterOrCopyButtonsVisible",3,!1),W=S(t,"type",19,()=>xe.KEYWORD);const K=i=>i.length>11?`${i.slice(0,4)}...${i.slice(-4)}`:i,O=t.attribute==="RunId",r=()=>{const i=m().find(a=>a.attribute===t.attribute),d=()=>m().filter(a=>a.attribute!==t.attribute);if(!i||i.value!==t.value){const a={attribute:t.attribute,type:W(),value:t.value,conditional:"=",operator:"",parenthesis:""};tt(Ye,[...d(),a])}else tt(Ye,[...d()]);Rt(ft.url,m())};var j=Kt(),X=Pe(j);{var p=i=>{Et(i,{get text(){return t.value},top:!0,class:"min-w-0",children:(d,a)=>{it(d,{get href(){return t.href},class:"cursor-help",children:(P,B)=>{Qe();var F=c();f(u=>v(F,u),[()=>K(t.value)]),s(P,F)},$$slots:{default:!0}})},$$slots:{default:!0}})},Z=(i,d)=>{{var a=B=>{it(B,{get href(){return t.href},children:(F,u)=>{Qe();var n=c();f(()=>v(n,t.value)),s(F,n)},$$slots:{default:!0}})},P=B=>{var F=c();f(()=>v(F,t.value)),s(B,F)};o(i,B=>{t.href?B(a):B(P,!1)},d)}};o(X,i=>{O?i(p):i(Z,!1)})}var J=nt(X,2);const we=l(()=>Ue("common.copy-icon-title")),re=l(()=>Ue("common.copy-success-icon-title")),oe=l(()=>Ue("common.filter-workflows")),be=l(()=>m().some(i=>i.attribute===t.attribute&&i.value===t.value));Ht(J,{get copyIconTitle(){return e(we)},get copySuccessIconTitle(){return e(re)},get filterIconTitle(){return e(oe)},get show(){return T()},get content(){return t.value},onFilter:r,get filtered(){return e(be)}}),s(x,j),Xe(),H()}const Nt=(x,t)=>{const h=x.relatedTarget;h&&!["filter-button","copy-button"].includes(h.id)&&t()};var Ut=de('<td class="workflows-summary-table-body-cell filterable svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>'),Yt=de('<td class="workflows-summary-table-body-cell svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>');function Tr(x,t){Ge(t,!0);const[h,H]=Ze(),m=()=>Fe(ht,"$customSearchAttributes",h),T=()=>Fe(pt,"$timeFormat",h),W=()=>Fe(Tt,"$relativeTime",h);var K,O;const r=l(()=>t.column.label),j=l(()=>ft.params.namespace),X=l(()=>rt(e(r))&&(m()[e(r)]===xe.KEYWORD||m()[e(r)]===xe.TEXT)&&typeof((O=(K=t.workflow.searchAttributes)===null||K===void 0?void 0:K.indexedFields)===null||O===void 0?void 0:O[e(r)])=="string");let p=kt(!1);const Z=()=>et(p,!0),J=()=>et(p,!1),we=["Type","Workflow ID","Run ID","Deployment","Versioning Behavior","Deployment Version","Build ID"];var re=ze(),oe=Pe(re);{var be=d=>{var a=Ut();a.__mouseover=Z,a.__focusin=Z,a.__focusout=[Nt,J];var P=Te(a);{var B=u=>{const n=l(()=>Ne({namespace:e(j),workflow:t.workflow.id,run:t.workflow.runId}));G(u,{get filterOrCopyButtonsVisible(){return e(p)},attribute:"WorkflowType",get value(){return t.workflow.name},get href(){return e(n)}})},F=(u,n)=>{{var b=w=>{const k=l(()=>Ne({namespace:e(j),workflow:t.workflow.id,run:t.workflow.runId}));G(w,{get filterOrCopyButtonsVisible(){return e(p)},attribute:"WorkflowId",get value(){return t.workflow.id},get href(){return e(k)}})},Y=(w,k)=>{{var M=I=>{const z=l(()=>Ne({namespace:e(j),workflow:t.workflow.id,run:t.workflow.runId}));G(I,{get filterOrCopyButtonsVisible(){return e(p)},attribute:"RunId",get value(){return t.workflow.runId},get href(){return e(z)}})},Me=(I,z)=>{{var ke=D=>{const A=l(()=>{var y,V;return(V=(y=t.workflow.searchAttributes)==null?void 0:y.indexedFields)==null?void 0:V.TemporalWorkerDeployment}),ye=l(()=>e(A)&&typeof e(A)=="string"?e(A):""),ge=l(()=>Dt({namespace:e(j),deployment:e(A)}));G(D,{get filterOrCopyButtonsVisible(){return e(p)},attribute:"TemporalWorkerDeployment",get value(){return e(ye)},get href(){return e(ge)}})},Le=(D,A)=>{{var ye=y=>{const V=l(()=>{var ae,g;return(g=(ae=t.workflow.searchAttributes)==null?void 0:ae.indexedFields)==null?void 0:g.TemporalWorkerDeploymentVersion}),Q=l(()=>e(V)&&typeof e(V)=="string"?e(V):"");G(y,{get filterOrCopyButtonsVisible(){return e(p)},attribute:"TemporalWorkerDeploymentVersion",get value(){return e(Q)}})},ge=(y,V)=>{{var Q=g=>{const L=l(()=>{var se,_,C,q,E;return((C=(_=(se=t.workflow)==null?void 0:se.searchAttributes)==null?void 0:_.indexedFields)==null?void 0:C.TemporalWorkerBuildId)||It((E=(q=t.workflow.searchAttributes)==null?void 0:q.indexedFields)==null?void 0:E.TemporalWorkerDeploymentVersion)}),$=l(()=>e(L)&&typeof e(L)=="string"?e(L):"");G(g,{get filterOrCopyButtonsVisible(){return e(p)},attribute:"TemporalWorkerBuildId",get value(){return e($)}})},ae=(g,L)=>{{var $=_=>{const C=l(()=>{var E,R;return(R=(E=t.workflow.searchAttributes)==null?void 0:E.indexedFields)==null?void 0:R.TemporalWorkflowVersioningBehavior}),q=l(()=>e(C)&&typeof e(C)=="string"?e(C):"");G(_,{get filterOrCopyButtonsVisible(){return e(p)},attribute:"TemporalWorkflowVersioningBehavior",get value(){return e(q)}})},se=(_,C)=>{{var q=E=>{const R=l(()=>{var ee,le;return(le=(ee=t.workflow.searchAttributes)==null?void 0:ee.indexedFields)==null?void 0:le[e(r)]});G(E,{get filterOrCopyButtonsVisible(){return e(p)},get attribute(){return e(r)},get value(){return e(R)},get type(){return m()[e(r)]}})};o(_,E=>{e(X)&&E(q)},C)}};o(g,_=>{e(r)==="Versioning Behavior"?_($):_(se,!1)},L)}};o(y,g=>{e(r)==="Build ID"?g(Q):g(ae,!1)},V)}};o(D,y=>{e(r)==="Deployment Version"?y(ye):y(ge,!1)},A)}};o(I,D=>{e(r)==="Deployment"?D(ke):D(Le,!1)},z)}};o(w,I=>{e(r)==="Run ID"?I(M):I(Me,!1)},k)}};o(u,w=>{e(r)==="Workflow ID"?w(b):w(Y,!1)},n)}};o(P,u=>{e(r)==="Type"?u(B):u(F,!1)})}pe(a),Be("focus",a,Z),Be("mouseleave",a,J),Be("blur",a,J),s(d,a)},i=d=>{var a=Yt(),P=Te(a);{var B=u=>{const n=l(()=>Bt(t.workflow)),b=l(()=>Vt(t.workflow));gt(u,{get status(){return t.workflow.status},get delayed(){return e(n)},get taskFailure(){return e(b)}})},F=(u,n)=>{{var b=w=>{var k=c();f(M=>v(k,M),[()=>he(t.workflow.endTime,T(),{relative:W()})]),s(w,k)},Y=(w,k)=>{{var M=I=>{var z=c();f(ke=>v(z,ke),[()=>he(t.workflow.startTime,T(),{relative:W()})]),s(I,z)},Me=(I,z)=>{{var ke=D=>{var A=c();f(()=>v(A,t.workflow.taskQueue)),s(D,A)},Le=(D,A)=>{{var ye=y=>{var V=c();f(()=>{var Q;return v(V,((Q=t.workflow)==null?void 0:Q.parentNamespaceId)??"")}),s(y,V)},ge=(y,V)=>{{var Q=g=>{var L=c();f($=>v(L,$),[()=>Pt(parseInt(t.workflow.historySizeBytes,10))]),s(g,L)},ae=(g,L)=>{{var $=_=>{var C=c();f(q=>v(C,q),[()=>parseInt(t.workflow.stateTransitionCount,10)>0?t.workflow.stateTransitionCount:""]),s(_,C)},se=(_,C)=>{{var q=R=>{var ee=c();f(le=>v(ee,le),[()=>he(t.workflow.executionTime,T(),{relative:W()})]),s(R,ee)},E=(R,ee)=>{{var le=ie=>{var Ie=c();f(qe=>v(Ie,qe),[()=>Ft({start:t.workflow.startTime,end:t.workflow.endTime,includeMillisecondsForUnderSecond:!0})]),s(ie,Ie)},ut=(ie,Ie)=>{{var qe=ne=>{var De=c();f(He=>v(De,He),[()=>parseInt(t.workflow.historyEvents,10)>0?t.workflow.historyEvents:""]),s(ne,De)},ct=(ne,De)=>{{var He=fe=>{var Ve=c();f(()=>{var Ce,Se;return v(Ve,((Se=(Ce=t.workflow.searchAttributes)==null?void 0:Ce.indexedFields)==null?void 0:Se.TemporalScheduledById)??"")}),s(fe,Ve)},vt=(fe,Ve)=>{{var Ce=ue=>{var We=c();const _e=l(()=>{var ce,N;return(N=(ce=t.workflow.searchAttributes)==null?void 0:ce.indexedFields)==null?void 0:N.TemporalScheduledStartTime});f(ce=>v(We,ce),[()=>e(_e)&&typeof e(_e)=="string"?he(e(_e),T(),{relative:W()}):""]),s(ue,We)},Se=(ue,We)=>{{var _e=N=>{var Oe=c();f(()=>{var Ae,ve;return v(Oe,(ve=(Ae=t.workflow.searchAttributes)==null?void 0:Ae.indexedFields)==null?void 0:ve.TemporalChangeVersion)}),s(N,Oe)},ce=(N,Oe)=>{{var Ae=ve=>{var Je=ze();const Ee=l(()=>{var U,te;return(te=(U=t.workflow.searchAttributes)==null?void 0:U.indexedFields)==null?void 0:te[e(r)]});var mt=Pe(Je);{var dt=U=>{var te=c();f(Ke=>v(te,Ke),[()=>he(e(Ee),T(),{relative:W()})]),s(U,te)},wt=(U,te)=>{{var Ke=me=>{_t(me,{children:(Re,zt)=>{Qe();var $e=c();f(()=>v($e,e(Ee))),s(Re,$e)},$$slots:{default:!0}})},bt=me=>{var Re=c();f(()=>v(Re,e(Ee))),s(me,Re)};o(U,me=>{m()[e(r)]===xe.BOOL?me(Ke):me(bt,!1)},te)}};o(mt,U=>{m()[e(r)]===xe.DATETIME&&typeof e(Ee)=="string"?U(dt):U(wt,!1)})}s(ve,Je)};o(N,ve=>{rt(e(r))&&xt(t.workflow,e(r))&&ve(Ae)},Oe)}};o(ue,N=>{e(r)==="Change Version"?N(_e):N(ce,!1)},We)}};o(fe,ue=>{e(r)==="Scheduled Start Time"?ue(Ce):ue(Se,!1)},Ve)}};o(ne,fe=>{e(r)==="Scheduled By ID"?fe(He):fe(vt,!1)},De)}};o(ie,ne=>{e(r)==="History Length"?ne(qe):ne(ct,!1)},Ie)}};o(R,ie=>{e(r)==="Execution Duration"?ie(le):ie(ut,!1)},ee)}};o(_,R=>{e(r)==="Execution Time"?R(q):R(E,!1)},C)}};o(g,_=>{e(r)==="State Transitions"?_($):_(se,!1)},L)}};o(y,g=>{e(r)==="History Size"?g(Q):g(ae,!1)},V)}};o(D,y=>{e(r)==="Parent Namespace"?y(ye):y(ge,!1)},A)}};o(I,D=>{e(r)==="Task Queue"?D(ke):D(Le,!1)},z)}};o(w,I=>{e(r)==="Start"?I(M):I(Me,!1)},k)}};o(u,w=>{e(r)==="End"?w(b):w(Y,!1)},n)}};o(P,u=>{e(r)==="Status"?u(B):u(F,!1)})}pe(a),s(d,a)};o(oe,d=>{we.includes(e(r))||e(X)?d(be):d(i,!1)})}s(x,re),Xe(),H()}yt(["mouseover","focusin","focusout"]);const pr=(x,t)=>{const h=jt({workflows:x},null,2),H=`workflows-${x.length}-${t}-${Date.now()}.json`;m(h,H,"text/plain");function m(T,W,K){const O=document.createElement("a"),r=new Blob([T],{type:K});O.href=URL.createObjectURL(r),O.download=W,O.click()}};export{Tr as T,pr as e};
