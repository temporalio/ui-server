import{g as d}from"./s0RhsljA.js";import{e as c}from"./wJW8BwHh.js";import{d as p}from"./3l5AoY-1.js";import{B as f}from"./CoG0geaG.js";import{p as m,s as g}from"./CTBtQUu0.js";const l=t=>window.btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(n,o)=>String.fromCharCode(parseInt(o,16)))),a=(t,n=f)=>n?l(t):t,C=t=>{if(t){const n=m(t),o=n==null?void 0:n[0];if(o)return g(o)}return""},y=(t,n="json/plain",o="")=>o?{metadata:{encoding:a(n),messageType:a(o)},data:a(JSON.stringify(t))}:{metadata:{encoding:a(n)},data:a(JSON.stringify(t))},O=async({input:t,encoding:n,messageType:o="",encodeWithCodec:s=!0})=>{let r=null;if(t){const i=JSON.parse(t);if(r=[y(i,n,o)],d(p).endpoint&&s){const e=await c({payloads:{payloads:r}});r=(e==null?void 0:e.payloads)??null}}return r};export{O as e,C as g,y as s};
