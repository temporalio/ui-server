import"./CWj6FrbW.js";import{w as y,o as oe,a as pe}from"./D7JzDj9r.js";import{p as de,aS as ue,M as Oe,f as H,c as I,j as R,h as J,e as o,g as d,v as E,i as P,r as U,d as Y,t as Se,b as ce,N as qe,ax as ie,s as se}from"./DZ1-1a5q.js";import{b as Le}from"./CpT1VbVb.js";import{p as t,b as K,a as B,r as ve,s as fe,c as we}from"./TaaIktnz.js";import{c as ye,d as Ee,b as Pe}from"./CnHlilQN.js";import{s as Ve}from"./DxwvfIkW.js";import{i as V}from"./DnKg3jxh.js";import{k as Be}from"./DhxkE7tO.js";import{a as He,C as Te}from"./D3L9VHHD.js";import{I as Q}from"./BwERH40W.js";import{L as Ne}from"./BO02Afj1.js";import{M as je}from"./DRRgnMuj.js";import"./69_IOA4Y.js";import{t as Ae}from"./Bby3K3wO.js";const ge="select-context";var De=H("<input/>"),Fe=H('<span class="text-xs text-danger"> </span>'),We=H('<div class="flex flex-col gap-1"><!> <!></div> <!> <!>',1);function rt(T,e){de(e,!0);const M=()=>B(S,"$labelCtx",_),b=()=>B(ee,"$optionsCtx",_),[_,N]=fe();let j=t(e,"labelHidden",3,!1),n=t(e,"value",15,void 0),p=t(e,"placeholder",3,""),f=t(e,"disabled",3,!1),h=t(e,"loading",3,!1),u=t(e,"leadingIcon",3,null),l=t(e,"onChange",3,()=>{}),A=t(e,"menuButtonClass",3,void 0),C=t(e,"menuClass",3,void 0),Z=t(e,"variant",3,"secondary"),i=t(e,"required",3,!1),x=t(e,"error",3,""),c=t(e,"valid",3,!0),D=t(e,"position",3,void 0),O=ve(e,["$$slots","$$events","$$legacy","label","id","labelHidden","value","placeholder","disabled","loading","leadingIcon","onChange","menuButtonClass","menuClass","variant","required","error","valid","position","leading","children"]);const $=y(n()),ee=y([]),S=y(n()===null||n()===void 0?void 0:n().toString()),te=y(!1);ue(()=>me(n()));function me(s){K($,s),K(S,ae(s))}const be=s=>{n(s),l()(n())};function ae(s){const F=b().find(q=>q.value===s);return F!==void 0?F.label:""}Oe(ge,{selectValue:$,selectLabel:S,options:ee,open:te,handleChange:be}),oe(()=>{K(S,ae(n()))}),ye(T,{class:"w-full",get open(){return te},children:(s,F)=>{var q=We(),W=I(q),ne=R(W);Ne(ne,{get label(){return e.label},get hidden(){return j()},get for(){return e.id},get required(){return i()}});var _e=J(ne,2);Be(_e,M,r=>{{const v=k=>{var g=P(),m=I(g);{var z=a=>{Q(a,{get name(){return u()}})},G=a=>{var re=P(),Me=I(re);Y(Me,()=>e.leading),o(a,re)};V(m,a=>{u()?a(z):e.leading&&a(G,1)})}o(k,g)},L=k=>{var g=P(),m=I(g);{var z=a=>{Q(a,{name:"lock"})},G=a=>{Q(a,{name:"spinner",class:"animate-spin"})};V(m,a=>{f()?a(z):h()&&a(G,1)})}o(k,g)};let w=E(()=>Ae("w-full",!c()&&"border-danger",A())),X=E(()=>!f()),ke=E(()=>f()||h()),Ie=E(()=>O["data-testid"]??e.id);je(r,{get class(){return d(w)},get hasIndicator(){return d(X)},get disabled(){return d(ke)},get controls(){return`${e.id??""}-select`},get variant(){return Z()},get"data-testid"(){return`${d(Ie)??""}-button`},"data-track-name":"select","data-track-intent":"select",get"data-track-text"(){return e.label},leading:v,trailing:L,children:(k,g)=>{var m=De();He(m,()=>({id:e.id,value:!n()&&p()!==""?p():M(),tabindex:"-1",disabled:!0,required:i(),"aria-required":i(),...O,[Te]:{disabled:f()}}),void 0,void 0,void 0,"svelte-x06cls",!0),o(k,m)},$$slots:{leading:!0,trailing:!0,default:!0}})}}),U(W);var le=J(W,2);{var he=r=>{Ee(r,{role:"listbox",get id(){return`${e.id??""}-select`},get class(){return C()},get position(){return D()},children:(v,L)=>{var w=P(),X=I(w);Y(X,()=>e.children),o(v,w)},$$slots:{default:!0}})};V(le,r=>{e.children&&r(he)})}var Ce=J(le,2);{var xe=r=>{var v=Fe(),L=R(v,!0);U(v),Se(()=>Ve(L,x())),o(r,v)};V(Ce,r=>{x()&&!c()&&r(xe)})}o(s,q)},$$slots:{default:!0}}),ce(),N()}var Xe=H("<span><!></span>");function it(T,e){de(e,!0);const M=()=>B(j,"$selectValue",_),b=()=>B(p,"$options",_),[_,N]=fe(),{selectValue:j,handleChange:n,options:p}=qe(ge);let f=ve(e,["$$slots","$$events","$$legacy","value","children","onclick"]),h=ie(!1),u=ie(void 0),l,A,C;ue(()=>{l&&(se(u,e.value!==null&&e.value!==void 0?e.value:l.textContent,!0),se(h,M()===d(u)),C=l.textContent)}),oe(()=>{l&&(C=l.textContent,b().push({value:e.value,label:C,nativeElement:A}))}),pe(()=>{let i=b().findIndex(x=>x.value===e.value);i!==void 0&&b().splice(i,1)}),Pe(T,we({onclick:()=>{n(d(u)),e.onclick===null||e.onclick===void 0||e.onclick(d(u))},role:"option",get selected(){return d(h)}},()=>f,{children:(i,x)=>{var c=Xe(),D=R(c);Y(D,()=>e.children),U(c),Le(c,O=>l=O,()=>l),o(i,c)},$$slots:{default:!0}})),ce(),N()}export{it as O,rt as S};
