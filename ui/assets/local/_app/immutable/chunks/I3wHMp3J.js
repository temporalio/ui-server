import"./CWj6FrbW.js";import{p as ut,f as et,c as l,h as Ft,g as e,v as i,e as r,b as ft,n as Je,k as x,t as F,i as s,s as at,j as ot,r as lt,at as It}from"./B6CF0p-B.js";import{s as I,d as Dt,e as Ge}from"./BSSJzwu8.js";import{i as o}from"./DVfqY6Lp.js";import{p as $e,s as vt,a as mt,b as st}from"./BrOjBIf0.js";import{p as dt}from"./Bgeo_IJ_.js";import{T as he}from"./DRi4x2LZ.js";import{W as St}from"./BAEKz-jo.js";import{B as Vt}from"./D3maMAGB.js";import{i as it,c as Ct,w as Ot}from"./DWmkfC13.js";import{S as Te}from"./S6Q2Q0ub.js";import{i as Wt}from"./Dzb719w0.js";import{j as At}from"./CtQjrHKC.js";import{g as Et}from"./BtlQSASF.js";import{d as Xe,i as pt}from"./Xje8aXsb.js";import{k as Rt}from"./CgpFQt0X.js";import{F as Pt}from"./Dn1qQEC4.js";import{L as nt}from"./DrF24YWz.js";import{T as Lt}from"./C82XNxlY.js";import{t as Ze}from"./DEjs8ZrU.js";import{w as qe}from"./CgfiYAX_.js";import{u as Mt}from"./Bn1imSm6.js";import{s as jt}from"./ikbOq2O5.js";const Ht=(W,t=2)=>{if(!+W)return"0 Bytes";const m=1024,z=t<0?0:t,N=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],A=Math.floor(Math.log(W)/Math.log(m));return`${parseFloat((W/Math.pow(m,A)).toFixed(z))} ${N[A]}`};var Kt=et("<!> <!>",1);function j(W,t){ut(t,!0);const m=()=>mt(qe,"$workflowFilters",z),[z,N]=vt();let A=$e(t,"filterOrCopyButtonsVisible",3,!1),Q=$e(t,"type",19,()=>Te.KEYWORD);const G=u=>u.length>11?`${u.slice(0,4)}...${u.slice(-4)}`:u,a=t.attribute==="RunId",H=()=>{const u=m().find(S=>S.attribute===t.attribute),D=()=>m().filter(S=>S.attribute!==t.attribute);if(!u||u.value!==t.value){const S={attribute:t.attribute,type:Q(),value:t.value,conditional:"=",operator:"",parenthesis:""};st(qe,[...D(),S])}else st(qe,[...D()]);Mt(dt.url,m())};var de=Kt(),c=l(de);{var ce=u=>{Lt(u,{get text(){return t.value},top:!0,class:"min-w-0",children:(D,S)=>{nt(D,{get href(){return t.href},class:"cursor-help",children:(X,Z)=>{Je();var f=x();F(n=>I(f,n),[()=>G(t.value)]),r(X,f)},$$slots:{default:!0}})},$$slots:{default:!0}})},we=u=>{var D=s(),S=l(D);{var X=f=>{nt(f,{get href(){return t.href},children:(n,Be)=>{Je();var ee=x();F(()=>I(ee,t.value)),r(n,ee)},$$slots:{default:!0}})},Z=f=>{var n=x();F(()=>I(n,t.value)),r(f,n)};o(S,f=>{t.href?f(X):f(Z,!1)},!0)}r(u,D)};o(c,u=>{a?u(ce):u(we,!1)})}var Oe=Ft(c,2);{let u=i(()=>Ze("common.copy-icon-title")),D=i(()=>Ze("common.copy-success-icon-title")),S=i(()=>Ze("common.filter-workflows")),X=i(()=>m().some(Z=>Z.attribute===t.attribute&&Z.value===t.value));Pt(Oe,{get copyIconTitle(){return e(u)},get copySuccessIconTitle(){return e(D)},get filterIconTitle(){return e(S)},get show(){return A()},get content(){return t.value},onFilter:H,get filtered(){return e(X)}})}r(W,de),ft(),N()}var Ut=et('<td class="workflows-summary-table-body-cell filterable svelte-da71jl" data-testid="workflows-summary-table-body-cell"><!></td>'),Yt=et('<td class="workflows-summary-table-body-cell svelte-da71jl" data-testid="workflows-summary-table-body-cell"><!></td>');function wr(W,t){ut(t,!0);const m=()=>mt(Ct,"$customSearchAttributes",z),[z,N]=vt();var A,Q;let G=$e(t,"archival",3,!1);const a=i(()=>t.column.label),H=i(()=>dt.params.namespace),de=i(()=>it(e(a))&&(m()[e(a)]===Te.KEYWORD||m()[e(a)]===Te.TEXT)&&typeof((Q=(A=t.workflow.searchAttributes)===null||A===void 0?void 0:A.indexedFields)===null||Q===void 0?void 0:Q[e(a)])=="string");let c=It(!1);const ce=()=>at(c,!0),we=()=>at(c,!1),Oe=f=>{const n=f.relatedTarget;n&&!["filter-button","copy-button"].includes(n.id)&&we()},u=["Type","Workflow ID","Run ID","Deployment","Versioning Behavior","Deployment Version","Build ID","Scheduled By ID"];var D=s(),S=l(D);{var X=f=>{var n=Ut();n.__mouseover=ce,n.__focusin=ce,n.__focusout=Oe;var Be=ot(n);{var ee=g=>{{let L=i(()=>Xe({namespace:e(H),workflow:t.workflow.id,run:t.workflow.runId,archival:G()}));j(g,{get filterOrCopyButtonsVisible(){return e(c)},attribute:"WorkflowType",get value(){return t.workflow.name},get href(){return e(L)}})}},We=g=>{var L=s(),ge=l(L);{var Ae=_=>{{let q=i(()=>Xe({namespace:e(H),workflow:t.workflow.id,run:t.workflow.runId,archival:G()}));j(_,{get filterOrCopyButtonsVisible(){return e(c)},attribute:"WorkflowId",get value(){return t.workflow.id},get href(){return e(q)}})}},Ee=_=>{var q=s(),pe=l(q);{var Re=k=>{{let J=i(()=>Xe({namespace:e(H),workflow:t.workflow.id,run:t.workflow.runId,archival:G()}));j(k,{get filterOrCopyButtonsVisible(){return e(c)},attribute:"RunId",get value(){return t.workflow.runId},get href(){return e(J)}})}},Pe=k=>{var J=s(),Le=l(J);{var Me=b=>{const w=i(()=>{var K,U;return(U=(K=t.workflow.searchAttributes)==null?void 0:K.indexedFields)==null?void 0:U.TemporalWorkerDeployment});{let K=i(()=>e(w)&&typeof e(w)=="string"?e(w):""),U=i(()=>e(w)?pt({namespace:e(H),deployment:e(w)}):void 0);j(b,{get filterOrCopyButtonsVisible(){return e(c)},attribute:"TemporalWorkerDeployment",get value(){return e(K)},get href(){return e(U)}})}},je=b=>{var w=s(),K=l(w);{var U=y=>{const V=i(()=>{var O,te;return(te=(O=t.workflow.searchAttributes)==null?void 0:O.indexedFields)==null?void 0:te.TemporalWorkerDeploymentVersion});{let O=i(()=>e(V)&&typeof e(V)=="string"?e(V):"");j(y,{get filterOrCopyButtonsVisible(){return e(c)},attribute:"TemporalWorkerDeploymentVersion",get value(){return e(O)}})}},He=y=>{var V=s(),O=l(V);{var te=h=>{const C=i(()=>{var E,re,ae,v,d;return((ae=(re=(E=t.workflow)==null?void 0:E.searchAttributes)==null?void 0:re.indexedFields)==null?void 0:ae.TemporalWorkerBuildId)||Et((d=(v=t.workflow.searchAttributes)==null?void 0:v.indexedFields)==null?void 0:d.TemporalWorkerDeploymentVersion)});{let E=i(()=>e(C)&&typeof e(C)=="string"?e(C):"");j(h,{get filterOrCopyButtonsVisible(){return e(c)},attribute:"TemporalWorkerBuildId",get value(){return e(E)}})}},Ke=h=>{var C=s(),E=l(C);{var re=v=>{const d=i(()=>{var p,oe;return(oe=(p=t.workflow.searchAttributes)==null?void 0:p.indexedFields)==null?void 0:oe.TemporalWorkflowVersioningBehavior});{let p=i(()=>e(d)&&typeof e(d)=="string"?e(d):"");j(v,{get filterOrCopyButtonsVisible(){return e(c)},attribute:"TemporalWorkflowVersioningBehavior",get value(){return e(p)}})}},ae=v=>{var d=s(),p=l(d);{var oe=T=>{const $=i(()=>{var le,se;return(se=(le=t.workflow.searchAttributes)==null?void 0:le.indexedFields)==null?void 0:se[e(a)]});j(T,{get filterOrCopyButtonsVisible(){return e(c)},get attribute(){return e(a)},get value(){return e($)},get type(){return m()[e(a)]}})},Ue=T=>{var $=s(),le=l($);{var se=_e=>{const R=i(()=>{var P,ie;return(ie=(P=t.workflow.searchAttributes)==null?void 0:P.indexedFields)==null?void 0:ie.TemporalScheduledById});{let P=i(()=>e(R)&&typeof e(R)=="string"?e(R):"");j(_e,{get filterOrCopyButtonsVisible(){return e(c)},attribute:"TemporalScheduledById",get value(){return e(P)}})}};o(le,_e=>{e(a)==="Scheduled By ID"&&_e(se)},!0)}r(T,$)};o(p,T=>{e(de)?T(oe):T(Ue,!1)},!0)}r(v,d)};o(E,v=>{e(a)==="Versioning Behavior"?v(re):v(ae,!1)},!0)}r(h,C)};o(O,h=>{e(a)==="Build ID"?h(te):h(Ke,!1)},!0)}r(y,V)};o(K,y=>{e(a)==="Deployment Version"?y(U):y(He,!1)},!0)}r(b,w)};o(Le,b=>{e(a)==="Deployment"?b(Me):b(je,!1)},!0)}r(k,J)};o(pe,k=>{e(a)==="Run ID"?k(Re):k(Pe,!1)},!0)}r(_,q)};o(ge,_=>{e(a)==="Workflow ID"?_(Ae):_(Ee,!1)},!0)}r(g,L)};o(Be,g=>{e(a)==="Type"?g(ee):g(We,!1)})}lt(n),Ge("focus",n,ce),Ge("mouseleave",n,we),Ge("blur",n,we),r(f,n)},Z=f=>{var n=Yt(),Be=ot(n);{var ee=g=>{{let L=i(()=>Wt(t.workflow)),ge=i(()=>Rt(t.workflow));St(g,{get status(){return t.workflow.status},get delayed(){return e(L)},get taskFailure(){return e(ge)}})}},We=g=>{var L=s(),ge=l(L);{var Ae=_=>{he(_,{get dateTime(){return t.workflow.endTime}})},Ee=_=>{var q=s(),pe=l(q);{var Re=k=>{he(k,{get dateTime(){return t.workflow.startTime}})},Pe=k=>{var J=s(),Le=l(J);{var Me=b=>{var w=x();F(()=>I(w,t.workflow.taskQueue)),r(b,w)},je=b=>{var w=s(),K=l(w);{var U=y=>{var V=x();F(()=>{var O;return I(V,((O=t.workflow)==null?void 0:O.parentNamespaceId)??"")}),r(y,V)},He=y=>{var V=s(),O=l(V);{var te=h=>{var C=x();F(E=>I(C,E),[()=>Ht(parseInt(t.workflow.historySizeBytes,10))]),r(h,C)},Ke=h=>{var C=s(),E=l(C);{var re=v=>{var d=x();F(p=>I(d,p),[()=>parseInt(t.workflow.stateTransitionCount,10)>0?t.workflow.stateTransitionCount:""]),r(v,d)},ae=v=>{var d=s(),p=l(d);{var oe=T=>{he(T,{get dateTime(){return t.workflow.executionTime}})},Ue=T=>{var $=s(),le=l($);{var se=R=>{var P=x();F(ie=>I(P,ie),[()=>At({start:t.workflow.startTime,end:t.workflow.endTime,includeMillisecondsForUnderSecond:!0})]),r(R,P)},_e=R=>{var P=s(),ie=l(P);{var ct=ne=>{var ke=x();F(Ye=>I(ke,Ye),[()=>parseInt(t.workflow.historyEvents,10)>0?t.workflow.historyEvents:""]),r(ne,ke)},wt=ne=>{var ke=s(),Ye=l(ke);{var gt=ue=>{var be=x();F(()=>{var xe,Fe;return I(be,((Fe=(xe=t.workflow.searchAttributes)==null?void 0:xe.indexedFields)==null?void 0:Fe.TemporalScheduledById)??"")}),r(ue,be)},_t=ue=>{var be=s(),xe=l(be);{var Fe=fe=>{const ve=i(()=>{var B,Y;return(Y=(B=t.workflow.searchAttributes)==null?void 0:B.indexedFields)==null?void 0:Y.TemporalScheduledStartTime});var Ie=s(),ze=l(Ie);{var Ne=B=>{he(B,{get dateTime(){return e(ve)}})};o(ze,B=>{e(ve)&&typeof e(ve)=="string"&&B(Ne)})}r(fe,Ie)},kt=fe=>{var ve=s(),Ie=l(ve);{var ze=B=>{var Y=x();F(()=>{var De,Se;return I(Y,(Se=(De=t.workflow.searchAttributes)==null?void 0:De.indexedFields)==null?void 0:Se.TemporalChangeVersion)}),r(B,Y)},Ne=B=>{var Y=s(),De=l(Y);{var Se=Qe=>{const Ve=i(()=>{var M,ye;return(ye=(M=t.workflow.searchAttributes)==null?void 0:M.indexedFields)==null?void 0:ye[e(a)]});var tt=s(),bt=l(tt);{var yt=M=>{he(M,{get dateTime(){return e(Ve)}})},ht=M=>{var ye=s(),Tt=l(ye);{var Bt=me=>{Vt(me,{children:(Ce,zt)=>{Je();var rt=x();F(()=>I(rt,e(Ve))),r(Ce,rt)},$$slots:{default:!0}})},xt=me=>{var Ce=x();F(()=>I(Ce,e(Ve))),r(me,Ce)};o(Tt,me=>{m()[e(a)]===Te.BOOL?me(Bt):me(xt,!1)},!0)}r(M,ye)};o(bt,M=>{m()[e(a)]===Te.DATETIME&&typeof e(Ve)=="string"?M(yt):M(ht,!1)})}r(Qe,tt)};o(De,Qe=>{it(e(a))&&Ot(t.workflow,e(a))&&Qe(Se)},!0)}r(B,Y)};o(Ie,B=>{e(a)==="Change Version"?B(ze):B(Ne,!1)},!0)}r(fe,ve)};o(xe,fe=>{e(a)==="Scheduled Start Time"?fe(Fe):fe(kt,!1)},!0)}r(ue,be)};o(Ye,ue=>{e(a)==="Scheduled By ID"?ue(gt):ue(_t,!1)},!0)}r(ne,ke)};o(ie,ne=>{e(a)==="History Length"?ne(ct):ne(wt,!1)},!0)}r(R,P)};o(le,R=>{e(a)==="Execution Duration"?R(se):R(_e,!1)},!0)}r(T,$)};o(p,T=>{e(a)==="Execution Time"?T(oe):T(Ue,!1)},!0)}r(v,d)};o(E,v=>{e(a)==="State Transitions"?v(re):v(ae,!1)},!0)}r(h,C)};o(O,h=>{e(a)==="History Size"?h(te):h(Ke,!1)},!0)}r(y,V)};o(K,y=>{e(a)==="Parent Namespace"?y(U):y(He,!1)},!0)}r(b,w)};o(Le,b=>{e(a)==="Task Queue"?b(Me):b(je,!1)},!0)}r(k,J)};o(pe,k=>{e(a)==="Start"?k(Re):k(Pe,!1)},!0)}r(_,q)};o(ge,_=>{e(a)==="End"?_(Ae):_(Ee,!1)},!0)}r(g,L)};o(Be,g=>{e(a)==="Status"?g(ee):g(We,!1)})}lt(n),r(f,n)};o(S,f=>{u.includes(e(a))||e(de)?f(X):f(Z,!1)})}r(W,D),ft(),N()}Dt(["mouseover","focusin","focusout"]);const gr=(W,t)=>{const m=jt({workflows:W},null,2),z=`workflows-${W.length}-${t}-${Date.now()}.json`;N(m,z,"text/plain");function N(A,Q,G){const a=document.createElement("a"),H=new Blob([A],{type:G});a.href=URL.createObjectURL(H),a.download=Q,a.click()}};export{wr as T,gr as e};
