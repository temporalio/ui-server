import"./CWj6FrbW.js";import{p as ge,l as Z,s as j,m as K,g as e,ah as ae,a as Ce,n as fe,t as D,b as pe,e as s,r,c as E,d as v,i as Pe,az as Le,f as ue,aL as kt,$ as on,aK as x}from"./DYX0w8bX.js";import{s as z}from"./CxFVcq4O.js";import{i as O}from"./B_BuKjdB.js";import{e as Ae,i as rt}from"./CgLBepva.js";import{b as ce,a as d,t as W,c as xe}from"./Bz76f8pg.js";import{s as ve,c as sn,a as bt}from"./BoNO6UAY.js";import{d as ln}from"./B8vPeB6P.js";import{t as ht,f as dn,s as cn}from"./De9SQVcE.js";import{l as Oe,p as F,s as Ze}from"./BrXzBH3h.js";import{a as we,s as Re}from"./CgU0heln.js";import{o as vn}from"./DsexP6Wk.js";import{p as Ee}from"./C_WVM3ei.js";import{B as We}from"./SNXFWeJi.js";import{C as ze}from"./Bjxg67LR.js";import{I as un}from"./BExi9zWc.js";import{L as He}from"./QGdb6kp5.js";import{T as Tt}from"./BBPmuBue.js";import{t as G}from"./D2OY9xdY.js";import{i as re,e as fn,a as mn,b as _n}from"./x_1ImpZn.js";import{a as gn}from"./Bij_J0Ni.js";import{f as Ue,t as ot,r as Pt}from"./DzOyNlRA.js";import{a as pn,c as xn,d as wn}from"./B4A2qIJr.js";import{f as je,s as Lt}from"./ByTIZu23.js";import{c as tt,t as yn}from"./KVQ3BS-I.js";import{o as Et}from"./qEOT7B5E.js";import{g as Ct,b as St,a as Ft}from"./JzPvon19.js";import{e as kn,f as bn,h as Vt,j as hn,i as Tn,k as En,l as In,m as An,n as Pn}from"./Bh57oJKl.js";import{f as $e,D as Ln}from"./vye8K-vg.js";import{b as nt,h as Cn,k as Sn,n as Ve,a as Fn}from"./D92Kn_MZ.js";import"./69_IOA4Y.js";import{i as ye}from"./CZRFLhJG.js";import{C as Me}from"./Do8Dk9fo.js";import{p as Ot}from"./CuD_0SUg.js";import"./BLjkLUx2.js";import"./BK31YXL3.js";import"./CTBtQUu0.js";import{P as Ne}from"./Ssb6fknS.js";import{a as Vn}from"./BS7N7SXQ.js";import{s as It}from"./CFGOF_JX.js";import{t as On}from"./Ds6tgvmq.js";function Rt(m,t){const N=Oe(t,["children","$$slots","$$events","$$legacy"]),A=Oe(N,["value","attributes","type"]);ge(t,!1);const[p,P]=Re(),l=()=>we(Ot,"$page",p),u=K(),n=K(),w=K(),g=K(),y=K(),I=K(),Q=K(),R=K();let C=F(t,"value",8),h=F(t,"attributes",8),H=F(t,"type",8);Z(()=>(e(u),e(n),l()),()=>{(k=>(j(u,k.workflow),j(n,k.namespace)))(l().params)}),Z(()=>(e(n),e(u),ae(C())),()=>{j(w,nt({namespace:e(n),workflow:e(u),run:C()}))}),Z(()=>(e(n),ae(C())),()=>{j(g,Cn({namespace:e(n),queue:C()}))}),Z(()=>(e(n),ae(h())),()=>{j(y,nt({namespace:e(n),workflow:h().workflowExecutionWorkflowId,run:h().workflowExecutionRunId}))}),Z(()=>ae(C()),()=>{j(I,Sn(C()))}),Z(()=>(e(w),e(g),e(y),e(I)),()=>{j(Q,{execution:e(w),"task-queue":e(g),"child-workflow":e(y),"nexus-endpoint":e(I)})}),Z(()=>(e(Q),ae(H())),()=>{j(R,e(Q)[H()])}),Ce(),ye(),He(m,{get class(){return A.class},get href(){return e(R)},children:(k,q)=>{fe();var i=ce();D(()=>z(i,C())),d(k,i)},$$slots:{default:!0}}),pe(),P()}var Rn=W('<div class="flex flex-col"><p class="text-sm"> </p> <!></div>'),qn=W('<div class="content code-block-row svelte-1dhlqx8"><div class="flex flex-col"><p class="text-sm"> </p> <!></div> <!></div>'),Mn=W('<div class="content detail-row svelte-1dhlqx8"><p class="text-sm"> </p> <!></div>'),Dn=W('<div class="content detail-row svelte-1dhlqx8"><p class="text-sm"> </p> <!></div>'),jn=W("<div><!></div>");function et(m,t){const N=Oe(t,["children","$$slots","$$events","$$legacy"]);ge(t,!1);const[A,p]=Re(),P=()=>we(ot,"$timeFormat",A),l=K(),u=K(),n=K();let w=F(t,"key",8),g=F(t,"value",8),y=F(t,"attributes",8);Z(()=>ae(g()),()=>{j(l,kn(g()))}),Z(()=>e(l),()=>{j(u,bn(e(l)))}),Z(()=>(ae(w()),ae(y())),()=>{j(n,Vt(w(),y()))}),Ce(),ye();var I=jn(),Q=s(I);{var R=h=>{var H=qn(),k=s(H),q=s(k),i=s(q,!0);r(q);var o=E(q,2);{var _=b=>{Ne(b,{get value(){return g()},key:"payloads",children:Pe,$$slots:{default:(L,S)=>{const B=v(()=>S.decodedValue),f=v(()=>G("common.copy-icon-title")),$=v(()=>G("common.copy-success-icon-title"));Me(L,{get content(){return e(B)},maxHeight:384,get copyIconTitle(){return e(f)},get copySuccessIconTitle(){return e($)}})}}})},U=(b,L)=>{{var S=f=>{const $=v(()=>({searchAttributes:e(l)}));Ne(f,{key:"searchAttributes",get value(){return e($)},children:Pe,$$slots:{default:(le,de)=>{const me=v(()=>de.decodedValue),_e=v(()=>G("common.copy-icon-title")),te=v(()=>G("common.copy-success-icon-title"));Me(le,{get content(){return e(me)},maxHeight:384,get copyIconTitle(){return e(_e)},get copySuccessIconTitle(){return e(te)}})}}})},B=f=>{Ne(f,{get value(){return e(l)},children:Pe,$$slots:{default:($,le)=>{const de=v(()=>le.decodedValue),me=v(()=>G("common.copy-icon-title")),_e=v(()=>G("common.copy-success-icon-title"));Me($,{get content(){return e(de)},maxHeight:384,get copyIconTitle(){return e(me)},get copySuccessIconTitle(){return e(_e)}})}}})};O(b,f=>{w()==="searchAttributes"?f(S):f(B,!1)},L)}};O(o,b=>{var L;(L=g())!=null&&L.payloads?b(_):b(U,!1)})}r(k);var M=E(k,2);{var T=b=>{var L=Rn(),S=s(L),B=s(S,!0);r(S);var f=E(S,2);const $=v(()=>G("common.copy-icon-title")),le=v(()=>G("common.copy-success-icon-title"));Me(f,{get content(){return e(u)},language:"text",class:"mb-2 h-full lg:pr-2",get copyIconTitle(){return e($)},get copySuccessIconTitle(){return e(le)}}),r(L),D(de=>z(B,de),[()=>G("workflows.call-stack-tab")],v),d(b,L)};O(M,b=>{e(u)&&b(T)})}r(H),D(b=>z(i,b),[()=>je(w())],v),d(h,H)},C=(h,H)=>{{var k=i=>{var o=Mn(),_=s(o),U=s(_,!0);r(_);var M=E(_,2);const T=v(()=>G("common.copy-icon-title")),b=v(()=>G("common.copy-success-icon-title")),L=v(()=>String(g()));ze(M,{get copyIconTitle(){return e(T)},get copySuccessIconTitle(){return e(b)},get content(){return e(L)},children:(S,B)=>{const f=v(()=>String(g()));Rt(S,{get value(){return e(f)},get attributes(){return y()},get type(){return e(n)},class:"whitespace-pre-line"})},$$slots:{default:!0}}),r(o),D(S=>z(U,S),[()=>je(w())],v),d(i,o)},q=i=>{var o=Dn(),_=s(o),U=s(_,!0);r(_);var M=E(_,2);We(M,{type:"subtle",class:"inline-block whitespace-pre-wrap",children:(T,b)=>{fe();var L=ce();D(S=>z(L,S),[()=>hn(w())?Ue(g(),P()):g()],v),d(T,L)},$$slots:{default:!0}}),r(o),D(T=>z(U,T),[()=>je(w())],v),d(i,o)};O(h,i=>{e(n)!=="none"?i(k):i(q,!1)},H)}};O(Q,h=>{typeof g()=="object"?h(R):h(C,!1)})}r(I),D(()=>ve(I,1,`flex ${N.class??""}`,"svelte-1dhlqx8")),d(m,I),pe(),p()}const Nn=m=>{var t,N,A,p,P,l,u,n;return(N=(t=m.workflowEvent)==null?void 0:t.eventRef)!=null&&N.eventId?Ve({namespace:m.workflowEvent.namespace,workflow:m.workflowEvent.workflowId,run:m.workflowEvent.runId,eventId:m.workflowEvent.eventRef.eventId}):((p=(A=m.workflowEvent)==null?void 0:A.eventRef)==null?void 0:p.eventType)==="EVENT_TYPE_WORKFLOW_EXECUTION_STARTED"?Ve({namespace:m.workflowEvent.namespace,workflow:m.workflowEvent.workflowId,run:m.workflowEvent.runId,eventId:"1"}):(l=(P=m.workflowEvent)==null?void 0:P.requestIdRef)!=null&&l.requestId?Ve({namespace:m.workflowEvent.namespace,workflow:m.workflowEvent.workflowId,run:m.workflowEvent.runId,requestId:(n=(u=m.workflowEvent)==null?void 0:u.requestIdRef)==null?void 0:n.requestId}):nt({namespace:m.workflowEvent.namespace,workflow:m.workflowEvent.workflowId,run:m.workflowEvent.runId})};var zn=W('<div><p class="max-w-fit whitespace-nowrap text-right text-sm"> </p> <div><!></div></div>');function at(m,t){const N=Oe(t,["children","$$slots","$$events","$$legacy"]);ge(t,!1);var A=K();let p=F(t,"link",8),P=F(t,"value",28,()=>p().workflowEvent.workflowId),l=F(t,"label",24,()=>G("nexus.link")),u=F(t,"href",12,void 0);Z(()=>(ae(u()),ae(p()),Le(A)),()=>{u()||(u(Nn(p())),P((j(A,u().split("workflows/"))===null||Le(A)===void 0?void 0:Le(A)[1])||u()))}),Ce(),ye();var n=zn(),w=s(n),g=s(w,!0);r(w);var y=E(w,2),I=s(y);He(I,{get href(){return u()},children:(Q,R)=>{fe();var C=ce();D(()=>z(C,P())),d(Q,C)},$$slots:{default:!0}}),r(y),r(n),D(()=>{ve(n,1,`flex flex-row items-center gap-2 overflow-hidden first:pt-0 last:border-b-0 ${N.class??""}`),z(g,l()),ve(y,1,`overflow-hidden ${N.linkClass??""}`)}),d(m,n),pe()}var Hn=W('<div class="flex w-full items-center gap-4 p-2"><!></div> <div class="flex w-full items-center gap-4 p-2"><!></div>',1);function At(m,t){ge(t,!1);let N=F(t,"links",24,()=>[]);ye();var A=xe(),p=ue(A);Ae(p,1,N,rt,(P,l)=>{var u=xe(),n=ue(u);{var w=g=>{var y=Hn(),I=ue(y),Q=s(I);at(Q,{get link(){return e(l)},linkClass:"truncate"}),r(I);var R=E(I,2),C=s(R);const h=v(()=>G("nexus.link-namespace")),H=v(()=>Fn({namespace:e(l).workflowEvent.namespace}));at(C,{get link(){return e(l)},get label(){return e(h)},get value(){return e(l).workflowEvent.namespace},get href(){return e(H)}}),r(R),d(g,y)};O(n,g=>{var y;(y=e(l))!=null&&y.workflowEvent&&g(w)})}d(P,u)}),d(m,A),pe()}function qt(m,t){ge(t,!1);const[N,A]=Re(),p=()=>we(Ot,"$page",N),P=K(),l=K(),u=K(),n=K(),w=K();var g=K();let y=F(t,"value",8,void 0),I=F(t,"fallback",8,""),Q=F(t,"prefix",8,""),R=F(t,"onDecode",8,void 0);const C=120;let h=K("");const H=i=>Q()?(i=`${Q()} • ${i}`,i.length<C?i:i.slice(0,C)+"..."):i;Z(()=>p(),()=>{j(P,Ct(p().data.settings))}),Z(()=>p(),()=>{j(l,St(p().data.settings))}),Z(()=>p(),()=>{j(u,Ft(p().data.settings))}),Z(()=>(p(),Le(g),e(P),e(l),e(u)),()=>{j(n,{...p().data.settings,codec:{...j(g,p().data.settings)===null||Le(g)===void 0?void 0:Le(g).codec,endpoint:e(P),passAccessToken:e(l),includeCredentials:e(u)}})}),Z(()=>(ae(I()),e(h),e(n),ae(R())),()=>{j(w,async i=>{if(!i)return I();if(e(h))return e(h);const o=await pn(i,e(n));return typeof o=="string"?(j(h,H(o)),R()&&R()(e(h)),e(h)):(j(h,I()),I())})}),Ce(),ye();var k=xe(),q=ue(k);Vn(q,()=>e(w)(y()),null,(i,o)=>{var _=xe(),U=ue(_);It(U,t,"default",{get decodedValue(){return e(o)}},null),d(i,_)},i=>{var o=xe(),_=ue(o);It(_,t,"default",{get decodedValue(){return I()}},null),d(i,o)}),d(m,k),pe(),A()}var Un=W('<div class="block w-full select-all px-2 py-1 text-left"><p class="text-sm">Summary</p> <!></div>');function Wn(m,t){ge(t,!1);let N=F(t,"value",8);ye();var A=Un(),p=E(s(A),2);const P=v(()=>G("events.decode-failed"));qt(p,{get value(){return N()},get fallback(){return e(P)},children:Pe,$$slots:{default:(l,u)=>{const n=v(()=>u.decodedValue);We(l,{type:"secondary",class:"inline-block whitespace-pre-wrap",children:(w,g)=>{fe();var y=ce();D(()=>z(y,e(n))),d(w,y)},$$slots:{default:!0}})}}}),r(A),d(m,A),pe()}var Bn=W('<div><div class="flex w-full flex-wrap justify-between bg-subtle px-2 py-1"><div class="flex gap-2"> </div> <div> </div></div> <!> <!> <!></div>'),Gn=W('<div><div class="pending flex w-full justify-between px-2 py-1 text-white svelte-15sf0vo"><div class="flex gap-2"> </div></div> <!></div>'),Kn=W('<div class="w-full"><div class="flex flex-col gap-0 overflow-hidden border border-subtle xl:flex-row"><!> <!></div></div>'),Qn=W('<div class="w-full"><div class="w-full overflow-hidden border border-subtle"><!> <!></div></div>');function Xn(m,t){ge(t,!1);const[N,A]=Re(),p=()=>we(ot,"$timeFormat",N),P=()=>we(Pt,"$relativeTime",N),l=K(),u=K();let n=F(t,"group",8,void 0),w=F(t,"event",8,void 0);Z(()=>ae(n()),()=>{j(l,(n()===null||n()===void 0?void 0:n().pendingActivity)||(n()===null||n()===void 0?void 0:n().pendingNexusOperation))}),Z(()=>(ae(n()),e(l)),()=>{j(u,n()&&(n().eventList.length>1||e(l)))}),Ce(),ye();var g=xe(),y=ue(g);{var I=R=>{var C=Kn(),h=s(C),H=s(h);Ae(H,1,()=>n().eventList,rt,(i,o)=>{var _=Bn();const U=v(()=>tt(e(o))),M=v(()=>Object.entries(e(U)));let T;var b=s(_),L=s(b),S=s(L);r(L);var B=E(L,2),f=s(B,!0);r(B),r(b);var $=E(b,2);{var le=te=>{Wn(te,{get value(){return e(o).userMetadata.summary}})};O($,te=>{var ee,oe;(oe=(ee=e(o))==null?void 0:ee.userMetadata)!=null&&oe.summary&&te(le)})}var de=E($,2);const me=v(()=>{var te;return(te=e(o))==null?void 0:te.links});At(de,{get links(){return e(me)}});var _e=E(de,2);Ae(_e,1,()=>e(M),([te,ee])=>te,(te,ee)=>{let oe=()=>e(ee)[0],Se=()=>e(ee)[1];et(te,{get key(){return oe()},get value(){return Se()},get attributes(){return e(U)}})}),r(_),D((te,ee,oe)=>{T=ve(_,1,"w-full border-subtle [&amp;:not(:last-child)]:border-r svelte-15sf0vo",null,T,te),z(S,`${e(o).id??""}
              ${ee??""}`),z(f,oe)},[()=>({"three-events":n().eventList.length===3||n().eventList.length===2&&e(l),"two-events":n().eventList.length===2||n().eventList.length===1&&e(l)}),()=>Lt(e(o).name),()=>Ue(e(o).eventTime,p(),{relative:P()})],v),d(i,_)});var k=E(H,2);{var q=i=>{var o=Gn();const _=v(()=>Object.entries(e(l)));let U;var M=s(o),T=s(M),b=s(T);r(T),r(M);var L=E(M,2);Ae(L,1,()=>e(_),([S,B])=>S,(S,B)=>{let f=()=>e(B)[0],$=()=>e(B)[1];et(S,{get key(){return f()},get value(){return $()},get attributes(){return e(l)}})}),r(o),D((S,B)=>{U=ve(o,1,"w-full border-subtle [&amp;:not(:last-child)]:border-r svelte-15sf0vo",null,U,S),z(b,`Pending ${B??""}`)},[()=>({"three-events":n().eventList.length===2,"two-events":n().eventList.length===1}),()=>Tn(e(l))?"Activity":"Nexus Operation"],v),d(i,o)};O(k,i=>{e(l)&&i(q)})}r(h),r(C),d(R,C)},Q=(R,C)=>{{var h=H=>{var k=Qn();const q=v(()=>tt(w())),i=v(()=>Object.entries(e(q)));var o=s(k),_=s(o);const U=v(()=>{var T;return(T=w())==null?void 0:T.links});At(_,{get links(){return e(U)}});var M=E(_,2);Ae(M,1,()=>e(i),([T,b])=>T,(T,b)=>{let L=()=>e(b)[0],S=()=>e(b)[1];et(T,{get key(){return L()},get value(){return S()},get attributes(){return e(q)}})}),r(o),r(k),d(H,k)};O(R,H=>{w()&&H(h)},C)}};O(y,R=>{e(u)?R(I):R(Q,!1)})}d(m,g),pe(),A()}var Yn=W('<p class="whitespace-nowrap text-right text-xs"> </p>'),Jn=W('<div><code><pre class="truncate"> </pre></code></div>'),Zn=W('<div class="flex max-w-sm items-center justify-between gap-2 overflow-hidden pr-1 xl:flex-nowrap"><!></div>'),$n=W('<div class="flex max-w-xl items-center gap-2 first:pt-0 last:border-b-0 md:w-auto"><!> <!></div>');function De(m,t){const N=Oe(t,["children","$$slots","$$events","$$legacy"]);ge(t,!1);const A=K();let p=F(t,"key",8),P=F(t,"value",8),l=F(t,"attributes",8),u=F(t,"showKey",8,!0);Z(()=>(ae(p()),ae(l())),()=>{j(A,Vt(p(),l()))}),Ce(),ye();var n=xe(),w=ue(n);{var g=y=>{var I=$n(),Q=s(I);{var R=k=>{var q=Yn(),i=s(q,!0);r(q),D(o=>z(i,o),[()=>je(p())],v),d(k,q)};O(Q,k=>{u()&&k(R)})}var C=E(Q,2);{var h=k=>{var q=Zn(),i=s(q);Ne(i,{get value(){return P()},key:"payloads",children:Pe,$$slots:{default:(o,_)=>{const U=v(()=>_.decodedValue);var M=Jn(),T=s(M),b=s(T),L=s(b,!0);r(b),r(T),r(M),D((S,B)=>{ve(M,1,S,"svelte-n6chz2"),z(L,B)},[()=>sn(On("payload",N.class)),()=>e(U).slice(0,60)],v),d(o,M)}}}),r(q),d(k,q)},H=(k,q)=>{{var i=_=>{const U=v(()=>G("common.copy-icon-title")),M=v(()=>G("common.copy-success-icon-title"));ze(_,{get copyIconTitle(){return e(U)},get copySuccessIconTitle(){return e(M)},get content(){return P()},"container-class":"truncate",children:(T,b)=>{Rt(T,{get value(){return P()},get attributes(){return l()},get type(){return e(A)},class:"truncate"})},$$slots:{default:!0}})},o=_=>{We(_,{type:"subtle",class:"block select-none truncate",children:(U,M)=>{fe();var T=ce();D(()=>z(T,P())),d(U,T)},$$slots:{default:!0}})};O(k,_=>{e(A)!=="none"?_(i):_(o,!1)},q)}};O(C,k=>{typeof P()=="object"?k(h):k(H,!1)})}r(I),d(y,I)};O(w,y=>{p()&&y(g)})}d(m,n),pe()}var ea=W('<td class="w-24 min-w-fit font-mono"><div class="flex items-center gap-0.5"></div></td>'),ta=W('<td class="font-mono"><!></td>'),na=W(" <!>",1),aa=W("<div><!> <!></div>"),ra=W('<div class="flex max-w-xl items-center gap-2 first:pt-0 last:border-b-0 md:w-auto"><p class="whitespace-nowrap text-right text-xs">Summary</p> <!></div>'),oa=W("<tr><td><!></td></tr>"),sa=W('<tr data-testid="event-summary-row"><!><td class="text-right md:hidden"><!></td><td class="hidden text-right md:block"><!></td><td class="truncate md:min-w-fit"><p> </p></td><td class="hidden w-full items-center gap-2 text-right text-sm font-normal md:flex xl:text-left"><!> <!> <!> <!> <!> <!> <!></td></tr> <!>',1);function Qa(m,t){ge(t,!0);const[N,A]=Re(),p=()=>we(gn,"$authUser",N),P=()=>we(ot,"$timeFormat",N),l=()=>we(Pt,"$relativeTime",N);var u,n,w,g,y,I,Q,R;const C=F(t,"compact",3,!1),h=F(t,"typedError",3,!1),H=F(t,"active",3,!1),k=F(t,"expanded",3,!1),q=F(t,"onRowClick",3,()=>{});let i=kt(on(k())),o=kt(void 0);const _=async a=>{var c,V,X,J,ne,Y,se,ie,be,he;const Ie={...Ee.data.settings,codec:{...(c=Ee.data.settings)===null||c===void 0?void 0:c.codec,endpoint:Ct(Ee.data.settings),passAccessToken:St(Ee.data.settings),includeCredentials:Ft(Ee.data.settings)}},Te=p().accessToken,Xe=Ee.params.namespace;try{const Fe=await xn(a.attributes,Xe,Ie,Te),Ye=((J=(X=(V=a.markerRecordedEventAttributes)===null||V===void 0?void 0:V.details)===null||X===void 0?void 0:X.data)===null||J===void 0?void 0:J.payloads)||((se=(Y=(ne=a.markerRecordedEventAttributes)===null||ne===void 0?void 0:ne.details)===null||Y===void 0?void 0:Y.type)===null||se===void 0?void 0:se.payloads)||[];if(!(Ye!=null&&Ye.length))return;const Je=wn(Fe),rn=(he=(be=(ie=Je==null?void 0:Je.details)===null||ie===void 0?void 0:ie.data)===null||be===void 0?void 0:be.payloads)===null||he===void 0?void 0:he[0],yt=An(rn);if(yt)return Pn("ActivityType",yt)}catch(Fe){console.error("Failed to decode local activity type:",Fe)}},U=x(()=>re(t.event)?Array.from(t.event.events.keys()).shift():t.event.id),M=x(()=>Ee.params),T=x(()=>e(M).workflow),b=x(()=>e(M).run),L=x(()=>e(M).namespace),S=x(()=>Ve({eventId:t.event.id,namespace:e(L),workflow:e(T),run:e(b)})),B=x(()=>tt(t.event)),f=x(()=>re(t.event)?t.event.events.get(e(U)()):t.event),$=x(()=>Et({start:t.initialItem===null||t.initialItem===void 0?void 0:t.initialItem.eventTime,end:re(e(f))?(u=e(f).initialEvent)===null||u===void 0?void 0:u.eventTime:e(f)===null||e(f)===void 0?void 0:e(f).eventTime,includeMillisecondsForUnderSecond:!0})),le=x(()=>re(t.event)?Et({start:(n=t.event.initialEvent)===null||n===void 0?void 0:n.eventTime,end:(w=t.event.lastEvent)===null||w===void 0?void 0:w.eventTime,includeMillisecondsForUnderSecond:!0}):""),de=x(()=>fn(t.event)),me=x(()=>mn(t.event)),_e=x(()=>_n(t.event)),te=x(()=>re(t.event)?t.event.label:$e(t.event)?"Local Activity":Lt(t.event.name)),ee=x(()=>$e(t.event)?void 0:En(re(t.event)?t.event.initialEvent:t.event)),oe=x(()=>In(re(t.event)?t.event.lastEvent:t.event,e(ee)===null||e(ee)===void 0?void 0:e(ee).key)),Se=x(()=>re(t.event)&&(t.event===null||t.event===void 0?void 0:t.event.pendingActivity)),qe=x(()=>re(t.event)&&t.event.isPending&&(((g=t.event===null||t.event===void 0?void 0:t.event.pendingActivity)===null||g===void 0?void 0:g.attempt)||((y=t.event===null||t.event===void 0?void 0:t.event.pendingNexusOperation)===null||y===void 0?void 0:y.attempt))),st=x(()=>re(t.event)&&!t.event.isPending&&((Q=(I=t.event.eventList.find(Ln))===null||I===void 0?void 0:I.attributes)===null||Q===void 0?void 0:Q.attempt)),Mt=x(()=>C()&&(e(oe)===null||e(oe)===void 0?void 0:e(oe).key)&&(e(oe)===null||e(oe)===void 0?void 0:e(oe).key)!==(e(ee)===null||e(ee)===void 0?void 0:e(ee).key)&&!(!((R=e(f)===null||e(f)===void 0?void 0:e(f).userMetadata)===null||R===void 0)&&R.summary)),it=x(()=>Ue(e(f)===null||e(f)===void 0?void 0:e(f).eventTime,P(),{relative:l()})),lt=x(()=>Ue(e(f)===null||e(f)===void 0?void 0:e(f).eventTime,P(),{relative:l(),abbrFormat:!0})),Dt=a=>{j(i,!e(i)),a.stopPropagation(),q()()};vn(async()=>{$e(t.event)&&j(o,await _(t.event),!0)});var dt=sa(),ke=ue(dt);let ct;ke.__click=Dt;var vt=s(ke);{var jt=a=>{var c=ea(),V=s(c);Ae(V,21,()=>t.event.eventList,rt,(X,J)=>{const ne=x(()=>Ve({eventId:e(J).id,namespace:e(L),workflow:e(T),run:e(b)}));He(X,{"data-testid":"link",get href(){return e(ne)},children:(Y,se)=>{fe();var ie=ce();D(()=>z(ie,e(J).id)),d(Y,ie)},$$slots:{default:!0}})}),r(V),r(c),d(a,c)},Nt=a=>{var c=ta(),V=s(c);He(V,{"data-testid":"link",get href(){return e(S)},children:(X,J)=>{fe();var ne=ce();D(()=>z(ne,t.event.id)),d(X,ne)},$$slots:{default:!0}}),r(c),d(a,c)};O(vt,a=>{re(t.event)?a(jt):a(Nt,!1)})}var Be=E(vt),zt=s(Be);const Ht=x(()=>re(t.event)&&!e(le)||!e($)),Ut=x(()=>re(t.event)?`Duration: ${e(le)}`:`+${e($)}`);Tt(zt,{get hide(){return e(Ht)},get text(){return e(Ut)},bottom:!0,children:(a,c)=>{const V=x(()=>G("common.copy-icon-title")),X=x(()=>G("common.copy-success-icon-title"));ze(a,{get copyIconTitle(){return e(V)},get copySuccessIconTitle(){return e(X)},get content(){return e(lt)},children:(J,ne)=>{fe();var Y=ce();D(()=>z(Y,e(lt))),d(J,Y)},$$slots:{default:!0}})},$$slots:{default:!0}}),r(Be);var Ge=E(Be),Wt=s(Ge);const Bt=x(()=>re(t.event)&&!e(le)||!e($)),Gt=x(()=>re(t.event)?`Duration: ${e(le)}`:`+${e($)}`);Tt(Wt,{get hide(){return e(Bt)},get text(){return e(Gt)},bottom:!0,children:(a,c)=>{const V=x(()=>G("common.copy-icon-title")),X=x(()=>G("common.copy-success-icon-title"));ze(a,{get copyIconTitle(){return e(V)},get copySuccessIconTitle(){return e(X)},get content(){return e(it)},children:(J,ne)=>{fe();var Y=ce();D(()=>z(Y,e(it))),d(J,Y)},$$slots:{default:!0}})},$$slots:{default:!0}}),r(Ge);var Ke=E(Ge),Qe=s(Ke);let ut;var Kt=s(Qe,!0);r(Qe),r(Ke);var ft=E(Ke),mt=s(ft);{var Qt=a=>{var c=aa(),V=s(c);un(V,{class:"mr-1.5 inline",name:"retry"});var X=E(V),J=E(X);{var ne=Y=>{var se=na(),ie=ue(se),be=E(ie);{var he=Ie=>{var Te=ce();D((Xe,Fe)=>z(Te,`• ${Xe??""}
            ${Fe??""}`),[()=>G("workflows.next-retry"),()=>yn({date:e(Se).scheduledTime,negativeDefault:"None"})]),d(Ie,Te)};O(be,Ie=>{e(qe)>1&&Ie(he)})}D(()=>z(ie,`/ ${e(Se).maximumAttempts||"∞"} `)),d(Y,se)};O(J,Y=>{e(Se)&&Y(ne)})}r(c),D(Y=>{ve(c,1,`flex items-center gap-1 ${(e(qe)>1?"surface-retry px-1 py-0.5":"")??""}`),z(X,` ${Y??""}
        ${e(qe)??""} `)},[()=>G("workflows.attempt")]),d(a,c)};O(mt,a=>{e(qe)&&a(Qt)})}var _t=E(mt,2);{var Xt=a=>{De(a,Ze(()=>e(ee),{get attributes(){return e(B)}}))};O(_t,a=>{var c;!e(o)&&((c=e(ee))!=null&&c.key)&&a(Xt)})}var gt=E(_t,2);{var Yt=a=>{De(a,Ze(()=>e(o),{get attributes(){return e(B)}}))};O(gt,a=>{e(o)&&e(o).key&&a(Yt)})}var pt=E(gt,2);{var Jt=a=>{qt(a,{get value(){return e(f).userMetadata.summary},children:Pe,$$slots:{default:(c,V)=>{const X=x(()=>V.decodedValue);var J=xe(),ne=ue(J);{var Y=se=>{var ie=ra(),be=E(s(ie),2);We(be,{type:"secondary",class:"block select-none truncate",children:(he,Ie)=>{fe();var Te=ce();D(()=>z(Te,e(X))),d(he,Te)},$$slots:{default:!0}}),r(ie),d(se,ie)};O(ne,se=>{e(X)&&se(Y)})}d(c,J)}}})};O(pt,a=>{var c,V;(V=(c=e(f))==null?void 0:c.userMetadata)!=null&&V.summary&&a(Jt)})}var xt=E(pt,2);{var Zt=a=>{at(a,{get link(){return e(f).links[0]},class:"max-w-xl",linkClass:"truncate"})};O(xt,a=>{var c,V;(V=(c=e(f))==null?void 0:c.links)!=null&&V.length&&a(Zt)})}var wt=E(xt,2);{var $t=a=>{const c=x(()=>e(st).toString());De(a,{key:"attempt",get value(){return e(c)},get attributes(){return e(B)}})};O(wt,a=>{e(st)&&a($t)})}var en=E(wt,2);{var tn=a=>{De(a,Ze(()=>e(oe),{get attributes(){return e(B)}}))};O(en,a=>{e(Mt)&&a(tn)})}r(ft),r(ke);var nn=E(ke,2);{var an=a=>{var c=oa();let V;var X=s(c);let J;var ne=s(X);Xn(ne,{get group(){return t.group},get event(){return e(f)}}),r(X),r(c),D((Y,se)=>{V=ve(c,1,"expanded flex select-none items-center gap-4 px-2 text-sm no-underline",null,V,Y),J=ve(X,1,"w-full text-sm no-underline",null,J,se)},[()=>({typedError:h()}),()=>({"border-b-0":h()})]),ht(1,c,()=>dn),ht(2,c,()=>cn,()=>({duration:175})),d(a,c)};O(nn,a=>{e(i)&&a(an)})}D((a,c)=>{ct=ve(ke,1,"dense flex select-none items-center gap-4 px-2 text-sm no-underline",null,ct,a),bt(ke,"id",`${t.event.id}-${t.index}`),bt(ke,"data-eventid",t.event.id),ut=ve(Qe,1,"whitespace-nowrap font-semibold md:text-base",null,ut,c),z(Kt,e(te))},[()=>({border:e(de)||e(me)||e(_e),"border-danger":e(de),"border-warning":e(me),"border-pink-700":e(_e),typedError:h(),expanded:e(i),active:H()}),()=>({"text-danger":e(de),"text-pink-700":e(_e),"text-warning":e(me)})]),d(m,dt),pe(),A()}ln(["click"]);export{Qa as E,qt as M,De as a,Xn as b,Rt as c,at as d};
