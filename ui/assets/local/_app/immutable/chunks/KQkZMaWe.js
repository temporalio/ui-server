import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as de,m as D,g as t,f as ee,j as G,o as u,h as H,s as k,r as K,e as v,b as me,G as l,L as r,l as ie,a as _e,i as J,c as j,n as ae,k as re,t as Z,aQ as Ce}from"./CckrFwdx.js";import{s as le}from"./_IQD3yTx.js";import{e as he,i as $e}from"./BTEtt5uP.js";import{a as De}from"./CjYTZKiB.js";import{i as be}from"./ebNgFJjp.js";import{p as I,a as ce,s as ye}from"./BioCYJcK.js";import{B as ve}from"./Cbg44LbG.js";import{t as a}from"./DEjs8ZrU.js";import{b as ke,c as we}from"./DlFjUWrg.js";import{S as i}from"./S6Q2Q0ub.js";import{i as V}from"./CoMawi-e.js";import{C as Ie}from"./DdEakl4B.js";import{I as ge}from"./Czd4-LYI.js";import{N as Oe}from"./CVVSzO2K.js";import{S as fe,O as ne}from"./yBV_GDwN.js";import{o as Ne}from"./DsVF0eUi.js";import{D as Ue,T as Re}from"./Pn6smSfc.js";import{b as Le}from"./DynX2UVw.js";import{s as pe}from"./EZHNhN5g.js";var Pe=ee('<div class="flex flex-col gap-2"><!> <!></div>');function Be(W,d){de(d,!1);let b=I(d,"value",12);const _=b()?new Date(b()):new Date,P=new Date(_.getUTCFullYear(),_.getUTCMonth(),_.getUTCDate());let h=D(pe(P)),s=D(b()?String(_.getUTCHours()):""),T=D(b()?String(_.getUTCMinutes()):""),e=D(b()?String(_.getUTCSeconds()):"");Ne(()=>{b()||M()});const B=o=>{k(h,pe(o.detail)),M()},M=()=>{b(Le({date:t(h),hour:t(s),minute:t(T),second:t(e)}))};be();var S=Pe(),F=G(S);{let o=u(()=>(r(a),l(()=>a("common.value")))),O=u(()=>(r(a),l(()=>a("common.utc")))),f=u(()=>(r(a),l(()=>a("common.today")))),m=u(()=>(r(a),l(()=>a("common.close")))),N=u(()=>(r(a),l(()=>a("common.clear-input-button-label"))));Ue(F,{get label(){return`${t(o)??""} (${t(O)??""})`},get selected(){return t(h)},get todayLabel(){return t(f)},get closeLabel(){return t(m)},get clearLabel(){return t(N)},$$events:{datechange:B}})}var A=H(F,2);Re(A,{twelveHourClock:!1,get hour(){return t(s)},set hour(o){k(s,o)},get minute(){return t(T)},set minute(o){k(T,o)},get second(){return t(e)},set second(o){k(e,o)},$$events:{timechange:M},$$legacy:!0}),K(S),v(W,S),me()}var Me=ee("<!> <!>",1),Fe=ee("<div><!></div>"),Ye=ee('<div class="flex flex-col gap-2 border-b border-subtle pb-4 sm:flex-row sm:gap-4"><div class="flex min-w-fit justify-between gap-2 sm:gap-4"><div class="grow [&amp;_button]:w-full"><!></div> <!></div> <!> <!></div>');function je(W,d){de(d,!1);const b=()=>ce(we,"$customSearchAttributes",P),_=()=>ce(ke,"$customSearchAttributeOptions",P),[P,h]=ye(),s=D();let T=I(d,"attributes",24,()=>[]),e=I(d,"attribute",12),B=I(d,"onRemove",8),S=D(e().label||void 0);const F=n=>b()[n],A=n=>{e(e().label=n,!0);const g=F(n);g===i.KEYWORDLIST?e(e().value=[],!0):e().type!==g&&e(e().value=null,!0),e(e().type=g,!0)};ie(()=>r(T()),()=>{k(s,n=>!!T().find(g=>g.label===n))}),_e(),be();var o=Ye(),O=G(o),f=G(O),m=G(f);{let n=u(()=>(r(a),l(()=>a("workflows.custom-search-attribute")))),g=u(()=>(r(a),l(()=>a("workflows.select-attribute"))));fe(m,{id:"search-attribute","data-testid":"search-attribute-select",get label(){return t(n)},get placeholder(){return t(g)},onChange:A,get value(){return t(S)},set value($){k(S,$)},children:($,se)=>{var R=J(),p=j(R);he(p,1,_,$e,(x,y,te,E)=>{let c=()=>t(y).value,C=()=>t(y).label,X=()=>t(y).type;{let q=u(()=>(t(s),c(),l(()=>t(s)(c()))));ne(x,{get disabled(){return t(q)},get value(){return c()},get description(){return X()},children:(Q,w)=>{ae();var L=re();Z(()=>le(L,C())),v(Q,L)},$$slots:{default:!0}})}}),v($,R)},$$slots:{default:!0},$$legacy:!0})}K(f);var N=H(f,2);ve(N,{variant:"ghost",leadingIcon:"close",class:"mt-6 w-10 rounded-full sm:hidden",$$events:{click:()=>B()(e().label)}}),K(O);var U=H(O,2);{var Te=n=>{{let g=u(()=>(r(a),l(()=>a("common.value"))));fe(n,{get label(){return t(g)},id:"attribute-value",get value(){return e().value},set value($){e(e().value=$,!0)},children:($,se)=>{var R=Me(),p=j(R);ne(p,{value:!0,children:(y,te)=>{ae();var E=re();Z(c=>le(E,c),[()=>(r(a),l(()=>a("common.true")))]),v(y,E)},$$slots:{default:!0}});var x=H(p,2);ne(x,{value:!1,children:(y,te)=>{ae();var E=re();Z(c=>le(E,c),[()=>(r(a),l(()=>a("common.false")))]),v(y,E)},$$slots:{default:!0}}),v($,R)},$$slots:{default:!0},$$legacy:!0})}},Se=n=>{var g=J(),$=j(g);{var se=p=>{Be(p,{get value(){return e().value},set value(x){e(e().value=x,!0)},$$legacy:!0})},R=p=>{var x=J(),y=j(x);{var te=c=>{var C=Fe(),X=G(C);{let q=u(()=>(r(a),l(()=>a("common.value")))),Q=u(()=>(r(e()),l(()=>e().value<Number.MAX_SAFE_INTEGER)));Oe(X,{get label(){return t(q)},id:"attribute-value",get valid(){return t(Q)},hintText:"Number is too large",max:l(()=>Number.MAX_SAFE_INTEGER),get value(){return e().value},set value(w){e(e().value=w,!0)},$$legacy:!0})}K(C),v(c,C)},E=c=>{var C=J(),X=j(C);{var q=w=>{{let L=u(()=>(r(a),l(()=>a("common.value"))));Ie(w,{get label(){return t(L)},id:"attribute-value",class:"w-full",removeChipButtonLabel:z=>a("workflows.remove-keyword-label",{keyword:z}),get chips(){return e().value},set chips(z){e(e().value=z,!0)},$$legacy:!0})}},Q=w=>{var L=J(),z=j(L);{var xe=Y=>{{let oe=u(()=>(r(a),l(()=>a("common.value"))));ge(Y,{get label(){return t(oe)},"data-testid":"custom-search-attribute-value",id:"attribute-value",class:"grow",get value(){return e().value},set value(ue){e(e().value=ue,!0)},$$legacy:!0})}},Ee=Y=>{{let oe=u(()=>(r(a),l(()=>a("common.value")))),ue=u(()=>(r(a),l(()=>a("workflows.unsupported-attribute"))));ge(Y,{get label(){return t(oe)},id:"attribute-value",class:"grow",get placeholder(){return t(ue)},error:!0,disabled:!0,value:""})}};V(z,Y=>{r(e()),r(i),l(()=>e().type===i.TEXT||e().type===i.KEYWORD||e().type===i.UNSPECIFIED)?Y(xe):Y(Ee,!1)},!0)}v(w,L)};V(X,w=>{r(e()),r(i),l(()=>e().type===i.KEYWORDLIST)?w(q):w(Q,!1)},!0)}v(c,C)};V(y,c=>{r(e()),r(i),l(()=>e().type===i.INT||e().type===i.DOUBLE)?c(te):c(E,!1)},!0)}v(p,x)};V($,p=>{r(e()),r(i),l(()=>e().type===i.DATETIME)?p(se):p(R,!1)},!0)}v(n,g)};V(U,n=>{r(e()),r(i),l(()=>e().type===i.BOOL)?n(Te):n(Se,!1)})}var Ae=H(U,2);ve(Ae,{variant:"ghost",leadingIcon:"close","data-testid":"search-attribute-close-button",class:"mt-6 w-10 rounded-full max-sm:hidden",$$events:{click:()=>B()(e().label)}}),K(o),v(W,o),me(),h()}var Ge=ee("<div><!> <!></div>");function vt(W,d){de(d,!1);const b=()=>ce(we,"$customSearchAttributes",_),[_,P]=ye(),h=D(),s=D();let T=I(d,"class",8,""),e=I(d,"attributesToAdd",28,()=>[]),B=I(d,"buttonCopy",24,()=>a("workflows.add-search-attribute")),M=I(d,"variant",8,"ghost");const S=()=>{e([...e(),{label:null,value:null,type:i.UNSPECIFIED}])},F=f=>{e(e().filter(m=>m.label!==f))};ie(()=>b(),()=>{k(h,Object.keys(b()))}),ie(()=>r(e()),()=>{k(s,e())}),_e(),be();var A=Ge(),o=G(A);he(o,1,()=>t(s),$e,(f,m,N)=>{je(f,{get attributes(){return t(s)},onRemove:F,get attribute(){return t(s)[N]},set attribute(U){t(s)[N]=U,Ce(()=>(t(s),e()))},$$legacy:!0})});var O=H(o,2);{let f=u(()=>(t(h),t(s),l(()=>!t(h).length||t(s).length===t(h).length||t(s).filter(m=>m.value===""||m.value===null||Array.isArray(m.value)&&m.value.length===0).length>0)));ve(O,{get variant(){return M()},leadingIcon:"add",class:"max-sm:w-full","data-testid":"add-search-attribute-button",get disabled(){return t(f)},$$events:{click:S},children:(m,N)=>{ae();var U=re();Z(()=>le(U,B())),v(m,U)},$$slots:{default:!0}})}K(A),Z(()=>De(A,1,`flex flex-col gap-4 ${T()??""}`)),v(W,A),me(),P()}export{vt as A};
