import"./Bzak7iHL.js";import"./69_IOA4Y.js";import{p as ie,N as Oe,t as K,i as v,r as p,j as D,e as I,b as re,o as F,O as be,h as Ce,f as Te,c as j,l as Q,a as Ie,g as U,m as te,s as ae,M as se}from"./DtSMpxPp.js";import{e as R,s as Ne}from"./ChP_J8fE.js";import{i as V}from"./BUX2ey9N.js";import{i as oe,s as N,t as W}from"./DM92YGvC.js";import{b as Y,C as me,a as ue}from"./Dbhi2jYg.js";import{s as le}from"./Bfc47y5P.js";import{l as S,p as a,s as ce,a as Z,c as x}from"./QkTQNHha.js";import{c as he,w as ne}from"./C_fvR0pn.js";import{I as fe}from"./Db7F_qcf.js";import{b as Se}from"./B2zSYlE0.js";import{b as Le}from"./CtBRckes.js";import{b as ze}from"./lfQGXmy2.js";import{c as He,g as ve}from"./uVHWBtn_.js";import{a as qe}from"./CaPwm1FX.js";const de="menu-context";var Ae=K("<div><!></div>");function st(L,e){const z=S(e,["children","$$slots","$$events","$$legacy"]),E=S(z,["class","open"]);ie(e,!1);const[w,H]=ce(),y=()=>Z(l(),"$open",w);let b=a(e,"class",8,""),l=a(e,"open",24,()=>ne(!1));const M=ne(!1),i=ne(null),h=he(),_=()=>{y()&&(h("close"),x(l(),!1))};Oe(de,{open:l(),keepOpen:M,menuElement:i}),oe();var r=Ae();let d;var n=v(r);N(n,e,"default",{get open(){return l()}},null),p(r),qe(r,(g,u)=>{var k;return(k=He)==null?void 0:k(g,u)},()=>_),D(g=>d=Y(r,d,{class:g,...E}),[()=>W("relative",b())],F),I(L,r),re(),H()}const pe='input, li[role="option"]:not([aria-disabled="true"]), li[role="menuitem"]:not([aria-disabled="true"])';var Pe=K("<a><div><!></div> <!></a>"),je=K("<div> </div>"),Ue=K('<li><!> <div class="grow"><div><!> <!></div> <!></div> <!></li>');function nt(L,e){const z=S(e,["children","$$slots","$$events","$$legacy"]),E=S(z,["class","selected","destructive","disabled","href","description","centered","hoverable","newTab"]);ie(e,!1);const[w,H]=ce(),y=()=>Z(g,"$keepOpen",w);let b=a(e,"class",8,""),l=a(e,"selected",8,void 0),M=a(e,"destructive",8,!1),i=a(e,"disabled",8,!1),h=a(e,"href",8,null),_=a(e,"description",8,null),r=a(e,"centered",8,!1),d=a(e,"hoverable",8,!0),n=a(e,"newTab",8,!1);const{keepOpen:g,open:u}=be(de),k=he(),q=s=>{switch(s.key){case"Escape":x(u,!1);break;case"ArrowDown":case"ArrowRight":$(s.currentTarget);break;case"ArrowUp":case"ArrowLeft":c(s.currentTarget);break;case" ":case"Enter":k("click"),y()||x(u,!1);break}},$=s=>{let t=s.nextElementSibling;for(;t&&!t.matches(pe);)t=t.nextElementSibling;t&&t instanceof HTMLLIElement&&t.focus()},c=s=>{let t=s.previousElementSibling;for(;t&&!t.matches(pe);)t=t.previousElementSibling;t&&t instanceof HTMLLIElement&&t.focus()},X=()=>{y()||x(u,!1),k("click")};oe();var B=Ce(),o=Te(B);{var _e=s=>{var t=Pe();let A;var O=v(t),P=v(O);N(P,e,"default",{},null),p(O);var C=j(O,2);{var G=f=>{fe(f,{height:20,width:20,name:"external-link",slot:"trailing"})};V(C,f=>{n()&&f(G)})}p(t),D((f,ee)=>A=Y(t,A,{href:h(),target:n()?"_blank":null,rel:n()?"noreferrer":null,role:"menuitem",class:f,"aria-hidden":i()?"true":"false","aria-disabled":i(),tabindex:i()?-1:0,"data-track-name":"menuitem","data-track-intent":"navigate","data-track-text":"*textContent*",...E,[me]:ee},"svelte-2h2qix"),[()=>W("menu-item","m-1 px-3 py-2","flex items-center gap-2",r()?"justify-center":"justify-between",b()),()=>({disabled:i(),hoverable:d()})],F),R("keydown",t,le(q)),I(s,t)},ge=s=>{var t=Ue();let A;var O=v(t);N(O,e,"leading",{},null);var P=j(O,2),C=v(P);let G;var f=v(C);N(f,e,"default",{},null);var ee=j(f,2);{var ke=m=>{fe(m,{name:"checkmark",class:"shrink-0"})};V(ee,m=>{l()&&m(ke)})}p(C);var xe=j(C,2);{var Ee=m=>{var T=je();let J;var ye=v(T,!0);p(T),D(Me=>{J=ue(T,1,"menu-item-description svelte-2h2qix",null,J,Me),Ne(ye,_())},[()=>({"text-center":r()})],F),I(m,T)};V(xe,m=>{_()&&m(Ee)})}p(P);var we=j(P,2);N(we,e,"trailing",{},null),p(t),D((m,T,J)=>{A=Y(t,A,{role:"menuitem",class:m,"aria-hidden":i()?"true":"false","aria-disabled":i(),tabindex:i()?-1:0,"data-track-name":"menuitem","data-track-intent":"action","data-track-text":"*textContent*",...E,[me]:T},"svelte-2h2qix"),G=ue(C,1,"menu-item-wrapper svelte-2h2qix",null,G,J)},[()=>W("menu-item","m-1 px-3 py-2","flex items-center gap-2",b()),()=>({destructive:M(),disabled:i(),selected:l(),hoverable:d()}),()=>({centered:r()})],F),R("click",t,X),R("keydown",t,le(q)),I(s,t)};V(o,s=>{h()?s(_e):s(ge,!1)})}I(L,B),re(),H()}var De=K("<ul><!></ul>");function lt(L,e){const z=S(e,["children","$$slots","$$events","$$legacy"]),E=S(z,["class","id","keepOpen","position","menuElement","maxHeight"]);ie(e,!1);const[w,H]=ce(),y=()=>Z(u,"$keepOpenCtx",w),b=()=>Z(q,"$open",w),l=te(),M=te();let i=a(e,"class",8,""),h=te(0),_=a(e,"id",8),r=a(e,"keepOpen",8,!1),d=a(e,"position",8,"left"),n=a(e,"menuElement",12,null),g=a(e,"maxHeight",8,"max-h-[20rem]");const{keepOpen:u,menuElement:k,open:q}=be(de),$=o=>{!y()&&o.target===U(M)&&x(q,!1)};Q(()=>se(r()),()=>{x(u,r())}),Q(()=>se(n()),()=>{x(k,n())}),Q(()=>(se(n()),ve),()=>{ae(l,n()?ve(n()):[])}),Q(()=>U(l),()=>{ae(M,U(l)[U(l).length-1])}),Ie(),oe();var c=De();let X;var B=v(c);N(B,e,"default",{},null),p(c),Le(c,o=>n(o),()=>n()),D(o=>X=Y(c,X,{role:"menu",class:o,"aria-labelledby":_(),tabindex:-1,style:d()==="top-right"||d()==="top-left"?`top: -${U(h)+16}px;`:"",id:_(),...E},"svelte-1jzz301"),[()=>W("menu","w-full","transition-all duration-100 ease-out",!b()&&"invisible scale-95 opacity-0",b()&&"visible scale-100 opacity-100",g(),d(),i())],F),Se(c,"clientHeight",o=>ae(h,o)),R("focusout",c,$),R("click",c,le(function(o){ze.call(this,e,o)})),I(L,c),re(),H()}export{de as M,pe as a,nt as b,st as c,lt as d};
