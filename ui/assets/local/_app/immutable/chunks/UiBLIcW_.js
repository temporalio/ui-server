import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as me,l as ge,O as i,g as e,m as _e,az as Be,a as qe,f as h,c as ae,t as x,K as a,e as s,k as re,o as T,h as c,j as f,b as pe,s as fe,r as v,n as ee,i as we,v as V,d as kt,u as xt,q as wt}from"./DZ1-1a5q.js";import{s as g,e as bt}from"./DxwvfIkW.js";import{i as Q}from"./DnKg3jxh.js";import{e as Ge,i as nt}from"./DGhzC9On.js";import{s as ze}from"./B3h3Bc2r.js";import{i as ke}from"./Bby3K3wO.js";import{p as ce,a as ie,s as xe,b as $e,l as Xe}from"./TaaIktnz.js";import{w as Ie,g as De}from"./D7JzDj9r.js";import{g as Se}from"./TZ5FFUA_.js";import{p as Ke}from"./ClCYFG6W.js";import{C as We}from"./1SferHEQ.js";import{I as Je}from"./BwERH40W.js";import{M as ht}from"./B4zHPoTU.js";import{c as yt,d as Tt,b as Fe}from"./CnHlilQN.js";import{M as Et}from"./B1qTrUHR.js";import{t}from"./DEjs8ZrU.js";import{l as Ne,_ as Ye,$ as Pt,a0 as Ct,a1 as It,a2 as lt,a3 as At}from"./XHK2z4ax.js";import{i as Te,h as He,c as St,j as Wt,k as Ze,f as st}from"./CyyOj8SN.js";import{t as Ft}from"./9iC0cDxE.js";import{u as Re}from"./BaNXLRzJ.js";import{i as Ht}from"./HVeMsM_a.js";import{C as Oe,a as je}from"./BY725jW2.js";import{t as it,T as Rt}from"./4Dr_hdgK.js";import{s as Pe}from"./DMJjfc0_.js";import{A as ct}from"./BxPfauF3.js";import{L as dt}from"./C0KfKJRW.js";import{s as jt}from"./ByTIZu23.js";import{A as ut}from"./jw7sBMoL.js";import{C as Me}from"./DRZCEzQy.js";import{B as ue}from"./CqqsKTDn.js";import{M as Mt}from"./DiMwhU_z.js";import{R as Ot,a as Ue}from"./CKcrITRI.js";import{b as Vt}from"./D475-HZy.js";import{a as Bt}from"./urDygoU8.js";import{c as Nt,d as Ut}from"./B-npT5LB.js";import{g as zt,b as Dt,a as Lt}from"./vCPP-pwq.js";import{s as Le}from"./ikbOq2O5.js";import{i as qt}from"./CZDARyjk.js";import{e as et,a as tt}from"./C3IQD-Kx.js";import{w as Gt}from"./D3HmRl1U.js";import{I as rt}from"./DU1Ty-Gi.js";import{s as Ee}from"./D3L9VHHD.js";const vt=200,Kt=Ie(0),Jt=Ie(vt),Ce=Ie([]),Qe=Ie(0),Wa=()=>{Ce.set([]),Qe.set(0),Kt.set(0),Jt.set(vt)},Qt=()=>{Ce.set([]),Qe.set(0)},Fa=u=>{De(Ce).includes(u.id)?(Qe.set(0),Ce.set([])):Ce.set([u.id])},Xt=u=>u==null?void 0:u.nexus;var Yt=h("<div><!></div>"),Zt=h('<span class="hidden text-sm md:block"> </span>'),er=h("<!> <!> <!> <!> <!>",1),tr=h("<!> <!>",1);function Ha(u,r){me(r,!1);const o=()=>ie(Ft,"$temporalVersion",_),p=()=>ie(Ke,"$page",_),l=()=>ie(Te,"$eventTypeFilter",_),n=()=>ie(He,"$eventStatusFilter",_),m=()=>ie(St,"$eventViewType",_),[_,y]=xe(),k=_e(),$=_e(),S=_e();var W=_e();let E=ce(r,"compact",8,!1),j=ce(r,"minimized",8,!0),P=Ie(!1);const N=({value:d})=>{Qt();const C=l().some(H=>H===d)?l().filter(H=>H!==d):[...l(),d];$e(Te,C),Re(p().url,{categories:C.length===e(k).length?null:C},Se)},F=()=>{$e(Te,e(k)),$e(He,!1),Re(p().url,{categories:null,statusFilter:!1},Se)},J=()=>{$e(Te,e(k)),$e(He,!n()),Re(p().url,{categories:null,statusFilter:!n()},Se)},B=()=>{$e(Te,[]),$e(He,!1),Re(p().url,{categories:[],statusFilter:!1},Se)};ge(()=>(i(E()),Ne),()=>{fe(k,E()?Ye.map(d=>d.value):Ne.map(d=>d.value))}),ge(()=>(i(E()),Oe),()=>{fe($,[...(E()?Ye:Ne).map(d=>({...d,label:t(d.label),icon:Oe[d.value],description:t(d.description)}))])}),ge(()=>(o(),e($)),()=>{Ht("1.21.0",o())&&fe($,e($).filter(({value:d})=>d!=="update"))}),ge(()=>(Be(W),p(),e($)),()=>{Xt(fe(W,p().data.systemInfo)===null||Be(W)===void 0?void 0:Be(W).capabilities)||fe($,e($).filter(({value:d})=>d!=="nexus"))}),ge(()=>(l(),e(k)),()=>{fe(S,l().length<e(k).length)}),qe(),ke(),yt(u,{get open(){return P},children:(d,C)=>{var H=tr(),U=ae(H);ht(U,{controls:"status-menu",size:"sm",leading:K=>{var R=Yt();let D;var le=f(R);{let de=T(()=>e(S)&&"pt-0.5 text-white");Je(le,{name:"filter",get class(){return e(de)}})}v(R),x(()=>D=ze(R,1,"flex h-6 w-6 flex-col items-center justify-center rounded-full transition-colors duration-200",null,D,{"bg-interactive":e(S)})),s(K,R)},children:(K,R)=>{var D=Zt(),le=f(D,!0);v(D),x(de=>g(le,de),[()=>(i(t),a(()=>t("common.filter")))]),s(K,D)},$$slots:{leading:!0,default:!0}});var z=c(U,2);{let w=T(()=>j()?"top-right":"right");Tt(z,{id:"event-type-menu",keepOpen:!0,get position(){return e(w)},class:"w-[220px] md:w-[360px]",children:(K,R)=>{var D=er(),le=ae(D);{const oe=ne=>{{let te=T(()=>(n(),l(),e(k),a(()=>!n()&&l().length===e(k).length))),G=T(()=>(i(t),a(()=>t("common.all"))));We(ne,{get checked(){return e(te)},get label(){return e(G)},labelHidden:!0,class:"mt-px",$$events:{change:F}})}};let M=T(()=>(i(t),a(()=>t("common.all"))));Fe(le,{get"data-testid"(){return e(M)},onclick:F,leading:oe,children:(ne,te)=>{ee();var G=re();x(q=>g(G,q),[()=>(i(t),a(()=>t("common.all")))]),s(ne,G)},$$slots:{leading:!0,default:!0}})}var de=c(le,2);{var be=oe=>{{const M=G=>{{let q=T(()=>(i(t),a(()=>t("common.all"))));We(G,{get checked(){return n()},get label(){return e(q)},labelHidden:!0,class:"mt-px",$$events:{change:J}})}};let ne=T(()=>(i(t),a(()=>t("common.pending-and-failed")))),te=T(()=>(i(t),a(()=>t("common.pending-and-failed-description"))));Fe(oe,{get"data-testid"(){return e(ne)},get description(){return e(te)},onclick:J,class:"items-start",leading:M,children:(G,q)=>{ee();var Ae=re();x(Ve=>g(Ae,Ve),[()=>(i(t),a(()=>t("common.pending-and-failed")))]),s(G,Ae)},$$slots:{leading:!0,default:!0}})}};Q(de,oe=>{m()!=="json"&&oe(be)})}var L=c(de,2);{const oe=ne=>{{let te=T(()=>(n(),l(),a(()=>!n()&&!l().length))),G=T(()=>(i(t),a(()=>t("common.none"))));We(ne,{get checked(){return e(te)},get label(){return e(G)},labelHidden:!0,class:"mt-px",$$events:{change:B}})}};let M=T(()=>(i(t),a(()=>t("common.none"))));Fe(L,{get"data-testid"(){return e(M)},onclick:B,leading:oe,children:(ne,te)=>{ee();var G=re();x(q=>g(G,q),[()=>(i(t),a(()=>t("common.none")))]),s(ne,G)},$$slots:{leading:!0,default:!0}})}var Y=c(L,2);Et(Y);var ve=c(Y,2);Ge(ve,1,()=>e($),nt,(oe,M)=>{Fe(oe,{get"data-testid"(){return e(M),a(()=>e(M).label)},get description(){return e(M),a(()=>e(M).description)},onclick:()=>{N(e(M))},class:"items-start",leading:te=>{{let G=T(()=>(l(),e(M),a(()=>l().some(q=>q===e(M).value))));We(te,{get checked(){return e(G)},get label(){return e(M),a(()=>e(M).label)},labelHidden:!0,class:"mt-px",$$events:{click:()=>N(e(M))}})}},children:(te,G)=>{ee();var q=re();x(()=>g(q,(e(M),a(()=>e(M).label)))),s(te,q)},$$slots:{leading:!0,default:!0}})}),s(K,D)},$$slots:{default:!0}})}s(d,H)},$$slots:{default:!0}}),pe(),y()}var rr=h('<div class="*:border-t-0 [&amp;>*:first-child]:border-t"><!></div>');function ar(u,r){var o=rr(),p=f(o);Pe(p,r,"default",{},null),v(o),s(u,o)}var or=h("<p> </p> <!>",1),nr=h("<p> </p> <!>",1),lr=h('<div class="flex flex-col gap-2"><p> </p> <!> <!> <!></div>'),sr=h('<div class="w-full text-right text-xs" slot="summary"> </div>'),ir=h("<!> <!>",1);function ft(u,r){me(r,!1);let o=ce(r,"failure",8,void 0);ke();var p=ir(),l=ae(p);{var n=y=>{{let k=T(()=>(i(t),a(()=>t("common.failure"))));ut(y,{get title(){return e(k)},class:"text-sm",children:($,S)=>{var W=lr(),E=f(W),j=f(E,!0);v(E);var P=c(E,2);{let d=T(()=>(i(o()),a(()=>{var U;return((U=o())==null?void 0:U.message)||""}))),C=T(()=>(i(t),a(()=>t("common.copy-icon-title")))),H=T(()=>(i(t),a(()=>t("common.copy-success-icon-title"))));Me(P,{get content(){return e(d)},language:"text",get copyIconTitle(){return e(C)},get copySuccessIconTitle(){return e(H)}})}var N=c(P,2);{var F=d=>{var C=or(),H=ae(C),U=f(H,!0);v(H);var z=c(H,2);{let w=T(()=>(i(t),a(()=>t("common.copy-icon-title")))),K=T(()=>(i(t),a(()=>t("common.copy-success-icon-title"))));Me(z,{get content(){return i(o()),a(()=>o().source)},language:"text",get copyIconTitle(){return e(w)},get copySuccessIconTitle(){return e(K)}})}x(w=>g(U,w),[()=>(i(t),a(()=>t("common.source")))]),s(d,C)};Q(N,d=>{i(o()),a(()=>{var C;return(C=o())==null?void 0:C.source})&&d(F)})}var J=c(N,2);{var B=d=>{var C=nr(),H=ae(C),U=f(H,!0);v(H);var z=c(H,2);{let w=T(()=>(i(t),a(()=>t("common.copy-icon-title")))),K=T(()=>(i(t),a(()=>t("common.copy-success-icon-title"))));Me(z,{get content(){return i(o()),a(()=>o().stackTrace)},language:"text",get copyIconTitle(){return e(w)},get copySuccessIconTitle(){return e(K)}})}x(w=>g(U,w),[()=>(i(t),a(()=>t("common.stack-trace")))]),s(d,C)};Q(J,d=>{i(o()),a(()=>{var C;return(C=o())==null?void 0:C.stackTrace})&&d(B)})}v(W),x(d=>g(j,d),[()=>(i(t),a(()=>t("common.message")))]),s($,W)},$$slots:{default:!0,summary:($,S)=>{var W=sr(),E=f(W,!0);v(W),x(()=>g(E,(i(o()),a(()=>{var j;return(j=o())==null?void 0:j.message})))),s($,W)}}})}};Q(l,y=>{o()&&y(n)})}var m=c(l,2);{var _=y=>{var k=we(),$=ae(k);ft($,{get failure(){return i(o()),a(()=>o().cause)}}),s(y,k)};Q(m,y=>{i(o()),a(()=>{var k;return(k=o())==null?void 0:k.cause})&&y(_)})}s(u,p),pe()}var cr=h('<div class="flex flex-col gap-2"><p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p></div>');function dr(u,r){me(r,!1);const o=()=>ie(it,"$timestamp",p),[p,l]=xe();let n=ce(r,"pendingTask",8,void 0);ke();{let m=T(()=>(i(t),a(()=>t("workflows.pending-workflow-task"))));ut(u,{get title(){return e(m)},children:(_,y)=>{var k=cr(),$=f(k),S=f($),W=c(S);ue(W,{children:(w,K)=>{ee();var R=re();x(()=>g(R,(i(n()),a(()=>n().state)))),s(w,R)},$$slots:{default:!0}}),v($);var E=c($,2),j=f(E),P=c(j);ue(P,{children:(w,K)=>{ee();var R=re();x(()=>g(R,(i(n()),a(()=>n().attempt)))),s(w,R)},$$slots:{default:!0}}),v(E);var N=c(E,2),F=f(N),J=c(F);ue(J,{children:(w,K)=>{ee();var R=re();x(D=>g(R,D),[()=>(o(),i(n()),a(()=>o()(n().originalScheduledTime)))]),s(w,R)},$$slots:{default:!0}}),v(N);var B=c(N,2),d=f(B),C=c(d);ue(C,{children:(w,K)=>{ee();var R=re();x(D=>g(R,D),[()=>(o(),i(n()),a(()=>o()(n().scheduledTime)))]),s(w,R)},$$slots:{default:!0}}),v(B);var H=c(B,2),U=f(H),z=c(U);ue(z,{children:(w,K)=>{ee();var R=re();x(D=>g(R,D),[()=>(o(),i(n()),a(()=>o()(n().startedTime)))]),s(w,R)},$$slots:{default:!0}}),v(H),v(k),x((w,K,R,D,le)=>{g(S,`${w??""} `),g(j,`${K??""} `),g(F,`${R??""} `),g(d,`${D??""} `),g(U,`${le??""} `)},[()=>(i(t),a(()=>t("common.state"))),()=>(i(t),a(()=>t("common.attempt"))),()=>(i(t),a(()=>t("workflows.original-scheduled-time"))),()=>(i(t),a(()=>t("workflows.scheduled-time"))),()=>(i(t),a(()=>t("workflows.started-time")))]),s(_,k)},$$slots:{default:!0}})}pe(),l()}var ur=h("<p> <!>.</p>"),vr=h('<p><span class="mr-2 text-secondary">Timeout Type</span> </p>'),fr=h("<!> <!>",1),mr=h('<p> </p> <!> <div class="mt-2 flex w-full flex-col gap-0 overflow-hidden border border-danger"><div class="flex items-center justify-between gap-2 bg-danger px-2 py-2"><div class="flex items-center gap-2"> <!> <span class="font-semibold text-danger"> </span></div> <!></div> <div class="flex flex-col gap-2 bg-primary p-4"><!> <!></div></div>',1);function Ra(u,r){me(r,!0);var o,p;let l=V(()=>Pt(r.error)),n=V(()=>It(r.error)&&((o=r.error.attributes)===null||o===void 0?void 0:o.failure)),m=V(()=>Ct(r.error)&&((p=r.error.attributes)===null||p===void 0?void 0:p.timeoutType));var _=we(),y=ae(_);{var k=$=>{{let S=V(()=>t(`typed-errors.${e(l)}.title`));ct($,{icon:"warning",intent:"warning",get title(){return e(S)},children:(W,E)=>{var j=mr(),P=ae(j),N=f(P,!0);v(P);var F=c(P,2);{var J=L=>{var Y=ur(),ve=f(Y,!0),oe=c(ve);{let M=V(()=>t(`typed-errors.${e(l)}.link`));dt(oe,{newTab:!0,get href(){return e(M)},children:(ne,te)=>{ee();var G=re();x(q=>g(G,q),[()=>t(`typed-errors.${e(l)}.action`)]),s(ne,G)},$$slots:{default:!0}})}ee(),v(Y),x(M=>g(ve,M),[()=>t("typed-errors.link-preface")]),s(L,Y)};Q(F,L=>{(e(l)==="NonDeterministicError"||e(l)==="BadSearchAttributes")&&L(J)})}var B=c(F,2),d=f(B),C=f(d),H=f(C),U=c(H);Je(U,{get name(){return Oe[r.error.category].name},get title(){return Oe[r.error.category].title}});var z=c(U,2),w=f(z,!0);v(z),v(C);var K=c(C,2);{let L=V(()=>{var Y;return(Y=r.error)==null?void 0:Y.eventTime});Rt(K,{get dateTime(){return e(L)}})}v(d);var R=c(d,2),D=f(R);{var le=L=>{var Y=vr(),ve=c(f(Y));v(Y),x(()=>g(ve,` ${e(m)??""}`)),s(L,Y)};Q(D,L=>{e(m)&&L(le)})}var de=c(D,2);{var be=L=>{ar(L,{children:(Y,ve)=>{var oe=fr(),M=ae(oe);{var ne=q=>{ft(q,{get failure(){return e(n)}})};Q(M,q=>{e(n)&&q(ne)})}var te=c(M,2);{var G=q=>{dr(q,{get pendingTask(){return r.pendingTask}})};Q(te,q=>{r.pendingTask&&q(G)})}s(Y,oe)},$$slots:{default:!0}})};Q(de,L=>{(e(n)||r.pendingTask)&&L(be)})}v(R),v(B),x((L,Y)=>{g(N,L),g(H,`${r.error.id??""} `),g(w,Y)},[()=>t(`typed-errors.${e(l)}.description`),()=>{var L;return jt((L=r.error)==null?void 0:L.name)}]),s(W,j)},$$slots:{default:!0}})}};Q(y,$=>{e(l)&&e(l)!=="ResetWorkflow"&&$(k)})}s(u,_),pe()}const pr=async(u,r,o)=>{const p=zt(r),l=Dt(r),n=Lt(r),m={...r,codec:{...r==null?void 0:r.codec,endpoint:p,passAccessToken:l,includeCredentials:n}},_=!1;try{const y=await Nt(u,De(Ke).params.namespace,m,De(Bt).accessToken,o,_);return Ut(y,_)}catch{return u}};function at(u,r,o){const p=Le({events:u},null,2),l=document.createElement("a"),n=new Blob([p],{type:o});l.href=URL.createObjectURL(n),l.download=r,l.click()}const gr=async({namespace:u,workflowId:r,runId:o,settings:p,decodeSetting:l})=>{try{const n=await Vt({namespace:u,workflowId:r,runId:o,sort:"ascending"});if(l==="encoded")at(n,`${o}/events.json`,"text/plain");else{const m=[];for(const _ of n){const y=await pr(_,p,l);m.push(y)}at(m,`${o}/events.json`,"text/plain")}}catch{console.error("Could not download event history")}};var _r=h('<div class="flex items-center space-x-4"><!></div>');function $r(u,r){me(r,!1);const o=()=>ie(Wt,"$parameters",l),p=()=>ie(qt,"$isCloud",l),[l,n]=xe(),m=_e(),_=_e(),{namespace:y,workflowId:k,runId:$}=o();ge(()=>et,()=>{fe(m,et({namespace:y,workflow:k,run:$}))}),ge(()=>e(m),()=>{fe(_,e(m)+".json")}),qe(),ke();var S=we(),W=ae(S);{var E=j=>{var P=_r(),N=f(P);dt(N,{icon:"external-link",class:"whitespace-nowrap",get href(){return e(_)},newTab:!0,"data-testid":"view-raw-event-history",children:(F,J)=>{ee();var B=re();x(d=>g(B,d),[()=>(i(t),a(()=>t("events.view-raw-history")))]),s(F,B)},$$slots:{default:!0}}),v(P),s(j,P)};Q(W,j=>{p()||j(E)})}s(u,S),pe(),n()}var kr=h('<h3 slot="title"> </h3>'),xr=h("<!> <!> <!>",1),wr=h('<div slot="content" class="flex flex-col gap-4"><!> <!></div>');function ja(u,r){me(r,!1);const o=()=>ie(Ke,"$page",l),p=()=>ie(Ze,"$downloadEventHistorySetting",l),[l,n]=xe();let m=ce(r,"open",12,!1),_=ce(r,"namespace",8),y=ce(r,"workflowId",8),k=ce(r,"runId",8);const $=()=>{m(!1),gr({namespace:_(),workflowId:y(),runId:k(),settings:o().data.settings,decodeSetting:p()})};ke();{let S=T(()=>(i(t),a(()=>t("common.download")))),W=T(()=>(i(t),a(()=>t("common.cancel"))));Mt(u,{id:"download-history",large:!0,confirmType:"primary",get confirmText(){return e(S)},get cancelText(){return e(W)},get open(){return m()},set open(E){m(E)},$$events:{confirmModal:()=>$(),cancelModal:()=>m(!1)},$$slots:{title:(E,j)=>{var P=kr(),N=f(P,!0);v(P),x(F=>g(N,F),[()=>(i(t),a(()=>t("common.download-event-history-json")))]),s(E,P)},content:(E,j)=>{var P=wr(),N=f(P);Ot(N,{get group(){return Ze},name:"decode-setting",class:"h-auto overflow-auto",children:(J,B)=>{var d=xr(),C=ae(d);{let z=T(()=>(i(t),a(()=>t("events.encoded")))),w=T(()=>(i(t),a(()=>t("events.encoded-description"))));Ue(C,{id:"use-encoded-setting","data-testid":"use-encoded-setting-input",value:"encoded",get label(){return e(z)},get description(){return e(w)}})}var H=c(C,2);{let z=T(()=>(i(t),a(()=>t("events.decoded")))),w=T(()=>(i(t),a(()=>t("events.decoded-description"))));Ue(H,{id:"use-decoded-setting","data-testid":"use-decoded-setting-input",value:"decoded",get label(){return e(z)},get description(){return e(w)}})}var U=c(H,2);{let z=T(()=>(i(t),a(()=>t("events.readable")))),w=T(()=>(i(t),a(()=>t("events.readable-description"))));Ue(U,{id:"use-readable-setting","data-testid":"use-readable-setting-input",value:"readable",get label(){return e(z)},get description(){return e(w)}})}s(J,d)},$$slots:{default:!0}});var F=c(N,2);$r(F,{}),v(P),s(E,P)}},$$legacy:!0})}pe(),n()}const br=["WorkflowExecutionFailed","WorkflowExecutionCompleted","WorkflowExecutionContinuedAsNew","WorkflowExecutionTimedOut","WorkflowExecutionCanceled","WorkflowExecutionTerminated"],hr=u=>!!u.workflowExecutionStartedEventAttributes,yr=u=>{for(const r of br)if(u.eventType===r)return!0;return!1},Tr=u=>lt(u)?u.attributes.input:At(u)?u.attributes.result===null?null:u.attributes.result:u.attributes,Er=u=>{var m;let r,o,p=!1,l,n;for(const _ of u)if(hr(_)){l=_;continue}else if(yr(_)){n=_;continue}return l&&(r=Le(((m=l==null?void 0:l.workflowExecutionStartedEventAttributes)==null?void 0:m.input)??null)),n&&(p=lt(n),o=Le(Tr(n))),{input:r,results:o,contAsNew:p}};var Pr=h('<div class="flex flex-col gap-4 lg:flex-row" data-testid="input-and-result"><!> <!></div>');function Ma(u,r){me(r,!1);const o=()=>ie(st,"$fullEventHistory",l),p=()=>ie(Gt,"$workflowRun",l),[l,n]=xe(),m=_e(),_=_e();ge(()=>o(),()=>{fe(m,Er(o()))}),ge(()=>p(),()=>{fe(_,p().workflow.isRunning||p().workflow.isPaused)}),qe(),ke();var y=Pr(),k=f(y);{let S=T(()=>(i(t),a(()=>t("workflows.input"))));rt(k,{get title(){return e(S)},get content(){return e(m),a(()=>e(m).input)},get isPending(){return e(_)}})}var $=c(k,2);{let S=T(()=>(i(t),a(()=>t("workflows.result"))));rt($,{get title(){return e(S)},get content(){return e(m),a(()=>e(m).results)},get isPending(){return e(_)}})}v(y),s(u,y),pe(),n()}var Cr=h('<div><button class="focus-visible:outline-interactive w-full cursor-pointer hover:bg-interactive-secondary-hover" type="button"><div class="flex w-full flex-row items-center justify-between gap-2 pr-4"><!> <!> <div class="flex items-center gap-4"><!> <!></div></div></button> <div><!></div></div>');function Ir(u,r){const o=Xe(r,["children","$$slots","$$events","$$legacy"]),p=Xe(o,["id","open","onToggle","icon"]);me(r,!1);let l=ce(r,"id",24,()=>crypto.randomUUID()),n=ce(r,"open",12,!1),m=ce(r,"onToggle",8,void 0),_=ce(r,"icon",8,void 0);const y=async()=>{m()&&await m()(),n(!n())};ke();var k=Cr(),$=f(k),S=f($),W=f(S);Pe(W,r,"title",{},null);var E=c(W,2);Pe(E,r,"description",{},null);var j=c(E,2),P=f(j);Pe(P,r,"action",{},null);var N=c(P,2);{let d=T(()=>_()?_():n()?"arrow-down":"arrow-right");Je(N,{get name(){return e(d)}})}v(j),v(S),v($);var F=c($,2);let J;var B=f(F);Pe(B,r,"default",{get open(){return n()}},null),v(F),v(k),x(()=>{ze(k,1,`w-full ${i(p),a(()=>p.class)??""}`),Ee($,"id",`${l()??""}-trigger`),Ee($,"aria-expanded",n()),Ee($,"aria-controls",`${l()??""}-content`),Ee(F,"id",`${l()??""}-content`),Ee(F,"aria-labelledby",`${l()??""}-trigger`),J=ze(F,1,"block w-full bg-primary p-2",null,J,{hidden:!n()})}),bt("click",$,y),s(u,k),pe()}var Ar=h("<!> <!>",1),Sr=h("<!> <!>",1),Wr=h('<p class="flex items-center gap-2"> <!></p>'),Fr=h('<p class="flex items-center gap-2"> <!></p>'),Hr=h('<p class="flex items-center gap-2"> <!></p>'),Rr=h('<p class="flex items-center gap-2"> <!></p>'),jr=h('<p class="flex items-center gap-2"> <!></p>'),Mr=h('<div class="flex flex-col gap-2"><p> </p> <!></div>'),Or=h('<div class="flex flex-col gap-2 pt-2"><!> <div class="flex flex-col items-start gap-2 md:flex-row md:items-center"><p class="flex items-center gap-2"> <!></p> <!> <!> <!></div> <!> <!> <!></div> <!>',1);function ot(u,r){me(r,!0);const o=()=>ie(it,"$timestamp",p),[p,l]=xe();var n,m,_,y;const k=V(()=>o()(r.callback.lastAttemptCompleteTime)),$=V(()=>o()(r.callback.nextAttemptScheduleTime)),S=V(()=>(n=r.callback===null||r.callback===void 0?void 0:r.callback.lastAttemptFailure)===null||n===void 0?void 0:n.message),W=V(()=>r.callback===null||r.callback===void 0?void 0:r.callback.blockedReason),E=V(()=>(_=(m=r.callback===null||r.callback===void 0?void 0:r.callback.callback)===null||m===void 0?void 0:m.nexus)===null||_===void 0?void 0:_.url),j={Standby:t("nexus.callback.standby"),Scheduled:t("nexus.callback.scheduled"),"Backing Off":t("nexus.callback.backing-off"),Failed:t("nexus.callback.failed"),Succeeded:t("nexus.callback.succeeded")},P="Failed",N=V(()=>r.callback.state===P),F=V(()=>j[r.callback.state]||t("nexus.nexus-callback")),J=V(()=>((y=r.callback===null||r.callback===void 0?void 0:r.callback.callback)===null||y===void 0?void 0:y.links)||[]),B=V(()=>!e(J).length&&!r.link&&e(E));{let d=V(()=>e(N)?"error":"info");ct(u,{icon:"nexus",get intent(){return e(d)},get title(){return e(F)},children:(C,H)=>{var U=Or(),z=ae(U),w=f(z);{var K=b=>{var I=we(),O=ae(I);Ge(O,19,()=>e(J),(Z,A)=>{var se,X,he,ye;return((X=(se=Z.workflowEvent)==null?void 0:se.eventRef)==null?void 0:X.eventId)||((ye=(he=Z.workflowEvent)==null?void 0:he.requestIdRef)==null?void 0:ye.requestId)||A},(Z,A,se,X)=>{var he=Ar(),ye=ae(he);je(ye,{get link(){return e(A)}});var gt=c(ye,2);{let _t=V(()=>t("nexus.link-namespace")),$t=V(()=>tt({namespace:e(A).workflowEvent.namespace}));je(gt,{get link(){return e(A)},get label(){return e(_t)},get value(){return e(A).workflowEvent.namespace},get href(){return e($t)}})}s(Z,he)}),s(b,I)},R=b=>{var I=Sr(),O=ae(I);je(O,{get link(){return r.link}});var Z=c(O,2);{let A=V(()=>t("nexus.link-namespace")),se=V(()=>tt({namespace:r.link.workflowEvent.namespace}));je(Z,{get link(){return r.link},get label(){return e(A)},get value(){return r.link.workflowEvent.namespace},get href(){return e(se)}})}s(b,I)};Q(w,b=>{e(J).length?b(K):r.link&&b(R,1)})}var D=c(w,2),le=f(D),de=f(le,!0),be=c(de);ue(be,{type:"subtle",children:(b,I)=>{ee();var O=re();x(()=>g(O,r.callback.state)),s(b,O)},$$slots:{default:!0}}),v(le);var L=c(le,2);{var Y=b=>{var I=Wr(),O=f(I),Z=c(O);ue(Z,{type:"subtle",children:(A,se)=>{ee();var X=re();x(()=>g(X,r.callback.attempt)),s(A,X)},$$slots:{default:!0}}),v(I),x(A=>g(O,`${A??""} `),[()=>t("common.attempt")]),s(b,I)};Q(L,b=>{r.callback.attempt&&b(Y)})}var ve=c(L,2);{var oe=b=>{var I=Fr(),O=f(I),Z=c(O);ue(Z,{type:"subtle",children:(A,se)=>{ee();var X=re();x(()=>g(X,e(k))),s(A,X)},$$slots:{default:!0}}),v(I),x(A=>g(O,`${A??""} `),[()=>t("nexus.last-attempt-completed-time")]),s(b,I)};Q(ve,b=>{r.callback.lastAttemptCompleteTime&&b(oe)})}var M=c(ve,2);{var ne=b=>{var I=Hr(),O=f(I),Z=c(O);ue(Z,{type:"subtle",children:(A,se)=>{ee();var X=re();x(()=>g(X,e($))),s(A,X)},$$slots:{default:!0}}),v(I),x(A=>g(O,`${A??""} `),[()=>t("nexus.next-attempt-scheduled-time")]),s(b,I)};Q(M,b=>{r.callback.nextAttemptScheduleTime&&b(ne)})}v(D);var te=c(D,2);{var G=b=>{var I=Rr(),O=f(I),Z=c(O);ue(Z,{type:"subtle",children:(A,se)=>{ee();var X=re();x(()=>g(X,e(E))),s(A,X)},$$slots:{default:!0}}),v(I),x(A=>g(O,`${A??""} `),[()=>t("nexus.callback-url")]),s(b,I)};Q(te,b=>{e(B)&&b(G)})}var q=c(te,2);{var Ae=b=>{var I=jr(),O=f(I),Z=c(O);ue(Z,{type:"subtle",children:(A,se)=>{ee();var X=re();x(()=>g(X,e(W))),s(A,X)},$$slots:{default:!0}}),v(I),x(A=>g(O,`${A??""} `),[()=>t("nexus.blocked-reason")]),s(b,I)};Q(q,b=>{e(W)&&b(Ae)})}var Ve=c(q,2);{var mt=b=>{var I=Mr(),O=f(I),Z=f(O,!0);v(O);var A=c(O,2);{let se=V(()=>t("common.copy-icon-title")),X=V(()=>t("common.copy-success-icon-title"));Me(A,{get content(){return e(S)},language:"text",get copyIconTitle(){return e(se)},get copySuccessIconTitle(){return e(X)}})}v(I),x(se=>g(Z,se),[()=>t("nexus.last-attempt-failure")]),s(b,I)};Q(Ve,b=>{e(S)&&b(mt)})}v(z);var pt=c(z,2);kt(pt,()=>r.children??xt),x(b=>g(de,b),[()=>t("common.state")]),s(C,U)},$$slots:{default:!0}})}pe(),l()}var Vr=h('<div class="flex flex-col gap-2"></div>'),Br=h('<p class="p-1" slot="title"> </p>'),Nr=h('<div class="py-2"><!></div>');function Oa(u,r){me(r,!0);const o=()=>ie(st,"$fullEventHistory",p),[p,l]=xe();var n;const m=V(()=>o()[0]),_=V(()=>(n=e(m)===null||e(m)===void 0?void 0:e(m).links)===null||n===void 0?void 0:n[0]),y=V(()=>r.callbacks[0]);ot(u,{get callback(){return e(y)},get link(){return e(_)},children:(k,$)=>{var S=we(),W=ae(S);{var E=j=>{var P=Nr(),N=f(P);Ir(N,{children:wt,$$slots:{default:(F,J)=>{const B=V(()=>J.open);var d=we(),C=ae(d);{var H=U=>{var z=Vr();Ge(z,21,()=>r.callbacks.slice(1),nt,(w,K)=>{ot(w,{get callback(){return e(K)}})}),v(z),s(U,z)};Q(C,U=>{e(B)&&U(H)})}s(F,d)},title:(F,J)=>{var B=Br(),d=f(B);v(B),x(()=>g(d,`View ${r.callbacks.length-1} other Callbacks`)),s(F,B)}}}),v(P),s(j,P)};Q(W,j=>{r.callbacks.length>1&&j(E)})}s(k,S)},$$slots:{default:!0}}),pe(),l()}export{ja as D,Ha as E,Ma as I,Ra as W,Oa as a,Qe as b,Wa as c,Ce as d,Fa as s};
