import"./Bzak7iHL.js";import{p as ze,h as Ne,f as Ae,e as a,b as Qe,t as le,i as ke,c as rt,r as _e,j as u,o as Oe,g as e,u as f,n as ot,k as v,ah as ut,s as Ze}from"./DOHD4F2H.js";import{e as ge,s as d,d as mt}from"./iKtCZmbp.js";import{i as o}from"./4jpKiR-7.js";import{p as S,s as Ye,a as se,c as Je}from"./CgvkIcHY.js";import{p as vt}from"./DS9hBXyM.js";import{W as dt}from"./BLj37aqX.js";import{B as wt}from"./DNNN8brD.js";import{i as bt,w as yt,c as kt}from"./C3UEgiin.js";import{f as ye,r as _t,t as gt}from"./BDFbSVAj.js";import{S as Ue}from"./S6Q2Q0ub.js";import{i as ht}from"./Dzb719w0.js";import{k as xt}from"./D1mJS6mY.js";import{g as Tt}from"./CT3a8W8Y.js";import{c as Pe,h as pt}from"./DQobSnL1.js";import{p as Bt}from"./C6JG7A5u.js";import"./69_IOA4Y.js";import{k as It}from"./CcfqsO14.js";import{c as Ft,s as Xe}from"./BhNSfKsb.js";import{p as $e,s as et}from"./Bfc47y5P.js";import{i as Dt,t as St}from"./DX2YhGcN.js";import{I as tt}from"./DfISgQpk.js";import{c as Vt}from"./tJ49ORiz.js";import{L as Ct}from"./B6JXPdLj.js";import{t as qe}from"./BXv1jDVW.js";import{w as He}from"./oWaSjUsw.js";import{u as Wt}from"./Nz0v1umB.js";import{s as Ot}from"./BDfAQ6r3.js";const At=(g,t=2)=>{if(!+g)return"0 Bytes";const w=1024,O=t<0?0:t,m=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],h=Math.floor(Math.log(g)/Math.log(w));return`${parseFloat((g/Math.pow(w,h)).toFixed(O))} ${m[h]}`};var Et=le('<button id="filter-button"><!></button>'),jt=le('<button class="copy-or-filter-button svelte-qwjj97" id="copy-button"><!></button>'),Rt=le("<div><!> <!></div>");function Mt(g,t){ze(t,!1);const[w,O]=Ye(),m=()=>se(ce,"$copied",w);let h=S(t,"show",8,!1),M=S(t,"filterable",8,!0),r=S(t,"copyable",8,!0),x=S(t,"content",8),b=S(t,"onFilter",8,()=>{}),L=S(t,"filtered",8,!1),N=S(t,"copyIconTitle",8),ie=S(t,"copySuccessIconTitle",8),K=S(t,"filterIconTitle",8),ne=S(t,"class",8,"");const{copy:fe,copied:ce}=Vt();Dt();var i=Ne(),s=Ae(i);{var F=V=>{var P=Rt(),y=ke(P);{var A=l=>{var c=Et();let C;var U=ke(c);It(U,L,n=>{tt(n,{get title(){return K()},name:"filter",class:"m-1"})}),_e(c),u(n=>C=Xe(c,1,"copy-or-filter-button svelte-qwjj97",null,C,n),[()=>({filtered:L()})],Oe),ge("click",c,$e(et(function(...n){var T;(T=b())==null||T.apply(this,n)}))),a(l,c)};o(y,l=>{M()&&l(A)})}var ue=rt(y,2);{var me=l=>{var c=jt(),C=ke(c);const U=Oe(()=>m()?ie():N()),n=Oe(()=>m()?"checkmark":"copy");tt(C,{get title(){return e(U)},get name(){return e(n)},class:"m-1"}),_e(c),ge("click",c,$e(et(T=>fe(T,x())))),a(l,c)};o(ue,l=>{r()&&l(me)})}_e(P),u(l=>Xe(P,1,l,"svelte-qwjj97"),[()=>Ft(St("copy-or-filter",ne()))],Oe),a(V,P)};o(s,V=>{h()&&V(F)})}a(g,i),Qe(),O()}var Lt=le("<!> <!>",1);function Y(g,t){ze(t,!0);const[w,O]=Ye(),m=()=>se(He,"$workflowFilters",w),h=()=>se(Bt,"$page",w);let M=S(t,"filterOrCopyButtonsVisible",3,!1);const r=()=>{const i=m().find(F=>F.attribute===t.attribute),s=()=>m().filter(F=>F.attribute!==t.attribute);if(!i||i.value!==t.value){const F={attribute:t.attribute,type:Ue.KEYWORD,value:t.value,conditional:"=",operator:"",parenthesis:""};Je(He,[...s(),F])}else Je(He,[...s()]);Wt(h().url,m())};var x=Lt(),b=Ae(x);{var L=i=>{Ct(i,{get href(){return t.href},children:(s,F)=>{ot();var V=v();u(()=>d(V,t.value)),a(s,V)},$$slots:{default:!0}})},N=i=>{var s=v();u(()=>d(s,t.value)),a(i,s)};o(b,i=>{t.href?i(L):i(N,!1)})}var ie=rt(b,2);const K=f(()=>qe("common.copy-icon-title")),ne=f(()=>qe("common.copy-success-icon-title")),fe=f(()=>qe("common.filter-workflows")),ce=f(()=>m().some(i=>i.attribute===t.attribute&&i.value===t.value));Mt(ie,{get copyIconTitle(){return e(K)},get copySuccessIconTitle(){return e(ne)},get filterIconTitle(){return e(fe)},get show(){return M()},get content(){return t.value},onFilter:r,get filtered(){return e(ce)}}),a(g,x),Qe(),O()}const Pt=(g,t)=>{const w=g.relatedTarget;w&&!["filter-button","copy-button"].includes(w.id)&&t()};var qt=le('<td class="workflows-summary-table-body-cell filterable svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>'),Ht=le('<td class="workflows-summary-table-body-cell svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>');function kr(g,t){ze(t,!0);const[w,O]=Ye(),m=()=>se(gt,"$timeFormat",w),h=()=>se(_t,"$relativeTime",w),M=()=>se(kt,"$customSearchAttributes",w),r=f(()=>t.column.label),x=f(()=>vt.params.namespace);let b=ut(!1);const L=()=>Ze(b,!0),N=()=>Ze(b,!1),ie=["Type","Workflow ID","Run ID","Deployment","Versioning Behavior","Deployment Version","Build ID"];var K=Ne(),ne=Ae(K);{var fe=i=>{var s=qt();s.__mouseover=L,s.__focusin=L,s.__focusout=[Pt,N];var F=ke(s);{var V=y=>{const A=f(()=>Pe({namespace:e(x),workflow:t.workflow.id,run:t.workflow.runId}));Y(y,{get filterOrCopyButtonsVisible(){return e(b)},attribute:"WorkflowType",get value(){return t.workflow.name},get href(){return e(A)}})},P=(y,A)=>{{var ue=l=>{const c=f(()=>Pe({namespace:e(x),workflow:t.workflow.id,run:t.workflow.runId}));Y(l,{get filterOrCopyButtonsVisible(){return e(b)},attribute:"WorkflowId",get value(){return t.workflow.id},get href(){return e(c)}})},me=(l,c)=>{{var C=n=>{const T=f(()=>Pe({namespace:e(x),workflow:t.workflow.id,run:t.workflow.runId}));Y(n,{get filterOrCopyButtonsVisible(){return e(b)},attribute:"RunId",get value(){return t.workflow.runId},get href(){return e(T)}})},U=(n,T)=>{{var ve=p=>{const D=f(()=>{var k,B;return(B=(k=t.workflow.searchAttributes)==null?void 0:k.indexedFields)==null?void 0:B.TemporalWorkerDeployment}),de=f(()=>e(D)&&typeof e(D)=="string"?e(D):""),we=f(()=>pt({namespace:e(x),deployment:e(D)}));Y(p,{get filterOrCopyButtonsVisible(){return e(b)},attribute:"TemporalWorkerDeployment",get value(){return e(de)},get href(){return e(we)}})},Ee=(p,D)=>{{var de=k=>{const B=f(()=>{var G,_;return(_=(G=t.workflow.searchAttributes)==null?void 0:G.indexedFields)==null?void 0:_.TemporalWorkerDeploymentVersion}),q=f(()=>e(B)&&typeof e(B)=="string"?e(B):"");Y(k,{get filterOrCopyButtonsVisible(){return e(b)},attribute:"TemporalWorkerDeploymentVersion",get value(){return e(q)}})},we=(k,B)=>{{var q=_=>{const W=f(()=>{var H,I,E,j,Q;return((E=(I=(H=t.workflow)==null?void 0:H.searchAttributes)==null?void 0:I.indexedFields)==null?void 0:E.TemporalWorkerBuildId)||Tt((Q=(j=t.workflow.searchAttributes)==null?void 0:j.indexedFields)==null?void 0:Q.TemporalWorkerDeploymentVersion)}),z=f(()=>e(W)&&typeof e(W)=="string"?e(W):"");Y(_,{get filterOrCopyButtonsVisible(){return e(b)},attribute:"TemporalWorkerBuildId",get value(){return e(z)}})},G=(_,W)=>{{var z=H=>{const I=f(()=>{var j,Q;return(Q=(j=t.workflow.searchAttributes)==null?void 0:j.indexedFields)==null?void 0:Q.TemporalWorkflowVersioningBehavior}),E=f(()=>e(I)&&typeof e(I)=="string"?e(I):"");Y(H,{get filterOrCopyButtonsVisible(){return e(b)},attribute:"TemporalWorkflowVersioningBehavior",get value(){return e(E)}})};o(_,H=>{e(r)==="Versioning Behavior"&&H(z)},W)}};o(k,_=>{e(r)==="Build ID"?_(q):_(G,!1)},B)}};o(p,k=>{e(r)==="Deployment Version"?k(de):k(we,!1)},D)}};o(n,p=>{e(r)==="Deployment"?p(ve):p(Ee,!1)},T)}};o(l,n=>{e(r)==="Run ID"?n(C):n(U,!1)},c)}};o(y,l=>{e(r)==="Workflow ID"?l(ue):l(me,!1)},A)}};o(F,y=>{e(r)==="Type"?y(V):y(P,!1)})}_e(s),ge("focus",s,L),ge("mouseleave",s,N),ge("blur",s,N),a(i,s)},ce=i=>{var s=Ht(),F=ke(s);{var V=y=>{const A=f(()=>ht(t.workflow));dt(y,{get status(){return t.workflow.status},get delayed(){return e(A)}})},P=(y,A)=>{{var ue=l=>{var c=v();u(C=>d(c,C),[()=>ye(t.workflow.endTime,m(),{relative:h()})]),a(l,c)},me=(l,c)=>{{var C=n=>{var T=v();u(ve=>d(T,ve),[()=>ye(t.workflow.startTime,m(),{relative:h()})]),a(n,T)},U=(n,T)=>{{var ve=p=>{var D=v();u(()=>d(D,t.workflow.taskQueue)),a(p,D)},Ee=(p,D)=>{{var de=k=>{var B=v();u(()=>{var q;return d(B,((q=t.workflow)==null?void 0:q.parentNamespaceId)??"")}),a(k,B)},we=(k,B)=>{{var q=_=>{var W=v();u(z=>d(W,z),[()=>At(parseInt(t.workflow.historySizeBytes,10))]),a(_,W)},G=(_,W)=>{{var z=I=>{var E=v();u(j=>d(E,j),[()=>parseInt(t.workflow.stateTransitionCount,10)>0?t.workflow.stateTransitionCount:""]),a(I,E)},H=(I,E)=>{{var j=Z=>{var he=v();u(je=>d(he,je),[()=>ye(t.workflow.executionTime,m(),{relative:h()})]),a(Z,he)},Q=(Z,he)=>{{var je=J=>{var xe=v();u(Re=>d(xe,Re),[()=>xt({start:t.workflow.startTime,end:t.workflow.endTime,includeMillisecondsForUnderSecond:!0})]),a(J,xe)},at=(J,xe)=>{{var Re=X=>{var Te=v();u(Me=>d(Te,Me),[()=>parseInt(t.workflow.historyEvents,10)>0?t.workflow.historyEvents:""]),a(X,Te)},st=(X,Te)=>{{var Me=$=>{var pe=v();u(()=>{var Be,Ie;return d(pe,((Ie=(Be=t.workflow.searchAttributes)==null?void 0:Be.indexedFields)==null?void 0:Ie.TemporalScheduledById)??"")}),a($,pe)},lt=($,pe)=>{{var Be=ee=>{var Fe=v();const be=f(()=>{var te,R;return(R=(te=t.workflow.searchAttributes)==null?void 0:te.indexedFields)==null?void 0:R.TemporalScheduledStartTime});u(te=>d(Fe,te),[()=>e(be)&&typeof e(be)=="string"?ye(e(be),m(),{relative:h()}):""]),a(ee,Fe)},Ie=(ee,Fe)=>{{var be=R=>{var De=v();u(()=>{var Se,re;return d(De,(re=(Se=t.workflow.searchAttributes)==null?void 0:Se.indexedFields)==null?void 0:re.TemporalChangeVersion)}),a(R,De)},te=(R,De)=>{{var Se=re=>{var Ke=Ne();const Ve=f(()=>t.workflow.searchAttributes.indexedFields[e(r)]);var it=Ae(Ke);{var nt=oe=>{var Ce=v();u(Le=>d(Ce,Le),[()=>ye(e(Ve),m(),{relative:h()})]),a(oe,Ce)},ft=(oe,Ce)=>{{var Le=ae=>{wt(ae,{children:(We,Nt)=>{ot();var Ge=v();u(()=>d(Ge,e(Ve))),a(We,Ge)},$$slots:{default:!0}})},ct=ae=>{var We=v();u(()=>d(We,e(Ve))),a(ae,We)};o(oe,ae=>{M()[e(r)]===Ue.BOOL?ae(Le):ae(ct,!1)},Ce)}};o(it,oe=>{M()[e(r)]===Ue.DATETIME&&typeof e(Ve)=="string"?oe(nt):oe(ft,!1)})}a(re,Ke)};o(R,re=>{bt(e(r))&&yt(t.workflow,e(r))&&re(Se)},De)}};o(ee,R=>{e(r)==="Change Version"?R(be):R(te,!1)},Fe)}};o($,ee=>{e(r)==="Scheduled Start Time"?ee(Be):ee(Ie,!1)},pe)}};o(X,$=>{e(r)==="Scheduled By ID"?$(Me):$(lt,!1)},Te)}};o(J,X=>{e(r)==="History Length"?X(Re):X(st,!1)},xe)}};o(Z,J=>{e(r)==="Execution Duration"?J(je):J(at,!1)},he)}};o(I,Z=>{e(r)==="Execution Time"?Z(j):Z(Q,!1)},E)}};o(_,I=>{e(r)==="State Transitions"?I(z):I(H,!1)},W)}};o(k,_=>{e(r)==="History Size"?_(q):_(G,!1)},B)}};o(p,k=>{e(r)==="Parent Namespace"?k(de):k(we,!1)},D)}};o(n,p=>{e(r)==="Task Queue"?p(ve):p(Ee,!1)},T)}};o(l,n=>{e(r)==="Start"?n(C):n(U,!1)},c)}};o(y,l=>{e(r)==="End"?l(ue):l(me,!1)},A)}};o(F,y=>{e(r)==="Status"?y(V):y(P,!1)})}_e(s),a(i,s)};o(ne,i=>{ie.includes(e(r))?i(fe):i(ce,!1)})}a(g,K),Qe(),O()}mt(["mouseover","focusin","focusout"]);const _r=(g,t)=>{const w=Ot({workflows:g},null,2),O=`workflows-${g.length}-${t}-${Date.now()}.json`;m(w,O,"text/plain");function m(h,M,r){const x=document.createElement("a"),b=new Blob([h],{type:r});x.href=URL.createObjectURL(b),x.download=M,x.click()}};export{kr as T,_r as e};
