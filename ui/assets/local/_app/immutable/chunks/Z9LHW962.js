import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as ae,l as ne,s as se,m as re,M as e,a as ie,f as F,j as k,h as _,r as y,t as h,I as l,e as v,g as T,o as N,i as oe,c as le,b as de,k as j}from"./DPYmeJXN.js";import{s as O}from"./DtOlEDQN.js";import{i as m}from"./DqIiO-ir.js";import{t as ce,f as fe}from"./DEtyaa-H.js";import{s as ue}from"./DaRGTSNt.js";import{c as C,s as S}from"./BuyG_Alt.js";import{i as pe,t as r}from"./VvTteBni.js";import{l as ge,p}from"./BkgVXhYA.js";import{c as ve}from"./Bn2mFndZ.js";import{S as me,I as z}from"./AOc3ct3q.js";import{T as _e}from"./DY9wv1RX.js";import{t as a}from"./DEjs8ZrU.js";import{H as we}from"./H3yH0E-i.js";var be=F("<span><!></span>"),xe=F("<span><!></span>"),ke=F("<span><!> </span>"),ye=F("<div><span><!> <!></span> <!> <!> <!></div>");function We(B,o){const A=ge(o,["children","$$slots","$$events","$$legacy"]);ae(o,!1);const H=re();let D=p(o,"delay",8,0),w=p(o,"status",8,"Running"),P=p(o,"count",8,void 0),E=p(o,"loading",8,!1),d=p(o,"newCount",8,void 0),s=p(o,"big",8,!1),g=p(o,"delayed",8,!1),c=p(o,"taskFailure",8,!1);const G={Running:a("workflows.running"),TimedOut:a("workflows.timed-out"),Completed:a("workflows.completed"),Failed:a("workflows.failed"),ContinuedAsNew:a("workflows.continued-as-new"),Canceled:a("workflows.canceled"),Terminated:a("workflows.terminated"),Paused:a("workflows.paused"),Scheduled:a("events.event-classification.scheduled"),Started:a("events.event-classification.started"),Unspecified:a("events.event-classification.unspecified"),Open:a("events.event-classification.open"),New:a("events.event-classification.new"),Initiated:a("events.event-classification.initiated"),Fired:a("events.event-classification.fired"),CancelRequested:a("events.event-classification.cancelrequested"),Signaled:a("events.event-classification.signaled"),Pending:a("events.event-classification.pending"),Retrying:a("events.event-classification.retrying")},I=ve(["flex items-center rounded-sm px-1 py-0.5 h-5 whitespace-nowrap text-black gap-1 font-medium"],{variants:{status:{Running:"bg-blue-300",TimedOut:"bg-orange-200",Completed:"bg-green-200",Failed:"bg-red-200",ContinuedAsNew:"bg-purple-200",Canceled:"bg-slate-100",Terminated:"bg-yellow-200",Paused:"bg-yellow-200",Unspecified:"bg-slate-100",Scheduled:"bg-blue-300",Started:"bg-blue-300",Open:"bg-green-200",New:"bg-blue-300",Initiated:"bg-blue-300",Fired:"bg-pink-200",CancelRequested:"bg-yellow-200",Signaled:"bg-pink-200",Pending:"bg-purple-200",Retrying:"bg-red-200"}}});ne(()=>(e(g()),e(c())),()=>{se(H,g()?a("workflows.delayed"):c()?a("workflows.task-failure"):"")}),ie(),pe();{let J=N(()=>!g()&&!c());_e(B,{topLeft:!0,get text(){return T(H)},get hide(){return T(J)},class:"block",children:(K,he)=>{var b=ye(),R=k(b),L=k(R);{var Q=t=>{me(t,{class:"h-4 w-4 animate-spin"})},V=t=>{var n=oe(),f=le(n);{var i=x=>{var u=j();h(q=>O(u,q),[()=>(e(P()),l(()=>P().toLocaleString()))]),v(x,u)};m(f,x=>{P()>=0&&x(i)},!0)}v(t,n)};m(L,t=>{E()?t(Q):t(V,!1)})}var M=_(L),X=_(M);{var Y=t=>{we(t,{get delay(){return D()}})};m(X,t=>{w()==="Running"&&!g()&&!c()&&t(Y)})}y(R);var U=_(R,2);{var Z=t=>{var n=be(),f=k(n);{let i=N(()=>(e(r),e(s()),l(()=>r(!s()&&"px-0.5"))));z(f,{name:"clock",get class(){return T(i)}})}y(n),h(i=>S(n,1,i),[()=>C((e(r),e(d()),e(c()),e(s()),l(()=>r(I({status:"Paused"}),"rounded-l-none",(d()||c())&&"rounded-r-none",s()&&"h-8 px-2"))))]),v(t,n)};m(U,t=>{g()&&t(Z)})}var W=_(U,2);{var $=t=>{var n=xe(),f=k(n);{let i=N(()=>(e(r),e(s()),l(()=>r(!s()&&"px-0.5"))));z(f,{name:"exclamation-octagon",get class(){return T(i)}})}y(n),h(i=>S(n,1,i),[()=>C((e(r),e(d()),e(s()),l(()=>r(I(),"bg-red-200 text-red-900 dark:bg-red-700 dark:text-white","rounded-l-none",d()&&"rounded-r-none",s()&&"h-8 px-2"))))]),v(t,n)};m(W,t=>{c()&&t($)})}var ee=_(W,2);{var te=t=>{var n=ke(),f=k(n);{var i=u=>{var q=j("+");v(u,q)};m(f,u=>{d()>0&&u(i)})}var x=_(f,1,!0);y(n),h(u=>{S(n,1,u),O(x,d())},[()=>C((e(r),e(s()),l(()=>r("font-base surface-primary rounded-r-sm px-1 py-0.5",s()&&"px-2"))))]),ce(1,n,()=>fe),v(t,n)};m(ee,t=>{d()&&t(te)})}y(b),h((t,n)=>{S(b,1,t),ue(b,"data-testid",(e(A),l(()=>A["test-id"]||"workflow-status"))),S(R,1,n),O(M,` ${e(w()),l(()=>G[w()])??""} `)},[()=>C((e(r),e(s()),l(()=>r("relative flex items-center gap-0 text-center text-xs leading-4",s()&&"text-lg")))),()=>C((e(r),e(w()),e(d()),e(g()),e(c()),e(s()),l(()=>r(I({status:w()}),(d()||g()||c())&&"rounded-r-none",s()&&"h-8 px-4"))))]),v(K,b)},$$slots:{default:!0}})}de()}export{We as W};
