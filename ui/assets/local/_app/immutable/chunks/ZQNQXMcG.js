import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as fe,aP as Ee,l as me,ah as ve,a as ge,f as v,c as j,t as ue,d as h,g as t,e as _e,r as pe,b as be,as as Le,m as A,s as q}from"./DYX0w8bX.js";import{t as G,c as E,a as c}from"./Bz76f8pg.js";import{s as L}from"./CFGOF_JX.js";import{b as Oe}from"./BqHg6EHm.js";import{i as xe}from"./CZRFLhJG.js";import{l as X,p as a}from"./BrXzBH3h.js";import{b as ne,a as B,s as he}from"./CgU0heln.js";import{w as F,o as Ce,c as Se,a as we}from"./DsexP6Wk.js";import"./CJodUPR_.js";import{M as Ve,a as He,d as Te}from"./CVp5ZAzm.js";import{s as ze}from"./CxFVcq4O.js";import{i as W}from"./B_BuKjdB.js";import{k as De}from"./BADwFS2C.js";import{r as Ne,b as je,C as Ae}from"./BoNO6UAY.js";import{I as re}from"./BSNuev1h.js";import{L as Fe}from"./WwDu3wGH.js";import{M as We}from"./51Yb6WGu.js";import{t as Xe}from"./Ds6tgvmq.js";const $e="select-context";var Be=G("<input> <!>",1),Ge=G('<span class="text-xs text-danger"> </span>'),Je=G("<!> <!> <!> <!>",1);function gt(J,e){const K=X(e,["children","$$slots","$$events","$$legacy"]),O=X(K,["label","labelHidden","id","value","placeholder","disabled","loading","leadingIcon","onChange","menuClass","variant","required","error","valid"]);fe(e,!1);const[C,Q]=he(),$=()=>B(d,"$labelCtx",C),P=()=>B(r,"$optionsCtx",C);let R=a(e,"label",8),U=a(e,"labelHidden",8,!1),g=a(e,"id",8),s=a(e,"value",12,void 0),i=a(e,"placeholder",8,""),_=a(e,"disabled",8,!1),S=a(e,"loading",8,!1),w=a(e,"leadingIcon",8,null),V=a(e,"onChange",8,()=>{}),u=a(e,"menuClass",8,void 0),o=a(e,"variant",8,"secondary"),y=a(e,"required",8,!1),p=a(e,"error",8,""),H=a(e,"valid",8,!0);const T=F(s()),r=F([]),d=F(s()===null||s()===void 0?void 0:s().toString()),l=F(!1);function f(){ne(T,s()),ne(d,oe(s()))}const Y=k=>{s(k),V()(s())};function oe(k){const Z=P().find(z=>z.value===k);return Z!==void 0?Z.label:""}Ee($e,{selectValue:T,selectLabel:d,options:r,open:l,handleChange:Y}),Ce(()=>{ne(d,oe(s()))}),me(()=>ve(s()),()=>{s(),f()}),ge(),xe(),Ve(J,{class:"w-full",open:l,children:(k,Z)=>{var z=Je(),ie=v(z);Fe(ie,{class:"pb-1",get label(){return R()},get hidden(){return U()},get for(){return g()},get required(){return y()}});var de=j(ie,2);De(de,$,m=>{const b=h(()=>Xe("w-full",H()?void 0:"border-danger")),x=h(()=>!_()),ee=h(()=>_()||S()),ke=h(()=>`${O["data-testid"]??""}-button`);We(m,{get class(){return t(b)},get hasIndicator(){return t(x)},get disabled(){return t(ee)},get controls(){return`${g()??""}-select`},get variant(){return o()},get"data-testid"(){return t(ke)},children:(te,Ie)=>{var I=Be(),M=v(I);Ne(M);let D;var N=j(M,2);{var ae=n=>{re(n,{slot:"trailing",name:"lock"})},se=(n,Me)=>{{var qe=le=>{re(le,{name:"spinner",class:"animate-spin"})};W(n,le=>{S()&&le(qe)},Me)}};W(N,n=>{_()?n(ae):n(se,!1)})}ue(n=>D=je(M,D,{id:g(),value:!s()&&i()!==""?i():$(),tabindex:"-1",disabled:!0,required:y(),"aria-required":y(),...O,[Ae]:n},"svelte-1j0yr8e"),[()=>({disabled:_()})],h),c(te,I)},$$slots:{default:!0,leading:(te,Ie)=>{var I=E(),M=v(I);L(M,e,"leading",{},D=>{var N=E(),ae=v(N);{var se=n=>{re(n,{get name(){return w()}})};W(ae,n=>{w()&&n(se)})}c(D,N)}),c(te,I)}}})});var ce=j(de,2);He(ce,{role:"listbox",get id(){return`${g()??""}-select`},get class(){return u()},children:(m,b)=>{var x=E(),ee=v(x);L(ee,e,"default",{},null),c(m,x)},$$slots:{default:!0}});var Pe=j(ce,2);{var ye=m=>{var b=Ge(),x=_e(b,!0);pe(b),ue(()=>ze(x,p())),c(m,b)};W(Pe,m=>{p()&&!H()&&m(ye)})}c(k,z)},$$slots:{default:!0}}),be(),Q()}var Ke=G("<span><!></span>");function _t(J,e){const K=X(e,["children","$$slots","$$events","$$legacy"]),O=X(K,["value","description","disabled","class"]);fe(e,!1);const[C,Q]=he(),$=()=>B(R,"$selectValue",C),P=()=>B(g,"$options",C),{selectValue:R,handleChange:U,options:g}=Le($e),s=Se();let i=a(e,"value",8),_=a(e,"description",8,""),S=a(e,"disabled",8,!1),w=a(e,"class",8,""),V=A(!1),u=A(),o=A(),y,p=A();Ce(()=>{t(o)&&(q(p,t(o).textContent),P().push({value:i(),label:t(p),nativeElement:y}))}),we(()=>{let r=P().findIndex(d=>d.value===i());r!==void 0&&P().splice(r,1)});const H=()=>{U(t(u)),s("click",{value:t(u)})};me(()=>(t(o),t(u),ve(i()),$()),()=>{t(o)&&(q(u,i()!==null&&i()!==void 0?i():t(o).textContent),q(V,$()===t(u)),q(p,t(o).textContent))}),ge(),xe();const T=h(()=>O["data-testid"]??"");Te(J,{role:"option",get selected(){return t(V)},get description(){return _()},get disabled(){return S()},get class(){return w()},get"data-testid"(){return t(T)},$$events:{click:H},children:(r,d)=>{var l=Ke(),f=_e(l);L(f,e,"default",{},null),pe(l),Oe(l,Y=>q(o,Y),()=>t(o)),c(r,l)},$$slots:{default:!0,leading:(r,d)=>{var l=E(),f=v(l);L(f,e,"leading",{},null),c(r,l)},trailing:(r,d)=>{var l=E(),f=v(l);L(f,e,"trailing",{},null),c(r,l)}}}),be(),Q()}export{_t as O,gt as S};
