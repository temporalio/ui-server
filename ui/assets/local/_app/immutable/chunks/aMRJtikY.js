import"./CWj6FrbW.js";import{p as bt,at as W,au as ot,f as U,j as o,h as r,s as x,g as t,v as a,r as s,n as Dt,k as ht,t as H,e as p,b as Tt,c as st,u as wt,i as zt,d as Pe,q as Ce}from"./BBjqMsu1.js";import{s as I,e as De}from"./DHOm-mSm.js";import{i as L}from"./DrCjka1e.js";import{k as ne}from"./C9OGzM-W.js";import{p as Mt,s as Ot,b as Qt,a as re}from"./D42yUzBQ.js";import{p as le}from"./C6ryWgTv.js";import{s as Se}from"./Cd9fk9Xa.js";import{B as St}from"./Da8SMlP7.js";import{T as oe}from"./1nF0TMkb.js";import{t as n}from"./DEjs8ZrU.js";import{C as Nt}from"./DTTp2YZU.js";import{D as Ne,a as Me}from"./DGf44QEW.js";import{I as ut}from"./DrBLDUut.js";import{N as he}from"./DWlzd8g0.js";import{L as ct}from"./Dn4VAsVw.js";import{s as jt}from"./DMvnBdKo.js";import{r as Kt,a as Et}from"./LEfuUucK.js";import{t as ce}from"./BTcyvo72.js";import{r as Gt,w as Oe}from"./y-jszXWn.js";import{g as Jt}from"./ck0AZ_wG.js";import{m as _t,e as Ct,d as gt,l as He,n as Re}from"./CtQjrHKC.js";import{M as ve}from"./BeubWNfo.js";import{P as we}from"./BKdAqXSa.js";import{t as We}from"./5sHaeCkN.js";import{W as Be}from"./D4_ANIz7.js";import{A as Fe}from"./kjBIlHsm.js";import{B as Le}from"./CylVXXRZ.js";import{C as se}from"./CjWV2roo.js";import{I as Ue}from"./CG6x3zff.js";import{c as qe}from"./BPQfPaEY.js";import{f as ze,b as Qe,a as je}from"./DSaqpDtC.js";import{o as Ke}from"./C8ejR22J.js";const Ee=({date:b,now:e=Date.now(),negativeDefault:T})=>{if(!b)return"";const k=String(b);try{const d=(Number(new Date(k))-e)/1e3;return T!==void 0&&d<0?T:isNaN(d)?"":`${d.toFixed(0)}s`}catch{return""}},Ge=async({namespace:b,execution:e,id:T,reason:k,type:l,identity:d})=>{const A=Kt("activity.pause",{namespace:b});return Et(A,{options:{method:"POST",body:jt({execution:e,reason:k,id:T,type:l,...d&&{identity:d}})}})},Je=async({namespace:b,execution:e,id:T,type:k,identity:l})=>{const d=Kt("activity.unpause",{namespace:b});return Et(d,{options:{method:"POST",body:jt({execution:e,id:T,type:k,...l&&{identity:l}})}})},Ve=async({namespace:b,execution:e,id:T,type:k,resetHeartbeat:l,identity:d})=>{const A=Kt("activity.reset",{namespace:b});return Et(A,{options:{method:"POST",body:jt({execution:e,id:T,type:k,resetHeartbeat:l,...d&&{identity:d}})}})},Xe=async({namespace:b,execution:e,id:T,type:k,activityOptions:l,identity:d})=>{const A=Kt("activity.update-options",{namespace:b});return Et(A,{options:{method:"POST",body:jt({execution:e,id:T,type:k,activityOptions:l,updateMask:"taskQueue.name,scheduleToCloseTimeout,scheduleToStartTimeout,startToCloseTimeout,heartbeatTimeout,retryPolicy.initialInterval,retryPolicy.backoffCoefficient,retryPolicy.maximumInterval,retryPolicy.maximumAttempts",...d&&{identity:d}})}})};var Ye=U(`<form class="flex flex-col gap-4"><div><!> <p class="mb-1 text-xs text-secondary">Maximum permitted time between successful Worker Heartbeats.</p> <div class="flex flex-wrap items-center gap-2"><!> <p class="text-nowrap text-secondary"> </p></div></div> <div><!> <p class="mb-1 text-xs text-secondary">Coefficient used to calculate the next retry interval. The next retry
          interval is previous interval multiplied by the coefficient. Must be 1
          or larger.</p> <!></div> <div><!> <p class="mb-1 text-xs text-secondary">Interval of the first retry. If retryBackoffCoefficient is 1.0 then it
          is used for all retries.</p> <div class="flex flex-wrap items-center gap-2"><!> <p class="text-nowrap text-secondary"> </p></div></div> <div><!> <p class="mb-1 text-xs text-secondary">Maximum number of attempts. When exceeded the retries stop even if not
          expired yet. 1 disables retries. 0 means unlimited (up to the
          timeouts).</p> <!></div> <div><!> <p class="mb-1 text-xs text-secondary">Indicates how long the caller is willing to wait for an Activity
          completion. Limits how long retries will be attempted.</p> <div class="flex flex-wrap items-center gap-2"><!> <p class="text-nowrap text-secondary"> </p></div></div> <div><!> <p class="mb-1 text-xs text-secondary">Limits time an Activity Task can stay in a task queue before a Worker
          picks it up. This timeout is always non retryable, as all a retry
          would achieve is to put it back into the same queue.</p> <div class="flex flex-wrap items-center gap-2"><!> <p class="text-nowrap text-secondary"> </p></div></div> <div><!> <p class="mb-1 text-xs text-secondary">Maximum time an Activity is allowed to execute after being picked up
          by a Worker. This Timeout is always retryable.</p> <div class="flex flex-wrap items-center gap-2"><!> <p class="text-nowrap text-secondary"> </p></div></div> <div><!> <!></div> <!> <div class="flex items-center justify-end gap-4"><!> <!></div></form>`);function Ze(b,e){bt(e,!0);const[T,k]=Ot();var l,d,A,M,Q,h,_,D,q,V,Y,B,w,O;let y=Mt(e,"open",15),P=a(()=>e.activity.activityId),j=a(()=>e.activity.activityType),z=W(ot((d=(l=e.activity.activityOptions)===null||l===void 0?void 0:l.taskQueue)===null||d===void 0?void 0:d.name)),E=W(ot(_t(String((A=e.activity===null||e.activity===void 0?void 0:e.activity.activityOptions)===null||A===void 0?void 0:A.scheduleToCloseTimeout)))),R=W(ot(_t(String((M=e.activity===null||e.activity===void 0?void 0:e.activity.activityOptions)===null||M===void 0?void 0:M.scheduleToStartTimeout)))),g=W(ot(_t(String((Q=e.activity===null||e.activity===void 0?void 0:e.activity.activityOptions)===null||Q===void 0?void 0:Q.startToCloseTimeout)))),G=W(ot(_t(String((h=e.activity===null||e.activity===void 0?void 0:e.activity.activityOptions)===null||h===void 0?void 0:h.heartbeatTimeout)))),Z=W(ot((D=(_=e.activity===null||e.activity===void 0?void 0:e.activity.activityOptions)===null||_===void 0?void 0:_.retryPolicy)===null||D===void 0?void 0:D.maximumAttempts)),et=W(ot((V=(q=e.activity===null||e.activity===void 0?void 0:e.activity.activityOptions)===null||q===void 0?void 0:q.retryPolicy)===null||V===void 0?void 0:V.backoffCoefficient)),J=W(ot(_t(String((B=(Y=e.activity===null||e.activity===void 0?void 0:e.activity.activityOptions)===null||Y===void 0?void 0:Y.retryPolicy)===null||B===void 0?void 0:B.initialInterval)))),nt=ot(_t(String((O=(w=e.activity===null||e.activity===void 0?void 0:e.activity.activityOptions)===null||w===void 0?void 0:w.retryPolicy)===null||O===void 0?void 0:O.maximumInterval))),at=W(!1);const dt=a(()=>({taskQueue:{name:t(z)},scheduleToCloseTimeout:gt(t(E)),scheduleToStartTimeout:gt(t(R)),startToCloseTimeout:gt(t(g)),heartbeatTimeout:gt(t(G)),retryPolicy:{maximumAttempts:t(Z),initialInterval:gt(t(J)),backoffCoefficient:t(et),maximumInterval:gt(nt)}})),Vt=Jt(),mt=()=>{y(!1)},Xt=async ft=>{ft.preventDefault();try{await Xe({namespace:e.namespace,execution:e.execution,id:t(at)?void 0:t(P),type:t(at)?t(j):void 0,activityOptions:t(dt),identity:Vt}),Qt(Gt,Date.now()),ce.push({variant:"success",message:`Options for Activity ${t(P)} have been updated.`})}catch(lt){console.error("Error updating activity options:",lt),ce.push({variant:"error",message:`Options for Activity ${t(P)} have been failed to update: ${lt==null?void 0:lt.message}`,duration:5e3})}finally{mt()}};{let ft=a(()=>n("common.close"));Ne(b,{get open(){return y()},onClick:mt,position:"right",id:"activity-options-update-drawer",dark:!1,get closeButtonLabel(){return t(ft)},class:"w-[480px]",children:(lt,Yt)=>{Me(lt,{get title(){return`Update Activity ${e.activity.activityId??""}`},children:(Zt,$t)=>{var yt=Ye(),pt=o(yt),Ht=o(pt);ct(Ht,{for:"heartbeat-timeout",label:"Heartbeat Timeout Duration"});var Rt=r(Ht,4),Wt=o(Rt);{let N=a(()=>isNaN(Number(t(G))));ut(Wt,{id:"heartbeat-timeout",label:"Heartbeat Timeout Duration",labelHidden:!0,suffix:"sec",class:"w-36",get error(){return t(N)},get value(){return t(G)},set value(X){x(G,X,!0)}})}var kt=r(Wt,2),Bt=o(kt,!0);s(kt),s(Rt),s(pt);var It=r(pt,2),Ft=o(It);ct(Ft,{for:"retry-backoff-coefficient",label:"Retry Backoff Coefficient"});var te=r(Ft,4);he(te,{id:"retry-backoff-coefficient",label:"Retry Backoff Coefficient",labelHidden:!0,step:.01,min:1,class:"w-24",get value(){return t(et)},set value(N){x(et,N,!0)}}),s(It);var i=r(It,2),v=o(i);ct(v,{for:"retry-initial-interval",label:"Retry Initial Interval Duration"});var c=r(v,4),S=o(c);{let N=a(()=>isNaN(Number(t(J))));ut(S,{id:"retry-initial-interval",label:"Retry Initial Interval Duration",labelHidden:!0,suffix:"sec",class:"w-36",get error(){return t(N)},get value(){return t(J)},set value(X){x(J,X,!0)}})}var F=r(S,2),u=o(F,!0);s(F),s(c),s(i);var m=r(i,2),f=o(m);ct(f,{for:"maximum-attempts",label:"Retry Maximum Attempts"});var C=r(f,4);he(C,{id:"maximum-attempts",label:"Retry Maximum Attempts",labelHidden:!0,class:"w-24",get value(){return t(Z)},set value(N){x(Z,N,!0)}}),s(m);var K=r(m,2),$=o(K);ct($,{for:"schedule-to-close-timeout",label:"Schedule to Close Timeout Duration"});var it=r($,4),rt=o(it);{let N=a(()=>isNaN(Number(t(E))));ut(rt,{id:"schedule-to-close-timeout",label:"Schedule to Close Timeout Duration",labelHidden:!0,suffix:"sec",class:"w-36",get error(){return t(N)},get value(){return t(E)},set value(X){x(E,X,!0)}})}var xt=r(rt,2),ee=o(xt,!0);s(xt),s(it),s(K);var At=r(K,2),Lt=o(At);ct(Lt,{for:"schedule-to-start-timeout",label:"Schedule to Start Timeout Duration"});var Ut=r(Lt,4),qt=o(Ut);{let N=a(()=>isNaN(Number(t(R))));ut(qt,{id:"schedule-to-start-timeout",label:"Schedule to Start Timeout Duration",labelHidden:!0,suffix:"sec",class:"w-36",get error(){return t(N)},get value(){return t(R)},set value(X){x(R,X,!0)}})}var ue=r(qt,2),be=o(ue,!0);s(ue),s(Ut),s(At);var ae=r(At,2),de=o(ae);ct(de,{for:"start-to-close-timeout",label:"Start to Close Timeout Duration"});var me=r(de,4),fe=o(me);{let N=a(()=>isNaN(Number(t(g))));ut(fe,{id:"start-to-close-timeout",label:"Start to Close Timeout Duration",labelHidden:!0,suffix:"sec",class:"w-36",get error(){return t(N)},get value(){return t(g)},set value(X){x(g,X,!0)}})}var ye=r(fe,2),Te=o(ye,!0);s(ye),s(me),s(ae);var ie=r(ae,2),pe=o(ie);ct(pe,{for:"task-queue-name",label:"Task Queue Name"});var ke=r(pe,2);ut(ke,{id:"task-queue-name",label:"Task Queue Name",labelHidden:!0,class:"w-full",get value(){return t(z)},set value(N){x(z,N,!0)}}),s(ie);var xe=r(ie,2);{let N=a(()=>n("activities.apply-to-all-activity-types",{type:t(j)}));Nt(xe,{get label(){return t(N)},get checked(){return t(at)},set checked(X){x(at,X,!0)}})}var _e=r(xe,2),ge=o(_e);St(ge,{type:"button",variant:"ghost",size:"sm",$$events:{click:mt},children:(N,X)=>{Dt();var vt=ht();H(Pt=>I(vt,Pt),[()=>n("common.cancel")]),p(N,vt)},$$slots:{default:!0}});var Ie=r(ge,2);St(Ie,{type:"submit",variant:"primary",size:"sm",children:(N,X)=>{Dt();var vt=ht();H(Pt=>I(vt,Pt),[()=>n("common.save")]),p(N,vt)},$$slots:{default:!0}}),s(_e),s(yt),H((N,X,vt,Pt,Ae)=>{I(Bt,N),I(u,X),I(ee,vt),I(be,Pt),I(Te,Ae)},[()=>Ct(t(G)),()=>Ct(t(J)),()=>Ct(t(E)),()=>Ct(t(R)),()=>Ct(t(g))]),De("submit",yt,Xt),p(Zt,yt)},$$slots:{default:!0}})},$$slots:{default:!0}})}Tt(),k()}var $e=U('<h3 slot="title"> </h3>'),ta=U('<div slot="content" class="flex flex-col gap-4"><p> </p> <!> <!></div>');function ea(b,e){bt(e,!0);const[T,k]=Ot();let l=Mt(e,"open",15),d=a(()=>e.activity.activityId),A=a(()=>e.activity.activityType),M=W(""),Q=!1,h=W(""),_=W(!1);const D=Jt(),q=()=>{l(!1),x(h,""),x(_,!1)},V=async()=>{await Ge({namespace:e.namespace,execution:e.execution,id:t(_)?void 0:t(d),reason:t(h),type:t(_)?t(A):void 0,identity:D}),Qt(Gt,Date.now()),q()};{let Y=a(()=>n("workflows.pause")),B=a(()=>n("common.cancel"));ve(b,{id:"activity-pause-confirmation-modal","data-testid":"activity-pause-confirmation-modal",loading:Q,get confirmText(){return t(Y)},get cancelText(){return t(B)},confirmType:"destructive",get error(){return t(M)},set error(w){x(M,w,!0)},get open(){return l()},set open(w){l(w)},$$events:{cancelModal:q,confirmModal:V},$$slots:{title:(w,O)=>{var y=$e(),P=o(y,!0);s(y),H(j=>I(P,j),[()=>n("activities.pause-modal-confirmation",{activityId:e.activity.id})]),p(w,y)},content:(w,O)=>{var y=ta(),P=o(y),j=o(P,!0);s(P);var z=r(P,2);{let R=a(()=>n("common.reason-placeholder")),g=a(()=>n("common.reason"));ut(z,{id:"activity-pause-reason",class:"mt-4",get placeholder(){return t(R)},get label(){return t(g)},get value(){return t(h)},set value(G){x(h,G,!0)}})}var E=r(z,2);{let R=a(()=>n("activities.pause-all-activity-types",{type:t(A)}));Nt(E,{get label(){return t(R)},get checked(){return t(_)},set checked(g){x(_,g,!0)}})}s(y),H(R=>I(j,R),[()=>n("activities.pause-modal-description")]),p(w,y)}}})}Tt(),k()}var aa=U('<h3 slot="title"> </h3>'),ia=U('<div slot="content" class="flex flex-col gap-4"><p> </p> <!> <!></div>');function ra(b,e){bt(e,!0);const[T,k]=Ot();let l=Mt(e,"open",15),d=a(()=>e.activity.activityId),A=a(()=>e.activity.activityType),M=W(""),Q=!1,h=W(!1),_=W(!1);const D=Jt(),q=()=>{l(!1),x(h,!1),x(_,!1)},V=async()=>{await Ve({namespace:e.namespace,execution:e.execution,id:t(h)?void 0:t(d),resetHeartbeat:t(_),type:t(h)?t(A):void 0,identity:D}),Qt(Gt,Date.now()),ce.push({variant:"success",message:n("activities.reset-success",{activityId:t(d)})}),q()};{let Y=a(()=>n("workflows.reset")),B=a(()=>n("common.cancel"));ve(b,{id:"activity-pause-confirmation-modal","data-testid":"activity-pause-confirmation-modal",loading:Q,get confirmText(){return t(Y)},get cancelText(){return t(B)},confirmType:"destructive",get error(){return t(M)},set error(w){x(M,w,!0)},get open(){return l()},set open(w){l(w)},$$events:{cancelModal:q,confirmModal:V},$$slots:{title:(w,O)=>{var y=aa(),P=o(y,!0);s(y),H(j=>I(P,j),[()=>n("activities.reset-modal-confirmation",{activityId:e.activity.id})]),p(w,y)},content:(w,O)=>{var y=ia(),P=o(y),j=o(P,!0);s(P);var z=r(P,2);{let R=a(()=>n("activities.apply-to-all-activity-types",{type:t(A)}));Nt(z,{get label(){return t(R)},get checked(){return t(h)},set checked(g){x(h,g,!0)}})}var E=r(z,2);{let R=a(()=>n("activities.reset-heartbeat-details"));Nt(E,{get label(){return t(R)},get checked(){return t(_)},set checked(g){x(_,g,!0)}})}s(y),H(R=>I(j,R),[()=>n("activities.reset-modal-description")]),p(w,y)}}})}Tt(),k()}var oa=U('<h3 slot="title"> </h3>'),sa=U('<div slot="content" class="flex flex-col gap-4"><p> </p> <!></div>');function na(b,e){bt(e,!0);const[T,k]=Ot();let l=Mt(e,"open",15),d=a(()=>e.activity.activityId),A=a(()=>e.activity.activityType),M=W(""),Q=!1,h=W(!1);const _=Jt(),D=()=>{l(!1),x(h,!1)},q=async()=>{await Je({namespace:e.namespace,execution:e.execution,id:t(h)?void 0:t(d),type:t(h)?t(A):void 0,identity:_}),Qt(Gt,Date.now()),D()};{let V=a(()=>n("workflows.unpause")),Y=a(()=>n("common.cancel"));ve(b,{id:"activity-unpause-confirmation-modal","data-testid":"activity-unpause-confirmation-modal",loading:Q,get confirmText(){return t(V)},get cancelText(){return t(Y)},confirmType:"destructive",get error(){return t(M)},set error(B){x(M,B,!0)},get open(){return l()},set open(B){l(B)},$$events:{cancelModal:D,confirmModal:q},$$slots:{title:(B,w)=>{var O=oa(),y=o(O,!0);s(O),H(P=>I(y,P),[()=>n("activities.pause-modal-confirmation",{activityId:e.activity.id})]),p(B,O)},content:(B,w)=>{var O=sa(),y=o(O),P=o(y,!0);s(y);var j=r(y,2);{let z=a(()=>n("activities.unpause-all-activity-types",{type:t(A)}));Nt(j,{get label(){return t(z)},get checked(){return t(h)},set checked(E){x(h,E,!0)}})}s(O),H(z=>I(P,z),[()=>n("activities.unpause-modal-description")]),p(B,O)}}})}Tt(),k()}var la=U("<div><!> <!> <!></div> <!> <!> <!> <!>",1);function ca(b,e){bt(e,!0);let T=Mt(e,"class",3,"");const k=a(()=>le.params),l=a(()=>t(k).namespace),d=a(()=>t(k).workflow),A=a(()=>t(k).run),M=a(()=>({workflowId:t(d),runId:t(A)}));let Q=W(!1),h=W(!1),_=W(!1),D=W(!1);const q=async()=>{e.activity.paused?x(h,!0):x(Q,!0)},V=()=>{x(_,!0)},Y=()=>{x(D,!0)};var B=la(),w=st(B),O=o(w);{let g=a(()=>e.activity.paused?"Resume this Activity":"Pauses this Activity, starting before it retries or the next time it heartbeats. It won’t time out while it’s paused.");oe(O,{bottomLeft:!0,width:200,get text(){return t(g)},children:(G,Z)=>{{let et=a(()=>e.activity.paused?"play":"pause");St(G,{variant:"secondary",size:"sm",get leadingIcon(){return t(et)},$$events:{click:q},children:(J,nt)=>{Dt();var at=ht();H(dt=>I(at,dt),[()=>e.activity.paused?n("workflows.unpause"):n("workflows.pause")]),p(J,at)},$$slots:{default:!0}})}},$$slots:{default:!0}})}var y=r(O,2);oe(y,{bottomLeft:!0,width:200,text:"Update this Activity Options.",children:(g,G)=>{St(g,{variant:"secondary",size:"sm",leadingIcon:"pencil",$$events:{click:Y},children:(Z,et)=>{Dt();var J=ht();H(nt=>I(J,nt),[()=>n("common.update")]),p(Z,J)},$$slots:{default:!0}})},$$slots:{default:!0}});var P=r(y,2);oe(P,{bottom:!0,width:200,text:"Reset this Activity.",children:(g,G)=>{St(g,{variant:"secondary",size:"sm",leadingIcon:"retry",$$events:{click:V},children:(Z,et)=>{Dt();var J=ht();H(nt=>I(J,nt),[()=>n("workflows.reset")]),p(Z,J)},$$slots:{default:!0}})},$$slots:{default:!0}}),s(w);var j=r(w,2);ea(j,{get namespace(){return t(l)},get execution(){return t(M)},get activity(){return e.activity},get open(){return t(Q)},set open(g){x(Q,g,!0)}});var z=r(j,2);na(z,{get namespace(){return t(l)},get execution(){return t(M)},get activity(){return e.activity},get open(){return t(h)},set open(g){x(h,g,!0)}});var E=r(z,2);ra(E,{get namespace(){return t(l)},get execution(){return t(M)},get activity(){return e.activity},get open(){return t(_)},set open(g){x(_,g,!0)}});var R=r(E,2);ne(R,()=>t(D),g=>{Ze(g,{get namespace(){return t(l)},get execution(){return t(M)},get activity(){return e.activity},get open(){return t(D)},set open(G){x(D,G,!0)}})}),H(()=>Se(w,1,`flex items-center gap-2 ${T()??""}`)),p(b,B),Tt()}const va=(b,e,T)=>!b.disableWriteActions&&!e.namespaceWriteDisabled(T)&&!e.isActivityCommandsDisabled&&!b.activityCommandsDisabled,tt=(b,e=wt,T=wt)=>{var k=ua(),l=o(k),d=o(l,!0);s(l);var A=r(l,2),M=o(A);{var Q=_=>{var D=ht();H(()=>I(D,T())),p(_,D)},h=_=>{var D=zt(),q=st(D);Pe(q,()=>T()??wt),p(_,D)};L(M,_=>{typeof T()=="string"||typeof T()=="number"?_(Q):_(h,!1)})}s(A),s(k),H(()=>I(d,e())),p(b,k)};var ua=U('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="w-full whitespace-pre-line"><!></p></div>'),da=U('<div><p class="text-sm text-secondary/80"> </p> <!></div>'),ma=U('<p class="text-sm text-secondary/80"> </p> <!>',1),fa=U('<div><p class="text-sm text-secondary/80"> </p> <!></div>'),ya=U('<div class="flex flex-col gap-2"><div class="flex flex-1 flex-col"><!></div> <!></div>'),pa=U('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="flex w-full items-center gap-1 whitespace-pre-line"> <strong> </strong></p></div>'),xa=U("<!> ",1),_a=U('<p class="ml-1 text-sm text-secondary"> </p>'),ga=U('<div class="flex flex-wrap items-center gap-1"><!> <!></div>'),ha=U("<!> <!> <!>",1),wa=U("<!> <!>",1),ba=U('<div class="surface-primary flex flex-1 cursor-default flex-col gap-2 border-b border-subtle p-4"><div class="flex flex-1 flex-wrap justify-between gap-2"><div class="flex flex-wrap items-center space-x-3"><!> <h4> </h4></div> <!></div> <div class="flex flex-1 flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col gap-1 xl:w-1/2"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 md:flex-1 xl:w-1/2"><!> <!></div></div></div>');function ai(b,e){bt(e,!0);const T=()=>re(Oe,"$workflowRun",d),k=()=>re(B,"$coreUser",d),l=()=>re(We,"$timestamp",d),[d,A]=Ot(),M=i=>{var v=da(),c=o(v),S=o(c,!0);s(c);var F=r(c,2);ne(F,()=>e.activity.attempt,u=>{we(u,{get value(){return e.activity.heartbeatDetails},key:"payloads",children:(f,C=wt)=>{{let K=a(()=>n("common.copy-icon-title")),$=a(()=>n("common.copy-success-icon-title"));se(f,{get content(){return C()},maxHeight:384,get copyIconTitle(){return t(K)},get copySuccessIconTitle(){return t($)}})}},$$slots:{default:!0}})}),s(v),H(u=>I(S,u),[()=>n("workflows.heartbeat-details")]),p(i,v)},Q=i=>{var v=ya(),c=o(v),S=o(c);{var F=f=>{var C=ma(),K=st(C),$=o(K,!0);s(K);var it=r(K,2);ne(it,()=>e.activity.attempt,rt=>{{const xt=(At,Lt=wt)=>{{let Ut=a(()=>n("common.copy-icon-title")),qt=a(()=>n("common.copy-success-icon-title"));se(At,{get content(){return Lt()},maxHeight:384,get copyIconTitle(){return t(Ut)},get copySuccessIconTitle(){return t(qt)}})}};let ee=a(()=>Ke(e.activity.lastFailure,"stackTrace"));we(rt,{get value(){return t(ee)},children:xt,$$slots:{default:!0}})}}),H(rt=>I($,rt),[()=>n("workflows.last-failure")]),p(f,C)};L(S,f=>{e.activity.lastFailure&&f(F)})}s(c);var u=r(c,2);{var m=f=>{var C=fa(),K=o(C),$=o(K,!0);s(K);var it=r(K,2);{let rt=a(()=>n("common.copy-icon-title")),xt=a(()=>n("common.copy-success-icon-title"));se(it,{language:"text",maxHeight:384,get content(){return e.activity.lastFailure.stackTrace},get copyIconTitle(){return t(rt)},get copySuccessIconTitle(){return t(xt)}})}s(C),H(rt=>I($,rt),[()=>n("common.stack-trace")]),p(f,C)};L(u,f=>{var C;(C=e.activity.lastFailure)!=null&&C.stackTrace&&f(m)})}s(v),p(i,v)},h=i=>{{let v=a(()=>{var c;return(c=e.activity.lastFailure)!=null&&c.stackTrace?n("workflows.last-failure-with-stack-trace"):n("workflows.last-failure")});Fe(i,{get title(){return t(v)},children:Ce,$$slots:{default:(c,S)=>{const F=a(()=>S.open);var u=zt(),m=st(u);{var f=C=>{Q(C)};L(m,C=>{t(F)&&C(f)})}p(c,u)}}})}},_=(i,v=wt)=>{var c=pa(),S=o(c),F=o(S,!0);s(S);var u=r(S,2),m=o(u),f=r(m),C=o(f);s(f),s(u),s(c),H((K,$)=>{I(F,K),I(m,`${$??""} `),I(C,`(${v()??""})`)},[()=>n("workflows.next-retry"),()=>l()(e.activity.scheduledTime,{relativeLabel:""})]),p(i,c)},D=i=>{var v=ga(),c=o(v);{let u=a(()=>t(V)?"danger":"default");Le(c,{get type(){return t(u)},children:(m,f)=>{var C=xa(),K=st(C);{let it=a(()=>t(V)&&"font-bold text-red-400");Ue(K,{get class(){return`mr-1 ${t(it)??""}`},name:"retry"})}var $=r(K);H(it=>I($,` ${e.activity.attempt??0??""} of ${it??""}`),[()=>ze(e.activity.maximumAttempts)]),p(m,C)},$$slots:{default:!0}})}var S=r(c,2);{var F=u=>{var m=_a(),f=o(m);s(m),H(C=>I(f,`${C??""} remaining`),[()=>je(e.activity.maximumAttempts,e.activity.attempt)]),p(u,m)};L(S,u=>{e.activity.maximumAttempts&&u(F)})}s(v),p(i,v)};var q;const V=a(()=>e.activity.attempt>1&&!!e.activity.lastFailure),Y=a(()=>(q=T()===null||T()===void 0?void 0:T().workflow)===null||q===void 0?void 0:q.isRunning);let B=qe(),w=a(()=>va(le.data.settings,k(),le.params.namespace)&&t(Y));var O=ba(),y=o(O),P=o(y),j=o(P);{let i=a(()=>e.activity.paused?"Paused":e.activity.state);Be(j,{get status(){return t(i)}})}var z=r(j,2),E=o(z,!0);s(z),s(P);var R=r(P,2);{var g=i=>{ca(i,{get activity(){return e.activity},class:"justify-end"})};L(R,i=>{t(w)&&i(g)})}s(y);var G=r(y,2),Z=o(G),et=o(Z);{let i=a(()=>n("workflows.activity-id"));tt(et,()=>t(i),()=>e.activity.activityId)}var J=r(et,2);{var nt=i=>{var v=ha(),c=st(v);{let u=a(()=>n("activities.paused-by"));tt(c,()=>t(u),()=>{var m,f;return((f=(m=e.activity.pauseInfo)==null?void 0:m.manual)==null?void 0:f.identity)||""})}var S=r(c,2);{let u=a(()=>n("activities.paused-since")),m=a(()=>{var f;return l()((f=e.activity.pauseInfo)==null?void 0:f.pauseTime)});tt(S,()=>t(u),()=>t(m))}var F=r(S,2);{let u=a(()=>n("activities.pause-reason"));tt(F,()=>t(u),()=>{var m,f;return((f=(m=e.activity.pauseInfo)==null?void 0:m.manual)==null?void 0:f.reason)||"-"})}p(i,v)};L(J,i=>{e.activity.paused&&e.activity.pauseInfo&&i(nt)})}var at=r(J,2);{let i=a(()=>n("workflows.attempt"));tt(at,()=>t(i),()=>D)}var dt=r(at,2);{var Vt=i=>{const v=a(()=>Ee({date:e.activity.scheduledTime,negativeDefault:""}));var c=zt(),S=st(c);{var F=u=>{_(u,()=>t(v))};L(S,u=>{t(v)&&u(F)})}p(i,c)};L(dt,i=>{e.activity.scheduledTime&&i(Vt)})}var mt=r(dt,2);{var Xt=i=>{{let v=a(()=>n("workflows.last-attempt-completed-time")),c=a(()=>l()(e.activity.lastAttemptCompleteTime));tt(i,()=>t(v),()=>t(c))}};L(mt,i=>{e.activity.lastAttemptCompleteTime&&i(Xt)})}var ft=r(mt,2);{var lt=i=>{{let v=a(()=>n("workflows.retry-expiration")),c=a(()=>Qe(e.activity.maximumAttempts,He(Re({start:Date.now(),end:e.activity.expirationTime}))));tt(i,()=>t(v),()=>t(c))}};L(ft,i=>{e.activity.expirationTime&&i(lt)})}var Yt=r(ft,2);{var Zt=i=>{{let v=a(()=>n("workflows.last-heartbeat")),c=a(()=>l()(e.activity.lastHeartbeatTime));tt(i,()=>t(v),()=>t(c))}};L(Yt,i=>{e.activity.lastHeartbeatTime&&i(Zt)})}var $t=r(Yt,2);{var yt=i=>{{let v=a(()=>n("workflows.last-started-time")),c=a(()=>l()(e.activity.lastStartedTime));tt(i,()=>t(v),()=>t(c))}};L($t,i=>{e.activity.lastStartedTime&&i(yt)})}var pt=r($t,2);{var Ht=i=>{{let v=a(()=>n("workflows.last-worker-identity"));tt(i,()=>t(v),()=>e.activity.lastWorkerIdentity)}};L(pt,i=>{e.activity.lastWorkerIdentity&&i(Ht)})}var Rt=r(pt,2);{var Wt=i=>{var v=wa(),c=st(v);{var S=m=>{{let f=a(()=>n("workflows.priority"));tt(m,()=>t(f),()=>e.activity.priority.priorityKey)}};L(c,m=>{e.activity.priority.priorityKey&&m(S)})}var F=r(c,2);{var u=m=>{{let f=a(()=>n("workflows.fairness"));tt(m,()=>t(f),()=>e.activity.priority.fairnessKey)}};L(F,m=>{e.activity.priority.fairnessKey&&m(u)})}p(i,v)};L(Rt,i=>{e.activity.priority&&i(Wt)})}s(Z);var kt=r(Z,2),Bt=o(kt);{var It=i=>{var v=zt(),c=st(v);{var S=u=>{h(u)},F=u=>{Q(u)};L(c,u=>{e.totalPending>20?u(S):u(F,!1)})}p(i,v)};L(Bt,i=>{t(V)&&i(It)})}var Ft=r(Bt,2);{var te=i=>{M(i)};L(Ft,i=>{e.activity.heartbeatDetails&&i(te)})}s(kt),s(G),s(O),H(()=>I(E,e.activity.activityType)),p(b,O),Tt(),A()}export{ai as P,Ee as t};
