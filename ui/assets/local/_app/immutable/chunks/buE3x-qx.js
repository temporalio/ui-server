import"./CWj6FrbW.js";import{p as Z,m as H,g as t,f as j,j as k,o as M,h as I,s as Y,r as O,e as g,b as ee,K as B,O as F,i as he,c as ae,n as W,k as X,t as K,v as n}from"./DZ1-1a5q.js";import{s as G}from"./DxwvfIkW.js";import{e as ue}from"./DGhzC9On.js";import{c as _e,s as $e}from"./B3h3Bc2r.js";import{p as N,a as Q,s as oe}from"./TaaIktnz.js";import{B as V}from"./D5BzRETI.js";import{t as r}from"./DEjs8ZrU.js";import{b as we,c as ne}from"./DaA9kdqt.js";import{S as b}from"./S6Q2Q0ub.js";import{i as ye}from"./DnKg3jxh.js";import{C as Te}from"./Cb2e3XXI.js";import{I as re}from"./BrsnJCex.js";import{N as Se}from"./DK7n4mk8.js";import{S as le,O as J}from"./CP-E-j6q.js";import"./69_IOA4Y.js";import{o as xe}from"./D7JzDj9r.js";import{i as Ae,t as Ee}from"./Bby3K3wO.js";import{D as Ce,T as De}from"./Csb2owH1.js";import{b as ke}from"./2dgXBwRQ.js";import{s as se}from"./CrZfxCV7.js";var Ie=j('<div class="flex flex-col gap-2"><!> <!></div>');function Oe(U,s){Z(s,!1);let c=N(s,"value",12);const v=c()?new Date(c()):new Date,x=new Date(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate());let y=H(se(x)),e=H(c()?String(v.getUTCHours()):""),T=H(c()?String(v.getUTCMinutes()):""),p=H(c()?String(v.getUTCSeconds()):"");xe(()=>{c()||h()});const R=o=>{Y(y,se(o.detail)),h()},h=()=>{c(ke({date:t(y),hour:t(e),minute:t(T),second:t(p)}))};Ae();var f=Ie(),_=k(f);{let o=M(()=>(F(r),B(()=>r("common.value")))),P=M(()=>(F(r),B(()=>r("common.utc")))),i=M(()=>(F(r),B(()=>r("common.today")))),d=M(()=>(F(r),B(()=>r("common.close")))),$=M(()=>(F(r),B(()=>r("common.clear-input-button-label"))));Ce(_,{get label(){return`${t(o)??""} (${t(P)??""})`},get selected(){return t(y)},get todayLabel(){return t(i)},get closeLabel(){return t(d)},get clearLabel(){return t($)},$$events:{datechange:R}})}var m=I(_,2);De(m,{twelveHourClock:!1,get hour(){return t(e)},set hour(o){Y(e,o)},get minute(){return t(T)},set minute(o){Y(T,o)},get second(){return t(p)},set second(o){Y(p,o)},$$events:{timechange:h},$$legacy:!0}),O(f),g(U,f),ee()}var Ne=j("<!> <!>",1),Ue=j("<div><!></div>"),Re=j('<div class="flex flex-col gap-2 border-b border-subtle pb-4 sm:flex-row sm:gap-4"><div class="flex min-w-fit justify-between gap-2 sm:gap-4"><div class="grow [&amp;_button]:w-full"><!></div> <!></div> <!> <!></div>');function Pe(U,s){Z(s,!0);const c=()=>Q(ne,"$customSearchAttributes",x),v=()=>Q(we,"$customSearchAttributeOptions",x),[x,y]=oe();let e=N(s,"attribute",15),T,p=n(()=>e().label||T);const R=a=>!!s.attributes.find(l=>l.label===a),h=a=>c()[a],f=a=>{e(e().label=a,!0);const l=h(a);l===b.KEYWORDLIST?e(e().value=[],!0):e().type!==l&&e(e().value=null,!0),e(e().type=l,!0)};var _=Re(),m=k(_),o=k(m),P=k(o);{let a=n(()=>r("workflows.custom-search-attribute")),l=n(()=>r("workflows.select-attribute"));le(P,{get id(){return`search-attribute-${s.id??""}`},"data-testid":"search-attribute-select",get label(){return t(a)},get placeholder(){return t(l)},onChange:f,get value(){return t(p)},set value(u){Y(p,u)},children:(u,q)=>{var S=he(),E=ae(S);ue(E,1,v,({value:L,label:w,type:z})=>L,(L,w,z,C)=>{let D=()=>t(w).value,be=()=>t(w).label,ge=()=>t(w).type;{let fe=n(()=>R(D()));J(L,{get disabled(){return t(fe)},get value(){return D()},get description(){return ge()},children:(pe,Me)=>{W();var te=X();K(()=>G(te,be())),g(pe,te)},$$slots:{default:!0}})}}),g(u,S)},$$slots:{default:!0}})}O(o);var i=I(o,2);V(i,{variant:"ghost",leadingIcon:"close",class:"mt-6 w-10 rounded-full sm:hidden",$$events:{click:()=>s.onRemove(e().label)}}),O(m);var d=I(m,2);{var $=a=>{{let l=n(()=>r("common.value"));le(a,{get label(){return t(l)},get id(){return`attribute-value-${s.id??""}`},get value(){return e().value},set value(u){e(e().value=u,!0)},children:(u,q)=>{var S=Ne(),E=ae(S);J(E,{value:!0,children:(w,z)=>{W();var C=X();K(D=>G(C,D),[()=>r("common.true")]),g(w,C)},$$slots:{default:!0}});var L=I(E,2);J(L,{value:!1,children:(w,z)=>{W();var C=X();K(D=>G(C,D),[()=>r("common.false")]),g(w,C)},$$slots:{default:!0}}),g(u,S)},$$slots:{default:!0}})}},A=a=>{Oe(a,{get value(){return e().value},set value(l){e(e().value=l,!0)}})},ie=a=>{var l=Ue(),u=k(l);{let q=n(()=>r("common.value")),S=n(()=>e().value<Number.MAX_SAFE_INTEGER);Se(u,{get label(){return t(q)},get id(){return`attribute-value-${s.id??""}`},get valid(){return t(S)},hintText:"Number is too large",max:Number.MAX_SAFE_INTEGER,get value(){return e().value},set value(E){e(e().value=E,!0)}})}O(l),g(a,l)},ce=a=>{{let l=n(()=>r("common.value"));Te(a,{get label(){return t(l)},get id(){return`attribute-value-${s.id??""}`},class:"w-full",removeChipButtonLabel:u=>r("workflows.remove-keyword-label",{keyword:u}),get chips(){return e().value},set chips(u){e(e().value=u,!0)}})}},de=a=>{{let l=n(()=>r("common.value"));re(a,{get label(){return t(l)},"data-testid":"custom-search-attribute-value",get id(){return`attribute-value-${s.id??""}`},class:"grow",get value(){return e().value},set value(u){e(e().value=u,!0)}})}},ve=a=>{{let l=n(()=>r("common.value")),u=n(()=>r("workflows.unsupported-attribute"));re(a,{get label(){return t(l)},get id(){return`attribute-value-${s.id??""}`},class:"grow",get placeholder(){return t(u)},error:!0,disabled:!0,value:""})}};ye(d,a=>{e().type===b.BOOL?a($):e().type===b.DATETIME?a(A,1):e().type===b.INT||e().type===b.DOUBLE?a(ie,2):e().type===b.KEYWORDLIST?a(ce,3):e().type===b.TEXT||e().type===b.KEYWORD||e().type===b.UNSPECIFIED?a(de,4):a(ve,!1)})}var me=I(d,2);V(me,{variant:"ghost",leadingIcon:"close","data-testid":"search-attribute-close-button",class:"mt-6 w-10 rounded-full max-sm:hidden",$$events:{click:()=>s.onRemove(e().label)}}),O(_),g(U,_),ee(),y()}var Le=j("<div><!> <!></div>");function ut(U,s){Z(s,!0);const c=()=>Q(ne,"$customSearchAttributes",v),[v,x]=oe();let y=N(s,"class",3,""),e=N(s,"attributesToAdd",15),T=N(s,"buttonCopy",19,()=>r("workflows.add-search-attribute")),p=N(s,"variant",3,"ghost");const R=()=>{e([...e(),{label:null,value:null,type:b.UNSPECIFIED}])},h=n(()=>Object.keys(c())),f=n(e),_=i=>{e(e().filter(d=>d.label!==i))};var m=Le(),o=k(m);ue(o,19,()=>t(f),(i,d)=>`${i.label}-${d}`,(i,d,$)=>{Pe(i,{get id(){return t($)},get attributes(){return t(f)},onRemove:_,get attribute(){return e()[t($)]},set attribute(A){e(e()[t($)]=A,!0)}})});var P=I(o,2);{let i=n(()=>!t(h).length||t(f).length===t(h).length);V(P,{get variant(){return p()},leadingIcon:"add",class:"max-sm:w-full","data-testid":"add-search-attribute-button",get disabled(){return t(i)},$$events:{click:R},children:(d,$)=>{W();var A=X();K(()=>G(A,T())),g(d,A)},$$slots:{default:!0}})}O(m),K(i=>$e(m,1,i),[()=>_e(Ee("flex flex-col gap-4",y()))]),g(U,m),ee(),x()}export{ut as A};
