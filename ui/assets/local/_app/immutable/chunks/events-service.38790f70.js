import{t as d}from"./index.f47521f1.js";import{b as y}from"./has.0120f47d.js";import{p as g}from"./paginated.c5168be2.js";import{r as u,a as v}from"./route-for-api.9cd628a0.js";const h=t=>!y(t)||t==="descending"?"events.descending":t==="ascending"?"events.ascending":"events.descending",P=async({namespace:t,workflowId:e,runId:n,sort:s,onStart:r,onUpdate:a,onComplete:o})=>{const c=h(s),i=u(c,{namespace:t,workflowId:e,runId:n});return(await g(async f=>v(i,{token:f,request:fetch}),{onStart:r,onUpdate:a,onComplete:o})).history.events},R=async({namespace:t,workflowId:e,runId:n,sort:s,onStart:r,onUpdate:a,onComplete:o})=>{const c=h(s),i=u(c,{namespace:t,workflowId:e,runId:n}),p=await g(async w=>v(i,{token:w,request:fetch}),{onStart:r,onUpdate:a,onComplete:o});return await d(p.history.events)},m=async({namespace:t,workflowId:e,runId:n,sort:s})=>{const r=u(`events.${s}`,{namespace:t,workflowId:e,runId:n});try{return(await v(r,{request:fetch,params:{maximumPageSize:"20"}})).history.events}catch{return[]}},S=async t=>{const e=await m({...t,sort:"ascending"}),n=await m({...t,sort:"descending"}),[s,r]=await Promise.all([d(e),d(n)]);return{start:s,end:r}};export{P as a,R as b,S as f};
