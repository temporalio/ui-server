import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as Le,l as ee,ac as te,s as G,m as ae,a as ze,t as H,h as x,c as C,M as I,g as a,r as _,i as j,j as g,d as h,b as Be,e as qe,f as Te,n as re,k as le}from"./CtXwlho8.js";import{e as Q,s as P}from"./BXc8M6y4.js";import{i as A}from"./yjFgoZ2z.js";import{e as se}from"./DN_bdWMP.js";import{a as De}from"./D7bUKL2K.js";import{r as Pe,c as ne,s as E,a as w}from"./CiDpyPci.js";import{a as Ae}from"./BY3abp4D.js";import{s as Ee}from"./Bfc47y5P.js";import{i as He}from"./D4D3ThYu.js";import{p as o}from"./DdhuX4yd.js";import{b as Me,a as Ve,s as Ke}from"./CI9zuxJp.js";import{w as Ne}from"./BBGlwGsK.js";import{C as ie}from"./lhK405-V.js";import{L as Fe}from"./DCI8NNqO.js";import{t as oe}from"./Ds6tgvmq.js";var Ge=H("<p> </p>"),Ie=H('<span class="count svelte-ej7kzn"><span> </span> </span>'),Je=H('<div class="flex justify-between gap-2"><div><!></div> <!></div>'),Oe=H('<div class="flex flex-row flex-wrap gap-1"></div>'),Qe=H('<div><!> <div><!> <input data-lpignore="true" data-1p-ignore="true" autocomplete="off" multiple></div> <!> <!></div>');function dt(de,n){Le(n,!1);const[ve,ue]=Ke(),s=()=>Ve(b,"$values",ve),L=ae();let M=o(n,"id",8),v=o(n,"chips",12),fe=o(n,"label",8),ce=o(n,"labelHidden",8,!1),R=o(n,"placeholder",8,""),me=o(n,"name",24,M),m=o(n,"disabled",8,!1),S=o(n,"required",8,!1),J=o(n,"hintText",8,""),V=o(n,"validator",8,()=>!0),y=o(n,"removeChipButtonLabel",8),U=o(n,"external",8,!1),u=o(n,"maxLength",8,0);const b=Ne(Array.isArray(v())?[...v()]:[]);let k=ae(""),pe=o(n,"class",8,""),ge=o(n,"scrollTo",8,!1);const _e=e=>{const t=a(k).trim();(e.key===","||e.key==="Enter")&&t!==""&&(e.preventDefault(),b.update(l=>[...l,t]),v(s()),G(k,""));const r=e.target;e.key==="Backspace"&&r&&r.value===""&&s().length>0&&(b.update(l=>l.slice(0,-1)),v(s()))},he=e=>{if(e.preventDefault(),u()&&s().length>=u())return;let r=e.clipboardData.getData("text/plain").split(",").map(l=>l.trim());u()&&(r=r.slice(0,u()-s().length)),b.update(l=>[...l,...r]),v(s())},be=()=>{const e=a(k).trim();e!==""&&(b.update(t=>[...t,e]),v(s()),G(k,""))},W=e=>{b.update(t=>(t.splice(e,1),t)),v(s())},O=(e,t)=>({update:()=>{ge()&&e===document.activeElement&&e.scrollIntoView({block:"nearest",inline:"start"})}});ee(()=>te(v()),()=>{v(),Me(b,v()!==null&&v()!==void 0?v():[])}),ee(()=>(s(),te(V())),()=>{G(L,s().some(e=>!V()(e)))}),ze(),He();var K=Qe(),X=x(K);Fe(X,{get required(){return S()},get label(){return fe()},get disabled(){return m()},get hidden(){return ce()},get for(){return M()}});var N=C(X,2),Y=x(N);{var xe=e=>{var t=qe(),r=Te(t);se(r,3,s,(l,p)=>`${l}-${p}`,(l,p,z)=>{const B=g(()=>V()(a(p))),q=g(()=>typeof y()=="string"?y():y()(a(p))),d=g(()=>a(B)?"default":"warning");ie(l,{get removeButtonLabel(){return a(q)},get intent(){return a(d)},get disabled(){return m()},$$events:{remove:()=>W(a(z))},children:(f,c)=>{re();var T=le();j(()=>P(T,a(p))),h(f,T)},$$slots:{default:!0}})}),h(e,t)};A(Y,e=>{s().length>0&&!U()&&e(xe)})}var i=C(Y,2);Pe(i);let Z;I(()=>Ae(i,()=>a(k),e=>G(k,e))),I(()=>Q("blur",i,be)),I(()=>Q("keydown",i,Ee(_e))),I(()=>Q("paste",i,he)),De(i,(e,t)=>O==null?void 0:O(e),s),_(N);var $=C(N,2);{var we=e=>{var t=Je(),r=x(t);let l;var p=x(r);{var z=d=>{var f=Ge(),c=x(f,!0);_(f),j(()=>P(c,J())),h(d,f)};A(p,d=>{a(L)&&J()&&d(z)})}_(r);var B=C(r,2);{var q=d=>{var f=Ie(),c=x(f);let T;var Ce=x(c,!0);_(c);var je=C(c);_(f),j(F=>{var D;T=E(c,1,"text-information svelte-ej7kzn",null,T,F),P(Ce,((D=s())==null?void 0:D.length)??0),P(je,` / ${u()??""}`)},[()=>{var F,D;return{warn:u()-((F=s())==null?void 0:F.length)<=5,error:u()===((D=s())==null?void 0:D.length)}}],g),h(d,f)};A(B,d=>{u()&&!m()&&d(q)})}_(t),j(d=>{l=E(r,1,"error-msg svelte-ej7kzn",null,l,d),w(r,"aria-live",a(L)?"assertive":"off")},[()=>({"min-width":u()})],g),h(e,t)};A($,e=>{(a(L)&&J()||u()&&!m())&&e(we)})}var ye=C($,2);{var ke=e=>{var t=Oe();se(t,7,s,(r,l)=>`${r}-${l}`,(r,l,p)=>{const z=g(()=>V()(a(l))),B=g(()=>typeof y()=="string"?y():y()(a(l))),q=g(()=>a(z)?"default":"warning");ie(r,{get removeButtonLabel(){return a(B)},get intent(){return a(q)},get disabled(){return m()},$$events:{remove:()=>W(a(p))},children:(d,f)=>{re();var c=le();j(()=>P(c,a(l))),h(d,c)},$$slots:{default:!0}})}),_(t),h(e,t)};A(ye,e=>{s().length>0&&U()&&e(ke)})}_(K),j((e,t,r)=>{E(K,1,e,"svelte-ej7kzn"),E(N,1,t,"svelte-ej7kzn"),i.disabled=m(),w(i,"placeholder",R()),w(i,"id",M()),w(i,"name",me()),i.required=S(),w(i,"data-testid",M()),w(i,"maxlength",u()&&s().length>=u()?0:void 0),w(i,"size",R().length||void 0),Z=E(i,1,"svelte-ej7kzn",null,Z,r)},[()=>ne(oe("group flex flex-col gap-1",m()&&"cursor-not-allowed",pe())),()=>ne(oe("surface-primary flex min-h-[2.5rem] w-full flex-row flex-wrap gap-1 overflow-y-scroll border border-subtle p-2 text-sm text-primary focus-within:border-interactive focus-within:ring-2 focus-within:ring-primary/70",m()&&"cursor-not-allowed opacity-65",a(L)&&"invalid")),()=>({"cursor-not-allowed":m()})],g),h(de,K),Be(),ue()}export{dt as C};
