import"./Bzak7iHL.js";import{p as Xe,h as Qe,f as Me,e as a,b as Ze,t as de,i as Be,c as ft,r as pe,j as c,o as Pe,g as e,u as l,n as Ge,k as m,ag as yt,s as tt}from"./DtSMpxPp.js";import{e as Fe,s as d,d as gt}from"./ChP_J8fE.js";import{i as o}from"./BUX2ey9N.js";import{p as C,s as Je,a as Ie,c as rt}from"./QkTQNHha.js";import{p as ut}from"./eFhPvvlM.js";import{W as _t}from"./D2AUmkDq.js";import{B as ht}from"./CsMNScE5.js";import{i as ot,c as xt,w as Tt}from"./_Af9DppT.js";import{f as xe,r as Bt,t as pt}from"./D8JWfvYP.js";import{S as Te}from"./S6Q2Q0ub.js";import{i as Ft}from"./Dzb719w0.js";import{k as It}from"./CHqpB290.js";import{g as Dt}from"./CT3a8W8Y.js";import{c as Ue,i as Vt}from"./Di_Mnq80.js";import{k as Ct}from"./BRum-A55.js";import"./69_IOA4Y.js";import{k as St}from"./CdG1RbPO.js";import{c as Wt,a as at}from"./Dbhi2jYg.js";import{p as st,s as lt}from"./Bfc47y5P.js";import{i as Ot,t as At}from"./DM92YGvC.js";import{I as it}from"./Db7F_qcf.js";import{c as Et}from"./BfFy7Osf.js";import{L as nt}from"./BUnIviOY.js";import{T as Rt}from"./B5dU76Br.js";import{t as Ye}from"./BXv1jDVW.js";import{w as ze}from"./DRGlGvoG.js";import{u as jt}from"./rsWu6Zb2.js";import{s as Pt}from"./BDfAQ6r3.js";const Mt=(_,t=2)=>{if(!+_)return"0 Bytes";const g=1024,L=t<0?0:t,w=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],h=Math.floor(Math.log(_)/Math.log(g));return`${parseFloat((_/Math.pow(g,h)).toFixed(L))} ${w[h]}`};var Lt=de('<button id="filter-button"><!></button>'),qt=de('<button class="copy-or-filter-button svelte-qwjj97" id="copy-button"><!></button>'),Ht=de("<div><!> <!></div>");function Kt(_,t){Xe(t,!1);const[g,L]=Je(),w=()=>Ie(we,"$copied",g);let h=C(t,"show",8,!1),W=C(t,"filterable",8,!0),q=C(t,"copyable",8,!0),O=C(t,"content",8),H=C(t,"onFilter",8,()=>{}),r=C(t,"filtered",8,!1),K=C(t,"copyIconTitle",8),oe=C(t,"copySuccessIconTitle",8),x=C(t,"filterIconTitle",8),X=C(t,"class",8,"");const{copy:Z,copied:we}=Et();Ot();var J=Qe(),be=Me(J);{var i=S=>{var f=Ht(),u=Be(f);{var T=s=>{var v=Lt();let j;var $=Be(v);St($,r,n=>{it(n,{get title(){return x()},name:"filter",class:"m-1"})}),pe(v),c(n=>j=at(v,1,"copy-or-filter-button svelte-qwjj97",null,j,n),[()=>({filtered:r()})],Pe),Fe("click",v,st(lt(function(...n){var p;(p=H())==null||p.apply(this,n)}))),a(s,v)};o(u,s=>{W()&&s(T)})}var B=ft(u,2);{var Y=s=>{var v=qt(),j=Be(v);const $=Pe(()=>w()?oe():K()),n=Pe(()=>w()?"checkmark":"copy");it(j,{get title(){return e($)},get name(){return e(n)},class:"m-1"}),pe(v),Fe("click",v,st(lt(p=>Z(p,O())))),a(s,v)};o(B,s=>{q()&&s(Y)})}pe(f),c(s=>at(f,1,s,"svelte-qwjj97"),[()=>Wt(At("copy-or-filter",X()))],Pe),a(S,f)};o(be,S=>{h()&&S(i)})}a(_,J),Ze(),L()}var Nt=de("<!> <!>",1);function G(_,t){Xe(t,!0);const[g,L]=Je(),w=()=>Ie(ze,"$workflowFilters",g);let h=C(t,"filterOrCopyButtonsVisible",3,!1),W=C(t,"type",19,()=>Te.KEYWORD);const q=i=>i.length>11?`${i.slice(0,4)}...${i.slice(-4)}`:i,O=t.attribute==="RunId",H=()=>{const i=w().find(f=>f.attribute===t.attribute),S=()=>w().filter(f=>f.attribute!==t.attribute);if(!i||i.value!==t.value){const f={attribute:t.attribute,type:W(),value:t.value,conditional:"=",operator:"",parenthesis:""};rt(ze,[...S(),f])}else rt(ze,[...S()]);jt(ut.url,w())};var r=Nt(),K=Me(r);{var oe=i=>{Rt(i,{get text(){return t.value},top:!0,class:"min-w-0",children:(S,f)=>{nt(S,{get href(){return t.href},class:"cursor-help",children:(u,T)=>{Ge();var B=m();c(Y=>d(B,Y),[()=>q(t.value)]),a(u,B)},$$slots:{default:!0}})},$$slots:{default:!0}})},x=(i,S)=>{{var f=T=>{nt(T,{get href(){return t.href},children:(B,Y)=>{Ge();var s=m();c(()=>d(s,t.value)),a(B,s)},$$slots:{default:!0}})},u=T=>{var B=m();c(()=>d(B,t.value)),a(T,B)};o(i,T=>{t.href?T(f):T(u,!1)},S)}};o(K,i=>{O?i(oe):i(x,!1)})}var X=ft(K,2);const Z=l(()=>Ye("common.copy-icon-title")),we=l(()=>Ye("common.copy-success-icon-title")),J=l(()=>Ye("common.filter-workflows")),be=l(()=>w().some(i=>i.attribute===t.attribute&&i.value===t.value));Kt(X,{get copyIconTitle(){return e(Z)},get copySuccessIconTitle(){return e(we)},get filterIconTitle(){return e(J)},get show(){return h()},get content(){return t.value},onFilter:H,get filtered(){return e(be)}}),a(_,r),Ze(),L()}const Ut=(_,t)=>{const g=_.relatedTarget;g&&!["filter-button","copy-button"].includes(g.id)&&t()};var Yt=de('<td class="workflows-summary-table-body-cell filterable svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>'),zt=de('<td class="workflows-summary-table-body-cell svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>');function Br(_,t){Xe(t,!0);const[g,L]=Je(),w=()=>Ie(xt,"$customSearchAttributes",g),h=()=>Ie(pt,"$timeFormat",g),W=()=>Ie(Bt,"$relativeTime",g);var q,O;let H=C(t,"archival",3,!1);const r=l(()=>t.column.label),K=l(()=>ut.params.namespace),oe=l(()=>ot(e(r))&&(w()[e(r)]===Te.KEYWORD||w()[e(r)]===Te.TEXT)&&typeof((O=(q=t.workflow.searchAttributes)===null||q===void 0?void 0:q.indexedFields)===null||O===void 0?void 0:O[e(r)])=="string");let x=yt(!1);const X=()=>tt(x,!0),Z=()=>tt(x,!1),we=["Type","Workflow ID","Run ID","Deployment","Versioning Behavior","Deployment Version","Build ID"];var J=Qe(),be=Me(J);{var i=f=>{var u=Yt();u.__mouseover=X,u.__focusin=X,u.__focusout=[Ut,Z];var T=Be(u);{var B=s=>{const v=l(()=>Ue({namespace:e(K),workflow:t.workflow.id,run:t.workflow.runId,archival:H()}));G(s,{get filterOrCopyButtonsVisible(){return e(x)},attribute:"WorkflowType",get value(){return t.workflow.name},get href(){return e(v)}})},Y=(s,v)=>{{var j=n=>{const p=l(()=>Ue({namespace:e(K),workflow:t.workflow.id,run:t.workflow.runId,archival:H()}));G(n,{get filterOrCopyButtonsVisible(){return e(x)},attribute:"WorkflowId",get value(){return t.workflow.id},get href(){return e(p)}})},$=(n,p)=>{{var ke=F=>{const z=l(()=>Ue({namespace:e(K),workflow:t.workflow.id,run:t.workflow.runId,archival:H()}));G(F,{get filterOrCopyButtonsVisible(){return e(x)},attribute:"RunId",get value(){return t.workflow.runId},get href(){return e(z)}})},Le=(F,z)=>{{var ye=I=>{const A=l(()=>{var b,D;return(D=(b=t.workflow.searchAttributes)==null?void 0:b.indexedFields)==null?void 0:D.TemporalWorkerDeployment}),ge=l(()=>e(A)&&typeof e(A)=="string"?e(A):""),_e=l(()=>Vt({namespace:e(K),deployment:e(A)}));G(I,{get filterOrCopyButtonsVisible(){return e(x)},attribute:"TemporalWorkerDeployment",get value(){return e(ge)},get href(){return e(_e)}})},qe=(I,A)=>{{var ge=b=>{const D=l(()=>{var ae,k;return(k=(ae=t.workflow.searchAttributes)==null?void 0:ae.indexedFields)==null?void 0:k.TemporalWorkerDeploymentVersion}),Q=l(()=>e(D)&&typeof e(D)=="string"?e(D):"");G(b,{get filterOrCopyButtonsVisible(){return e(x)},attribute:"TemporalWorkerDeploymentVersion",get value(){return e(Q)}})},_e=(b,D)=>{{var Q=k=>{const P=l(()=>{var se,y,V,M,E;return((V=(y=(se=t.workflow)==null?void 0:se.searchAttributes)==null?void 0:y.indexedFields)==null?void 0:V.TemporalWorkerBuildId)||Dt((E=(M=t.workflow.searchAttributes)==null?void 0:M.indexedFields)==null?void 0:E.TemporalWorkerDeploymentVersion)}),ee=l(()=>e(P)&&typeof e(P)=="string"?e(P):"");G(k,{get filterOrCopyButtonsVisible(){return e(x)},attribute:"TemporalWorkerBuildId",get value(){return e(ee)}})},ae=(k,P)=>{{var ee=y=>{const V=l(()=>{var E,R;return(R=(E=t.workflow.searchAttributes)==null?void 0:E.indexedFields)==null?void 0:R.TemporalWorkflowVersioningBehavior}),M=l(()=>e(V)&&typeof e(V)=="string"?e(V):"");G(y,{get filterOrCopyButtonsVisible(){return e(x)},attribute:"TemporalWorkflowVersioningBehavior",get value(){return e(M)}})},se=(y,V)=>{{var M=E=>{const R=l(()=>{var te,le;return(le=(te=t.workflow.searchAttributes)==null?void 0:te.indexedFields)==null?void 0:le[e(r)]});G(E,{get filterOrCopyButtonsVisible(){return e(x)},get attribute(){return e(r)},get value(){return e(R)},get type(){return w()[e(r)]}})};o(y,E=>{e(oe)&&E(M)},V)}};o(k,y=>{e(r)==="Versioning Behavior"?y(ee):y(se,!1)},P)}};o(b,k=>{e(r)==="Build ID"?k(Q):k(ae,!1)},D)}};o(I,b=>{e(r)==="Deployment Version"?b(ge):b(_e,!1)},A)}};o(F,I=>{e(r)==="Deployment"?I(ye):I(qe,!1)},z)}};o(n,F=>{e(r)==="Run ID"?F(ke):F(Le,!1)},p)}};o(s,n=>{e(r)==="Workflow ID"?n(j):n($,!1)},v)}};o(T,s=>{e(r)==="Type"?s(B):s(Y,!1)})}pe(u),Fe("focus",u,X),Fe("mouseleave",u,Z),Fe("blur",u,Z),a(f,u)},S=f=>{var u=zt(),T=Be(u);{var B=s=>{const v=l(()=>Ft(t.workflow)),j=l(()=>Ct(t.workflow));_t(s,{get status(){return t.workflow.status},get delayed(){return e(v)},get taskFailure(){return e(j)}})},Y=(s,v)=>{{var j=n=>{var p=m();c(ke=>d(p,ke),[()=>xe(t.workflow.endTime,h(),{relative:W()})]),a(n,p)},$=(n,p)=>{{var ke=F=>{var z=m();c(ye=>d(z,ye),[()=>xe(t.workflow.startTime,h(),{relative:W()})]),a(F,z)},Le=(F,z)=>{{var ye=I=>{var A=m();c(()=>d(A,t.workflow.taskQueue)),a(I,A)},qe=(I,A)=>{{var ge=b=>{var D=m();c(()=>{var Q;return d(D,((Q=t.workflow)==null?void 0:Q.parentNamespaceId)??"")}),a(b,D)},_e=(b,D)=>{{var Q=k=>{var P=m();c(ee=>d(P,ee),[()=>Mt(parseInt(t.workflow.historySizeBytes,10))]),a(k,P)},ae=(k,P)=>{{var ee=y=>{var V=m();c(M=>d(V,M),[()=>parseInt(t.workflow.stateTransitionCount,10)>0?t.workflow.stateTransitionCount:""]),a(y,V)},se=(y,V)=>{{var M=R=>{var te=m();c(le=>d(te,le),[()=>xe(t.workflow.executionTime,h(),{relative:W()})]),a(R,te)},E=(R,te)=>{{var le=ie=>{var De=m();c(He=>d(De,He),[()=>It({start:t.workflow.startTime,end:t.workflow.endTime,includeMillisecondsForUnderSecond:!0})]),a(ie,De)},ct=(ie,De)=>{{var He=ne=>{var Ve=m();c(Ke=>d(Ve,Ke),[()=>parseInt(t.workflow.historyEvents,10)>0?t.workflow.historyEvents:""]),a(ne,Ve)},vt=(ne,Ve)=>{{var Ke=fe=>{var Ce=m();c(()=>{var Se,We;return d(Ce,((We=(Se=t.workflow.searchAttributes)==null?void 0:Se.indexedFields)==null?void 0:We.TemporalScheduledById)??"")}),a(fe,Ce)},mt=(fe,Ce)=>{{var Se=ue=>{var Oe=m();const he=l(()=>{var ce,N;return(N=(ce=t.workflow.searchAttributes)==null?void 0:ce.indexedFields)==null?void 0:N.TemporalScheduledStartTime});c(ce=>d(Oe,ce),[()=>e(he)&&typeof e(he)=="string"?xe(e(he),h(),{relative:W()}):""]),a(ue,Oe)},We=(ue,Oe)=>{{var he=N=>{var Ae=m();c(()=>{var Ee,ve;return d(Ae,(ve=(Ee=t.workflow.searchAttributes)==null?void 0:Ee.indexedFields)==null?void 0:ve.TemporalChangeVersion)}),a(N,Ae)},ce=(N,Ae)=>{{var Ee=ve=>{var $e=Qe();const Re=l(()=>{var U,re;return(re=(U=t.workflow.searchAttributes)==null?void 0:U.indexedFields)==null?void 0:re[e(r)]});var dt=Me($e);{var wt=U=>{var re=m();c(Ne=>d(re,Ne),[()=>xe(e(Re),h(),{relative:W()})]),a(U,re)},bt=(U,re)=>{{var Ne=me=>{ht(me,{children:(je,Qt)=>{Ge();var et=m();c(()=>d(et,e(Re))),a(je,et)},$$slots:{default:!0}})},kt=me=>{var je=m();c(()=>d(je,e(Re))),a(me,je)};o(U,me=>{w()[e(r)]===Te.BOOL?me(Ne):me(kt,!1)},re)}};o(dt,U=>{w()[e(r)]===Te.DATETIME&&typeof e(Re)=="string"?U(wt):U(bt,!1)})}a(ve,$e)};o(N,ve=>{ot(e(r))&&Tt(t.workflow,e(r))&&ve(Ee)},Ae)}};o(ue,N=>{e(r)==="Change Version"?N(he):N(ce,!1)},Oe)}};o(fe,ue=>{e(r)==="Scheduled Start Time"?ue(Se):ue(We,!1)},Ce)}};o(ne,fe=>{e(r)==="Scheduled By ID"?fe(Ke):fe(mt,!1)},Ve)}};o(ie,ne=>{e(r)==="History Length"?ne(He):ne(vt,!1)},De)}};o(R,ie=>{e(r)==="Execution Duration"?ie(le):ie(ct,!1)},te)}};o(y,R=>{e(r)==="Execution Time"?R(M):R(E,!1)},V)}};o(k,y=>{e(r)==="State Transitions"?y(ee):y(se,!1)},P)}};o(b,k=>{e(r)==="History Size"?k(Q):k(ae,!1)},D)}};o(I,b=>{e(r)==="Parent Namespace"?b(ge):b(_e,!1)},A)}};o(F,I=>{e(r)==="Task Queue"?I(ye):I(qe,!1)},z)}};o(n,F=>{e(r)==="Start"?F(ke):F(Le,!1)},p)}};o(s,n=>{e(r)==="End"?n(j):n($,!1)},v)}};o(T,s=>{e(r)==="Status"?s(B):s(Y,!1)})}pe(u),a(f,u)};o(be,f=>{we.includes(e(r))||e(oe)?f(i):f(S,!1)})}a(_,J),Ze(),L()}gt(["mouseover","focusin","focusout"]);const pr=(_,t)=>{const g=Pt({workflows:_},null,2),L=`workflows-${_.length}-${t}-${Date.now()}.json`;w(g,L,"text/plain");function w(h,W,q){const O=document.createElement("a"),H=new Blob([h],{type:q});O.href=URL.createObjectURL(H),O.download=W,O.click()}};export{Br as T,pr as e};
