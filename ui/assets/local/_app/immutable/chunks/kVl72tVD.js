import"./Bzak7iHL.js";import{p as Qe,h as ze,f as Me,e as a,b as Ge,t as de,i as pe,c as lt,r as Be,j as i,o as Re,g as e,u as s,n as it,k as m,ah as wt,s as $e}from"./DbzSl5JP.js";import{e as Ie,s as v,d as bt}from"./B3b0ZBK9.js";import{i as o}from"./BwgIsUu1.js";import{p as V,s as Xe,a as ve,c as et}from"./BV6aaRB7.js";import{p as yt}from"./De5KKHZh.js";import{W as kt}from"./B747axJq.js";import{B as gt}from"./CQ8G9PIZ.js";import{i as tt,c as _t,w as ht}from"./CChGWUcS.js";import{f as xe,r as xt,t as Tt}from"./ChxEr8nO.js";import{S as Te}from"./S6Q2Q0ub.js";import{i as pt}from"./Dzb719w0.js";import{k as Bt}from"./CHqpB290.js";import{g as It}from"./CT3a8W8Y.js";import{c as Ne,h as Ft}from"./C-y8ZfCl.js";import{p as Dt}from"./D9lim3ik.js";import"./69_IOA4Y.js";import{k as Vt}from"./D8vk1LEJ.js";import{c as Ct,s as rt}from"./TqT1w0aw.js";import{p as ot,s as at}from"./Bfc47y5P.js";import{i as St,t as Ot}from"./0AwovCk4.js";import{I as st}from"./ZcSUWOp6.js";import{c as Wt}from"./CB4jg7uG.js";import{L as At}from"./Cz2Ad3ct.js";import{t as Ue}from"./BXv1jDVW.js";import{w as Ye}from"./BkUhtw_-.js";import{u as Et}from"./ESzEjJ6f.js";import{s as jt}from"./BDfAQ6r3.js";const Rt=(h,t=2)=>{if(!+h)return"0 Bytes";const d=1024,P=t<0?0:t,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],x=Math.floor(Math.log(h)/Math.log(d));return`${parseFloat((h/Math.pow(d,x)).toFixed(P))} ${n[x]}`};var Mt=de('<button id="filter-button"><!></button>'),Lt=de('<button class="copy-or-filter-button svelte-qwjj97" id="copy-button"><!></button>'),Pt=de("<div><!> <!></div>");function qt(h,t){Qe(t,!1);const[d,P]=Xe(),n=()=>ve(ee,"$copied",d);let x=V(t,"show",8,!1),C=V(t,"filterable",8,!0),q=V(t,"copyable",8,!0),S=V(t,"content",8),r=V(t,"onFilter",8,()=>{}),j=V(t,"filtered",8,!1),$=V(t,"copyIconTitle",8),T=V(t,"copySuccessIconTitle",8),Q=V(t,"filterIconTitle",8),G=V(t,"class",8,"");const{copy:we,copied:ee}=Wt();St();var te=ze(),w=Me(te);{var O=f=>{var l=Pt(),re=pe(l);{var be=u=>{var p=Mt();let N;var c=pe(p);Vt(c,j,b=>{st(b,{get title(){return Q()},name:"filter",class:"m-1"})}),Be(p),i(b=>N=rt(p,1,"copy-or-filter-button svelte-qwjj97",null,N,b),[()=>({filtered:j()})],Re),Ie("click",p,ot(at(function(...b){var R;(R=r())==null||R.apply(this,b)}))),a(u,p)};o(re,u=>{C()&&u(be)})}var ye=lt(re,2);{var _=u=>{var p=Lt(),N=pe(p);const c=Re(()=>n()?T():$()),b=Re(()=>n()?"checkmark":"copy");st(N,{get title(){return e(c)},get name(){return e(b)},class:"m-1"}),Be(p),Ie("click",p,ot(at(R=>we(R,S())))),a(u,p)};o(ye,u=>{q()&&u(_)})}Be(l),i(u=>rt(l,1,u,"svelte-qwjj97"),[()=>Ct(Ot("copy-or-filter",G()))],Re),a(f,l)};o(w,f=>{x()&&f(O)})}a(h,te),Ge(),P()}var Ht=de("<!> <!>",1);function z(h,t){Qe(t,!0);const[d,P]=Xe(),n=()=>ve(Ye,"$workflowFilters",d),x=()=>ve(Dt,"$page",d);let C=V(t,"filterOrCopyButtonsVisible",3,!1),q=V(t,"type",19,()=>Te.KEYWORD);const S=()=>{const w=n().find(f=>f.attribute===t.attribute),O=()=>n().filter(f=>f.attribute!==t.attribute);if(!w||w.value!==t.value){const f={attribute:t.attribute,type:q(),value:t.value,conditional:"=",operator:"",parenthesis:""};et(Ye,[...O(),f])}else et(Ye,[...O()]);Et(x().url,n())};var r=Ht(),j=Me(r);{var $=w=>{At(w,{get href(){return t.href},children:(O,f)=>{it();var l=m();i(()=>v(l,t.value)),a(O,l)},$$slots:{default:!0}})},T=w=>{var O=m();i(()=>v(O,t.value)),a(w,O)};o(j,w=>{t.href?w($):w(T,!1)})}var Q=lt(j,2);const G=s(()=>Ue("common.copy-icon-title")),we=s(()=>Ue("common.copy-success-icon-title")),ee=s(()=>Ue("common.filter-workflows")),te=s(()=>n().some(w=>w.attribute===t.attribute&&w.value===t.value));qt(Q,{get copyIconTitle(){return e(G)},get copySuccessIconTitle(){return e(we)},get filterIconTitle(){return e(ee)},get show(){return C()},get content(){return t.value},onFilter:S,get filtered(){return e(te)}}),a(h,r),Ge(),P()}const Kt=(h,t)=>{const d=h.relatedTarget;d&&!["filter-button","copy-button"].includes(d.id)&&t()};var Nt=de('<td class="workflows-summary-table-body-cell filterable svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>'),Ut=de('<td class="workflows-summary-table-body-cell svelte-njqsv2" data-testid="workflows-summary-table-body-cell"><!></td>');function hr(h,t){Qe(t,!0);const[d,P]=Xe(),n=()=>ve(_t,"$customSearchAttributes",d),x=()=>ve(Tt,"$timeFormat",d),C=()=>ve(xt,"$relativeTime",d);var q,S;const r=s(()=>t.column.label),j=s(()=>yt.params.namespace),$=s(()=>tt(e(r))&&(n()[e(r)]===Te.KEYWORD||n()[e(r)]===Te.TEXT)&&typeof((S=(q=t.workflow.searchAttributes)===null||q===void 0?void 0:q.indexedFields)===null||S===void 0?void 0:S[e(r)])=="string");let T=wt(!1);const Q=()=>$e(T,!0),G=()=>$e(T,!1),we=["Type","Workflow ID","Run ID","Deployment","Versioning Behavior","Deployment Version","Build ID"];var ee=ze(),te=Me(ee);{var w=f=>{var l=Nt();l.__mouseover=Q,l.__focusin=Q,l.__focusout=[Kt,G];var re=pe(l);{var be=_=>{const u=s(()=>Ne({namespace:e(j),workflow:t.workflow.id,run:t.workflow.runId}));z(_,{get filterOrCopyButtonsVisible(){return e(T)},attribute:"WorkflowType",get value(){return t.workflow.name},get href(){return e(u)}})},ye=(_,u)=>{{var p=c=>{const b=s(()=>Ne({namespace:e(j),workflow:t.workflow.id,run:t.workflow.runId}));z(c,{get filterOrCopyButtonsVisible(){return e(T)},attribute:"WorkflowId",get value(){return t.workflow.id},get href(){return e(b)}})},N=(c,b)=>{{var R=B=>{const U=s(()=>Ne({namespace:e(j),workflow:t.workflow.id,run:t.workflow.runId}));z(B,{get filterOrCopyButtonsVisible(){return e(T)},attribute:"RunId",get value(){return t.workflow.runId},get href(){return e(U)}})},Le=(B,U)=>{{var ke=I=>{const W=s(()=>{var y,F;return(F=(y=t.workflow.searchAttributes)==null?void 0:y.indexedFields)==null?void 0:F.TemporalWorkerDeployment}),ge=s(()=>e(W)&&typeof e(W)=="string"?e(W):""),_e=s(()=>Ft({namespace:e(j),deployment:e(W)}));z(I,{get filterOrCopyButtonsVisible(){return e(T)},attribute:"TemporalWorkerDeployment",get value(){return e(ge)},get href(){return e(_e)}})},Pe=(I,W)=>{{var ge=y=>{const F=s(()=>{var oe,k;return(k=(oe=t.workflow.searchAttributes)==null?void 0:oe.indexedFields)==null?void 0:k.TemporalWorkerDeploymentVersion}),Y=s(()=>e(F)&&typeof e(F)=="string"?e(F):"");z(y,{get filterOrCopyButtonsVisible(){return e(T)},attribute:"TemporalWorkerDeploymentVersion",get value(){return e(Y)}})},_e=(y,F)=>{{var Y=k=>{const M=s(()=>{var ae,g,D,L,A;return((D=(g=(ae=t.workflow)==null?void 0:ae.searchAttributes)==null?void 0:g.indexedFields)==null?void 0:D.TemporalWorkerBuildId)||It((A=(L=t.workflow.searchAttributes)==null?void 0:L.indexedFields)==null?void 0:A.TemporalWorkerDeploymentVersion)}),X=s(()=>e(M)&&typeof e(M)=="string"?e(M):"");z(k,{get filterOrCopyButtonsVisible(){return e(T)},attribute:"TemporalWorkerBuildId",get value(){return e(X)}})},oe=(k,M)=>{{var X=g=>{const D=s(()=>{var A,E;return(E=(A=t.workflow.searchAttributes)==null?void 0:A.indexedFields)==null?void 0:E.TemporalWorkflowVersioningBehavior}),L=s(()=>e(D)&&typeof e(D)=="string"?e(D):"");z(g,{get filterOrCopyButtonsVisible(){return e(T)},attribute:"TemporalWorkflowVersioningBehavior",get value(){return e(L)}})},ae=(g,D)=>{{var L=A=>{const E=s(()=>{var Z,se;return(se=(Z=t.workflow.searchAttributes)==null?void 0:Z.indexedFields)==null?void 0:se[e(r)]});z(A,{get filterOrCopyButtonsVisible(){return e(T)},get attribute(){return e(r)},get value(){return e(E)},get type(){return n()[e(r)]}})};o(g,A=>{e($)&&A(L)},D)}};o(k,g=>{e(r)==="Versioning Behavior"?g(X):g(ae,!1)},M)}};o(y,k=>{e(r)==="Build ID"?k(Y):k(oe,!1)},F)}};o(I,y=>{e(r)==="Deployment Version"?y(ge):y(_e,!1)},W)}};o(B,I=>{e(r)==="Deployment"?I(ke):I(Pe,!1)},U)}};o(c,B=>{e(r)==="Run ID"?B(R):B(Le,!1)},b)}};o(_,c=>{e(r)==="Workflow ID"?c(p):c(N,!1)},u)}};o(re,_=>{e(r)==="Type"?_(be):_(ye,!1)})}Be(l),Ie("focus",l,Q),Ie("mouseleave",l,G),Ie("blur",l,G),a(f,l)},O=f=>{var l=Ut(),re=pe(l);{var be=_=>{const u=s(()=>pt(t.workflow));kt(_,{get status(){return t.workflow.status},get delayed(){return e(u)}})},ye=(_,u)=>{{var p=c=>{var b=m();i(R=>v(b,R),[()=>xe(t.workflow.endTime,x(),{relative:C()})]),a(c,b)},N=(c,b)=>{{var R=B=>{var U=m();i(ke=>v(U,ke),[()=>xe(t.workflow.startTime,x(),{relative:C()})]),a(B,U)},Le=(B,U)=>{{var ke=I=>{var W=m();i(()=>v(W,t.workflow.taskQueue)),a(I,W)},Pe=(I,W)=>{{var ge=y=>{var F=m();i(()=>{var Y;return v(F,((Y=t.workflow)==null?void 0:Y.parentNamespaceId)??"")}),a(y,F)},_e=(y,F)=>{{var Y=k=>{var M=m();i(X=>v(M,X),[()=>Rt(parseInt(t.workflow.historySizeBytes,10))]),a(k,M)},oe=(k,M)=>{{var X=g=>{var D=m();i(L=>v(D,L),[()=>parseInt(t.workflow.stateTransitionCount,10)>0?t.workflow.stateTransitionCount:""]),a(g,D)},ae=(g,D)=>{{var L=E=>{var Z=m();i(se=>v(Z,se),[()=>xe(t.workflow.executionTime,x(),{relative:C()})]),a(E,Z)},A=(E,Z)=>{{var se=le=>{var Fe=m();i(qe=>v(Fe,qe),[()=>Bt({start:t.workflow.startTime,end:t.workflow.endTime,includeMillisecondsForUnderSecond:!0})]),a(le,Fe)},nt=(le,Fe)=>{{var qe=ie=>{var De=m();i(He=>v(De,He),[()=>parseInt(t.workflow.historyEvents,10)>0?t.workflow.historyEvents:""]),a(ie,De)},ft=(ie,De)=>{{var He=ne=>{var Ve=m();i(()=>{var Ce,Se;return v(Ve,((Se=(Ce=t.workflow.searchAttributes)==null?void 0:Ce.indexedFields)==null?void 0:Se.TemporalScheduledById)??"")}),a(ne,Ve)},ut=(ne,Ve)=>{{var Ce=fe=>{var Oe=m();const he=s(()=>{var ue,H;return(H=(ue=t.workflow.searchAttributes)==null?void 0:ue.indexedFields)==null?void 0:H.TemporalScheduledStartTime});i(ue=>v(Oe,ue),[()=>e(he)&&typeof e(he)=="string"?xe(e(he),x(),{relative:C()}):""]),a(fe,Oe)},Se=(fe,Oe)=>{{var he=H=>{var We=m();i(()=>{var Ae,ce;return v(We,(ce=(Ae=t.workflow.searchAttributes)==null?void 0:Ae.indexedFields)==null?void 0:ce.TemporalChangeVersion)}),a(H,We)},ue=(H,We)=>{{var Ae=ce=>{var Ze=ze();const Ee=s(()=>{var K,J;return(J=(K=t.workflow.searchAttributes)==null?void 0:K.indexedFields)==null?void 0:J[e(r)]});var ct=Me(Ze);{var mt=K=>{var J=m();i(Ke=>v(J,Ke),[()=>xe(e(Ee),x(),{relative:C()})]),a(K,J)},vt=(K,J)=>{{var Ke=me=>{gt(me,{children:(je,Yt)=>{it();var Je=m();i(()=>v(Je,e(Ee))),a(je,Je)},$$slots:{default:!0}})},dt=me=>{var je=m();i(()=>v(je,e(Ee))),a(me,je)};o(K,me=>{n()[e(r)]===Te.BOOL?me(Ke):me(dt,!1)},J)}};o(ct,K=>{n()[e(r)]===Te.DATETIME&&typeof e(Ee)=="string"?K(mt):K(vt,!1)})}a(ce,Ze)};o(H,ce=>{tt(e(r))&&ht(t.workflow,e(r))&&ce(Ae)},We)}};o(fe,H=>{e(r)==="Change Version"?H(he):H(ue,!1)},Oe)}};o(ne,fe=>{e(r)==="Scheduled Start Time"?fe(Ce):fe(Se,!1)},Ve)}};o(ie,ne=>{e(r)==="Scheduled By ID"?ne(He):ne(ut,!1)},De)}};o(le,ie=>{e(r)==="History Length"?ie(qe):ie(ft,!1)},Fe)}};o(E,le=>{e(r)==="Execution Duration"?le(se):le(nt,!1)},Z)}};o(g,E=>{e(r)==="Execution Time"?E(L):E(A,!1)},D)}};o(k,g=>{e(r)==="State Transitions"?g(X):g(ae,!1)},M)}};o(y,k=>{e(r)==="History Size"?k(Y):k(oe,!1)},F)}};o(I,y=>{e(r)==="Parent Namespace"?y(ge):y(_e,!1)},W)}};o(B,I=>{e(r)==="Task Queue"?I(ke):I(Pe,!1)},U)}};o(c,B=>{e(r)==="Start"?B(R):B(Le,!1)},b)}};o(_,c=>{e(r)==="End"?c(p):c(N,!1)},u)}};o(re,_=>{e(r)==="Status"?_(be):_(ye,!1)})}Be(l),a(f,l)};o(te,f=>{we.includes(e(r))||e($)?f(w):f(O,!1)})}a(h,ee),Ge(),P()}bt(["mouseover","focusin","focusout"]);const xr=(h,t)=>{const d=jt({workflows:h},null,2),P=`workflows-${h.length}-${t}-${Date.now()}.json`;n(d,P,"text/plain");function n(x,C,q){const S=document.createElement("a"),r=new Blob([x],{type:q});S.href=URL.createObjectURL(r),S.download=C,S.click()}};export{hr as T,xr as e};
