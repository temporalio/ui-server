import{W as f}from"./index.c37b9eda.js";import{d as o}from"./index.169c571c.js";import{p as m}from"./stores.b0e43038.js";import{i as l}from"./version-check.d006b302.js";import{c as n}from"./cluster.2ab2aa40.js";import{t as d}from"./versions.c1445554.js";import{l as u,m as c,n as s,o as p}from"./format-time.22e101f2.js";const y=(t,r)=>{var e;return((e=t==null?void 0:t.visibilityStore)==null?void 0:e.includes("elasticsearch"))||l(r,"1.19")},w=t=>{var r;return(r=t==null?void 0:t.visibilityStore)==null?void 0:r.includes("elasticsearch")},a=o([m],([t])=>{var r,e,i;return(i=(e=(r=t.data)==null?void 0:r.settings)==null?void 0:e.runtimeEnvironment)==null?void 0:i.isCloud}),S=o([n,d,a],([t,r,e])=>y(t,r)||e);o([n,a],([t,r])=>w(t)||r);const b={workflowId:"WorkflowId",workflowType:"WorkflowType",timeRange:"StartTime",executionStatus:"ExecutionStatus",closeTime:"CloseTime"},g=["workflowId","workflowType","timeRange","executionStatus","closeTime"],T=t=>!(t===null||t===void 0||t===""||typeof t=="string"&&t==="undefined"),E=t=>{if(typeof t!="string")return!1;for(const r of g)if(r===t)return!0;return!1},$=(t,r,e)=>{const i=b[t];return r==="All"?"":u(r)||c(r)?e||f(S)?`${i} > "${s(r)}"`:`${i} BETWEEN "${s(r)}" AND "${p()}"`:`${i}="${r}"`},V=(t,r)=>Object.entries(t).map(([e,i])=>{if(E(e)&&T(i))return $(e,i,r)}).filter(Boolean),B=(t,r=!1)=>V(t,r).join(" and ");export{a as i,S as s,B as t};
