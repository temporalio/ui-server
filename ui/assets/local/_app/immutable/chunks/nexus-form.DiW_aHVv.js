const __vite__fileDeps=["./index.BGOuuoxm.js","./preload-helper.D6kgxu3v.js","../assets/index.CJGLmN9A.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{s as we,x as Me,i as z,f as h,c as Ce,a as Ne,u as De,g as Ee,e as Te,h as O,j as y,k as G,m as J,v as re,r as ze,V as Be,M as Ke,N as ue,b as I,t as te,d as L,l as ne,o as Ge,n as v,O as pe,w as Re,q as Je}from"./scheduler.C46pS-76.js";import{S as Pe,i as Ie,g as Qe,b as $,e as je,t as k,f as ge,c as S,a as F,m as H,d as A}from"./index.dOVbn71B.js";import{w as Ue}from"./entry.BdTCcjhL.js";import{p as We}from"./stores.Cy9JV_ht.js";import{A as Xe}from"./alert.nnKn2vnv.js";import{C as Oe}from"./combobox.pbWXrLxw.js";import{I as Se}from"./input.DCxjM18h.js";import{_ as Ye}from"./preload-helper.D6kgxu3v.js";import{u as Ze}from"./dark-mode.C8Bz6Ogi.js";import{M as xe}from"./markdown.BzN6KO3X.js";import{T as et,a as Fe}from"./toggle-buttons.BVeDXql4.js";import{t as E}from"./translate.BBe5dcco.js";const tt=s=>({}),He=s=>({});function nt(s){let e;const t=s[3].fallback,n=Ne(t,s,s[2],He);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,l){n&&n.m(a,l),e=!0},p(a,l){n&&n.p&&(!e||l&4)&&De(n,t,a,a[2],e?Te(t,a[2],l,tt):Ee(a[2]),He)},i(a){e||(k(n,a),e=!0)},o(a){$(n,a),e=!1},d(a){n&&n.d(a)}}}function st(s){let e;const t=s[3].default,n=Ne(t,s,s[2],null);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,l){n&&n.m(a,l),e=!0},p(a,l){n&&n.p&&(!e||l&4)&&De(n,t,a,a[2],e?Te(t,a[2],l,null):Ee(a[2]),null)},i(a){e||(k(n,a),e=!0)},o(a){$(n,a),e=!1},d(a){n&&n.d(a)}}}function lt(s){let e,t,n,a;const l=[st,nt],r=[];function _(c,f){var m,w,T;return c[0]||(T=(w=(m=c[1].data)==null?void 0:m.settings)==null?void 0:w.runtimeEnvironment)!=null&&T.isCloud?0:1}return e=_(s),t=r[e]=l[e](s),{c(){t.c(),n=Me()},l(c){t.l(c),n=Me()},m(c,f){r[e].m(c,f),z(c,n,f),a=!0},p(c,[f]){let m=e;e=_(c),e===m?r[e].p(c,f):(Qe(),$(r[m],1,1,()=>{r[m]=null}),je(),t=r[e],t?t.p(c,f):(t=r[e]=l[e](c),t.c()),k(t,1),t.m(n.parentNode,n))},i(c){a||(k(t),a=!0)},o(c){$(t),a=!1},d(c){c&&h(n),r[e].d(c)}}}function at(s,e,t){let n;Ce(s,We,_=>t(1,n=_));let{$$slots:a={},$$scope:l}=e,{isCloud:r=!1}=e;return s.$$set=_=>{"isCloud"in _&&t(0,r=_.isCloud),"$$scope"in _&&t(2,l=_.$$scope)},[r,n,l,a]}class ot extends Pe{constructor(e){super(),Ie(this,e,at,lt,we,{isCloud:0})}}function rt(s){let e;return{c(){e=O("div"),this.h()},l(t){e=y(t,"DIV",{class:!0}),G(e).forEach(h),this.h()},h(){J(e,"class","h-full min-h-80")},m(t,n){z(t,e,n),s[4](e)},p:re,i:re,o:re,d(t){t&&h(e),s[4](null)}}}function it(s,e,t){let n;Ce(s,Ze,f=>t(3,n=f));const a=ze();let l,r,{content:_=""}=e;Be(async()=>{t(2,l=(await Ye(()=>import("./index.BGOuuoxm.js").then(w=>w.i),__vite__mapDeps([0,1,2]),import.meta.url)).default);const f=l.editor.create(r,{language:"markdown"}),m=l.editor.createModel(_,"markdown");m.onDidChangeContent(()=>{const w=m.getValue();a("change",{value:w})}),f.setModel(m)}),Ke(()=>{l==null||l.editor.getModels().forEach(f=>f.dispose())});function c(f){ue[f?"unshift":"push"](()=>{r=f,t(0,r)})}return s.$$set=f=>{"content"in f&&t(1,_=f.content)},s.$$.update=()=>{s.$$.dirty&12&&(n?l==null||l.editor.setTheme("vs-dark"):l==null||l.editor.setTheme("vs"))},[r,_,l,n,c]}class ut extends Pe{constructor(e){super(),Ie(this,e,it,rt,we,{content:1})}}const ct=s=>({}),Ae=s=>({});function ft(s){let e,t,n=E("nexus.access-policy")+"",a,l,r,_=E("nexus.allowed-caller-namespaces-description")+"",c,f,m,w,T;function B(d){s[20](d)}let N={id:"caller-namespace-filter-menu",multiselect:!0,displayChips:!1,options:s[12],label:E("nexus.allowed-caller-namespaces"),leadingIcon:"search",noResultsText:E("common.no-results"),valid:!!s[9].length,error:"Please select at least one Namespace.",placeholder:E("nexus.select-namespaces"),optionValueKey:"value",optionLabelKey:"label"};return s[9]!==void 0&&(N.value=s[9]),m=new Oe({props:N}),ue.push(()=>ge(m,"value",B)),{c(){e=O("div"),t=O("p"),a=te(n),l=I(),r=O("p"),c=te(_),f=I(),S(m.$$.fragment),this.h()},l(d){e=y(d,"DIV",{class:!0});var b=G(e);t=y(b,"P",{class:!0});var g=G(t);a=ne(g,n),g.forEach(h),l=L(b),r=y(b,"P",{class:!0});var p=G(r);c=ne(p,_),p.forEach(h),b.forEach(h),f=L(d),F(m.$$.fragment,d),this.h()},h(){J(t,"class","text-base text-primary"),J(r,"class","text-xs text-secondary"),J(e,"class","flex flex-col gap-0")},m(d,b){z(d,e,b),v(e,t),v(t,a),v(e,l),v(e,r),v(r,c),z(d,f,b),H(m,d,b),T=!0},p(d,b){const g={};b[0]&4096&&(g.options=d[12]),b[0]&512&&(g.valid=!!d[9].length),!w&&b[0]&512&&(w=!0,g.value=d[9],pe(()=>w=!1)),m.$set(g)},i(d){T||(k(m.$$.fragment,d),T=!0)},o(d){$(m.$$.fragment,d),T=!1},d(d){d&&(h(e),h(f)),A(m,d)}}}function mt(s){let e=E("common.description")+"",t;return{c(){t=te(e)},l(n){t=ne(n,e)},m(n,a){z(n,t,a)},p:re,d(n){n&&h(t)}}}function dt(s){let e=E("common.preview")+"",t;return{c(){t=te(e)},l(n){t=ne(n,e)},m(n,a){z(n,t,a)},p:re,d(n){n&&h(t)}}}function _t(s){let e,t,n,a;return e=new Fe({props:{active:s[10]===!1,"data-testid":"description-editor",$$slots:{default:[mt]},$$scope:{ctx:s}}}),e.$on("click",s[21]),n=new Fe({props:{active:s[10]===!0,"data-testid":"description-preview",$$slots:{default:[dt]},$$scope:{ctx:s}}}),n.$on("click",s[22]),{c(){S(e.$$.fragment),t=I(),S(n.$$.fragment)},l(l){F(e.$$.fragment,l),t=L(l),F(n.$$.fragment,l)},m(l,r){H(e,l,r),z(l,t,r),H(n,l,r),a=!0},p(l,r){const _={};r[0]&1024&&(_.active=l[10]===!1),r[0]&16777216&&(_.$$scope={dirty:r,ctx:l}),e.$set(_);const c={};r[0]&1024&&(c.active=l[10]===!0),r[0]&16777216&&(c.$$scope={dirty:r,ctx:l}),n.$set(c)},i(l){a||(k(e.$$.fragment,l),k(n.$$.fragment,l),a=!0)},o(l){$(e.$$.fragment,l),$(n.$$.fragment,l),a=!1},d(l){l&&h(t),A(e,l),A(n,l)}}}function pt(s){let e,t;return e=new ut({props:{content:s[6]}}),e.$on("change",s[23]),{c(){S(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,a){H(e,n,a),t=!0},p(n,a){const l={};a[0]&64&&(l.content=n[6]),e.$set(l)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function gt(s){let e,t;return e=new xe({props:{content:s[6]}}),{c(){S(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,a){H(e,n,a),t=!0},p(n,a){const l={};a[0]&64&&(l.content=n[6]),e.$set(l)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function vt(s){var n;let e=((n=s[1])==null?void 0:n.message)+"",t;return{c(){t=te(e)},l(a){t=ne(a,e)},m(a,l){z(a,t,l)},p(a,l){var r;l[0]&2&&e!==(e=((r=a[1])==null?void 0:r.message)+"")&&Je(t,e)},d(a){a&&h(t)}}}function bt(s){var Le;let e,t,n,a,l,r,_=E("nexus.target")+"",c,f,m,w=E("nexus.target-description")+"",T,B,N,d,b,g,p,se,V,le,M,ae,R,D,C,U,q,x="Do not include sensitive data.",W,X,K,Y;function ve(o){s[17](o)}let ce={required:!0,disabled:s[2],error:!s[5]||!s[11](s[5]),hintText:s[4],label:E("nexus.endpoint-name"),id:"name",maxLength:255,placeholder:E("nexus.endpoint-name-placeholder")};s[5]!==void 0&&(ce.value=s[5]),t=new Se({props:ce}),ue.push(()=>ge(t,"value",ve));function be(o){s[18](o)}let fe={label:E("nexus.target-namespace"),noResultsText:E("common.no-results"),valid:!!s[7],error:"Please select a target Namespace.",required:!0,id:"target-namespace",placeholder:E("nexus.select-namespace"),leadingIcon:"namespace-switcher",options:s[0],optionValueKey:"namespace",minSize:32};s[7]!==void 0&&(fe.value=s[7]),N=new Oe({props:fe}),ue.push(()=>ge(N,"value",be));function he(o){s[19](o)}let me={required:!0,error:!s[8],label:E("common.task-queue"),id:"task-queue",placeholder:E("nexus.task-queue-placeholder")};s[8]!==void 0&&(me.value=s[8]),g=new Se({props:me}),ue.push(()=>ge(g,"value",he)),V=new ot({props:{isCloud:s[3],$$slots:{default:[ft]},$$scope:{ctx:s}}}),M=new et({props:{$$slots:{default:[_t]},$$scope:{ctx:s}}});const u=[gt,pt],Q=[];function de(o,i){return o[10]?0:1}D=de(s),C=Q[D]=u[D](s);const ie=s[16].footer,P=Ne(ie,s,s[24],Ae);return K=new Xe({props:{title:(Le=s[1])==null?void 0:Le.statusText,intent:"error",hidden:!s[1],$$slots:{default:[vt]},$$scope:{ctx:s}}}),{c(){e=O("div"),S(t.$$.fragment),a=I(),l=O("div"),r=O("p"),c=te(_),f=I(),m=O("p"),T=te(w),B=I(),S(N.$$.fragment),b=I(),S(g.$$.fragment),se=I(),S(V.$$.fragment),le=I(),S(M.$$.fragment),ae=I(),R=O("div"),C.c(),U=I(),q=O("p"),q.textContent=x,W=I(),P&&P.c(),X=I(),S(K.$$.fragment),this.h()},l(o){e=y(o,"DIV",{class:!0});var i=G(e);F(t.$$.fragment,i),a=L(i),l=y(i,"DIV",{class:!0});var j=G(l);r=y(j,"P",{class:!0});var ee=G(r);c=ne(ee,_),ee.forEach(h),f=L(j),m=y(j,"P",{class:!0});var oe=G(m);T=ne(oe,w),oe.forEach(h),j.forEach(h),B=L(i),F(N.$$.fragment,i),b=L(i),F(g.$$.fragment,i),se=L(i),F(V.$$.fragment,i),le=L(i),F(M.$$.fragment,i),ae=L(i),R=y(i,"DIV",{});var Z=G(R);C.l(Z),U=L(Z),q=y(Z,"P",{class:!0,"data-svelte-h":!0}),Ge(q)!=="svelte-11lgqx1"&&(q.textContent=x),Z.forEach(h),W=L(i),P&&P.l(i),i.forEach(h),X=L(o),F(K.$$.fragment,o),this.h()},h(){J(r,"class","text-base text-primary"),J(m,"class","text-xs text-secondary"),J(l,"class","flex flex-col gap-0"),J(q,"class","my-2 text-xs text-secondary"),J(e,"class","flex w-full flex-col gap-4 xl:w-1/2")},m(o,i){z(o,e,i),H(t,e,null),v(e,a),v(e,l),v(l,r),v(r,c),v(l,f),v(l,m),v(m,T),v(e,B),H(N,e,null),v(e,b),H(g,e,null),v(e,se),H(V,e,null),v(e,le),H(M,e,null),v(e,ae),v(e,R),Q[D].m(R,null),v(R,U),v(R,q),v(e,W),P&&P.m(e,null),z(o,X,i),H(K,o,i),Y=!0},p(o,i){var qe;const j={};i[0]&4&&(j.disabled=o[2]),i[0]&2080&&(j.error=!o[5]||!o[11](o[5])),i[0]&16&&(j.hintText=o[4]),!n&&i[0]&32&&(n=!0,j.value=o[5],pe(()=>n=!1)),t.$set(j);const ee={};i[0]&128&&(ee.valid=!!o[7]),i[0]&1&&(ee.options=o[0]),!d&&i[0]&128&&(d=!0,ee.value=o[7],pe(()=>d=!1)),N.$set(ee);const oe={};i[0]&256&&(oe.error=!o[8]),!p&&i[0]&256&&(p=!0,oe.value=o[8],pe(()=>p=!1)),g.$set(oe);const Z={};i[0]&8&&(Z.isCloud=o[3]),i[0]&16781824&&(Z.$$scope={dirty:i,ctx:o}),V.$set(Z);const Ve={};i[0]&16778240&&(Ve.$$scope={dirty:i,ctx:o}),M.$set(Ve);let $e=D;D=de(o),D===$e?Q[D].p(o,i):(Qe(),$(Q[$e],1,1,()=>{Q[$e]=null}),je(),C=Q[D],C?C.p(o,i):(C=Q[D]=u[D](o),C.c()),k(C,1),C.m(R,U)),P&&P.p&&(!Y||i[0]&16777216)&&De(P,ie,o,o[24],Y?Te(ie,o[24],i,ct):Ee(o[24]),Ae);const _e={};i[0]&2&&(_e.title=(qe=o[1])==null?void 0:qe.statusText),i[0]&2&&(_e.hidden=!o[1]),i[0]&16777218&&(_e.$$scope={dirty:i,ctx:o}),K.$set(_e)},i(o){Y||(k(t.$$.fragment,o),k(N.$$.fragment,o),k(g.$$.fragment,o),k(V.$$.fragment,o),k(M.$$.fragment,o),k(C),k(P,o),k(K.$$.fragment,o),Y=!0)},o(o){$(t.$$.fragment,o),$(N.$$.fragment,o),$(g.$$.fragment,o),$(V.$$.fragment,o),$(M.$$.fragment,o),$(C),$(P,o),$(K.$$.fragment,o),Y=!1},d(o){o&&(h(e),h(X)),A(t),A(N),A(g),A(V),A(M),Q[D].d(),P&&P.d(o),A(K,o)}}}const ye={spec:{name:"",descriptionString:"",target:{worker:{namespace:"",taskQueue:""}},allowedCallerNamespaces:[]}},ke=Ue(ye);function ht(s,e,t){let n,a,l,r=re;Ce(s,ke,u=>t(34,l=u)),s.$$.on_destroy.push(()=>r());let{$$slots:_={},$$scope:c}=e;var f,m,w,T,B,N,d,b,g;let{endpoint:p=void 0}=e,{targetNamespaceList:se=[]}=e,{callerNamespaceList:V=[]}=e,{error:le=void 0}=e,{nameDisabled:M=!1}=e,{isCloud:ae=!0}=e,{nameHintText:R}=e,{nameRegexPattern:D}=e,C=((f=p==null?void 0:p.spec)===null||f===void 0?void 0:f.name)||"",U=((m=p==null?void 0:p.spec)===null||m===void 0?void 0:m.descriptionString)||"",q=((B=(T=(w=p==null?void 0:p.spec)===null||w===void 0?void 0:w.target)===null||T===void 0?void 0:T.worker)===null||B===void 0?void 0:B.namespace)||"",x=((b=(d=(N=p==null?void 0:p.spec)===null||N===void 0?void 0:N.target)===null||d===void 0?void 0:d.worker)===null||b===void 0?void 0:b.taskQueue)||"",W=((g=p==null?void 0:p.spec)===null||g===void 0?void 0:g.allowedCallerNamespaces)||[],X=!1;const K=(u,Q,de,ie,P)=>{Re(ke,l={spec:{name:u,descriptionString:Q,target:{worker:{namespace:de,taskQueue:ie}},allowedCallerNamespaces:P}},l)};Ke(()=>{Re(ke,l=ye,l)});function Y(u){C=u,t(5,C)}function ve(u){q=u,t(7,q)}function ce(u){x=u,t(8,x)}function be(u){W=u,t(9,W)}const fe=()=>t(10,X=!1),he=()=>t(10,X=!0),me=u=>t(6,U=u.detail.value);return s.$$set=u=>{"endpoint"in u&&t(13,p=u.endpoint),"targetNamespaceList"in u&&t(0,se=u.targetNamespaceList),"callerNamespaceList"in u&&t(14,V=u.callerNamespaceList),"error"in u&&t(1,le=u.error),"nameDisabled"in u&&t(2,M=u.nameDisabled),"isCloud"in u&&t(3,ae=u.isCloud),"nameHintText"in u&&t(4,R=u.nameHintText),"nameRegexPattern"in u&&t(15,D=u.nameRegexPattern),"$$scope"in u&&t(24,c=u.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&992&&K(C,U,q,x,W),s.$$.dirty[0]&16384&&t(12,n=V.map(u=>({value:u.namespace,label:u.namespace}))),s.$$.dirty[0]&32768&&t(11,a=u=>D.test(u))},[se,le,M,ae,R,C,U,q,x,W,X,a,n,p,V,D,_,Y,ve,ce,be,fe,he,me,c]}class qt extends Pe{constructor(e){super(),Ie(this,e,ht,bt,we,{endpoint:13,targetNamespaceList:0,callerNamespaceList:14,error:1,nameDisabled:2,isCloud:3,nameHintText:4,nameRegexPattern:15},null,[-1,-1])}}export{qt as N,ke as e};
