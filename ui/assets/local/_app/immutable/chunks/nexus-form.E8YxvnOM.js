import{s as Le,x as De,i as Z,f as A,c as Qe,a as pe,u as he,g as ge,e as be,h as z,b as T,j as F,k as Q,d as V,m as L,W as ue,n as k,X as Se,p as se,G as Xe,H as Ze,t as G,l as K,q as _e,I as fe,B as ae,M as ce,T as de,a9 as Be,w as Ie,o as Ge,v as je}from"./scheduler.1T9hOnFr.js";import{S as Ee,i as qe,g as Ke,b as H,e as We,t as M,c as W,a as J,m as O,d as U,f as me}from"./index.cVovwi_s.js";import{w as Je}from"./entry.38TMrE-M.js";import{p as Oe}from"./stores.OVWZbLng.js";import{A as Ue}from"./alert.f9D9fPZv.js";import{C as Ye}from"./combobox.rawZ-WRW.js";import{I as Pe}from"./input.OeblAdzk.js";import{L as ye}from"./label.lHeqfppI.js";import{t as Te}from"./tw-merge.NbP7EmZe.js";import{M as xe}from"./multi-select.b5ik8HkH.js";import{t as D}from"./translate.HrioCK44.js";const $e=l=>({}),Ve=l=>({});function el(l){let e;const t=l[3].fallback,n=pe(t,l,l[2],Ve);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,o){n&&n.m(s,o),e=!0},p(s,o){n&&n.p&&(!e||o&4)&&he(n,t,s,s[2],e?be(t,s[2],o,$e):ge(s[2]),Ve)},i(s){e||(M(n,s),e=!0)},o(s){H(n,s),e=!1},d(s){n&&n.d(s)}}}function ll(l){let e;const t=l[3].default,n=pe(t,l,l[2],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,o){n&&n.m(s,o),e=!0},p(s,o){n&&n.p&&(!e||o&4)&&he(n,t,s,s[2],e?be(t,s[2],o,null):ge(s[2]),null)},i(s){e||(M(n,s),e=!0)},o(s){H(n,s),e=!1},d(s){n&&n.d(s)}}}function tl(l){let e,t,n,s;const o=[ll,el],a=[];function v(r,m){var p,E,u;return r[0]||(u=(E=(p=r[1].data)==null?void 0:p.settings)==null?void 0:E.runtimeEnvironment)!=null&&u.isCloud?0:1}return e=v(l),t=a[e]=o[e](l),{c(){t.c(),n=De()},l(r){t.l(r),n=De()},m(r,m){a[e].m(r,m),Z(r,n,m),s=!0},p(r,[m]){let p=e;e=v(r),e===p?a[e].p(r,m):(Ke(),H(a[p],1,1,()=>{a[p]=null}),We(),t=a[e],t?t.p(r,m):(t=a[e]=o[e](r),t.c()),M(t,1),t.m(n.parentNode,n))},i(r){s||(M(t),s=!0)},o(r){H(t),s=!1},d(r){r&&A(n),a[e].d(r)}}}function sl(l,e,t){let n;Qe(l,Oe,v=>t(1,n=v));let{$$slots:s={},$$scope:o}=e,{isCloud:a=!1}=e;return l.$$set=v=>{"isCloud"in v&&t(0,a=v.isCloud),"$$scope"in v&&t(2,o=v.$$scope)},[a,n,o,s]}class nl extends Ee{constructor(e){super(),qe(this,e,sl,tl,Le,{isCloud:0})}}const al=l=>({}),He=l=>({});function Me(l){let e,t;return{c(){e=z("p"),t=G(l[9]),this.h()},l(n){e=F(n,"P",{class:!0});var s=Q(e);t=K(s,l[9]),s.forEach(A),this.h()},h(){L(e,"class","pb-2 text-sm")},m(n,s){Z(n,e,s),k(e,t)},p(n,s){s&512&&_e(t,n[9])},d(n){n&&A(e)}}}function ze(l){var v;let e,t,n=(((v=l[0])==null?void 0:v.length)??0)+"",s,o,a;return{c(){e=z("span"),t=z("span"),s=G(n),o=G(" / "),a=G(l[10]),this.h()},l(r){e=F(r,"SPAN",{class:!0});var m=Q(e);t=F(m,"SPAN",{class:!0});var p=Q(t);s=K(p,n),p.forEach(A),o=K(m," / "),a=K(m,l[10]),m.forEach(A),this.h()},h(){var r,m;L(t,"class","text-blue-700 svelte-c0kk3m"),fe(t,"warn",l[10]-((r=l[0])==null?void 0:r.length)<=5),fe(t,"error",l[10]===((m=l[0])==null?void 0:m.length)),L(e,"class","count svelte-c0kk3m")},m(r,m){Z(r,e,m),k(e,t),k(t,s),k(e,o),k(e,a)},p(r,m){var p,E,u;m&1&&n!==(n=(((p=r[0])==null?void 0:p.length)??0)+"")&&_e(s,n),m&1025&&fe(t,"warn",r[10]-((E=r[0])==null?void 0:E.length)<=5),m&1025&&fe(t,"error",r[10]===((u=r[0])==null?void 0:u.length)),m&1024&&_e(a,r[10])},d(r){r&&A(e)}}}function il(l){let e,t,n,s,o,a,v,r,m,p,E,u,w,C;t=new ye({props:{required:l[8],hidden:l[6],label:l[5],for:l[7]}});let b=l[9]&&Me(l),N=l[10]&&!l[1]&&ze(l);const S=l[13].info,q=pe(S,l,l[12],He);return{c(){e=z("div"),W(t.$$.fragment),n=T(),b&&b.c(),s=T(),o=z("div"),a=z("textarea"),m=T(),N&&N.c(),p=T(),q&&q.c(),this.h()},l(f){e=F(f,"DIV",{class:!0});var c=Q(e);J(t.$$.fragment,c),n=V(c),b&&b.l(c),s=V(c),o=F(c,"DIV",{class:!0});var g=Q(o);a=F(g,"TEXTAREA",{class:!0,id:!0,placeholder:!0,rows:!0,spellcheck:!0,maxlength:!0}),Q(a).forEach(A),m=V(g),N&&N.l(g),g.forEach(A),p=V(c),q&&q.l(c),c.forEach(A),this.h()},h(){L(a,"class",v=ue(Te("surface-input min-h-fit w-full rounded-lg border-2 border-subtle px-3 py-2 font-mono text-sm focus-visible:border-information focus-visible:shadow-[0_0_0_4px_rgb(97,115,243,0.7)] focus-visible:outline-none enabled:hover:border-information",l[1]&&"cursor-not-allowed opacity-50"))+" svelte-c0kk3m"),L(a,"id",l[7]),a.disabled=l[1],L(a,"placeholder",l[2]),L(a,"rows",l[3]),L(a,"spellcheck",l[4]),L(a,"maxlength",r=l[10]>0?l[10]:void 0),L(o,"class","relative mt-2"),L(e,"class",E=ue(l[11])+" svelte-c0kk3m")},m(f,c){Z(f,e,c),O(t,e,null),k(e,n),b&&b.m(e,null),k(e,s),k(e,o),k(o,a),Se(a,l[0]),k(o,m),N&&N.m(o,null),k(e,p),q&&q.m(e,null),u=!0,w||(C=[se(a,"input",l[19]),se(a,"input",l[14]),se(a,"change",l[15]),se(a,"focus",l[16]),se(a,"blur",l[17]),se(a,"keydown",Xe(l[18]))],w=!0)},p(f,[c]){const g={};c&256&&(g.required=f[8]),c&64&&(g.hidden=f[6]),c&32&&(g.label=f[5]),c&128&&(g.for=f[7]),t.$set(g),f[9]?b?b.p(f,c):(b=Me(f),b.c(),b.m(e,s)):b&&(b.d(1),b=null),(!u||c&2&&v!==(v=ue(Te("surface-input min-h-fit w-full rounded-lg border-2 border-subtle px-3 py-2 font-mono text-sm focus-visible:border-information focus-visible:shadow-[0_0_0_4px_rgb(97,115,243,0.7)] focus-visible:outline-none enabled:hover:border-information",f[1]&&"cursor-not-allowed opacity-50"))+" svelte-c0kk3m"))&&L(a,"class",v),(!u||c&128)&&L(a,"id",f[7]),(!u||c&2)&&(a.disabled=f[1]),(!u||c&4)&&L(a,"placeholder",f[2]),(!u||c&8)&&L(a,"rows",f[3]),(!u||c&16)&&L(a,"spellcheck",f[4]),(!u||c&1024&&r!==(r=f[10]>0?f[10]:void 0))&&L(a,"maxlength",r),c&1&&Se(a,f[0]),f[10]&&!f[1]?N?N.p(f,c):(N=ze(f),N.c(),N.m(o,null)):N&&(N.d(1),N=null),q&&q.p&&(!u||c&4096)&&he(q,S,f,f[12],u?be(S,f[12],c,al):ge(f[12]),He),(!u||c&2048&&E!==(E=ue(f[11])+" svelte-c0kk3m"))&&L(e,"class",E)},i(f){u||(M(t.$$.fragment,f),M(q,f),u=!0)},o(f){H(t.$$.fragment,f),H(q,f),u=!1},d(f){f&&A(e),U(t),b&&b.d(),N&&N.d(),q&&q.d(f),w=!1,Ze(C)}}}function ol(l,e,t){let{$$slots:n={},$$scope:s}=e,{disabled:o=!1}=e,{placeholder:a=""}=e,{rows:v=10}=e,{spellcheck:r=null}=e,{value:m}=e,{label:p}=e,{labelHidden:E=!1}=e,{id:u}=e,{required:w=!1}=e,{description:C=""}=e,{maxLength:b=0}=e,{class:N="text-primary"}=e;function S(d){ae.call(this,l,d)}function q(d){ae.call(this,l,d)}function f(d){ae.call(this,l,d)}function c(d){ae.call(this,l,d)}function g(d){ae.call(this,l,d)}function P(){m=this.value,t(0,m)}return l.$$set=d=>{"disabled"in d&&t(1,o=d.disabled),"placeholder"in d&&t(2,a=d.placeholder),"rows"in d&&t(3,v=d.rows),"spellcheck"in d&&t(4,r=d.spellcheck),"value"in d&&t(0,m=d.value),"label"in d&&t(5,p=d.label),"labelHidden"in d&&t(6,E=d.labelHidden),"id"in d&&t(7,u=d.id),"required"in d&&t(8,w=d.required),"description"in d&&t(9,C=d.description),"maxLength"in d&&t(10,b=d.maxLength),"class"in d&&t(11,N=d.class),"$$scope"in d&&t(12,s=d.$$scope)},[m,o,a,v,r,p,E,u,w,C,b,N,s,n,S,q,f,c,g,P]}class rl extends Ee{constructor(e){super(),qe(this,e,ol,il,Le,{disabled:1,placeholder:2,rows:3,spellcheck:4,value:0,label:5,labelHidden:6,id:7,required:8,description:9,maxLength:10,class:11})}}const ul=l=>({}),Fe=l=>({});function fl(l){let e,t,n=D("nexus.access-policy")+"",s,o,a,v=D("nexus.allowed-caller-namespaces-description")+"",r,m,p,E;return p=new xe({props:{id:"caller-namespace-filter-menu",options:l[11],initialSelected:l[10],label:l[8].length?D("nexus.selected-namespaces",{count:l[8].length}):D("nexus.select-namespaces"),selectAllLabel:D("common.select-all"),clearAllLabel:D("common.clear-all-capitalized"),initialSelectedAll:!1,onChange:l[12]}}),{c(){e=z("div"),t=z("p"),s=G(n),o=T(),a=z("p"),r=G(v),m=T(),W(p.$$.fragment),this.h()},l(u){e=F(u,"DIV",{class:!0});var w=Q(e);t=F(w,"P",{class:!0});var C=Q(t);s=K(C,n),C.forEach(A),o=V(w),a=F(w,"P",{class:!0});var b=Q(a);r=K(b,v),b.forEach(A),w.forEach(A),m=V(u),J(p.$$.fragment,u),this.h()},h(){L(t,"class","text-base text-primary"),L(a,"class","text-xs text-secondary"),L(e,"class","flex flex-col gap-0")},m(u,w){Z(u,e,w),k(e,t),k(t,s),k(e,o),k(e,a),k(a,r),Z(u,m,w),O(p,u,w),E=!0},p(u,w){const C={};w[0]&2048&&(C.options=u[11]),w[0]&1024&&(C.initialSelected=u[10]),w[0]&256&&(C.label=u[8].length?D("nexus.selected-namespaces",{count:u[8].length}):D("nexus.select-namespaces")),p.$set(C)},i(u){E||(M(p.$$.fragment,u),E=!0)},o(u){H(p.$$.fragment,u),E=!1},d(u){u&&(A(e),A(m)),U(p,u)}}}function cl(l){let e,t="Do not include sensitive data.";return{c(){e=z("p"),e.textContent=t,this.h()},l(n){e=F(n,"P",{class:!0,slot:!0,"data-svelte-h":!0}),Ge(e)!=="svelte-1l2nhqf"&&(e.textContent=t),this.h()},h(){L(e,"class","text-xs text-secondary"),L(e,"slot","info")},m(n,s){Z(n,e,s)},p:je,d(n){n&&A(e)}}}function dl(l){var n;let e=((n=l[1])==null?void 0:n.message)+"",t;return{c(){t=G(e)},l(s){t=K(s,e)},m(s,o){Z(s,t,o)},p(s,o){var a;o[0]&2&&e!==(e=((a=s[1])==null?void 0:a.message)+"")&&_e(t,e)},d(s){s&&A(t)}}}function ml(l){var h;let e,t,n,s,o,a,v=D("nexus.target")+"",r,m,p,E=D("nexus.target-description")+"",u,w,C,b,N,S,q,f,c,g,P,d,x,Y,j,R;function $(i){l[18](i)}let y={required:!0,disabled:l[2],error:!l[4]||!l[9](l[4]),hintText:D("nexus.endpoint-name-hint"),label:D("nexus.endpoint-name"),id:"name",maxLength:255,placeholder:D("nexus.endpoint-name-placeholder")};l[4]!==void 0&&(y.value=l[4]),t=new Pe({props:y}),ce.push(()=>me(t,"value",$));function ee(i){l[19](i)}let le={label:D("nexus.target-namespace"),toggleLabel:D("common.namespaces"),noResultsText:D("common.no-results"),valid:!!l[6],error:"Please select a target Namespace.",required:!0,id:"target-namespace",placeholder:D("nexus.select-namespace"),leadingIcon:"namespace-switcher",options:l[0],optionValueKey:"namespace",minSize:32};l[6]!==void 0&&(le.value=l[6]),C=new Ye({props:le}),ce.push(()=>me(C,"value",ee));function ve(i){l[20](i)}let ie={required:!0,error:!l[7],label:D("common.task-queue"),id:"task-queue",placeholder:D("nexus.task-queue-placeholder")};l[7]!==void 0&&(ie.value=l[7]),S=new Pe({props:ie}),ce.push(()=>me(S,"value",ve)),c=new nl({props:{isCloud:l[3],$$slots:{default:[fl]},$$scope:{ctx:l}}});function ke(i){l[21](i)}let oe={label:D("common.description"),description:D("nexus.nexus-description"),id:"description",placeholder:D("nexus.description-placeholder"),$$slots:{info:[cl]},$$scope:{ctx:l}};l[5]!==void 0&&(oe.value=l[5]),P=new rl({props:oe}),ce.push(()=>me(P,"value",ke));const ne=l[17].footer,I=pe(ne,l,l[22],Fe);return j=new Ue({props:{title:(h=l[1])==null?void 0:h.statusText,intent:"error",hidden:!l[1],$$slots:{default:[dl]},$$scope:{ctx:l}}}),{c(){e=z("div"),W(t.$$.fragment),s=T(),o=z("div"),a=z("p"),r=G(v),m=T(),p=z("p"),u=G(E),w=T(),W(C.$$.fragment),N=T(),W(S.$$.fragment),f=T(),W(c.$$.fragment),g=T(),W(P.$$.fragment),x=T(),I&&I.c(),Y=T(),W(j.$$.fragment),this.h()},l(i){e=F(i,"DIV",{class:!0});var _=Q(e);J(t.$$.fragment,_),s=V(_),o=F(_,"DIV",{class:!0});var X=Q(o);a=F(X,"P",{class:!0});var B=Q(a);r=K(B,v),B.forEach(A),m=V(X),p=F(X,"P",{class:!0});var te=Q(p);u=K(te,E),te.forEach(A),X.forEach(A),w=V(_),J(C.$$.fragment,_),N=V(_),J(S.$$.fragment,_),f=V(_),J(c.$$.fragment,_),g=V(_),J(P.$$.fragment,_),x=V(_),I&&I.l(_),_.forEach(A),Y=V(i),J(j.$$.fragment,i),this.h()},h(){L(a,"class","text-base text-primary"),L(p,"class","text-xs text-secondary"),L(o,"class","flex flex-col gap-0"),L(e,"class","flex w-full flex-col gap-4 xl:w-1/2")},m(i,_){Z(i,e,_),O(t,e,null),k(e,s),k(e,o),k(o,a),k(a,r),k(o,m),k(o,p),k(p,u),k(e,w),O(C,e,null),k(e,N),O(S,e,null),k(e,f),O(c,e,null),k(e,g),O(P,e,null),k(e,x),I&&I.m(e,null),Z(i,Y,_),O(j,i,_),R=!0},p(i,_){var Ae;const X={};_[0]&4&&(X.disabled=i[2]),_[0]&528&&(X.error=!i[4]||!i[9](i[4])),!n&&_[0]&16&&(n=!0,X.value=i[4],de(()=>n=!1)),t.$set(X);const B={};_[0]&64&&(B.valid=!!i[6]),_[0]&1&&(B.options=i[0]),!b&&_[0]&64&&(b=!0,B.value=i[6],de(()=>b=!1)),C.$set(B);const te={};_[0]&128&&(te.error=!i[7]),!q&&_[0]&128&&(q=!0,te.value=i[7],de(()=>q=!1)),S.$set(te);const we={};_[0]&8&&(we.isCloud=i[3]),_[0]&4197632&&(we.$$scope={dirty:_,ctx:i}),c.$set(we);const Ce={};_[0]&4194304&&(Ce.$$scope={dirty:_,ctx:i}),!d&&_[0]&32&&(d=!0,Ce.value=i[5],de(()=>d=!1)),P.$set(Ce),I&&I.p&&(!R||_[0]&4194304)&&he(I,ne,i,i[22],R?be(ne,i[22],_,ul):ge(i[22]),Fe);const re={};_[0]&2&&(re.title=(Ae=i[1])==null?void 0:Ae.statusText),_[0]&2&&(re.hidden=!i[1]),_[0]&4194306&&(re.$$scope={dirty:_,ctx:i}),j.$set(re)},i(i){R||(M(t.$$.fragment,i),M(C.$$.fragment,i),M(S.$$.fragment,i),M(c.$$.fragment,i),M(P.$$.fragment,i),M(I,i),M(j.$$.fragment,i),R=!0)},o(i){H(t.$$.fragment,i),H(C.$$.fragment,i),H(S.$$.fragment,i),H(c.$$.fragment,i),H(P.$$.fragment,i),H(I,i),H(j.$$.fragment,i),R=!1},d(i){i&&(A(e),A(Y)),U(t),U(C),U(S),U(c),U(P),I&&I.d(i),U(j,i)}}}const Re={spec:{name:"",descriptionString:"",target:{worker:{namespace:"",taskQueue:""}},allowedCallerNamespaces:[]}},Ne=Je(Re),_l=/^[A-Za-z_][A-Za-z0-9_]*$/;function pl(l,e,t){let n,s,o,a,v=je;Qe(l,Ne,h=>t(32,a=h)),l.$$.on_destroy.push(()=>v());let{$$slots:r={},$$scope:m}=e;var p,E,u,w,C,b,N,S,q,f,c;let{endpoint:g=void 0}=e,{targetNamespaceList:P=[]}=e,{callerNamespaceList:d=[]}=e,{error:x=void 0}=e,{nameDisabled:Y=!1}=e,{isCloud:j=!0}=e,R=((p=g==null?void 0:g.spec)===null||p===void 0?void 0:p.name)||"",$=((E=g==null?void 0:g.spec)===null||E===void 0?void 0:E.descriptionString)||"",y=((C=(w=(u=g==null?void 0:g.spec)===null||u===void 0?void 0:u.target)===null||w===void 0?void 0:w.worker)===null||C===void 0?void 0:C.namespace)||"",ee=((S=(N=(b=g==null?void 0:g.spec)===null||b===void 0?void 0:b.target)===null||N===void 0?void 0:N.worker)===null||S===void 0?void 0:S.taskQueue)||"",le=((q=g==null?void 0:g.spec)===null||q===void 0?void 0:q.allowedCallerNamespaces)||[];const ve=(h,i,_,X,B)=>{Ie(Ne,a={spec:{name:h,descriptionString:i,target:{worker:{namespace:_,taskQueue:X}},allowedCallerNamespaces:B}},a)},ie=h=>{t(8,le=h.map(i=>i.value))};Be(()=>{Ie(Ne,a=Re,a)});function ke(h){R=h,t(4,R)}function oe(h){y=h,t(6,y)}function ne(h){ee=h,t(7,ee)}function I(h){$=h,t(5,$)}return l.$$set=h=>{"endpoint"in h&&t(13,g=h.endpoint),"targetNamespaceList"in h&&t(0,P=h.targetNamespaceList),"callerNamespaceList"in h&&t(14,d=h.callerNamespaceList),"error"in h&&t(1,x=h.error),"nameDisabled"in h&&t(2,Y=h.nameDisabled),"isCloud"in h&&t(3,j=h.isCloud),"$$scope"in h&&t(22,m=h.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&496&&ve(R,$,y,ee,le),l.$$.dirty[0]&16384&&t(11,n=d.map(h=>({value:h.namespace,label:h.namespace}))),l.$$.dirty[0]&106496&&t(10,s=(t(16,c=t(15,f=g==null?void 0:g.spec)===null||f===void 0?void 0:f.allowedCallerNamespaces)===null||c===void 0?void 0:c.map(h=>({value:h,label:h})))||[])},t(9,o=h=>_l.test(h)),[P,x,Y,j,R,$,y,ee,le,o,s,n,ie,g,d,f,c,r,ke,oe,ne,I,m]}class Al extends Ee{constructor(e){super(),qe(this,e,pl,ml,Le,{endpoint:13,targetNamespaceList:0,callerNamespaceList:14,error:1,nameDisabled:2,isCloud:3},null,[-1,-1])}}export{Al as N,Ne as e};
