import{h as g}from"./route-for-api.6185bc67.js";import{i as c}from"./persist-store.fdee4674.js";const p=(i={},e={})=>{const s={...i};for(const r of Object.keys(e)){const t=s[r];Array.isArray(t)?s[r]=s[r].concat(e[r]):typeof t=="object"&&!Array.isArray(t)?s[r]=p(s[r],e[r]):s[r]=e[r]}return s},k=async(i,{onStart:e,onUpdate:s,onComplete:r,onError:t=g,token:u,previousProps:n}={})=>{!n&&c(e)&&e();try{const a=await i(u),{nextPageToken:f,...y}=a,o=p(n,y);return c(s)&&s(o,y),f?k(i,{onStart:e,onUpdate:s,onComplete:r,token:f,previousProps:o}):(c(r)&&r(o),o)}catch(a){t(a)}};export{k as p};
