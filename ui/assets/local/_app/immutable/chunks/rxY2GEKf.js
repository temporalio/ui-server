import{c as Ze,B as Ue}from"./CqqsKTDn.js";import{g as pe,h as Ie}from"./D5Rd1u7f.js";import"./DAcYyk2F.js";import"./2dgXBwRQ.js";import"./CrZfxCV7.js";import"./DlxCc2AE.js";import"./BUApaBEI.js";import"./urDygoU8.js";import"./BTr00nzv.js";import{s as Ke}from"./ikbOq2O5.js";import{d as et}from"./fsHZ-CQb.js";import{c as gt,d as xt,a as _t}from"./DEjLQREz.js";import{a as tt,b as at,g as rt}from"./C-mGlLBf.js";import{f as yt,h as ht,d as $e,j as wt,k as kt,l as Tt}from"./CD5bNUup.js";import"./CWj6FrbW.js";import{p as de,f as H,j as p,n as ve,k as oe,t as $,e as T,h as y,r as u,u as N,g as t,v as o,b as ue,i as se,c as G,d as bt,l as re,s as z,m as K,O as Q,a as Be,K as Ce,az as ce,q as It,aU as Re}from"./DZ1-1a5q.js";import{i as O}from"./DnKg3jxh.js";import{e as ge,i as nt}from"./DGhzC9On.js";import{s as Ne,a as Ve,l as je,p as V}from"./TaaIktnz.js";import{t as Ct,P as Et}from"./DtCIH3js.js";import{s as F}from"./DxwvfIkW.js";import{t as At,T as ot}from"./4Dr_hdgK.js";import{C as ne}from"./DRZCEzQy.js";import{I as Pt}from"./BwERH40W.js";import{t as x}from"./DEjs8ZrU.js";import{o as St}from"./C8ejR22J.js";import{p as Lt}from"./etqQTYOW.js";import{C as Me}from"./DTh3gV-B.js";import{L as Ee}from"./y0sr2j8b.js";import{g as it}from"./CWpz1Ssc.js";import{s as Ft,f as We}from"./ByTIZu23.js";import{b as Ot}from"./CUk71bTR.js";import{d as Qe,l as $t,m as Rt,a as Dt}from"./OsXtHQDs.js";import"./69_IOA4Y.js";import{i as ze}from"./Bby3K3wO.js";import{p as st}from"./R4HJJQL1.js";import{a as Ht}from"./Ave-ZrbK.js";import{s as Xe}from"./DMJjfc0_.js";import{P as De}from"./BgA8CRD_.js";import{s as Je}from"./B3h3Bc2r.js";const lt={workflow:"text-blue-700 dark:text-blue-400",activity:"text-purple-600 dark:text-purple-500","child-workflow":"text-cyan-600",timer:"text-yellow-600 dark:text-yellow-400",signal:"text-pink-600 dark:text-pink-400",update:"text-blue-600 dark:text-blue-400",other:"text-slate-700 dark:text-slate-300",nexus:"text-indigo-600 dark:text-indigo-400","local-activity":"text-slate-700 dark:text-slate-300",default:"text-purple-600 dark:text-purple-500"},ar=Ze("",{variants:{category:lt}}),rr=Ze(["whitespace-nowrap font-semibold md:text-base flex items-center gap-0.5"],{variants:{category:lt}}),be=6,nr={height:be*4,gutter:be*8,radius:be*1.5,fontSizeRatio:be*4},or={height:32,radius:4},ir={workflow:{name:"workflow",title:"Workflow"},signal:{name:"signal",title:"Signal"},activity:{name:"activity",title:"Activity"},nexus:{name:"nexus",title:"Nexus"},timer:{name:"retention",title:"Timer"},"local-activity":{name:"feather",title:"Local Activity"},"child-workflow":{name:"relationship",title:"Child Workflow"},update:{name:"update",title:"Update"},other:{name:"terminal",title:"Other"}},sr=(r,e,a,s,c)=>{const{radius:f}=c,i=r[0],d=r[r.length-1];let m=!1,_="start",l=0;const v=i>1/2*a;let w=!v&&d<2/3*a&&!s;v&&(_="end"),w&&(l=r.indexOf(d));const C=1.5*f;let b=w?d+C:i-C;if(!w&&!v&&(m=!0,w=!0,b=i+C,r.length===2&&s&&r[1]-r[0]<a-r[1]&&(l=1,b=r[1]+C),r.length>2)){const g=r[1]-r[0];r[2]-r[1]>g&&(l=1,b=r[1]+C)}return{textPosition:[b,e],textIndex:l,textAnchor:_,backdrop:m}},lr=(r,e)=>{const a=e.find(c=>c.eventIds.has(r.id));return a?Array.from(a.eventIds).indexOf(r.id)===1&&a.eventList.length===3:!1},He=(r,e)=>parseInt(r)===parseInt(e)-1,jt=r=>{const e=Array.from(r.eventIds);return e.length===1?!0:e.length===2?He(e[0],e[1]):e.length===3?He(e[0],e[1])&&He(e[1],e[2]):!1},Bt=(r,e)=>{const a=et(e,r);if(!a)return 0;if(a.level!==void 0)return a.level;const s=e.filter(i=>i.isPending&&i.id!==a.id).filter(i=>parseInt(i.initialEvent.id)<parseInt(a.initialEvent.id)),c=e.filter(i=>i.eventList.length>1&&!i.isPending&&i.id!==a.id).filter(i=>parseInt(i.initialEvent.id)<parseInt(a.initialEvent.id)).filter(i=>parseInt(i.lastEvent.id)>parseInt(a.initialEvent.id)),f=[...s,...c];return!f.length&&jt(a)&&(a.level=0),a.level=f.length+1,a.level},cr=(r,e,a,s,c)=>{const f=et(a,e);let i=0,d=0;if(!f)return{nextDistance:i,offset:d};if(f.eventList.length===1&&!f.isPending)return{nextDistance:i,offset:d};const m=pe(e)?f.eventList.indexOf(e):-1,_=pe(e)?f.eventList[m+1]:void 0;if((!pe(e)||e.category!=="workflow")&&(d=Bt(e,a)),!_&&!f.isPending)return{nextDistance:i,offset:d};let l=0;_&&pe(e)?l=parseInt(_.id)-parseInt(e.id):f.isPending&&pe(e)&&(l=r.length-parseInt(e.id)+2);const v=l*s;return i=c==="ascending"?v:-v,{nextDistance:i,offset:d}},ct="currentColor",dr=r=>{switch(r){case"Completed":return"#1ff1a5";case"Failed":case"Terminated":return"#c71607";case"Signaled":return"#d300d8";case"Fired":return"#f8a208";case"TimedOut":return"#f97316";case"Canceled":return"#fed64b";case"Running":return"#3b82f6";case"Delayed":return"#fbbf24";default:return ct}},vr=r=>{switch(r){case"timer":return"#fbbf24";case"signal":return"#d300d8";case"activity":return"#a78bfa";case"workflow":case"marker":case"command":return"#ebebeb";case"child-workflow":return"#0899B2";case"update":return"#FF9B70";case"pending":return"#a78bfa";case"retry":return"#FF9B70";default:return ct}},ur=async(r,e)=>{var i,d,m,_,l,v,w,C,b,k,g;if(!("eventType"in r)||!Ie(r))return;const{namespace:a,settings:s,accessToken:c}=e,f={...s,codec:{...s==null?void 0:s.codec,endpoint:rt(s),passAccessToken:at(s),includeCredentials:tt(s)}};try{const E=await gt(r.attributes,a,f,c),S=((m=(d=(i=r.markerRecordedEventAttributes)==null?void 0:i.details)==null?void 0:d.data)==null?void 0:m.payloads)||((v=(l=(_=r.markerRecordedEventAttributes)==null?void 0:_.details)==null?void 0:l.type)==null?void 0:v.payloads)||[];if(!(S!=null&&S.length))return;const R=xt(E),A=(g=((C=(w=R==null?void 0:R.details)==null?void 0:w.data)==null?void 0:C.payloads)||((k=(b=R==null?void 0:R.details)==null?void 0:b.type)==null?void 0:k.payloads))==null?void 0:g[0],B=yt(A);if(B)return ht("ActivityType",B)}catch(E){console.error("Failed to decode local activity type:",E)}},fr=r=>{if("eventList"in r)return r.eventList.find(Ie);if(Ie(r))return r},U=(r,e=N,a=N)=>{var s=Vt(),c=p(s),f=p(c,!0);u(c);var i=y(c,2),d=p(i);{var m=l=>{var v=oe();$(()=>F(v,a())),T(l,v)},_=l=>{var v=se(),w=G(v);bt(w,()=>a()??N),T(l,v)};O(d,l=>{typeof a()=="string"||typeof a()=="number"?l(m):l(_,!1)})}u(i),u(s),$(()=>F(f,e())),T(r,s)};var Nt=H('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="flex w-full items-center gap-1 whitespace-pre-line"> <strong> </strong></p></div>'),Vt=H('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="w-full whitespace-pre-line"><!></p></div>'),Mt=H("<!> ",1),Wt=H('<p class="text-sm text-secondary/80"> </p> <!>',1),zt=H('<p class="text-sm text-secondary/80"> </p> <!>',1),Gt=H('<div class="flex flex-col gap-2"><div class="flex flex-1 flex-col"><!></div> <div class="flex flex-1 flex-col"><!></div></div>'),qt=H('<div class="flex flex-1 flex-col"><p class="text-sm text-secondary/80"> </p> <!></div>'),Ut=H('<div class="flex flex-1 flex-col"><p class="text-sm text-secondary/80"> </p> <!></div>'),Kt=H('<div class="surface-primary flex flex-1 cursor-default flex-col gap-2 border-b border-subtle p-4"><div class="flex-1"><div class="flex flex-wrap items-center space-x-3"><!> <h4> </h4></div></div> <div class="flex flex-1 flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col gap-1 xl:w-1/2"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 md:flex-1 xl:w-1/2"><!> <!> <!></div></div></div>');function Qt(r,e){de(e,!0);const a=()=>Ve(At,"$timestamp",s),[s,c]=Ne(),f=(n,h=N)=>{var P=Nt(),M=p(P),W=p(M,!0);u(M);var j=y(M,2),J=p(j),ae=y(J),ee=p(ae);u(ae),u(j),u(P),$((Y,te)=>{F(W,Y),F(J,`${te??""} `),F(ee,`(${h()??""})`)},[()=>x("workflows.next-retry"),()=>a()(e.operation.nextAttemptScheduleTime,{relativeLabel:""})]),T(n,P)},i=n=>{{let h=o(()=>t(m)?"danger":"default");Ue(n,{class:"mr-1",get type(){return t(h)},children:(P,M)=>{var W=Mt(),j=G(W);{let ae=o(()=>t(m)&&"font-bold text-red-400");Pt(j,{get class(){return`mr-1 ${t(ae)??""}`},name:"retry"})}var J=y(j);$(()=>F(J,` ${e.operation.attempt??0??""}`)),T(P,W)},$$slots:{default:!0}})}},d=n=>{var h=Gt(),P=p(h),M=p(P);{var W=ee=>{var Y=Wt(),te=G(Y),Le=p(te,!0);u(te);var Fe=y(te,2);{let ie=o(()=>Ke(St(e.operation.lastAttemptFailure,"stackTrace"))),Oe=o(()=>x("common.copy-icon-title")),pt=o(()=>x("common.copy-success-icon-title"));ne(Fe,{get content(){return t(ie)},maxHeight:384,get copyIconTitle(){return t(Oe)},get copySuccessIconTitle(){return t(pt)}})}$(ie=>F(Le,ie),[()=>x("workflows.last-failure")]),T(ee,Y)};O(M,ee=>{e.operation.lastAttemptFailure&&ee(W)})}u(P);var j=y(P,2),J=p(j);{var ae=ee=>{var Y=zt(),te=G(Y),Le=p(te,!0);u(te);var Fe=y(te,2);{let ie=o(()=>x("common.copy-icon-title")),Oe=o(()=>x("common.copy-success-icon-title"));ne(Fe,{language:"text",maxHeight:384,get content(){return e.operation.lastAttemptFailure.stackTrace},get copyIconTitle(){return t(ie)},get copySuccessIconTitle(){return t(Oe)}})}$(ie=>F(Le,ie),[()=>x("common.stack-trace")]),T(ee,Y)};O(J,ee=>{var Y;(Y=e.operation.lastAttemptFailure)!=null&&Y.stackTrace&&ee(ae)})}u(j),u(h),T(n,h)},m=o(()=>e.operation.attempt>1);var _=Kt(),l=p(_),v=p(l),w=p(v);Ue(w,{children:(n,h)=>{ve();var P=oe();$(()=>F(P,e.operation.state)),T(n,P)},$$slots:{default:!0}});var C=y(w,2),b=p(C,!0);u(C),u(v),u(l);var k=y(l,2),g=p(k),E=p(g);{var S=n=>{{let h=o(()=>x("nexus.endpoint"));U(n,()=>t(h),()=>e.operation.endpoint)}};O(E,n=>{e.operation.endpoint&&n(S)})}var R=y(E,2);{var A=n=>{{let h=o(()=>x("nexus.service"));U(n,()=>t(h),()=>e.operation.service)}};O(R,n=>{e.operation.service&&n(A)})}var B=y(R,2);{var Z=n=>{{let h=o(()=>x("nexus.operation"));U(n,()=>t(h),()=>e.operation.operation)}};O(B,n=>{e.operation.operation&&n(Z)})}var le=y(B,2);{var xe=n=>{{let h=o(()=>x("nexus.operation-token"));U(n,()=>t(h),()=>e.operation.operationToken)}};O(le,n=>{e.operation.operationToken&&n(xe)})}var _e=y(le,2);{let n=o(()=>x("workflows.attempt"));U(_e,()=>t(n),()=>i)}var ye=y(_e,2);{var Ae=n=>{const h=o(()=>Ct({date:e.operation.nextAttemptScheduleTime,negativeDefault:""}));var P=se(),M=G(P);{var W=j=>{f(j,()=>t(h))};O(M,j=>{t(h)&&j(W)})}T(n,P)};O(ye,n=>{e.operation.nextAttemptScheduleTime&&n(Ae)})}var I=y(ye,2);{var L=n=>{{let h=o(()=>x("workflows.last-attempt-completed-time")),P=o(()=>a()(e.operation.lastAttemptCompleteTime));U(n,()=>t(h),()=>t(P))}};O(I,n=>{e.operation.lastAttemptCompleteTime&&n(L)})}var D=y(I,2);{var X=n=>{{let h=o(()=>x("workflows.schedule-event-id")),P=o(()=>String(e.operation.scheduledEventId));U(n,()=>t(h),()=>t(P))}};O(D,n=>{e.operation.scheduledEventId&&n(X)})}var q=y(D,2);{var he=n=>{{let h=o(()=>x("workflows.scheduled-time")),P=o(()=>a()(e.operation.scheduledTime));U(n,()=>t(h),()=>t(P))}};O(q,n=>{e.operation.scheduledTime&&n(he)})}var fe=y(q,2);{var me=n=>{{let h=o(()=>x("workflows.schedule-to-close-timeout"));U(n,()=>t(h),()=>e.operation.scheduleToCloseTimeout)}};O(fe,n=>{e.operation.scheduleToCloseTimeout&&n(me)})}var we=y(fe,2);{var Pe=n=>{{let h=o(()=>x("workflows.schedule-to-start-timeout"));U(n,()=>t(h),()=>e.operation.scheduleToCloseTimeout)}};O(we,n=>{e.operation.scheduleToStartTimeout&&n(Pe)})}var Se=y(we,2);{var Ge=n=>{{let h=o(()=>x("workflows.start-to-close-timeout"));U(n,()=>t(h),()=>e.operation.startToCloseTimeout)}};O(Se,n=>{e.operation.startToCloseTimeout&&n(Ge)})}u(g);var ke=y(g,2),Te=p(ke);{var dt=n=>{d(n)};O(Te,n=>{t(m)&&n(dt)})}var qe=y(Te,2);{var vt=n=>{var h=qt(),P=p(h),M=p(P,!0);u(P);var W=y(P,2);{let j=o(()=>x("common.copy-icon-title")),J=o(()=>x("common.copy-success-icon-title"));ne(W,{language:"text",get content(){return e.operation.blockedReason},get copyIconTitle(){return t(j)},get copySuccessIconTitle(){return t(J)}})}u(h),$(j=>F(M,j),[()=>x("nexus.blocked-reason")]),T(n,h)};O(qe,n=>{e.operation.blockedReason&&n(vt)})}var ut=y(qe,2);{var ft=n=>{var h=Ut(),P=p(h),M=p(P,!0);u(P);var W=y(P,2);{let j=o(()=>Ke(e.operation.cancellationInfo)),J=o(()=>x("common.copy-icon-title")),ae=o(()=>x("common.copy-success-icon-title"));ne(W,{language:"text",get content(){return t(j)},get copyIconTitle(){return t(J)},get copySuccessIconTitle(){return t(ae)}})}u(h),$(j=>F(M,j),[()=>x("nexus.cancellation-info")]),T(n,h)},mt=o(()=>Object.keys(e.operation.cancellationInfo??{}).length>0);O(ut,n=>{t(mt)&&n(ft)})}u(ke),u(k),u(_),$(n=>F(b,n),[()=>x("workflows.pending-nexus-operation")]),T(r,_),ue(),c()}function Xt(r,e){const a=je(e,["children","$$slots","$$events","$$legacy"]),s=je(a,["value","attributes","type"]);de(e,!1);const c=()=>Ve(st,"$page",f),[f,i]=Ne(),d=K(),m=K(),_=K();let l=V(e,"value",8),v=V(e,"attributes",8),w=V(e,"type",8);function C(b,k,g,E,S){return S==="execution"?Qe({namespace:b,workflow:k,run:E}):S==="task-queue"?$t({namespace:b,queue:E}):S==="child-workflow"?Qe({namespace:b,workflow:g.workflowExecutionWorkflowId,run:g.workflowExecutionRunId}):S==="nexus-endpoint"?Rt(E):""}re(()=>(t(d),t(m),c()),()=>{(b=>{z(d,b.workflow),z(m,b.namespace)})(c().params)}),re(()=>(t(m),t(d),Q(v()),Q(l()),Q(w())),()=>{z(_,C(t(m),t(d),v(),l(),w()))}),Be(),ze(),Ee(r,{get class(){return Q(s),Ce(()=>s.class)},get href(){return t(_)},children:(b,k)=>{ve();var g=oe();$(()=>F(g,l())),T(b,g)},$$slots:{default:!0}}),ue(),i()}function Jt(r,e){de(e,!1);const a=()=>Ve(st,"$page",s),[s,c]=Ne(),f=K(),i=K(),d=K(),m=K(),_=K();var l=K();let v=V(e,"value",8,void 0),w=V(e,"fallback",8,""),C=V(e,"prefix",8,""),b=V(e,"onDecode",8,void 0);const k=120;let g=K("");const E=A=>C()?(A=`${C()} â€¢ ${A}`,A.length<k?A:A.slice(0,k)+"..."):A;re(()=>a(),()=>{z(f,rt(a().data.settings))}),re(()=>a(),()=>{z(i,at(a().data.settings))}),re(()=>a(),()=>{z(d,tt(a().data.settings))}),re(()=>(a(),ce(l),t(f),t(i),t(d)),()=>{z(m,{...a().data.settings,codec:{...z(l,a().data.settings)===null||ce(l)===void 0?void 0:ce(l).codec,endpoint:t(f),passAccessToken:t(i),includeCredentials:t(d)}})}),re(()=>(Q(w()),t(g),t(m),Q(b())),()=>{z(_,async A=>{if(!A)return w();if(t(g))return t(g);const B=await _t(A,t(m));return typeof B=="string"?(z(g,E(B)),b()&&b()(t(g)),t(g)):(z(g,w()),w())})}),Be(),ze();var S=se(),R=G(S);Ht(R,()=>(t(_),Q(v()),Ce(()=>t(_)(v()))),null,(A,B)=>{var Z=se(),le=G(Z);Xe(le,e,"default",{get decodedValue(){return t(B)}},null),T(A,Z)},A=>{var B=se(),Z=G(B);Xe(Z,e,"default",{get decodedValue(){return w()}},null),T(A,B)}),T(r,S),ue(),c()}const Yt=(r,e=N)=>{const a=o(()=>it(e())),s=o(()=>{var m;return((m=t(a).split("workflows/"))==null?void 0:m[1])||t(a)});var c=na(),f=p(c),i=p(f,!0);u(f);var d=y(f,2);{let m=o(()=>x("common.copy-icon-title")),_=o(()=>x("common.copy-success-icon-title"));Me(d,{get copyIconTitle(){return t(m)},get copySuccessIconTitle(){return t(_)},get content(){return t(s)},children:(l,v)=>{Ee(l,{get href(){return t(a)},class:"whitespace-pre-line",children:(w,C)=>{ve();var b=oe();$(()=>F(b,t(s))),T(w,b)},$$slots:{default:!0}})},$$slots:{default:!0}})}u(c),$(m=>F(i,m),[()=>x("nexus.link")]),T(r,c)},Zt=(r,e=N)=>{const a=o(()=>Dt({namespace:e().workflowEvent.namespace}));var s=oa(),c=p(s),f=p(c,!0);u(c);var i=y(c,2);{let d=o(()=>x("common.copy-icon-title")),m=o(()=>x("common.copy-success-icon-title"));Me(i,{get copyIconTitle(){return t(d)},get copySuccessIconTitle(){return t(m)},get content(){return e().workflowEvent.namespace},children:(_,l)=>{Ee(_,{get href(){return t(a)},class:"whitespace-pre-line",children:(v,w)=>{ve();var C=oe();$(()=>F(C,e().workflowEvent.namespace)),T(v,C)},$$slots:{default:!0}})},$$slots:{default:!0}})}u(s),$(d=>F(f,d),[()=>x("nexus.link-namespace")]),T(r,s)},ea=(r,e=N)=>{var a=se(),s=G(a);ge(s,17,e,nt,(c,f,i,d)=>{var m=ia(),_=G(m);Yt(_,()=>t(f));var l=y(_,2);Zt(l,()=>t(f)),T(c,m)}),T(r,a)},ta=(r,e=N)=>{var a=sa(),s=y(p(a),2),c=p(s);{let f=o(()=>x("events.decode-failed"));Jt(c,{get value(){return e()},get fallback(){return t(f)},children:It,$$slots:{default:(i,d)=>{const m=o(()=>d.decodedValue);ve();var _=oe();$(()=>F(_,t(m))),T(i,_)}}})}u(s),u(a),T(r,a)},aa=(r,e=N,a=N)=>{const s=o(()=>kt(a())),c=o(()=>wt(t(s)));var f=ca(),i=G(f),d=p(i),m=p(d,!0);u(d);var _=y(d,2);{var l=k=>{De(k,{get value(){return a()},key:"payloads",children:(E,S=N)=>{{let R=o(()=>x("common.copy-icon-title")),A=o(()=>x("common.copy-success-icon-title"));ne(E,{get content(){return S()},maxHeight:384,get copyIconTitle(){return t(R)},get copySuccessIconTitle(){return t(A)}})}},$$slots:{default:!0}})},v=k=>{{const g=(S,R=N)=>{{let A=o(()=>x("common.copy-icon-title")),B=o(()=>x("common.copy-success-icon-title"));ne(S,{get content(){return R()},maxHeight:384,get copyIconTitle(){return t(A)},get copySuccessIconTitle(){return t(B)}})}};let E=o(()=>({searchAttributes:t(s)}));De(k,{key:"searchAttributes",get value(){return t(E)},children:g,$$slots:{default:!0}})}},w=k=>{De(k,{get value(){return t(s)},children:(E,S=N)=>{{let R=o(()=>x("common.copy-icon-title")),A=o(()=>x("common.copy-success-icon-title"));ne(E,{get content(){return S()},maxHeight:384,get copyIconTitle(){return t(R)},get copySuccessIconTitle(){return t(A)}})}},$$slots:{default:!0}})};O(_,k=>{var g;(g=a())!=null&&g.payloads?k(l):e()==="searchAttributes"?k(v,1):k(w,!1)})}u(i);var C=y(i,2);{var b=k=>{var g=la(),E=p(g),S=p(E,!0);u(E);var R=y(E,2);{let A=o(()=>x("common.copy-icon-title")),B=o(()=>x("common.copy-success-icon-title"));ne(R,{get content(){return t(c)},language:"text",maxHeight:384,get copyIconTitle(){return t(A)},get copySuccessIconTitle(){return t(B)}})}u(g),$(A=>F(S,A),[()=>x("workflows.call-stack-tab")]),T(k,g)};O(C,k=>{t(c)&&k(b)})}$(k=>F(m,k),[()=>We(e())]),T(r,f)},ra=(r,e=N,a=N)=>{var s=va(),c=p(s),f=p(c,!0);u(c);var i=y(c,2),d=p(i);{var m=v=>{ot(v,{get dateTime(){return a()}})},_=o(()=>Tt(e())),l=v=>{var w=oe();$(()=>F(w,a())),T(v,w)};O(d,v=>{t(_)?v(m):v(l,!1)})}u(i),u(s),$(v=>F(f,v),[()=>We(e())]),T(r,s)};var na=H('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),oa=H('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),ia=H("<!> <!>",1),sa=H('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80">Summary</p> <p class="whitespace-pre-line"><!></p></div>'),la=H('<div><p class="mb-1 min-w-56 text-sm text-secondary/80"> </p> <!></div>'),ca=H('<div><p class="mb-1 min-w-56 text-sm text-secondary/80"> </p> <!></div> <!>',1),da=H('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <!></div>'),va=H('<div class="flex items-start gap-4"><p class="min-w-56 text-sm text-secondary/80"> </p> <p class="whitespace-pre-line break-all"><!></p></div>'),ua=H('<div class="flex w-full flex-col gap-1 xl:w-1/2"></div>'),fa=H('<div class="surface-primary flex flex-1 cursor-default flex-col gap-2 border-b border-subtle p-4"><div class="flex flex-wrap items-center justify-between gap-2"><div class="flex items-center gap-2 text-base"><p class="font-mono"> </p> <p class="font-medium"> </p></div> <!></div> <div class="flex flex-col gap-1 xl:flex-row"><div class="flex w-full flex-col gap-1 xl:w-1/2"><!> <!> <!> <!></div> <!></div></div>');function Ye(r,e){de(e,!0);const a=(I,L=N,D=N)=>{var X=da(),q=p(X),he=p(q,!0);u(q);var fe=y(q,2);{let me=o(()=>x("common.copy-icon-title")),we=o(()=>x("common.copy-success-icon-title")),Pe=o(()=>String(D()));Me(fe,{get copyIconTitle(){return t(me)},get copySuccessIconTitle(){return t(we)},get content(){return t(Pe)},children:(Se,Ge)=>{{let ke=o(()=>String(D())),Te=o(()=>$e(L(),t(c)));Xt(Se,{get value(){return t(ke)},get attributes(){return t(c)},get type(){return t(Te)},class:"whitespace-pre-line"})}},$$slots:{default:!0}})}u(X),$(me=>F(he,me),[()=>We(L())]),T(I,X)},s=o(()=>Ie(e.event)?x("events.category.local-activity"):Ft(e.event.name)),c=o(()=>Ot(e.event)),f=o(()=>Object.entries(t(c))),i=o(()=>t(f).filter(([I,L])=>typeof L=="object"&&Object.keys(L).length>0)),d=o(()=>t(f).filter(([I,L])=>$e(I,t(c))!=="none")),m=o(()=>e.event.category==="activity"?["scheduledEventId","startedEventId","namespaceId"]:e.event.category==="child-workflow"?["initiatedEventId","startedEventId","namespaceId"]:["namespaceId"]),_=o(()=>t(f).filter(([I,L])=>typeof L!="object"&&$e(I,t(c))==="none"&&!t(m).includes(I)&&(I!=="namespace"||I==="namespace"&&Lt.params.namespace!==L)));var l=fa(),v=p(l),w=p(v),C=p(w),b=p(C,!0);u(C);var k=y(C,2),g=p(k,!0);u(k),u(w);var E=y(w,2);ot(E,{as:"p",class:"text-sm",get dateTime(){return e.event.eventTime}}),u(v);var S=y(v,2),R=p(S),A=p(R);{var B=I=>{ea(I,()=>e.event.links)};O(A,I=>{var L,D;(D=(L=e.event)==null?void 0:L.links)!=null&&D.length&&I(B)})}var Z=y(A,2);{var le=I=>{ta(I,()=>e.event.userMetadata.summary)};O(Z,I=>{var L,D;(D=(L=e.event)==null?void 0:L.userMetadata)!=null&&D.summary&&I(le)})}var xe=y(Z,2);ge(xe,17,()=>t(_),([I,L])=>I,(I,L)=>{var D=o(()=>Re(t(L),2));ra(I,()=>t(D)[0],()=>t(D)[1])});var _e=y(xe,2);ge(_e,17,()=>t(d),([I,L])=>I,(I,L)=>{var D=o(()=>Re(t(L),2));a(I,()=>t(D)[0],()=>t(D)[1])}),u(R);var ye=y(R,2);{var Ae=I=>{var L=ua();ge(L,21,()=>t(i),([D,X])=>D,(D,X)=>{var q=o(()=>Re(t(X),2));aa(D,()=>t(q)[0],()=>t(q)[1])}),u(L),T(I,L)};O(ye,I=>{t(i).length&&I(Ae)})}u(S),u(l),$(()=>{F(b,e.event.id),F(g,t(s))}),T(r,l),ue()}var ma=H('<div class="flex flex-col overflow-hidden"><!> <!></div>');function mr(r,e){de(e,!0);let a=V(e,"group",3,void 0),s=V(e,"event",3,void 0);const c=o(()=>(a()===null||a()===void 0?void 0:a().pendingActivity)||(a()===null||a()===void 0?void 0:a().pendingNexusOperation)),f=o(()=>a()&&(a().eventList.length>1||t(c)));var i=se(),d=G(i);{var m=l=>{var v=ma(),w=p(v);{var C=g=>{Et(g,{get activity(){return a().pendingActivity}})},b=g=>{Qt(g,{get operation(){return a().pendingNexusOperation}})};O(w,g=>{var E,S;(E=a())!=null&&E.pendingActivity?g(C):(S=a())!=null&&S.pendingNexusOperation&&g(b,1)})}var k=y(w,2);ge(k,17,()=>a().eventList,nt,(g,E)=>{Ye(g,{get event(){return t(E)}})}),u(v),T(l,v)},_=l=>{Ye(l,{get event(){return s()}})};O(d,l=>{t(f)?l(m):s()&&l(_,1)})}T(r,i),ue()}var pa=H('<div><p class="max-w-fit whitespace-nowrap text-right text-sm"> </p> <div><!></div></div>');function pr(r,e){const a=je(e,["children","$$slots","$$events","$$legacy"]);de(e,!1);var s=K();let c=V(e,"link",8),f=V(e,"value",28,()=>c().workflowEvent.workflowId),i=V(e,"label",24,()=>x("nexus.link")),d=V(e,"href",12,void 0);re(()=>(Q(d()),Q(c()),ce(s)),()=>{d()||(d(it(c())),f((z(s,d().split("workflows/"))===null||ce(s)===void 0?void 0:ce(s)[1])||d()))}),Be(),ze();var m=pa(),_=p(m),l=p(_,!0);u(_);var v=y(_,2),w=p(v);Ee(w,{get href(){return d()},children:(C,b)=>{ve();var k=oe();$(()=>F(k,f())),T(C,k)},$$slots:{default:!0}}),u(v),u(m),$(()=>{Je(m,1,`flex flex-row items-center gap-2 overflow-hidden first:pt-0 last:border-b-0 ${Q(a),Ce(()=>a.class)??""}`),F(l,i()),Je(v,1,`overflow-hidden ${Q(a),Ce(()=>a.linkClass)??""}`)}),T(r,m),ue()}export{ir as C,ct as D,Xt as E,or as H,Jt as M,nr as T,pr as a,mr as b,dr as c,ur as d,rr as e,vr as f,cr as g,ar as h,lr as i,fr as j,sr as t};
