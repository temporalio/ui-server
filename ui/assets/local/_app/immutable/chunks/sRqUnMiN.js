import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as oe,m as E,g as t,t as G,i as F,o as a,c as Y,s as C,r as j,e as _,b as ue,l as re,L as pe,a as be,h as Te,f as ce,n as z,k as J,j as X,aQ as Se}from"./kQSYtCfc.js";import{s as V}from"./DFbJB1Uf.js";import{e as ge,i as fe}from"./BGqzo1gH.js";import{s as Ae}from"./BWHJ-dez.js";import{i as ne}from"./mtgEvp4k.js";import{p as D,a as se,s as _e}from"./BXb_iK_q.js";import{B as le}from"./R8QZu9uA.js";import{t as s}from"./D2OY9xdY.js";import{b as Ee,c as he}from"./Zpsmok0F.js";import{S as f}from"./S6Q2Q0ub.js";import{i as W}from"./CpVHIMM-.js";import{C as Ce}from"./Cip5Tsoe.js";import{I as ve}from"./DdnwwN_M.js";import{N as De}from"./BHLJKnRN.js";import{S as de,O as ae}from"./DJaUkRgU.js";import{o as ke}from"./krDHeU5i.js";import{D as Ie,T as Oe}from"./CBq8dlk1.js";import{g as Ne}from"./BGDsCgvI.js";import{s as me}from"./CeMbHz9m.js";var Ue=G('<div class="flex flex-col gap-2"><!> <!></div>');function Re(H,n){oe(n,!1);let c=D(n,"value",12);const m=c()?new Date(c()):new Date,N=new Date(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate());let h=E(me(N)),l=E(c()?String(m.getUTCHours()):""),x=E(c()?String(m.getUTCMinutes()):""),e=E(c()?String(m.getUTCSeconds()):"");ke(()=>{c()||R()});const U=o=>{C(h,me(o.detail)),R()},R=()=>{c(Ne({date:t(h),hour:t(l),minute:t(x),second:t(e)}))};ne();var y=Ue(),L=F(y);const w=a(()=>s("common.value")),T=a(()=>s("common.utc")),k=a(()=>s("common.today")),I=a(()=>s("common.close")),u=a(()=>s("common.clear-input-button-label"));Ie(L,{get label(){return`${t(w)??""} (${t(T)??""})`},get selected(){return t(h)},get todayLabel(){return t(k)},get closeLabel(){return t(I)},get clearLabel(){return t(u)},$$events:{datechange:U}});var O=Y(L,2);Oe(O,{twelveHourClock:!1,get hour(){return t(l)},set hour(o){C(l,o)},get minute(){return t(x)},set minute(o){C(x,o)},get second(){return t(e)},set second(o){C(e,o)},$$events:{timechange:R},$$legacy:!0}),j(y),_(H,y),ue()}var Le=G("<!> <!>",1),Pe=G("<div><!></div>"),Be=G('<div class="flex flex-col gap-2 border-b border-subtle pb-4 sm:flex-row sm:gap-4"><div class="flex min-w-fit justify-between gap-2 sm:gap-4"><div class="grow [&amp;_button]:w-full"><!></div> <!></div> <!> <!></div>');function Me(H,n){oe(n,!1);const[c,m]=_e(),N=()=>se(he,"$customSearchAttributes",c),h=()=>se(Ee,"$customSearchAttributeOptions",c),l=E();let x=D(n,"attributes",24,()=>[]),e=D(n,"attribute",12),U=D(n,"onRemove",8),y=E(e().label||void 0);const L=r=>N()[r],w=r=>{e(e().label=r,!0);const p=L(r);p===f.KEYWORDLIST?e(e().value=[],!0):e().type!==p&&e(e().value=null,!0),e(e().type=p,!0)};re(()=>pe(x()),()=>{C(l,r=>!!x().find(p=>p.label===r))}),be(),ne();var T=Be(),k=F(T),I=F(k),u=F(I);const O=a(()=>s("workflows.custom-search-attribute")),o=a(()=>s("workflows.select-attribute"));de(u,{id:"search-attribute","data-testid":"search-attribute-select",get label(){return t(O)},get placeholder(){return t(o)},onChange:w,get value(){return t(y)},set value(r){C(y,r)},children:(r,p)=>{var S=Te(),q=ce(S);ge(q,1,h,fe,(v,b,Q,P)=>{let d=()=>t(b).value,i=()=>t(b).label,$=()=>t(b).type;const K=a(()=>t(l)(d()));ae(v,{get disabled(){return t(K)},get value(){return d()},get description(){return $()},children:(g,B)=>{z();var A=J();X(()=>V(A,i())),_(g,A)},$$slots:{default:!0}})}),_(r,S)},$$slots:{default:!0},$$legacy:!0}),j(I);var Z=Y(I,2);le(Z,{variant:"ghost",leadingIcon:"close",class:"mt-6 w-10 rounded-full sm:hidden",$$events:{click:()=>U()(e().label)}}),j(k);var ie=Y(k,2);{var $e=r=>{const p=a(()=>s("common.value"));de(r,{get label(){return t(p)},id:"attribute-value",get value(){return e().value},set value(S){e(e().value=S,!0)},children:(S,q)=>{var v=Le(),b=ce(v);ae(b,{value:!0,children:(P,d)=>{z();var i=J();X($=>V(i,$),[()=>s("common.true")],a),_(P,i)},$$slots:{default:!0}});var Q=Y(b,2);ae(Q,{value:!1,children:(P,d)=>{z();var i=J();X($=>V(i,$),[()=>s("common.false")],a),_(P,i)},$$slots:{default:!0}}),_(S,v)},$$slots:{default:!0},$$legacy:!0})},xe=(r,p)=>{{var S=v=>{Re(v,{get value(){return e().value},set value(b){e(e().value=b,!0)},$$legacy:!0})},q=(v,b)=>{{var Q=d=>{var i=Pe(),$=F(i);const K=a(()=>s("common.value")),g=a(()=>e().value<Number.MAX_SAFE_INTEGER);De($,{get label(){return t(K)},id:"attribute-value",get valid(){return t(g)},hintText:"Number is too large",max:Number.MAX_SAFE_INTEGER,get value(){return e().value},set value(B){e(e().value=B,!0)},$$legacy:!0}),j(i),_(d,i)},P=(d,i)=>{{var $=g=>{const B=a(()=>s("common.value"));Ce(g,{get label(){return t(B)},id:"attribute-value",class:"w-full",removeChipButtonLabel:A=>s("workflows.remove-keyword-label",{keyword:A}),get chips(){return e().value},set chips(A){e(e().value=A,!0)},$$legacy:!0})},K=(g,B)=>{{var A=M=>{const ee=a(()=>s("common.value"));ve(M,{get label(){return t(ee)},"data-testid":"custom-search-attribute-value",id:"attribute-value",class:"grow",get value(){return e().value},set value(te){e(e().value=te,!0)},$$legacy:!0})},we=M=>{const ee=a(()=>s("common.value")),te=a(()=>s("workflows.unsupported-attribute"));ve(M,{get label(){return t(ee)},id:"attribute-value",class:"grow",get placeholder(){return t(te)},error:!0,disabled:!0,value:""})};W(g,M=>{e().type===f.TEXT||e().type===f.KEYWORD||e().type===f.UNSPECIFIED?M(A):M(we,!1)},B)}};W(d,g=>{e().type===f.KEYWORDLIST?g($):g(K,!1)},i)}};W(v,d=>{e().type===f.INT||e().type===f.DOUBLE?d(Q):d(P,!1)},b)}};W(r,v=>{e().type===f.DATETIME?v(S):v(q,!1)},p)}};W(ie,r=>{e().type===f.BOOL?r($e):r(xe,!1)})}var ye=Y(ie,2);le(ye,{variant:"ghost",leadingIcon:"close","data-testid":"search-attribute-close-button",class:"mt-6 w-10 rounded-full max-sm:hidden",$$events:{click:()=>U()(e().label)}}),j(T),_(H,T),ue(),m()}var Fe=G("<div><!> <!></div>");function nt(H,n){oe(n,!1);const[c,m]=_e(),N=()=>se(he,"$customSearchAttributes",c),h=E(),l=E();let x=D(n,"class",8,""),e=D(n,"attributesToAdd",28,()=>[]),U=D(n,"buttonCopy",24,()=>s("workflows.add-search-attribute")),R=D(n,"variant",8,"ghost");const y=()=>{e([...e(),{label:null,value:null,type:f.UNSPECIFIED}])},L=u=>{e(e().filter(O=>O.label!==u))};re(()=>N(),()=>{C(h,Object.keys(N()))}),re(()=>pe(e()),()=>{C(l,e())}),be(),ne();var w=Fe(),T=F(w);ge(T,1,()=>t(l),fe,(u,O,o)=>{Me(u,{get attributes(){return t(l)},onRemove:L,get attribute(){return t(l)[o]},set attribute(Z){t(l)[o]=Z,Se(()=>(t(l),e()))},$$legacy:!0})});var k=Y(T,2);const I=a(()=>!t(h).length||t(l).length===t(h).length||t(l).filter(u=>u.value===""||u.value===null||Array.isArray(u.value)&&u.value.length===0).length>0);le(k,{get variant(){return R()},leadingIcon:"add",class:"max-sm:w-full","data-testid":"add-search-attribute-button",get disabled(){return t(I)},$$events:{click:y},children:(u,O)=>{z();var o=J();X(()=>V(o,U())),_(u,o)},$$slots:{default:!0}}),j(w),X(()=>Ae(w,1,`flex flex-col gap-4 ${x()??""}`)),_(H,w),ue(),m()}export{nt as A};
