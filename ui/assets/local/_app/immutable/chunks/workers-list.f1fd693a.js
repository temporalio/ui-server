import{S as ce,b as ie,a as ue,m as E,w as A,c as C,C as O,p as g,q as y,x as F,k as u,d as N,D as K,u as w,f as v,L as T,E as L,y as Z,j as x,g as D,F as R,K as _e,e as G,z as J,a1 as me,a2 as pe,h as U,n as V}from"./index.c37b9eda.js";import{I as X}from"./icon.f2b50ec9.js";import{t as $e}from"./time-format.48c703bd.js";import{f as ae}from"./format-date.b0aa3a95.js";import{t as P}from"./translate.8c2fe95d.js";import{E as de}from"./empty-state.3b731948.js";import{T as he,a as ke}from"./table-header-row.9bc30066.js";import{T as we}from"./table-row.0fbce3fa.js";function oe(m,e,l){const t=m.slice();return t[3]=e[l],t}function ne(m){let e,l,t,f,s;return t=new de({props:{title:P("workflows","workers-empty-state")}}),{c(){e=E("tr"),l=E("td"),O(t.$$.fragment),f=C(),this.h()},l(a){e=g(a,"TR",{class:!0});var c=y(e);l=g(c,"TD",{colspan:!0});var k=y(l);K(t.$$.fragment,k),k.forEach(u),f=N(c),c.forEach(u),this.h()},h(){w(l,"colspan","6"),w(e,"class","w-full")},m(a,c){v(a,e,c),T(e,l),L(t,l,null),T(e,f),s=!0},p:V,i(a){s||(x(t.$$.fragment,a),s=!0)},o(a){D(t.$$.fragment,a),s=!1},d(a){a&&u(e),R(t)}}}function be(m){let e,l;return e=new X({props:{name:"close",class:"m-auto text-primary",title:P("no")}}),{c(){O(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,f){L(e,t,f),l=!0},p:V,i(t){l||(x(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function ve(m){let e,l;return e=new X({props:{name:"checkmark",class:"m-auto text-blue-700",title:P("yes")}}),{c(){O(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,f){L(e,t,f),l=!0},p:V,i(t){l||(x(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Te(m){let e,l;return e=new X({props:{name:"close",class:"m-auto text-primary",title:P("no")}}),{c(){O(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,f){L(e,t,f),l=!0},p:V,i(t){l||(x(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Ee(m){let e,l;return e=new X({props:{name:"checkmark",class:"m-auto text-blue-700",title:P("yes")}}),{c(){O(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,f){L(e,t,f),l=!0},p:V,i(t){l||(x(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function ge(m){let e,l,t=m[3].identity+"",f,s,a,c,k=ae(m[3].lastAccessTime,m[2])+"",r,o,_,b,p,d,Q,H,S,i,h,j,q;const Y=[ve,be],I=[];function B(n,$){return $&2&&(b=null),b==null&&(b=!!n[3].taskQueueTypes.includes("WORKFLOW")),b?0:1}p=B(m,-1),d=I[p]=Y[p](m);const ee=[Ee,Te],W=[];function te(n,$){return $&2&&(S=null),S==null&&(S=!!n[3].taskQueueTypes.includes("ACTIVITY")),S?0:1}return i=te(m,-1),h=W[i]=ee[i](m),{c(){e=E("td"),l=E("p"),f=A(t),s=C(),a=E("td"),c=E("p"),r=A(k),o=C(),_=E("td"),d.c(),Q=C(),H=E("td"),h.c(),j=C(),this.h()},l(n){e=g(n,"TD",{class:!0,"data-testid":!0});var $=y(e);l=g($,"P",{class:!0});var z=y(l);f=F(z,t),z.forEach(u),$.forEach(u),s=N(n),a=g(n,"TD",{class:!0,"data-testid":!0});var M=y(a);c=g(M,"P",{class:!0});var le=y(c);r=F(le,k),le.forEach(u),M.forEach(u),o=N(n),_=g(n,"TD",{"data-testid":!0});var se=y(_);d.l(se),se.forEach(u),Q=N(n),H=g(n,"TD",{"data-testid":!0});var re=y(H);h.l(re),re.forEach(u),j=N(n),this.h()},h(){w(l,"class","select-all"),w(e,"class","text-left"),w(e,"data-testid","worker-identity"),w(c,"class","select-all"),w(a,"class","text-left"),w(a,"data-testid","worker-last-access-time"),w(_,"data-testid","workflow-poller"),w(H,"data-testid","activity-poller")},m(n,$){v(n,e,$),T(e,l),T(l,f),v(n,s,$),v(n,a,$),T(a,c),T(c,r),v(n,o,$),v(n,_,$),I[p].m(_,null),v(n,Q,$),v(n,H,$),W[i].m(H,null),v(n,j,$),q=!0},p(n,$){(!q||$&2)&&t!==(t=n[3].identity+"")&&Z(f,t),(!q||$&6)&&k!==(k=ae(n[3].lastAccessTime,n[2])+"")&&Z(r,k);let z=p;p=B(n,$),p===z?I[p].p(n,$):(J(),D(I[z],1,1,()=>{I[z]=null}),U(),d=I[p],d?d.p(n,$):(d=I[p]=Y[p](n),d.c()),x(d,1),d.m(_,null));let M=i;i=te(n,$),i===M?W[i].p(n,$):(J(),D(W[M],1,1,()=>{W[M]=null}),U(),h=W[i],h?h.p(n,$):(h=W[i]=ee[i](n),h.c()),x(h,1),h.m(H,null))},i(n){q||(x(d),x(h),q=!0)},o(n){D(d),D(h),q=!1},d(n){n&&u(e),n&&u(s),n&&u(a),n&&u(o),n&&u(_),I[p].d(),n&&u(Q),n&&u(H),W[i].d(),n&&u(j)}}}function fe(m,e){let l,t,f;return t=new we({props:{"data-testid":"worker-row",$$slots:{default:[ge]},$$scope:{ctx:e}}}),{key:m,first:null,c(){l=G(),O(t.$$.fragment),this.h()},l(s){l=G(),K(t.$$.fragment,s),this.h()},h(){this.first=l},m(s,a){v(s,l,a),L(t,s,a),f=!0},p(s,a){e=s;const c={};a&70&&(c.$$scope={dirty:a,ctx:e}),t.$set(c)},i(s){f||(x(t.$$.fragment,s),f=!0)},o(s){D(t.$$.fragment,s),f=!1},d(s){s&&u(l),R(t,s)}}}function ye(m){var k;let e=[],l=new Map,t,f,s=(k=m[1])==null?void 0:k.pollers;const a=r=>r[3].identity;for(let r=0;r<s.length;r+=1){let o=oe(m,s,r),_=a(o);l.set(_,e[r]=fe(_,o))}let c=null;return s.length||(c=ne()),{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=G(),c&&c.c()},l(r){for(let o=0;o<e.length;o+=1)e[o].l(r);t=G(),c&&c.l(r)},m(r,o){for(let _=0;_<e.length;_+=1)e[_].m(r,o);v(r,t,o),c&&c.m(r,o),f=!0},p(r,o){var _;o&6&&(s=(_=r[1])==null?void 0:_.pollers,J(),e=me(e,o,a,1,r,s,l,t.parentNode,pe,fe,t,oe),U(),!s.length&&c?c.p(r,o):s.length?c&&(J(),D(c,1,1,()=>{c=null}),U()):(c=ne(),c.c(),x(c,1),c.m(t.parentNode,t)))},i(r){if(!f){for(let o=0;o<s.length;o+=1)x(e[o]);f=!0}},o(r){for(let o=0;o<e.length;o+=1)D(e[o]);f=!1},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&u(t),c&&c.d(r)}}}function xe(m){let e,l=P("id")+"",t,f,s,a=P("workflows","last-accessed")+"",c,k,r,o,_=P("workflows","workflow-task-handler")+"",b,p,d,Q,H=P("workflows","activity-handler")+"",S;return{c(){e=E("th"),t=A(l),f=C(),s=E("th"),c=A(a),k=C(),r=E("th"),o=E("p"),b=A(_),p=C(),d=E("th"),Q=E("p"),S=A(H),this.h()},l(i){e=g(i,"TH",{class:!0});var h=y(e);t=F(h,l),h.forEach(u),f=N(i),s=g(i,"TH",{class:!0});var j=y(s);c=F(j,a),j.forEach(u),k=N(i),r=g(i,"TH",{class:!0});var q=y(r);o=g(q,"P",{class:!0});var Y=y(o);b=F(Y,_),Y.forEach(u),q.forEach(u),p=N(i),d=g(i,"TH",{class:!0});var I=y(d);Q=g(I,"P",{class:!0});var B=y(Q);S=F(B,H),B.forEach(u),I.forEach(u),this.h()},h(){w(e,"class","w-6/12"),w(s,"class","w-2/12"),w(o,"class","text-center"),w(r,"class","w-2/12"),w(Q,"class","text-center"),w(d,"class","w-2/12 text-center")},m(i,h){v(i,e,h),T(e,t),v(i,f,h),v(i,s,h),T(s,c),v(i,k,h),v(i,r,h),T(r,o),T(o,b),v(i,p,h),v(i,d,h),T(d,Q),T(Q,S)},p:V,d(i){i&&u(e),i&&u(f),i&&u(s),i&&u(k),i&&u(r),i&&u(p),i&&u(d)}}}function De(m){let e,l;return e=new ke({props:{slot:"headers",$$slots:{default:[xe]},$$scope:{ctx:m}}}),{c(){O(e.$$.fragment)},l(t){K(e.$$.fragment,t)},m(t,f){L(e,t,f),l=!0},p(t,f){const s={};f&64&&(s.$$scope={dirty:f,ctx:t}),e.$set(s)},i(t){l||(x(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function Qe(m){let e,l,t=P("task-queue")+"",f,s,a,c,k,r,o;return r=new he({props:{class:"mb-6 w-full min-w-[600px] table-fixed",$$slots:{headers:[De],default:[ye]},$$scope:{ctx:m}}}),{c(){e=E("section"),l=E("h2"),f=A(t),s=A(`:
    `),a=E("span"),c=A(m[0]),k=C(),O(r.$$.fragment),this.h()},l(_){e=g(_,"SECTION",{class:!0});var b=y(e);l=g(b,"H2",{class:!0,"data-testid":!0});var p=y(l);f=F(p,t),s=F(p,`:
    `),a=g(p,"SPAN",{class:!0});var d=y(a);c=F(d,m[0]),d.forEach(u),p.forEach(u),k=N(b),K(r.$$.fragment,b),b.forEach(u),this.h()},h(){w(a,"class","select-all font-normal"),w(l,"class","text-lg font-medium"),w(l,"data-testid","task-queue-name"),w(e,"class","flex flex-col gap-4")},m(_,b){v(_,e,b),T(e,l),T(l,f),T(l,s),T(l,a),T(a,c),T(e,k),L(r,e,null),o=!0},p(_,[b]){(!o||b&1)&&Z(c,_[0]);const p={};b&70&&(p.$$scope={dirty:b,ctx:_}),r.$set(p)},i(_){o||(x(r.$$.fragment,_),o=!0)},o(_){D(r.$$.fragment,_),o=!1},d(_){_&&u(e),R(r)}}}function He(m,e,l){let t;_e(m,$e,a=>l(2,t=a));let{taskQueue:f}=e,{workers:s}=e;return m.$$set=a=>{"taskQueue"in a&&l(0,f=a.taskQueue),"workers"in a&&l(1,s=a.workers)},[f,s,t]}class We extends ce{constructor(e){super(),ie(this,e,He,Qe,ue,{taskQueue:0,workers:1})}}export{We as W};
