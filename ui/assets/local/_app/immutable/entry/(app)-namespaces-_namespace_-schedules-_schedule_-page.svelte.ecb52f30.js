import{S as $e,b as ve,a as ge,m as _,w as E,c as R,p as $,q as v,x as I,k as i,d as D,u as b,f as w,L as c,y as J,n as L,G as Ll,R as dl,H as Ol,I as Bl,J as Gl,j as V,g as y,N as pl,O as ml,C as N,D as F,E as M,F as H,K as Te,e as X,z as ze,a1 as Jl,a2 as zl,h as Ke,aq as Qe,ar as Wl,a7 as Al,T as Xe,_ as xe,P as Kl,A as hl,v as Ql,a9 as _l,V as Xl,r as Yl}from"../chunks/index.a36c9cb0.js";import{p as Cl}from"../chunks/stores.656c8c89.js";import{P as Zl}from"../chunks/page-title.b9565d2f.js";import{I as ql}from"../chunks/icon.33859671.js";import{l as et,g as $l,c as Ul,s as xl}from"../chunks/route-for.1ce1ad87.js";import{g as vl}from"../chunks/navigation.3559766b.js";import{S as es,a as gl,d as ts,u as ls,p as ss}from"../chunks/schedule-frequency.ed30b88d.js";import{f as me}from"../chunks/format-date.7c274b02.js";import{t as tt}from"../chunks/time-format.dc246788.js";import{l as Je}from"../chunks/schedules.e5d7ecbe.js";import{W as Nl}from"../chunks/workflow-status.47d31de2.js";import{g as wl}from"../chunks/workflow-service.9baff331.js";import{E as rs}from"../chunks/empty-state.9fb63265.js";import{L as ns}from"../chunks/link.855bf830.js";import{M as kl}from"../chunks/modal.50ea7269.js";import{S as as}from"../chunks/split-button.207826fc.js";import{L as Fl}from"../chunks/loading.bcb9b7b8.js";import{c as os}from"../chunks/core-user.f8486d3a.js";import"../chunks/toaster.16c48a98.js";function us(n){let e,l,t,r,a;return{c(){e=_("h2"),l=E("Memo"),t=R(),r=_("p"),a=E(n[0]),this.h()},l(s){e=$(s,"H2",{class:!0});var o=v(e);l=I(o,"Memo"),o.forEach(i),t=D(s),r=$(s,"P",{});var u=v(r);a=I(u,n[0]),u.forEach(i),this.h()},h(){b(e,"class","mb-4 text-2xl")},m(s,o){w(s,e,o),c(e,l),w(s,t,o),w(s,r,o),c(r,a)},p(s,[o]){o&1&&J(a,s[0])},i:L,o:L,d(s){s&&i(e),s&&i(t),s&&i(r)}}}function is(n,e,l){let{notes:t=""}=e;return n.$$set=r=>{"notes"in r&&l(0,t=r.notes)},[t]}class fs extends $e{constructor(e){super(),ve(this,e,is,us,ge,{notes:0})}}function cs(n){let e,l,t;const r=n[3].default,a=Ll(r,n,n[2],null);return{c(){e=_("div"),a&&a.c(),this.h()},l(s){e=$(s,"DIV",{class:!0});var o=v(e);a&&a.l(o),o.forEach(i),this.h()},h(){b(e,"class",l="panel bg-white "+n[1].class+" svelte-11fqqfg"),dl(e,"error",n[0])},m(s,o){w(s,e,o),a&&a.m(e,null),t=!0},p(s,[o]){a&&a.p&&(!t||o&4)&&Ol(a,r,s,s[2],t?Gl(r,s[2],o,null):Bl(s[2]),null),(!t||o&2&&l!==(l="panel bg-white "+s[1].class+" svelte-11fqqfg"))&&b(e,"class",l),(!t||o&3)&&dl(e,"error",s[0])},i(s){t||(V(a,s),t=!0)},o(s){y(a,s),t=!1},d(s){s&&i(e),a&&a.d(s)}}}function ds(n,e,l){let{$$slots:t={},$$scope:r}=e,{error:a=!1}=e;return n.$$set=s=>{l(1,e=pl(pl({},e),ml(s))),"error"in s&&l(0,a=s.error),"$$scope"in s&&l(2,r=s.$$scope)},e=ml(e),[a,e,r,t]}class Ye extends $e{constructor(e){super(),ve(this,e,ds,cs,ge,{error:0})}}function bl(n,e,l){const t=n.slice();return t[3]=e[l],t}function ps(n){let e,l,t,r,a=n[3].startWorkflowResult.workflowId+"",s,o,u,f,h=me(n[3].actualTime,n[2])+"",p;return{c(){e=_("div"),l=_("div"),t=R(),r=_("div"),s=E(a),o=R(),u=_("div"),f=_("p"),p=E(h),this.h()},l(m){e=$(m,"DIV",{class:!0});var d=v(e);l=$(d,"DIV",{class:!0}),v(l).forEach(i),t=D(d),r=$(d,"DIV",{class:!0});var g=v(r);s=I(g,a),g.forEach(i),o=D(d),u=$(d,"DIV",{class:!0});var q=v(u);f=$(q,"P",{});var C=v(f);p=I(C,h),C.forEach(i),q.forEach(i),d.forEach(i),this.h()},h(){b(l,"class","w-28"),b(r,"class","w-96"),b(u,"class","ml-auto"),b(e,"class","row svelte-lqpjgu")},m(m,d){w(m,e,d),c(e,l),c(e,t),c(e,r),c(r,s),c(e,o),c(e,u),c(u,f),c(f,p)},p(m,d){d&1&&a!==(a=m[3].startWorkflowResult.workflowId+"")&&J(s,a),d&5&&h!==(h=me(m[3].actualTime,m[2])+"")&&J(p,h)},i:L,o:L,d(m){m&&i(e)}}}function ms(n){let e,l,t,r,a,s,o,u,f,h=me(n[3].actualTime,n[2])+"",p,m;return t=new Nl({props:{status:n[6].status}}),s=new ns({props:{"sveltekit:prefetch":!0,href:$l({workflow:n[3].startWorkflowResult.workflowId,run:n[3].startWorkflowResult.runId,namespace:n[1]}),$$slots:{default:[hs]},$$scope:{ctx:n}}}),{c(){e=_("div"),l=_("div"),N(t.$$.fragment),r=R(),a=_("div"),N(s.$$.fragment),o=R(),u=_("div"),f=_("p"),p=E(h),this.h()},l(d){e=$(d,"DIV",{class:!0});var g=v(e);l=$(g,"DIV",{class:!0});var q=v(l);F(t.$$.fragment,q),q.forEach(i),r=D(g),a=$(g,"DIV",{class:!0});var C=v(a);F(s.$$.fragment,C),C.forEach(i),o=D(g),u=$(g,"DIV",{class:!0});var U=v(u);f=$(U,"P",{});var O=v(f);p=I(O,h),O.forEach(i),U.forEach(i),g.forEach(i),this.h()},h(){b(l,"class","w-28"),b(a,"class","w-auto break-words mx-2"),b(u,"class","ml-auto"),b(e,"class","row svelte-lqpjgu")},m(d,g){w(d,e,g),c(e,l),M(t,l,null),c(e,r),c(e,a),M(s,a,null),c(e,o),c(e,u),c(u,f),c(f,p),m=!0},p(d,g){const q={};g&3&&(q.status=d[6].status),t.$set(q);const C={};g&3&&(C.href=$l({workflow:d[3].startWorkflowResult.workflowId,run:d[3].startWorkflowResult.runId,namespace:d[1]})),g&129&&(C.$$scope={dirty:g,ctx:d}),s.$set(C),(!m||g&5)&&h!==(h=me(d[3].actualTime,d[2])+"")&&J(p,h)},i(d){m||(V(t.$$.fragment,d),V(s.$$.fragment,d),m=!0)},o(d){y(t.$$.fragment,d),y(s.$$.fragment,d),m=!1},d(d){d&&i(e),H(t),H(s)}}}function hs(n){let e=n[3].startWorkflowResult.workflowId+"",l;return{c(){l=E(e)},l(t){l=I(t,e)},m(t,r){w(t,l,r)},p(t,r){r&1&&e!==(e=t[3].startWorkflowResult.workflowId+"")&&J(l,e)},d(t){t&&i(l)}}}function _s(n){return{c:L,l:L,m:L,p:L,i:L,o:L,d:L}}function El(n,e){let l,t,r,a,s={ctx:e,current:null,token:null,hasCatch:!0,pending:_s,then:ms,catch:ps,value:6,blocks:[,,,]};return Qe(r=wl({namespace:e[1],workflowId:et(e[3].startWorkflowResult.workflowId),runId:e[3].startWorkflowResult.runId},fetch),s),{key:n,first:null,c(){l=X(),t=X(),s.block.c(),this.h()},l(o){l=X(),t=X(),s.block.l(o),this.h()},h(){this.first=l},m(o,u){w(o,l,u),w(o,t,u),s.block.m(o,s.anchor=u),s.mount=()=>t.parentNode,s.anchor=t,a=!0},p(o,u){e=o,s.ctx=e,u&3&&r!==(r=wl({namespace:e[1],workflowId:et(e[3].startWorkflowResult.workflowId),runId:e[3].startWorkflowResult.runId},fetch))&&Qe(r,s)||Wl(s,e,u)},i(o){a||(V(s.block),a=!0)},o(o){for(let u=0;u<3;u+=1){const f=s.blocks[u];y(f)}a=!1},d(o){o&&i(l),o&&i(t),s.block.d(o),s.token=null,s=null}}}function Il(n){let e,l;return e=new rs({props:{title:"No Recent Runs"}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){M(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function $s(n){let e,l,t,r=[],a=new Map,s,o,u,f=n[0].slice(0,5);const h=m=>{var d,g;return(g=(d=m[3])==null?void 0:d.startWorkflowResult)==null?void 0:g.workflowId};for(let m=0;m<f.length;m+=1){let d=bl(n,f,m),g=h(d);a.set(g,r[m]=El(g,d))}let p=!n[0].length&&Il();return{c(){e=_("h2"),l=E("Recent Runs"),t=R();for(let m=0;m<r.length;m+=1)r[m].c();s=R(),p&&p.c(),o=X(),this.h()},l(m){e=$(m,"H2",{class:!0});var d=v(e);l=I(d,"Recent Runs"),d.forEach(i),t=D(m);for(let g=0;g<r.length;g+=1)r[g].l(m);s=D(m),p&&p.l(m),o=X(),this.h()},h(){b(e,"class","mb-4 text-2xl")},m(m,d){w(m,e,d),c(e,l),w(m,t,d);for(let g=0;g<r.length;g+=1)r[g].m(m,d);w(m,s,d),p&&p.m(m,d),w(m,o,d),u=!0},p(m,d){d&7&&(f=m[0].slice(0,5),ze(),r=Jl(r,d,h,1,m,f,a,s.parentNode,zl,El,s,bl),Ke()),m[0].length?p&&(ze(),y(p,1,1,()=>{p=null}),Ke()):p?d&1&&V(p,1):(p=Il(),p.c(),V(p,1),p.m(o.parentNode,o))},i(m){if(!u){for(let d=0;d<f.length;d+=1)V(r[d]);V(p),u=!0}},o(m){for(let d=0;d<r.length;d+=1)y(r[d]);y(p),u=!1},d(m){m&&i(e),m&&i(t);for(let d=0;d<r.length;d+=1)r[d].d(m);m&&i(s),p&&p.d(m),m&&i(o)}}}function vs(n){let e,l;return e=new Ye({props:{$$slots:{default:[$s]},$$scope:{ctx:n}}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){M(e,t,r),l=!0},p(t,[r]){const a={};r&135&&(a.$$scope={dirty:r,ctx:t}),e.$set(a)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function gs(n,e,l){let t;Te(n,tt,s=>l(2,t=s));let{recentRuns:r=[]}=e,{namespace:a}=e;return n.$$set=s=>{"recentRuns"in s&&l(0,r=s.recentRuns),"namespace"in s&&l(1,a=s.namespace)},[r,a,t]}class ws extends $e{constructor(e){super(),ve(this,e,gs,vs,ge,{recentRuns:0,namespace:1})}}function Sl(n,e,l){const t=n.slice();return t[2]=e[l],t}function Rl(n){let e,l,t=me(n[2],n[1],"from now")+"",r,a;return{c(){e=_("div"),l=_("p"),r=E(t),a=R(),this.h()},l(s){e=$(s,"DIV",{class:!0});var o=v(e);l=$(o,"P",{});var u=v(l);r=I(u,t),u.forEach(i),a=D(o),o.forEach(i),this.h()},h(){b(e,"class","row svelte-kbuuws")},m(s,o){w(s,e,o),c(e,l),c(l,r),c(e,a)},p(s,o){o&3&&t!==(t=me(s[2],s[1],"from now")+"")&&J(r,t)},d(s){s&&i(e)}}}function ks(n){let e,l,t,r,a=n[0].slice(0,5),s=[];for(let o=0;o<a.length;o+=1)s[o]=Rl(Sl(n,a,o));return{c(){e=_("h2"),l=E("Upcoming Runs"),t=R();for(let o=0;o<s.length;o+=1)s[o].c();r=X(),this.h()},l(o){e=$(o,"H2",{class:!0});var u=v(e);l=I(u,"Upcoming Runs"),u.forEach(i),t=D(o);for(let f=0;f<s.length;f+=1)s[f].l(o);r=X(),this.h()},h(){b(e,"class","mb-4 text-2xl")},m(o,u){w(o,e,u),c(e,l),w(o,t,u);for(let f=0;f<s.length;f+=1)s[f].m(o,u);w(o,r,u)},p(o,u){if(u&3){a=o[0].slice(0,5);let f;for(f=0;f<a.length;f+=1){const h=Sl(o,a,f);s[f]?s[f].p(h,u):(s[f]=Rl(h),s[f].c(),s[f].m(r.parentNode,r))}for(;f<s.length;f+=1)s[f].d(1);s.length=a.length}},d(o){o&&i(e),o&&i(t),Al(s,o),o&&i(r)}}}function bs(n){let e,l;return e=new Ye({props:{$$slots:{default:[ks]},$$scope:{ctx:n}}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){M(e,t,r),l=!0},p(t,[r]){const a={};r&35&&(a.$$scope={dirty:r,ctx:t}),e.$set(a)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Es(n,e,l){let t;Te(n,tt,a=>l(1,t=a));let{futureRuns:r=[]}=e;return n.$$set=a=>{"futureRuns"in a&&l(0,r=a.futureRuns)},[r,t]}class Is extends $e{constructor(e){super(),ve(this,e,Es,bs,ge,{futureRuns:0})}}function Dl(n){var Ve,oe,Ee,G,Ie,he,ue;let e,l,t=(((Ve=n[0])==null?void 0:Ve.startTime)??"")+"",r,a,s,o,u=(((oe=n[0])==null?void 0:oe.endTime)??"")+"",f,h,p,m,d=(((Ee=n[0])==null?void 0:Ee.jitter)??"")+"",g,q,C,U,O=(((Ie=(G=n[0])==null?void 0:G.excludeCalendar)==null?void 0:Ie[0])??"")+"",te,j,A,K,ee=(((he=n[1])==null?void 0:he.remainingActions)??"")+"",z,P,Y,le,fe=(((ue=n[2])==null?void 0:ue.overlapPolicy)??"")+"",we;return{c(){e=_("p"),l=E("Schedule Start Time: "),r=E(t),a=R(),s=_("p"),o=E("Schedule End Time: "),f=E(u),h=R(),p=_("p"),m=E("Jitter: "),g=E(d),q=R(),C=_("p"),U=E("Exclusion Calendar: "),te=E(O),j=R(),A=_("p"),K=E("Remaining Actions: "),z=E(ee),P=R(),Y=_("p"),le=E("Overlap Policy: "),we=E(fe)},l(S){e=$(S,"P",{});var W=v(e);l=I(W,"Schedule Start Time: "),r=I(W,t),W.forEach(i),a=D(S),s=$(S,"P",{});var se=v(s);o=I(se,"Schedule End Time: "),f=I(se,u),se.forEach(i),h=D(S),p=$(S,"P",{});var Z=v(p);m=I(Z,"Jitter: "),g=I(Z,d),Z.forEach(i),q=D(S),C=$(S,"P",{});var ce=v(C);U=I(ce,"Exclusion Calendar: "),te=I(ce,O),ce.forEach(i),j=D(S),A=$(S,"P",{});var re=v(A);K=I(re,"Remaining Actions: "),z=I(re,ee),re.forEach(i),P=D(S),Y=$(S,"P",{});var x=v(Y);le=I(x,"Overlap Policy: "),we=I(x,fe),x.forEach(i)},m(S,W){w(S,e,W),c(e,l),c(e,r),w(S,a,W),w(S,s,W),c(s,o),c(s,f),w(S,h,W),w(S,p,W),c(p,m),c(p,g),w(S,q,W),w(S,C,W),c(C,U),c(C,te),w(S,j,W),w(S,A,W),c(A,K),c(A,z),w(S,P,W),w(S,Y,W),c(Y,le),c(Y,we)},p(S,W){var se,Z,ce,re,x,ye,_e;W&1&&t!==(t=(((se=S[0])==null?void 0:se.startTime)??"")+"")&&J(r,t),W&1&&u!==(u=(((Z=S[0])==null?void 0:Z.endTime)??"")+"")&&J(f,u),W&1&&d!==(d=(((ce=S[0])==null?void 0:ce.jitter)??"")+"")&&J(g,d),W&1&&O!==(O=(((x=(re=S[0])==null?void 0:re.excludeCalendar)==null?void 0:x[0])??"")+"")&&J(te,O),W&2&&ee!==(ee=(((ye=S[1])==null?void 0:ye.remainingActions)??"")+"")&&J(z,ee),W&4&&fe!==(fe=(((_e=S[2])==null?void 0:_e.overlapPolicy)??"")+"")&&J(we,fe)},d(S){S&&i(e),S&&i(a),S&&i(s),S&&i(h),S&&i(p),S&&i(q),S&&i(C),S&&i(j),S&&i(A),S&&i(P),S&&i(Y)}}}function Ss(n){let e,l,t,r,a,s,o,u;t=new ql({props:{class:"inline",name:n[3]?"chevron-up":"chevron-down"}});let f=n[3]&&Dl(n);return{c(){e=_("button"),l=E("Advanced Settings "),N(t.$$.fragment),r=R(),f&&f.c(),a=X(),this.h()},l(h){e=$(h,"BUTTON",{class:!0});var p=v(e);l=I(p,"Advanced Settings "),F(t.$$.fragment,p),p.forEach(i),r=D(h),f&&f.l(h),a=X(),this.h()},h(){b(e,"class","settings svelte-5rdr1k")},m(h,p){w(h,e,p),c(e,l),M(t,e,null),w(h,r,p),f&&f.m(h,p),w(h,a,p),s=!0,o||(u=Xe(e,"click",n[4]),o=!0)},p(h,[p]){const m={};p&8&&(m.name=h[3]?"chevron-up":"chevron-down"),t.$set(m),h[3]?f?f.p(h,p):(f=Dl(h),f.c(),f.m(a.parentNode,a)):f&&(f.d(1),f=null)},i(h){s||(V(t.$$.fragment,h),s=!0)},o(h){y(t.$$.fragment,h),s=!1},d(h){h&&i(e),H(t),h&&i(r),f&&f.d(h),h&&i(a),o=!1,u()}}}function Rs(n,e,l){let{spec:t}=e,{state:r}=e,{policies:a}=e,s=!1;const o=()=>l(3,s=!s);return n.$$set=u=>{"spec"in u&&l(0,t=u.spec),"state"in u&&l(1,r=u.state),"policies"in u&&l(2,a=u.policies)},[t,r,a,s,o]}class Ds extends $e{constructor(e){super(),ve(this,e,Rs,Ss,ge,{spec:0,state:1,policies:2})}}function Ps(n){let e,l,t,r,a;return{c(){e=_("p"),l=E("Error Message"),t=R(),r=_("p"),a=E(n[0]),this.h()},l(s){e=$(s,"P",{class:!0});var o=v(e);l=I(o,"Error Message"),o.forEach(i),t=D(s),r=$(s,"P",{class:!0});var u=v(r);a=I(u,n[0]),u.forEach(i),this.h()},h(){b(e,"class","error-text svelte-1lke5yx"),b(r,"class","error-text svelte-1lke5yx")},m(s,o){w(s,e,o),c(e,l),w(s,t,o),w(s,r,o),c(r,a)},p(s,o){o&1&&J(a,s[0])},d(s){s&&i(e),s&&i(t),s&&i(r)}}}function Ts(n){let e,l;return e=new Ye({props:{error:!0,$$slots:{default:[Ps]},$$scope:{ctx:n}}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){M(e,t,r),l=!0},p(t,[r]){const a={};r&3&&(a.$$scope={dirty:r,ctx:t}),e.$set(a)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Vs(n,e,l){let{error:t=""}=e;return n.$$set=r=>{"error"in r&&l(0,t=r.error)},[t]}class ys extends $e{constructor(e){super(),ve(this,e,Vs,Ts,ge,{error:0})}}function Ws(n){let e,l,t,r,a,s;return a=new es({props:{calendar:n[0],interval:n[1],class:"text-base"}}),{c(){e=_("h2"),l=E("Frequency"),t=R(),r=_("div"),N(a.$$.fragment),this.h()},l(o){e=$(o,"H2",{class:!0});var u=v(e);l=I(u,"Frequency"),u.forEach(i),t=D(o),r=$(o,"DIV",{class:!0});var f=v(r);F(a.$$.fragment,f),f.forEach(i),this.h()},h(){b(e,"class","mb-4 text-2xl"),b(r,"class","pr-2")},m(o,u){w(o,e,u),c(e,l),w(o,t,u),w(o,r,u),M(a,r,null),s=!0},p(o,u){const f={};u&1&&(f.calendar=o[0]),u&2&&(f.interval=o[1]),a.$set(f)},i(o){s||(V(a.$$.fragment,o),s=!0)},o(o){y(a.$$.fragment,o),s=!1},d(o){o&&i(e),o&&i(t),o&&i(r),H(a)}}}function As(n){let e,l;return e=new Ye({props:{$$slots:{default:[Ws]},$$scope:{ctx:n}}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){M(e,t,r),l=!0},p(t,[r]){const a={};r&7&&(a.$$scope={dirty:r,ctx:t}),e.$set(a)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Cs(n,e,l){let{calendar:t=void 0}=e,{interval:r=void 0}=e;return n.$$set=a=>{"calendar"in a&&l(0,t=a.calendar),"interval"in a&&l(1,r=a.interval)},[t,r]}class qs extends $e{constructor(e){super(),ve(this,e,Cs,As,ge,{calendar:0,interval:1})}}function Pl(n,e,l){const t=n.slice();return t[23]=e[l],t}function Us(n){return{c:L,l:L,m:L,p:L,i:L,o:L,d:L}}function Ns(n){let e,l,t,r;const a=[Ms,Fs],s=[];function o(u,f){return u[4]?0:1}return e=o(n),l=s[e]=a[e](n),{c(){l.c(),t=X()},l(u){l.l(u),t=X()},m(u,f){s[e].m(u,f),w(u,t,f),r=!0},p(u,f){let h=e;e=o(u),e===h?s[e].p(u,f):(ze(),y(s[h],1,1,()=>{s[h]=null}),Ke(),l=s[e],l?l.p(u,f):(l=s[e]=a[e](u),l.c()),V(l,1),l.m(t.parentNode,t))},i(u){r||(V(l),r=!0)},o(u){y(l),r=!1},d(u){s[e].d(u),u&&i(t)}}}function Fs(n){var lt,st,rt,nt,at,ot,ut,it,ft,ct,dt,pt,mt,ht,_t,$t,vt,gt,wt,kt,bt,Et,It,St,Rt,Dt,Pt,Tt,Vt,yt,Wt,At,Ct,qt,Ut,Nt;let e,l,t,r,a,s,o,u,f,h,p,m,d,g,q,C,U,O,te,j,A=((at=(nt=(rt=(st=(lt=n[22])==null?void 0:lt.schedule)==null?void 0:st.action)==null?void 0:rt.startWorkflow)==null?void 0:nt.workflowType)==null?void 0:at.name)+"",K,ee,z,P,Y,le=me((ut=(ot=n[22])==null?void 0:ot.info)==null?void 0:ut.createTime,n[5])+"",fe,we,Ve,oe,Ee,G,Ie,he,ue,S,W,se,Z,ce,re,x,ye,_e,ke,Ze,We,be,Be,de,Ge,pe,Ae;r=new ql({props:{name:"chevron-left",class:"inline"}}),f=new Nl({props:{status:(it=n[22])!=null&&it.schedule.state.paused?"Paused":"Running"}});let Q=((ct=(ft=n[22])==null?void 0:ft.info)==null?void 0:ct.updateTime)&&Tl(n);oe=new as({props:{position:"right",label:(mt=(pt=(dt=n[22])==null?void 0:dt.schedule)==null?void 0:pt.state)!=null&&mt.paused?"Unpause":"Pause",id:"schedule-actions",disabled:n[9],$$slots:{default:[Hs]},$$scope:{ctx:n}}}),oe.$on("click",n[14]);let B=((_t=(ht=n[22])==null?void 0:ht.info)==null?void 0:_t.invalidScheduleError)&&yl(n);ue=new qs({props:{calendar:(wt=(gt=(vt=($t=n[22])==null?void 0:$t.schedule)==null?void 0:vt.spec)==null?void 0:gt.structuredCalendar)==null?void 0:wt[0],interval:(It=(Et=(bt=(kt=n[22])==null?void 0:kt.schedule)==null?void 0:bt.spec)==null?void 0:Et.interval)==null?void 0:It[0]}}),Z=new ws({props:{namespace:n[6],recentRuns:(Rt=(St=n[22])==null?void 0:St.info)==null?void 0:Rt.recentActions}}),x=new Is({props:{futureRuns:(Pt=(Dt=n[22])==null?void 0:Dt.info)==null?void 0:Pt.futureActionTimes}}),ke=new Ds({props:{spec:(Vt=(Tt=n[22])==null?void 0:Tt.schedule)==null?void 0:Vt.spec,state:(Wt=(yt=n[22])==null?void 0:yt.schedule)==null?void 0:Wt.state,policies:(Ct=(At=n[22])==null?void 0:At.schedule)==null?void 0:Ct.policies}}),be=new fs({props:{notes:(Nt=(Ut=(qt=n[22])==null?void 0:qt.schedule)==null?void 0:Ut.state)==null?void 0:Nt.notes}});function Ml(){return n[17](n[22])}let Hl={confirmType:"primary",confirmText:n[22].schedule.state.paused?"Unpause":"Pause",confirmDisabled:!n[3],$$slots:{content:[Ls],title:[js]},$$scope:{ctx:n}};de=new kl({props:Hl}),n[16](de),de.$on("confirmModal",Ml);let jl={confirmType:"destructive",confirmText:"Delete",$$slots:{content:[Bs],title:[Os]},$$scope:{ctx:n}};return pe=new kl({props:jl}),n[18](pe),pe.$on("confirmModal",n[10]),{c(){e=_("header"),l=_("div"),t=_("a"),N(r.$$.fragment),a=E("Back to Schedules"),s=R(),o=_("div"),u=_("h1"),N(f.$$.fragment),h=R(),p=_("p"),m=E(n[7]),d=R(),g=_("div"),q=_("p"),C=E(n[6]),U=R(),O=_("div"),te=R(),j=_("p"),K=E(A),ee=R(),z=_("div"),P=_("p"),Y=E("Created: "),fe=E(le),we=R(),Q&&Q.c(),Ve=R(),N(oe.$$.fragment),Ee=R(),G=_("div"),B&&B.c(),Ie=R(),he=_("div"),N(ue.$$.fragment),S=R(),W=_("div"),se=_("div"),N(Z.$$.fragment),ce=R(),re=_("div"),N(x.$$.fragment),ye=R(),_e=_("div"),N(ke.$$.fragment),Ze=R(),We=_("div"),N(be.$$.fragment),Be=R(),N(de.$$.fragment),Ge=R(),N(pe.$$.fragment),this.h()},l(k){e=$(k,"HEADER",{class:!0});var T=v(e);l=$(T,"DIV",{class:!0});var ne=v(l);t=$(ne,"A",{href:!0,class:!0,style:!0});var Se=v(t);F(r.$$.fragment,Se),a=I(Se,"Back to Schedules"),Se.forEach(i),s=D(ne),o=$(ne,"DIV",{class:!0});var Ce=v(o);u=$(Ce,"H1",{class:!0});var Re=v(u);F(f.$$.fragment,Re),h=D(Re),p=$(Re,"P",{class:!0,"data-testid":!0});var Ue=v(p);m=I(Ue,n[7]),Ue.forEach(i),Re.forEach(i),Ce.forEach(i),d=D(ne),g=$(ne,"DIV",{class:!0});var ie=v(g);q=$(ie,"P",{});var Ne=v(q);C=I(Ne,n[6]),Ne.forEach(i),U=D(ie),O=$(ie,"DIV",{class:!0}),v(O).forEach(i),te=D(ie),j=$(ie,"P",{});var De=v(j);K=I(De,A),De.forEach(i),ie.forEach(i),ee=D(ne),z=$(ne,"DIV",{class:!0});var Fe=v(z);P=$(Fe,"P",{});var qe=v(P);Y=I(qe,"Created: "),fe=I(qe,le),qe.forEach(i),Fe.forEach(i),we=D(ne),Q&&Q.l(ne),ne.forEach(i),Ve=D(T),F(oe.$$.fragment,T),T.forEach(i),Ee=D(k),G=$(k,"DIV",{class:!0});var ae=v(G);B&&B.l(ae),Ie=D(ae),he=$(ae,"DIV",{class:!0});var Me=v(he);F(ue.$$.fragment,Me),Me.forEach(i),S=D(ae),W=$(ae,"DIV",{class:!0});var Pe=v(W);se=$(Pe,"DIV",{class:!0});var He=v(se);F(Z.$$.fragment,He),He.forEach(i),ce=D(Pe),re=$(Pe,"DIV",{class:!0});var je=v(re);F(x.$$.fragment,je),je.forEach(i),Pe.forEach(i),ye=D(ae),_e=$(ae,"DIV",{class:!0});var Le=v(_e);F(ke.$$.fragment,Le),Le.forEach(i),Ze=D(ae),We=$(ae,"DIV",{class:!0});var Oe=v(We);F(be.$$.fragment,Oe),Oe.forEach(i),ae.forEach(i),Be=D(k),F(de.$$.fragment,k),Ge=D(k),F(pe.$$.fragment,k),this.h()},h(){b(t,"href",Ul({namespace:n[6]})),b(t,"class","absolute top-0 back-to-schedules svelte-1pb4ys0"),Ql(t,"left","-0.5rem"),b(p,"class","font-medium select-all"),b(p,"data-testid","schedule-name"),b(u,"class","text-2xl flex relative items-center gap-4"),b(o,"class","flex justify-between items-center mt-8"),b(O,"class","w-1 h-1 rounded-full bg-gray-900"),b(g,"class","flex items-center gap-2 text-sm"),b(z,"class","flex items-center gap-2 text-sm"),b(l,"class","flex flex-col gap-1 relative"),b(e,"class","flex flex-row justify-between gap-4 mb-8"),b(he,"class","w-full xl:w-1/2"),b(se,"class","w-full xl:w-3/4"),b(re,"class","w-full xl:w-1/4"),b(W,"class","flex flex-col xl:flex-row gap-4"),b(_e,"class","w-full xl:w-1/2"),b(We,"class","w-full xl:w-1/2"),b(G,"class","flex flex-col gap-4 pb-24")},m(k,T){w(k,e,T),c(e,l),c(l,t),M(r,t,null),c(t,a),c(l,s),c(l,o),c(o,u),M(f,u,null),c(u,h),c(u,p),c(p,m),c(l,d),c(l,g),c(g,q),c(q,C),c(g,U),c(g,O),c(g,te),c(g,j),c(j,K),c(l,ee),c(l,z),c(z,P),c(P,Y),c(P,fe),c(l,we),Q&&Q.m(l,null),c(e,Ve),M(oe,e,null),w(k,Ee,T),w(k,G,T),B&&B.m(G,null),c(G,Ie),c(G,he),M(ue,he,null),c(G,S),c(G,W),c(W,se),M(Z,se,null),c(W,ce),c(W,re),M(x,re,null),c(G,ye),c(G,_e),M(ke,_e,null),c(G,Ze),c(G,We),M(be,We,null),w(k,Be,T),M(de,k,T),w(k,Ge,T),M(pe,k,T),Ae=!0},p(k,T){var qe,ae,Me,Pe,He,je,Le,Oe,Ft,Mt,Ht,jt,Lt,Ot,Bt,Gt,Jt,zt,Kt,Qt,Xt,Yt,Zt,xt,el,tl,ll,sl,rl,nl,al,ol,ul,il,fl,cl;n=k;const ne={};T&1&&(ne.status=(qe=n[22])!=null&&qe.schedule.state.paused?"Paused":"Running"),f.$set(ne),(!Ae||T&1)&&A!==(A=((je=(He=(Pe=(Me=(ae=n[22])==null?void 0:ae.schedule)==null?void 0:Me.action)==null?void 0:Pe.startWorkflow)==null?void 0:He.workflowType)==null?void 0:je.name)+"")&&J(K,A),(!Ae||T&33)&&le!==(le=me((Oe=(Le=n[22])==null?void 0:Le.info)==null?void 0:Oe.createTime,n[5])+"")&&J(fe,le),(Mt=(Ft=n[22])==null?void 0:Ft.info)!=null&&Mt.updateTime?Q?Q.p(n,T):(Q=Tl(n),Q.c(),Q.m(l,null)):Q&&(Q.d(1),Q=null);const Se={};T&1&&(Se.label=(Lt=(jt=(Ht=n[22])==null?void 0:Ht.schedule)==null?void 0:jt.state)!=null&&Lt.paused?"Unpause":"Pause"),T&67108864&&(Se.$$scope={dirty:T,ctx:n}),oe.$set(Se),(Bt=(Ot=n[22])==null?void 0:Ot.info)!=null&&Bt.invalidScheduleError?B?(B.p(n,T),T&1&&V(B,1)):(B=yl(n),B.c(),V(B,1),B.m(G,Ie)):B&&(ze(),y(B,1,1,()=>{B=null}),Ke());const Ce={};T&1&&(Ce.calendar=(Kt=(zt=(Jt=(Gt=n[22])==null?void 0:Gt.schedule)==null?void 0:Jt.spec)==null?void 0:zt.structuredCalendar)==null?void 0:Kt[0]),T&1&&(Ce.interval=(Zt=(Yt=(Xt=(Qt=n[22])==null?void 0:Qt.schedule)==null?void 0:Xt.spec)==null?void 0:Yt.interval)==null?void 0:Zt[0]),ue.$set(Ce);const Re={};T&1&&(Re.recentRuns=(el=(xt=n[22])==null?void 0:xt.info)==null?void 0:el.recentActions),Z.$set(Re);const Ue={};T&1&&(Ue.futureRuns=(ll=(tl=n[22])==null?void 0:tl.info)==null?void 0:ll.futureActionTimes),x.$set(Ue);const ie={};T&1&&(ie.spec=(rl=(sl=n[22])==null?void 0:sl.schedule)==null?void 0:rl.spec),T&1&&(ie.state=(al=(nl=n[22])==null?void 0:nl.schedule)==null?void 0:al.state),T&1&&(ie.policies=(ul=(ol=n[22])==null?void 0:ol.schedule)==null?void 0:ul.policies),ke.$set(ie);const Ne={};T&1&&(Ne.notes=(cl=(fl=(il=n[22])==null?void 0:il.schedule)==null?void 0:fl.state)==null?void 0:cl.notes),be.$set(Ne);const De={};T&1&&(De.confirmText=n[22].schedule.state.paused?"Unpause":"Pause"),T&8&&(De.confirmDisabled=!n[3]),T&67108873&&(De.$$scope={dirty:T,ctx:n}),de.$set(De);const Fe={};T&67108864&&(Fe.$$scope={dirty:T,ctx:n}),pe.$set(Fe)},i(k){Ae||(V(r.$$.fragment,k),V(f.$$.fragment,k),V(oe.$$.fragment,k),V(B),V(ue.$$.fragment,k),V(Z.$$.fragment,k),V(x.$$.fragment,k),V(ke.$$.fragment,k),V(be.$$.fragment,k),V(de.$$.fragment,k),V(pe.$$.fragment,k),Ae=!0)},o(k){y(r.$$.fragment,k),y(f.$$.fragment,k),y(oe.$$.fragment,k),y(B),y(ue.$$.fragment,k),y(Z.$$.fragment,k),y(x.$$.fragment,k),y(ke.$$.fragment,k),y(be.$$.fragment,k),y(de.$$.fragment,k),y(pe.$$.fragment,k),Ae=!1},d(k){k&&i(e),H(r),H(f),Q&&Q.d(),H(oe),k&&i(Ee),k&&i(G),B&&B.d(),H(ue),H(Z),H(x),H(ke),H(be),k&&i(Be),n[16](null),H(de,k),k&&i(Ge),n[18](null),H(pe,k)}}}function Ms(n){let e,l;return e=new Fl({props:{title:"Deleting Schedule...",class:"my-2"}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){M(e,t,r),l=!0},p:L,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Tl(n){var s,o;let e,l,t,r=me((o=(s=n[22])==null?void 0:s.info)==null?void 0:o.updateTime,n[5])+"",a;return{c(){e=_("div"),l=_("p"),t=E("Last updated: "),a=E(r),this.h()},l(u){e=$(u,"DIV",{class:!0});var f=v(e);l=$(f,"P",{});var h=v(l);t=I(h,"Last updated: "),a=I(h,r),h.forEach(i),f.forEach(i),this.h()},h(){b(e,"class","flex items-center gap-2 text-sm")},m(u,f){w(u,e,f),c(e,l),c(l,t),c(l,a)},p(u,f){var h,p;f&33&&r!==(r=me((p=(h=u[22])==null?void 0:h.info)==null?void 0:p.updateTime,u[5])+"")&&J(a,r)},d(u){u&&i(e)}}}function Vl(n){let e,l=n[23].label+"",t,r,a,s;return{c(){e=_("button"),t=E(l),r=R(),this.h()},l(o){e=$(o,"BUTTON",{class:!0});var u=v(e);t=I(u,l),r=D(u),u.forEach(i),this.h()},h(){var o;b(e,"class","cursor-pointer flex gap-2 py-3 px-4 items-center w-full hover:bg-gray-50 "+((o=n[23])==null?void 0:o.class)+" svelte-1pb4ys0")},m(o,u){w(o,e,u),c(e,t),c(e,r),a||(s=Xe(e,"click",n[23].onClick),a=!0)},p(o,u){n=o},d(o){o&&i(e),a=!1,s()}}}function Hs(n){let e,l=n[12],t=[];for(let r=0;r<l.length;r+=1)t[r]=Vl(Pl(n,l,r));return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=X()},l(r){for(let a=0;a<t.length;a+=1)t[a].l(r);e=X()},m(r,a){for(let s=0;s<t.length;s+=1)t[s].m(r,a);w(r,e,a)},p(r,a){if(a&4096){l=r[12];let s;for(s=0;s<l.length;s+=1){const o=Pl(r,l,s);t[s]?t[s].p(o,a):(t[s]=Vl(o),t[s].c(),t[s].m(e.parentNode,e))}for(;s<t.length;s+=1)t[s].d(1);t.length=l.length}},d(r){Al(t,r),r&&i(e)}}}function yl(n){var r,a;let e,l,t;return l=new ys({props:{error:(a=(r=n[22])==null?void 0:r.info)==null?void 0:a.invalidScheduleError}}),{c(){e=_("div"),N(l.$$.fragment),this.h()},l(s){e=$(s,"DIV",{class:!0});var o=v(e);F(l.$$.fragment,o),o.forEach(i),this.h()},h(){b(e,"class","w-full xl:w-1/2")},m(s,o){w(s,e,o),M(l,e,null),t=!0},p(s,o){var f,h;const u={};o&1&&(u.error=(h=(f=s[22])==null?void 0:f.info)==null?void 0:h.invalidScheduleError),l.$set(u)},i(s){t||(V(l.$$.fragment,s),t=!0)},o(s){y(l.$$.fragment,s),t=!1},d(s){s&&i(e),H(l)}}}function js(n){let e,l=n[22].schedule.state.paused?"Unpause":"Pause",t,r;return{c(){e=_("h3"),t=E(l),r=E(" Schedule?"),this.h()},l(a){e=$(a,"H3",{slot:!0});var s=v(e);t=I(s,l),r=I(s," Schedule?"),s.forEach(i),this.h()},h(){b(e,"slot","title")},m(a,s){w(a,e,s),c(e,t),c(e,r)},p(a,s){s&1&&l!==(l=a[22].schedule.state.paused?"Unpause":"Pause")&&J(t,l)},d(a){a&&i(e)}}}function Ls(n){let e,l,t,r=n[22].schedule.state.paused?"unpause":"pause",a,s,o,u,f,h,p,m,d=n[22].schedule.state.paused?"unpausing":"pausing",g,q,C,U,O,te;return{c(){e=_("div"),l=_("p"),t=E("Are you sure you want to "),a=E(r),s=R(),o=_("strong"),u=E(n[7]),f=E("?"),h=R(),p=_("p"),m=E("Enter a reason for "),g=E(d),q=E(" the schedule."),C=R(),U=_("input"),this.h()},l(j){e=$(j,"DIV",{slot:!0});var A=v(e);l=$(A,"P",{});var K=v(l);t=I(K,"Are you sure you want to "),a=I(K,r),s=D(K),o=$(K,"STRONG",{});var ee=v(o);u=I(ee,n[7]),ee.forEach(i),f=I(K,"?"),K.forEach(i),h=D(A),p=$(A,"P",{class:!0});var z=v(p);m=I(z,"Enter a reason for "),g=I(z,d),q=I(z," the schedule."),z.forEach(i),C=D(A),U=$(A,"INPUT",{class:!0,placeholder:!0}),A.forEach(i),this.h()},h(){b(p,"class","my-4"),b(U,"class","block w-full border border-gray-200 rounded-md p-2 mt-4"),b(U,"placeholder","Enter a reason"),b(e,"slot","content")},m(j,A){w(j,e,A),c(e,l),c(l,t),c(l,a),c(l,s),c(l,o),c(o,u),c(l,f),c(e,h),c(e,p),c(p,m),c(p,g),c(p,q),c(e,C),c(e,U),_l(U,n[3]),O||(te=[Xe(U,"input",n[15]),Xe(U,"keydown",Xl(n[13]))],O=!0)},p(j,A){A&1&&r!==(r=j[22].schedule.state.paused?"unpause":"pause")&&J(a,r),A&1&&d!==(d=j[22].schedule.state.paused?"unpausing":"pausing")&&J(g,d),A&8&&U.value!==j[3]&&_l(U,j[3])},d(j){j&&i(e),O=!1,Yl(te)}}}function Os(n){let e,l;return{c(){e=_("h3"),l=E("Delete Schedule?"),this.h()},l(t){e=$(t,"H3",{slot:!0});var r=v(e);l=I(r,"Delete Schedule?"),r.forEach(i),this.h()},h(){b(e,"slot","title")},m(t,r){w(t,e,r),c(e,l)},p:L,d(t){t&&i(e)}}}function Bs(n){let e,l,t,r,a,s;return{c(){e=_("div"),l=_("p"),t=E(`Are you sure you want to delete
          `),r=_("strong"),a=E(n[7]),s=E("?"),this.h()},l(o){e=$(o,"DIV",{slot:!0});var u=v(e);l=$(u,"P",{});var f=v(l);t=I(f,`Are you sure you want to delete
          `),r=$(f,"STRONG",{});var h=v(r);a=I(h,n[7]),h.forEach(i),s=I(f,"?"),f.forEach(i),u.forEach(i),this.h()},h(){b(e,"slot","content")},m(o,u){w(o,e,u),c(e,l),c(l,t),c(l,r),c(r,a),c(l,s)},p:L,d(o){o&&i(e)}}}function Gs(n){let e,l;return e=new Fl({}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){M(e,t,r),l=!0},p:L,i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Js(n){let e,l,t,r={ctx:n,current:null,token:null,hasCatch:!1,pending:Gs,then:Ns,catch:Us,value:22,blocks:[,,,]};return Qe(l=n[0],r),{c(){e=X(),r.block.c()},l(a){e=X(),r.block.l(a)},m(a,s){w(a,e,s),r.block.m(a,r.anchor=s),r.mount=()=>e.parentNode,r.anchor=e,t=!0},p(a,[s]){n=a,r.ctx=n,s&1&&l!==(l=n[0])&&Qe(l,r)||Wl(r,n,s)},i(a){t||(V(r.block),t=!0)},o(a){for(let s=0;s<3;s+=1){const o=r.blocks[s];y(o)}t=!1},d(a){a&&i(e),r.block.d(a),r.token=null,r=null}}}function zs(n,e,l){let t,r,a,s;Te(n,Je,P=>l(4,t=P)),Te(n,Cl,P=>l(20,a=P)),Te(n,tt,P=>l(5,s=P));let o=a.params.namespace,u=a.params.schedule;const f={namespace:o,scheduleId:et(u)};let h=gl(f),p,m,d="",g=os();Te(n,g,P=>l(19,r=P));let q=r.namespaceWriteDisabled(o);const C=async()=>{try{xe(Je,t=!0,t),await ts({namespace:o,scheduleId:u}),m.close(),setTimeout(()=>{xe(Je,t=!1,t),vl(Ul({namespace:o}))},2e3)}catch(P){m.setError(`Cannot delete schedule. ${P==null?void 0:P.message}`),xe(Je,t=!1,t)}},U=async P=>{var Y,le;!((le=(Y=P==null?void 0:P.schedule)===null||Y===void 0?void 0:Y.state)===null||le===void 0)&&le.paused?await ls({namespace:o,scheduleId:u,reason:d}):await ss({namespace:o,scheduleId:u,reason:d}),l(0,h=gl(f,fetch)),p.close(),l(3,d="")};let O=[{label:"Edit",onClick:()=>vl(xl({namespace:o,scheduleId:u})),class:"edit"},{label:"Delete Schedule",onClick:()=>m.open(),class:"text-red-500 terminate"}];function te(P){Kl.call(this,n,P)}const j=()=>p.open();function A(){d=this.value,l(3,d)}function K(P){hl[P?"unshift":"push"](()=>{p=P,l(1,p)})}const ee=P=>U(P);function z(P){hl[P?"unshift":"push"](()=>{m=P,l(2,m)})}return[h,p,m,d,t,s,o,u,g,q,C,U,O,te,j,A,K,ee,z]}class Ks extends $e{constructor(e){super(),ve(this,e,zs,Js,ge,{})}}function Qs(n){let e,l,t,r;return e=new Zl({props:{title:`Schedule | ${n[1]}`,url:n[0].url.href}}),t=new Ks({}),{c(){N(e.$$.fragment),l=R(),N(t.$$.fragment)},l(a){F(e.$$.fragment,a),l=D(a),F(t.$$.fragment,a)},m(a,s){M(e,a,s),w(a,l,s),M(t,a,s),r=!0},p(a,[s]){const o={};s&1&&(o.url=a[0].url.href),e.$set(o)},i(a){r||(V(e.$$.fragment,a),V(t.$$.fragment,a),r=!0)},o(a){y(e.$$.fragment,a),y(t.$$.fragment,a),r=!1},d(a){H(e,a),a&&i(l),H(t,a)}}}function Xs(n,e,l){let t;Te(n,Cl,a=>l(0,t=a));const r=t.params.schedule;return[t,r]}class _r extends $e{constructor(e){super(),ve(this,e,Xs,Qs,ge,{})}}export{_r as default};
