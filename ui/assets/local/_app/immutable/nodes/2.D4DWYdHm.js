import{r as Kt}from"../chunks/PD1Wq3xD.js";import{r as Ct,a as Pt}from"../chunks/Bmox76mS.js";import{a as Qt}from"../chunks/D5sUrFSC.js";import{f as Yt}from"../chunks/C-y_cF6n.js";import{c as Lt,s as Xt,g as Zt,a as St}from"../chunks/Cf9asbMp.js";import{B as Nt}from"../chunks/CoG0geaG.js";import{a as ea}from"../chunks/DDXQMJHw.js";import{p as ta}from"../chunks/CTBtQUu0.js";import{q as Bt,a as Et,e as Je,o as st,s as rt,n as lt,F as aa,G as oa,h as na,r as sa}from"../chunks/D1Un8y-w.js";/* empty css                */import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{J as ra,K as la,b4 as ia,F as Ke,u as it,n as Pe,M as ca,S as da,v as ua,E as Qe,w as ct,G as zt,O as va,ao as fa,b5 as Ye,aB as dt,aC as ut,aD as vt,b6 as ma,aV as pa,I as ga,p as X,l as G,s as x,ag as Se,a as xe,e as I,c as B,r as N,t as K,d as b,g as e,b as Z,m as L,f as q,az as O,b3 as _a,aJ as ha,R as ft,a9 as mt}from"../chunks/Dv5jDC8Z.js";import{a as _,t as H,c as se,b as Le}from"../chunks/BM_uyzAk.js";import{i as J}from"../chunks/FbCjvpNA.js";import{s as de}from"../chunks/CevXMagP.js";import{i as ee}from"../chunks/CM2QeVoh.js";import{s as le,a as j,b as Q,m as ba,e as $a}from"../chunks/CEr_ApTH.js";import{b as xa,a as ka,g as Xe}from"../chunks/CFnI2aNn.js";import{p as Ie,u as ya}from"../chunks/DOVEQzNU.js";import{s as ne}from"../chunks/CnnFVxmh.js";import{a as re,s as me,c as ot,b as It}from"../chunks/wdddUT-U.js";import{e as ye}from"../chunks/C1S4hUbu.js";import{t as tt,s as pt,a as wa}from"../chunks/B7mZDVs5.js";import{l as $e,p as T,s as At}from"../chunks/BbkaS_Cl.js";import{o as Ta,a as Ca,w as Ut,c as Pa}from"../chunks/s0RhsljA.js";import{B as De}from"../chunks/59-RDtFO.js";import{I as he}from"../chunks/CrYHGHR9.js";import{L as Dt}from"../chunks/D_g7QUHN.js";import{t as C}from"../chunks/CZMG2GAD.js";import{l as Ne,n as La}from"../chunks/CL06mzCM.js";import{e as ze,i as Re}from"../chunks/CocFUsaO.js";import{p as Rt}from"../chunks/DA_UWTYL.js";import{p as Sa,s as Ot}from"../chunks/Bfc47y5P.js";import{I as Ft}from"../chunks/FjYfWyaw.js";import{v as Ae,D as Ht}from"../chunks/DNGvzXO1.js";import{M as Mt}from"../chunks/B_Tm2Jx_.js";import{M as jt,a as qt,d as Ue}from"../chunks/DteaHS_F.js";import{M as gt}from"../chunks/8RpmvEo7.js";import{T as Na}from"../chunks/Cf5tKryT.js";import{q as Ba,t as Fe,r as He,u as Ze,v as _t,w as Ea}from"../chunks/9czO_RoD.js";import{c as ht}from"../chunks/ByTIZu23.js";import{d as nt}from"../chunks/CGb61nfI.js";import{d as za,u as qe}from"../chunks/B0lqNp2e.js";import{t as Ve}from"../chunks/Ds6tgvmq.js";import{c as Ia}from"../chunks/BXfWvgor.js";import{C as Aa}from"../chunks/10e6Yf9n.js";import{L as Wt}from"../chunks/DukiyZiS.js";import{b as Ua}from"../chunks/BIQVacfo.js";import{I as Me}from"../chunks/IiW_QMEH.js";import{T as je}from"../chunks/CcIHoDhR.js";import{E as Da}from"../chunks/BxpLlhqC.js";import{s as bt,i as $t,e as et,c as Ra}from"../chunks/be56tdcg.js";import{f as Oa,b as Fa}from"../chunks/BndDmdxX.js";import{i as Ha}from"../chunks/7Z0mzYlg.js";import{t as xt}from"../chunks/S8vTd6-A.js";import{a as Ma}from"../chunks/DJUscPv7.js";function kt(m,t){var n=zt,u=pa,a=ga;dt(m),ut(m),vt(m.ctx);try{t()}finally{dt(n),ut(u),vt(a)}}function ja(m,t,n){var u=m,a;ra(()=>{var s=zt,o=ct,i=!1;s.fn=l=>{var d=t.onerror;let r=t.failed;if(!d&&!r||i)throw l;var v=()=>{va(a),kt(s,()=>{i=!1,a=Qe(()=>n(u)),Ye()})};d==null||d(l,v),a?fa(a):Ke&&(it(o),Pe(),it(ca())),da(()=>{kt(s,()=>{i=!0;try{a=Qe(()=>{r(u,()=>l,()=>v)})}catch(h){ma(h,s,null,s.ctx)}Ye(),i=!1})})},Ke&&ua(),a=Qe(()=>n(u)),Ye()},la|ia),Ke&&(u=ct)}const qa=async(m,t=fetch)=>{if(m.runtimeEnvironment.isCloud)return;const n=Ct("cluster");return await Pt(n,{request:t}).then(u=>u)},Wa=async(m,t=fetch)=>{if(m.runtimeEnvironment.isCloud)return;const n=Ct("systemInfo");return await Pt(n,{request:t}).then(u=>u)},We="user",Va=(m=Nt)=>{if(!m)return{};const t=document.cookie.split(";");let n=0,u=t.find(s=>s.includes(We+n)),a="";for(;u;){const[s,o]=u.split("=");a+=o,n++,u=t.find(i=>i.includes(We+n))}if(a)try{const s=ea(a),o=ta(s);return{accessToken:o==null?void 0:o.AccessToken,idToken:o==null?void 0:o.IDToken,name:o==null?void 0:o.Name,picture:o==null?void 0:o.Picture,email:o==null?void 0:o.Email}}catch(s){console.error(s)}return{}},yt=(m=Nt)=>{if(!m)return;const t=document.cookie.split(";");let n=0,u=t.find(a=>a.includes(We+n));for(;u;){const[a]=u.split("=");document.cookie=`${a}=; max-age=-1; path=/`,n++,u=t.find(s=>s.includes(We+n))}},Ga=(m,t)=>!m.auth.enabled||!!(t!=null&&t.accessToken),Ja=async function({fetch:m}){const t=await Yt(m);t.auth.enabled||(yt(),Lt());const n=Va();n!=null&&n.accessToken&&(Xt(n),yt());const u=Zt();Ga(t,u)||Kt(302,Bt()),Qt(t,m);const a=await qa(t,m),s=await Wa(t,m);return{user:u,settings:t,cluster:a,systemInfo:s}},ds=Object.freeze(Object.defineProperty({__proto__:null,load:Ja},Symbol.toStringTag,{value:"Module"})),at=Rt("navOpen",!1);var Ka=H('<div class="flex h-6 w-6 items-center after:absolute after:left-[calc(100%_+_1.5rem)] after:top-0 after:hidden after:h-8 after:items-center after:bg-slate-800 after:p-1 after:px-2 after:text-xs after:text-white after:content-[attr(data-tooltip)] group-data-[nav=closed]:hover:after:flex"><!></div>'),Qa=H('<div role="listitem" class="relative"><a><!> <div> </div></a></div>');function Vt(m,t){const n=$e(t,["children","$$slots","$$events","$$legacy"]);X(t,!1);const[u,a]=le(),s=()=>j(Ie,"$page",u),o=()=>j(at,"$navOpen",u),i=L(),l=L(),d=L();let r=T(t,"link",8),v=T(t,"label",8),h=T(t,"icon",8,void 0),p=T(t,"tooltip",24,v),f=T(t,"external",8,!1),$=T(t,"animate",8,!1),c=T(t,"disabled",8,!1),w=T(t,"isActive",8,void 0);G(()=>Se(f()),()=>{x(i,f()?"noopener noreferrer":"")}),G(()=>Se(f()),()=>{x(l,f()?"_blank":"")}),G(()=>(Se(w()),s()),()=>{x(d,w()&&w()(s().url.href))}),xe(),ee();var g=Qa(),P=I(g);let k;var E=I(P);{var y=U=>{var M=Ka(),W=I(M);he(W,{get name(){return h()},get animate(){return $()}}),N(M),K(()=>re(M,"data-tooltip",p())),_(U,M)};J(E,U=>{h()&&U(y)})}var D=B(E,2);let F;var A=I(D,!0);N(D),N(P),N(g),K((U,M)=>{re(g,"data-testid",(n==null?void 0:n["data-testid"])||`${h()}-button`),re(P,"href",r()),re(P,"rel",e(i)),re(P,"target",e(l)),re(P,"aria-hidden",c()?"true":"false"),re(P,"aria-disabled",c()),re(P,"tabindex",c()?-1:0),k=me(P,1,"mb-1 flex items-center whitespace-nowrap rounded-sm p-1 pl-2 text-sm font-medium svelte-9yb72z",null,k,U),F=me(D,1,"opacity-0 transition-opacity group-data-[nav=open]:opacity-100",null,F,M),ne(A,v())},[()=>({disabled:c(),active:e(d),"text-disabled":c()}),()=>({"pointer-events-none":!o()})],b),_(m,g),Z(),a()}var Ya=H('<hr class="border-subtle">'),Xa=H("<!> <!>",1),Za=H('<div class="flex h-full flex-col flex-col-reverse justify-start gap-6 overflow-auto px-4 py-8"></div>');function eo(m,t){let n=T(t,"open",8,!1),u=T(t,"linkList",8);var a=se(),s=q(a);{var o=i=>{var l=Za();ze(l,5,u,Re,(d,r)=>{var v=Xa(),h=q(v);{var p=g=>{var P=Ya();_(g,P)};J(h,g=>{e(r).divider&&g(p)})}var f=B(h,2);const $=b(()=>e(r).tooltip||e(r).label),c=b(()=>{var g;return(g=e(r))==null?void 0:g.external}),w=b(()=>{var g;return(g=e(r))==null?void 0:g.animate});Vt(f,{get link(){return e(r).href},get label(){return e(r).label},get icon(){return e(r).icon},get tooltip(){return e($)},get external(){return e(c)},get animate(){return e(w)}}),_(d,v)}),N(l),_(i,l)};J(s,i=>{n()&&i(o)})}_(m,a)}var to=H("<li><button> </button></li>"),ao=H('<div data-testid="namespace-search-list"><!> <ul class="flex w-full flex-col gap-4 overflow-auto p-4 pt-2"></ul></div>');function oo(m,t){X(t,!1);const[n,u]=le(),a=()=>j(Ne,"$lastUsedNamespace",n),s=L();let o=T(t,"open",8,!1),i=T(t,"namespaceList",24,()=>[]),l=L("");G(()=>(e(l),Se(i())),()=>{x(s,(e(l)?i().filter(({namespace:h})=>h.includes(e(l))):i()).sort((h,p)=>h.namespace.localeCompare(p.namespace)))}),xe(),ee();var d=se(),r=q(d);{var v=h=>{var p=ao(),f=I(p);Ft(f,{id:"namespace-search",type:"search",label:"Namespace search",labelHidden:!0,autoFocus:!0,placeholder:"Search",class:"sticky top-0 w-full bg-primary p-2",get value(){return e(l)},set value(c){x(l,c)},$$legacy:!0});var $=B(f,2);ze($,5,()=>e(s),Re,(c,w)=>{let g=()=>e(w).namespace,P=()=>e(w).onClick;var k=to(),E=I(k);let y;var D=I(E,!0);N(E),N(k),K(F=>{y=me(E,1,"namespace svelte-1a2f8zs",null,y,F),ne(D,g())},[()=>({selected:g()===a()})],b),ye("click",E,Sa(Ot(()=>P()(g())))),_(c,k)}),N($),N(p),_(h,p)};J(r,h=>{o()&&h(v)})}_(m,d),Z(),u()}var no=H('<!> <div class="mx-2 my-4"><!></div> <!>',1),so=H("<!> <!> <!> <!>",1),ro=H("<!> <!>",1);function Gt(m,t){X(t,!1);const[n,u]=le(),a=()=>j(He,"$relativeTime",n),s=()=>j(Fe,"$timeFormat",n),o=L(),i=L();var l=L(),d=L(),r=L(),v=L();let h=T(t,"position",8,"right");const p=Ba(),f=[{label:C("common.utc"),value:"UTC"},{label:C("common.local"),value:"local"}];let $=L("");const c=g=>{a()&&g!=="local"&&Q(He,!1),Q(Fe,g),x($,"")},w=g=>{g.target.checked&&s()!=="local"&&Q(Fe,"local")};Ta(()=>{String(s())==="relative"&&(Q(Fe,"local"),Q(He,!0))}),G(()=>(e($),Ze),()=>{x(o,e($)?Ze.filter(({abbr:g,value:P,zones:k})=>{const E=e($).trim().toLowerCase();return P.toLowerCase().includes(E)||(g==null?void 0:g.toLowerCase().includes(E))||(k==null?void 0:k.some(y=>y.toLowerCase().includes(E)))}):Ze)}),G(()=>(O(v),O(d),O(l),s(),O(r),ht),()=>{x(i,x(v,x(d,x(l,_t[s()])===null||O(l)===void 0?void 0:O(l).abbr)!==null&&O(d)!==void 0?O(d):x(r,_t[s()])===null||O(r)===void 0?void 0:O(r).label)!==null&&O(v)!==void 0?O(v):ht(s()))}),xe(),ee(),jt(m,{children:(g,P)=>{var k=ro(),E=q(k);const y=b(()=>C("common.timezone",{timezone:e(i)}));Mt(E,{get label(){return e(y)},controls:"timezones-menu",hasIndicator:!0,variant:"ghost","data-testid":"timezones-menu-button",children:(F,A)=>{Pe();var U=Le();K(()=>ne(U,e(i))),_(F,U)},$$slots:{default:!0,leading:(F,A)=>{he(F,{slot:"leading",name:"clock"})}}});var D=B(E,2);qt(D,{id:"timezones-menu",get position(){return h()},class:"w-[10rem] sm:w-[20rem] md:w-[26rem]",children:(F,A)=>{var U=so(),M=q(U);const W=b(()=>C("common.search")),te=b(()=>C("common.search"));Ft(M,{get label(){return e(W)},labelHidden:!0,id:"timezone-search",noBorder:!0,icon:"search",get placeholder(){return e(te)},get value(){return e($)},set value(ie){x($,ie)},$$legacy:!0});var Te=B(M,2);gt(Te);var be=B(Te,2);{var we=ie=>{var ce=no(),ke=q(ce);ze(ke,1,()=>f,Re,(V,ae)=>{let ue=()=>e(ae).value,Y=()=>e(ae).label;const ve=b(()=>`timezones-${ue()}`),pe=b(()=>ue()===s()),fe=b(()=>ue()==="local"&&p);Ue(V,{get"data-testid"(){return e(ve)},get selected(){return e(pe)},get description(){return e(fe)},$$events:{click:()=>c(ue())},children:(_e,Ce)=>{Pe();var Ee=Le();K(()=>ne(Ee,Y())),_(_e,Ee)},$$slots:{default:!0}})});var ge=B(ke,2),z=I(ge);const S=b(()=>C("common.relative"));Na(z,{get label(){return e(S)},id:"relative-toggle",labelPosition:"left","data-testid":"timezones-relative-toggle",get checked(){return ba(),a()},set checked(V){Q(He,V)},$$events:{change:w},$$legacy:!0}),N(ge);var R=B(ge,2);gt(R),_(ie,ce)};J(be,ie=>{e($)||ie(we)})}var Be=B(be,2);ze(Be,1,()=>e(o),Re,(ie,ce)=>{let ke=()=>e(ce).value,ge=()=>e(ce).label,z=()=>e(ce).offset,S=()=>e(ce).abbr;const R=b(()=>ke()===s()),V=b(()=>Ea(z(),C("common.utc")));Ue(ie,{get selected(){return e(R)},get description(){return e(V)},$$events:{click:()=>c(ke())},children:(ae,ue)=>{Pe();var Y=Le();K(()=>ne(Y,`${ge()??""} (${S()??""})`)),_(ae,Y)},$$slots:{default:!0}})},ie=>{Ue(ie,{disabled:!0,children:(ce,ke)=>{Pe();var ge=Le();K(z=>ne(ge,z),[()=>C("common.no-results")],b),_(ce,ge)},$$slots:{default:!0}})}),_(F,U)},$$slots:{default:!0}}),_(g,k)},$$slots:{default:!0}}),Z(),u()}var lo=H('<div class="flex h-6 w-6 items-center after:absolute after:left-[calc(100%_+_1.5rem)] after:top-0 after:hidden after:h-8 after:items-center after:bg-slate-800 after:p-1 after:px-2 after:text-xs after:text-white after:content-[attr(data-tooltip)] group-data-[nav=closed]:hover:after:flex"><!></div>'),io=H('<div role="button" tabindex="0"><!> <div class="opacity-0 transition-opacity group-data-[nav=open]:opacity-100"> </div></div>');function Oe(m,t){const n=$e(t,["children","$$slots","$$events","$$legacy"]);X(t,!1);let u=T(t,"onClick",8,()=>{}),a=T(t,"label",8),s=T(t,"icon",8,void 0),o=T(t,"tooltip",24,a),i=T(t,"animate",8,!1),l=T(t,"active",8,!1),d=T(t,"disabled",8,!1);ee();var r=io();let v;var h=I(r);{var p=c=>{var w=lo(),g=I(w);he(g,{get name(){return s()},get animate(){return i()},get active(){return l()}}),N(w),K(()=>re(w,"data-tooltip",o())),_(c,w)};J(h,c=>{s()&&c(p)})}var f=B(h,2),$=I(f,!0);N(f),N(r),K(c=>{re(r,"data-testid",n["data-testid"]),v=me(r,1,"relative mb-1 flex items-center whitespace-nowrap p-1 pl-2 text-sm font-medium hover:bg-white hover:text-black group-[.surface-primary]:hover:bg-black group-[.surface-primary]:hover:text-white group-[.surface-primary]:dark:hover:bg-white group-[.surface-primary]:dark:hover:text-black svelte-1h8tova",null,v,c),ne($,a())},[()=>({disabled:d()})],b),ye("click",r,function(...c){var w;(w=u())==null||w.apply(this,c)}),ye("keypress",r,function(...c){var w;(w=u())==null||w.apply(this,c)}),_(m,r),Z()}function co(m,t){var n=se();Ma(_a.body,a=>{var s;return(s=za)==null?void 0:s(a)});var u=q(n);de(u,t,"default",{},null),_(m,n)}var uo=H('<div class="flex h-full flex-col justify-start gap-6 overflow-auto px-4 py-8"><!> <!> <!> <div class="border-b border-subtle"></div> <!> <!></div>');function vo(m,t){X(t,!1);const[n,u]=le(),a=()=>j(nt,"$dataEncoder",n),s=()=>j(Ae,"$viewDataEncoderSettings",n),o=()=>j(qe,"$useDarkMode",n),i=L();let l=T(t,"open",8,!1);const d=()=>{Q(Ae,!s())};Ca(()=>{Q(Ae,!1)}),G(()=>a(),()=>{x(i,a()===null||a()===void 0?void 0:a().endpoint)}),xe(),ee();var r=se(),v=q(r);{var h=p=>{var f=uo(),$=I(f);Gt($,{position:"left"});var c=B($,2);const w=b(()=>C("data-encoder.codec-server")),g=b(()=>C("data-encoder.codec-server")),P=b(()=>e(i)?a().hasError?"-error":"-configured":""),k=b(()=>e(i)?a().hasError?"transcoder-error":"transcoder-on":"transcoder-off");Oe(c,{onClick:d,get tooltip(){return e(w)},get label(){return e(g)},get"data-testid"(){return`data-encoder-status${e(P)??""}`},get icon(){return e(k)}});var E=B(c,2);Ht(E,{});var y=B(E,4);const D=b(()=>o()?C("common.night"):C("common.day")),F=b(()=>o()?C("common.night"):C("common.day")),A=b(()=>o()?"moon":"sun");Oe(y,{onClick:()=>Q(qe,!o()),get tooltip(){return e(D)},get label(){return e(F)},get icon(){return e(A)}});var U=B(y,2);de(U,t,"default",{},null),N(f),_(p,f)};J(v,p=>{l()&&p(h)})}_(m,r),Z(),u()}var fo=H('<div class="group surface-primary fixed top-0 z-50 h-[calc(100%-64px)] w-full overflow-auto md:hidden" data-nav="open"><!> <!> <!></div>'),mo=H('<div class="namespace-wrapper svelte-1ddrd9e"><!> <div class="ml-1 h-full w-1 border-l border-subtle"></div> <!></div>'),po=H('<div class="flex aspect-square w-[32px] min-w-[32px] items-center justify-center"><!></div>'),go=H('<!> <nav data-testid="top-nav"><button data-testid="nav-menu-button" type="button"><!></button> <!> <button data-testid="nav-profile-button" type="button"><!></button></nav>',1);function _o(m,t){X(t,!1);const[n,u]=le(),a=()=>j(Ie,"$page",n),s=()=>j(Ne,"$lastUsedNamespace",n),o=()=>j($,"$viewNamespaces",n),i=L(),l=L(),d=L();let r=T(t,"namespaceList",24,()=>[]),v=T(t,"linkList",8),h=T(t,"isCloud",8,!1),p=T(t,"showNamespacePicker",8,!0),f=L(!1),$=Ut(!1),c=L(!1);function w(S){S.key==="Escape"&&[e(f),$,e(c)].some(R=>R)&&E()}xa(()=>{E()});const g=()=>{x(f,!e(f)),Q($,!1),x(c,!1)},P=()=>{x(f,!1),Q($,!o()),x(c,!1)},k=()=>{x(f,!1),Q($,!1),x(c,!e(c))};function E(){x(f,!1),Q($,!1),x(c,!1)}const y=S=>S.length>16?`${S.slice(0,8)}...${S.slice(-8)}`:S;G(()=>(a(),s()),()=>{x(i,a().params.namespace||s())}),G(()=>(Se(r()),e(i)),()=>{x(l,r().some(S=>S.namespace===e(i)))}),G(()=>(e(f),o(),e(c)),()=>{x(d,e(f)||o()||e(c))}),xe(),ee();var D=go();ye("keypress",ha,w);var F=q(D);{var A=S=>{var R=fo(),V=I(R);eo(V,{get open(){return e(f)},get linkList(){return v()}});var ae=B(V,2);de(ae,t,"nsPicker",{get open(){return o()},closeMenu:E},Y=>{oo(Y,{get open(){return o()},get namespaceList(){return r()}})});var ue=B(ae,2);vo(ue,{get open(){return e(c)},children:(Y,ve)=>{var pe=se(),fe=q(pe);de(fe,t,"default",{},null),_(Y,pe)},$$slots:{default:!0}}),N(R),tt(1,R,()=>pt,()=>({duration:200,delay:0})),tt(2,R,()=>pt,()=>({duration:200,delay:0})),_(S,R)};J(F,S=>{e(d)&&S(A)})}var U=B(F,2),M=I(U);let W;var te=I(M);{var Te=S=>{he(S,{name:"close",height:32,width:32})},be=S=>{Dt(S,{height:32,width:32})};J(te,S=>{e(f)?S(Te):S(be,!1)})}N(M);var we=B(M,2);{var Be=S=>{var R=mo(),V=I(R);De(V,{variant:"ghost","data-testid":"namespace-switcher",leadingIcon:"namespace-switcher",size:"xs",class:"grow text-white",$$events:{click:P},children:(ve,pe)=>{Pe();var fe=Le();K(_e=>ne(fe,_e),[()=>y(e(i))],b),_(ve,fe)},$$slots:{default:!0}});var ae=B(V,4);const ue=b(()=>Et({namespace:e(i)})),Y=b(()=>!e(l));De(ae,{variant:"ghost",size:"xs",get href(){return e(ue)},get disabled(){return e(Y)},children:(ve,pe)=>{he(ve,{class:"text-white",name:"external-link"})},$$slots:{default:!0}}),N(R),_(S,R)};J(we,S=>{p()&&S(Be)})}var ie=B(we,2);let ce;var ke=I(ie);{var ge=S=>{he(S,{name:"close",height:32,width:32})},z=S=>{var R=po(),V=I(R);he(V,{name:"astronaut",height:24,width:24}),N(R),_(S,R)};J(ke,S=>{e(c)?S(ge):S(z,!1)})}N(ie),N(U),K((S,R,V,ae)=>{me(U,1,S,"svelte-1ddrd9e"),re(U,"aria-label",R),W=me(M,1,"nav-button relative svelte-1ddrd9e",null,W,V),ce=me(ie,1,"nav-button svelte-1ddrd9e",null,ce,ae)},[()=>ot(Ve("fixed bottom-0 z-40 flex h-[64px] w-full flex-row items-center justify-between gap-5 px-4 py-2 transition-colors md:hidden",h()?"bg-gradient-to-b from-indigo-600 to-indigo-900 text-off-white focus-visible:[&_[role=button]]:ring-success focus-visible:[&_a]:ring-success":"surface-black border-t border-subtle")),()=>C("common.main"),()=>({"active-shadow":e(f)}),()=>({"active-shadow":e(c)})],b),ye("click",M,g),ye("click",ie,k),_(m,D),Z(),u()}const wt=Rt("dismissed-banners",{}),ho={default:"bg-indigo-200 text-indigo-900",danger:"surface-danger"},bo=Ia(["w-full","md:sticky md:top-12","max-md:fixed max-md:bottom-16","z-[39]","flex items-center justify-between gap-2","px-4 py-2"],{variants:{type:ho},defaultVariants:{type:"default"}});var $o=H('<span class="sr-only"> </span>'),xo=H('<section><span class="flex items-center gap-2"><!> </span> <!></section>');function Jt(m,t){const n=$e(t,["children","$$slots","$$events","$$legacy"]),u=$e(n,["id","message","dismissLabel","dismissable","icon","type","class"]);X(t,!1);const[a,s]=le(),o=()=>j(wt,"$dismissedBanners",a),i=L();let l=T(t,"id",8),d=T(t,"message",8),r=T(t,"dismissLabel",8,""),v=T(t,"dismissable",8,!1),h=T(t,"icon",8,null),p=T(t,"type",8,"default"),f=T(t,"class",8,"");const $=()=>{$a(wt,ft(o)[l()]=!0,ft(o))};G(()=>(Se(d()),o(),Se(l())),()=>{x(i,d()&&!o()[l()])}),xe(),ee();var c=se(),w=q(c);{var g=P=>{var k=xo();let E;var y=I(k),D=I(y);{var F=W=>{he(W,{get name(){return h()}})};J(D,W=>{h()&&W(F)})}var A=B(D);N(y);var U=B(y,2);{var M=W=>{De(W,{leadingIcon:"close",variant:"ghost",size:"xs",$$events:{click:$},children:(te,Te)=>{var be=$o(),we=I(be,!0);N(be),K(()=>ne(we,r())),_(te,be)},$$slots:{default:!0}})};J(U,W=>{v()&&W(M)})}N(k),K(W=>{E=It(k,E,{class:W,...u}),ne(A,` ${d()??""}`)},[()=>Ve(bo({type:p()}),f())],b),_(P,k)};J(w,P=>{e(i)&&P(g)})}_(m,c),Z(),s()}function ko(m,t){X(t,!1);const[n,u]=le(),a=()=>j(Ie,"$page",n),s=()=>j(Ne,"$lastUsedNamespace",n),o=()=>j(nt,"$dataEncoder",n),i=L(),l=L(),d=L();var r=L(),v=L();G(()=>(O(v),O(r),a(),s()),()=>{x(i,x(v,x(r,a().params)===null||O(r)===void 0?void 0:O(r).namespace)!==null&&O(v)!==void 0?O(v):s())}),G(()=>a(),()=>{x(l,a().url.pathname.split("/"))}),G(()=>(e(i),e(l)),()=>{x(d,e(i)&&(e(l).includes("workflows")||e(l).includes("schedules")||e(l).includes("batch-operations")||e(l).includes("task-queues")||e(l).includes("import")))}),xe(),ee();var h=se(),p=q(h);{var f=c=>{const w=b(()=>C("data-encoder.codec-server-error"));Jt(c,{get message(){return e(w)},id:"transcoder-error",icon:"transcoder-error",type:"danger"})},$=c=>{var w=se(),g=q(w);de(g,t,"fallback",{},null),_(c,w)};J(p,c=>{o().hasError&&e(d)?c(f):c($,!1)})}_(m,h),Z(),u()}function yo(m,t){X(t,!1);const[n,u]=le(),a=()=>j(Ie,"$page",n),s=()=>j(Ne,"$lastUsedNamespace",n),o=L(),i=L(),l=L();let d=T(t,"namespaceList",24,()=>[]);const r=$=>{const c=$.detail.value;Q(Ne,c.namespace),c==null||c.onClick(c.namespace)};G(()=>(a(),s()),()=>{x(o,a().params.namespace||s())}),G(()=>(Se(d()),e(o)),()=>{x(i,d().some($=>$.namespace===e(o)))}),G(()=>e(o),()=>{x(l,Et({namespace:e(o)}))}),xe(),ee();const v=b(()=>C("namespaces.namespace-label",{namespace:e(o)})),h=b(()=>C("common.no-results")),p=b(()=>C("namespaces.go-to-namespace")),f=b(()=>!e(i));Aa(m,{get label(){return e(v)},get noResultsText(){return e(h)},labelHidden:!0,get value(){return e(o)},id:"namespace-switcher",leadingIcon:"namespace-switcher",get options(){return d()},optionValueKey:"namespace",minSize:32,get actionTooltip(){return e(p)},get href(){return e(l)},get hrefDisabled(){return e(f)},$$events:{change:r}}),Z(),u()}var wo=H('<nav><a href="/" class="w-fit"><!></a> <button><!></button> <div role="list"><!></div> <div class="self-end"><!> <div class="self-center justify-self-center py-3 text-center text-[0.6rem] text-slate-300"><span class="sr-only"> </span> </div></div></nav>');function To(m,t){const n=$e(t,["children","$$slots","$$events","$$legacy"]),u=$e(n,["isCloud"]);X(t,!1);const[a,s]=le(),o=()=>j(at,"$navOpen",a),i=()=>j(Ie,"$page",a),l=L();var d=L(),r=L(),v=L();let h=T(t,"isCloud",8,!1);const p=()=>Q(at,!o());G(()=>(O(v),O(r),O(d),i()),()=>{x(l,x(v,x(r,x(d,i().data)===null||O(d)===void 0?void 0:O(d).settings)===null||O(r)===void 0?void 0:O(r).version)!==null&&O(v)!==void 0?O(v):"")}),xe(),ee();var f=wo();let $;var c=I(f),w=I(c);Dt(w,{height:24,width:24,class:"m-1"}),N(c);var g=B(c,2),P=I(g);he(P,{name:"chevron-right"}),N(g);var k=B(g,2),E=I(k);de(E,t,"default",{},null),N(k);var y=B(k,2),D=I(y);de(D,t,"bottom",{},null);var F=B(D,2),A=I(F),U=I(A,!0);N(A);var M=B(A);N(F),N(y),N(f),K((W,te)=>{$=It(f,$,{class:W,"data-nav":o()?"open":"closed","data-testid":"navigation-header",...u}),re(g,"title",o()?"Collapse Navigation":"Expand Navigation"),me(g,1,`mx-[8px] self-start justify-self-end opacity-0 transition-[opacity,transform] focus-visible:outline-none focus-visible:ring-2 group-hover:opacity-100 group-focus:opacity-100 group-data-[nav=open]:rotate-180 ${(h()?"focus-visible:ring-primary/70 focus-visible:dark:ring-success":"focus-visible:ring-primary/70")??""}`),ne(U,te),ne(M,` ${e(l)??""}`)},[()=>Ve("group grid min-h-screen w-16 grid-cols-[2rem] grid-rows-[fit-content(1.5rem)_minmax(3rem,4rem)_1fr_8rem] gap-2 border-r border-subtle px-4 py-5 transition-width data-[nav=open]:w-[180px] data-[nav=open]:grid-cols-[100%]","focus-visible:[&_[role=button]]:outline-none focus-visible:[&_[role=button]]:ring-2 focus-visible:[&_[role=button]]:ring-primary/70 focus-visible:[&_a]:outline-none focus-visible:[&_a]:ring-2 focus-visible:[&_a]:ring-primary/70",h()?"bg-gradient-to-b from-indigo-600 to-indigo-950 text-off-white focus-visible:[&_[role=button]]:ring-success focus-visible:[&_a]:ring-success":"surface-black"),()=>C("common.version")],b),ye("click",g,p),_(m,f),Z(),s()}var Co=H('<hr class="-mx-4 my-4 border-subtle">'),Po=H("<!> <!>",1),Lo=H("<!> <!>",1);function So(m,t){X(t,!1);const[n,u]=le(),a=()=>j(qe,"$useDarkMode",n);let s=T(t,"isCloud",8,!1),o=T(t,"linkList",8);ee();const i=b(()=>C("common.primary"));To(m,{get isCloud(){return s()},get"aria-label"(){return e(i)},children:(l,d)=>{var r=se(),v=q(r);ze(v,1,o,Re,(h,p)=>{var f=se(),$=q(f);{var c=w=>{var g=Po(),P=q(g);{var k=A=>{var U=Co();_(A,U)};J(P,A=>{e(p).divider&&A(k)})}var E=B(P,2);const y=b(()=>{var A;return((A=e(p))==null?void 0:A.tooltip)||e(p).label}),D=b(()=>{var A;return(A=e(p))==null?void 0:A.external}),F=b(()=>{var A;return(A=e(p))==null?void 0:A.animate});Vt(E,{get link(){return e(p).href},get label(){return e(p).label},get icon(){return e(p).icon},get tooltip(){return e(y)},get external(){return e(D)},get animate(){return e(F)},get isActive(){return e(p).isActive}}),_(w,g)};J($,w=>{var g;(g=e(p))!=null&&g.hidden||w(c)})}_(h,f)}),_(l,r)},$$slots:{default:!0,bottom:(l,d)=>{var r=Lo(),v=q(r);const h=b(()=>a()?C("common.night"):C("common.day")),p=b(()=>a()?C("common.night"):C("common.day")),f=b(()=>a()?"moon":"sun");Oe(v,{onClick:()=>Q(qe,!a()),get tooltip(){return e(h)},get label(){return e(p)},get icon(){return e(f)}});var $=B(v,2);de($,t,"bottom",{},null),_(l,r)}}}),Z(),u()}function No(m,t){X(t,!1),ee(),Wt(m,{id:"skip-nav",href:"#content",class:"absolute left-1/2 z-100 -translate-y-full p-1 focus:translate-y-0",children:(n,u)=>{Pe();var a=Le();K(s=>ne(a,s),[()=>C("common.skip-nav")],b),_(n,a)},$$slots:{default:!0}}),Z()}var Bo=H('<div class="mx-1 flex items-center"><!></div>');function Eo(m,t){X(t,!1);const[n,u]=le(),a=()=>j(Ae,"$viewDataEncoderSettings",n),s=()=>j(nt,"$dataEncoder",n),o=()=>{var p;Q(Ae,!a()),a()&&((p=document.getElementById("content-wrapper"))===null||p===void 0||p.scrollTo(0,0))};let i=L("ghost");const l=p=>{x(i,p?"primary":"ghost")};G(()=>a(),()=>{l(a())}),xe(),ee();var d=Bo(),r=I(d);{var v=p=>{var f=se(),$=q(f);{var c=g=>{const P=b(()=>C("data-encoder.codec-server-configured"));je(g,{bottomRight:!0,get text(){return e(P)},children:(k,E)=>{const y=b(()=>C("data-encoder.codec-server-configured"));Me(k,{get variant(){return e(i)},get label(){return e(y)},class:"relative flex items-center","data-testid":"data-encoder-status-configured",icon:"transcoder-on",$$events:{click:o}})},$$slots:{default:!0}})},w=(g,P)=>{{var k=y=>{const D=b(()=>C("data-encoder.codec-server-error"));je(y,{bottomRight:!0,get text(){return e(D)},children:(F,A)=>{const U=b(()=>C("data-encoder.codec-server-error"));Me(F,{get variant(){return e(i)},get label(){return e(U)},class:"relative flex items-center","data-testid":"data-encoder-status-error",icon:"transcoder-error",$$events:{click:o}})},$$slots:{default:!0}})},E=(y,D)=>{{var F=A=>{const U=b(()=>C("data-encoder.codec-server-success"));je(A,{bottomRight:!0,get text(){return e(U)},children:(M,W)=>{const te=b(()=>C("data-encoder.codec-server-success"));Me(M,{get variant(){return e(i)},get label(){return e(te)},class:"relative flex items-center","data-testid":"data-encoder-status-success",icon:"transcoder-on",$$events:{click:o}})},$$slots:{default:!0}})};J(y,A=>{s().hasSuccess&&A(F)},D)}};J(g,y=>{s().hasError?y(k):y(E,!1)},P)}};J($,g=>{var P;(P=s())!=null&&P.hasNotRequested?g(c):g(w,!1)})}_(p,f)},h=p=>{const f=b(()=>C("data-encoder.configure-codec-server"));je(p,{bottomRight:!0,get text(){return e(f)},children:($,c)=>{const w=b(()=>C("data-encoder.configure-codec-server"));Me($,{get variant(){return e(i)},get label(){return e(w)},class:"relative flex items-center","data-testid":"data-encoder-status",icon:"transcoder-off",$$events:{click:o}})},$$slots:{default:!0}})};J(r,p=>{var f;(f=s())!=null&&f.endpoint?p(v):p(h,!1)})}N(d),_(m,d),Z(),u()}var zo=H('<nav class="surface-primary sticky top-0 z-40 hidden w-full flex-col items-center justify-end border-b border-subtle p-1 px-4 md:flex md:flex-row md:px-8" data-testid="top-nav"><div class="flex grow items-center"><!></div> <div class="flex items-center gap-2"><!> <!> <!></div></nav>');function Io(m,t){X(t,!1);let n=L();ee();var u=zo(),a=I(u),s=I(a);de(s,t,"left",{},null),N(a);var o=B(a,2),i=I(o);const l=b(()=>e(n)<768?"left":"right");Gt(i,{get position(){return e(l)}});var d=B(i,2);Eo(d,{});var r=B(d,2);de(r,t,"default",{},null),N(o),N(u),K(v=>re(u,"aria-label",v),[()=>C("common.main")],b),Ua("innerWidth",v=>x(n,v)),_(m,u),Z()}function Ao(m,t){var n=se(),u=q(n);ja(u,{failed:(s,o=mt,i=mt)=>{Da(s,{get reset(){return i()},get error(){return o()}})}},s=>{var o=se(),i=q(o);de(i,t,"default",{},null),_(s,o)}),_(m,n)}var Uo=H("<div><!></div>");function Do(m,t){const n=$e(t,["children","$$slots","$$events","$$legacy"]),u=$e(n,["hidden","onScrollToBottomClick"]);let a=T(t,"hidden",8),s=T(t,"onScrollToBottomClick",8);var o=Uo();let i;var l=I(o);De(l,At({size:"xs",variant:"primary",leadingIcon:"arrow-down"},()=>u,{$$events:{click(...d){var r;(r=s())==null||r.apply(this,d)}}})),N(o),K(d=>i=me(o,1,"jump-to-bottom relative svelte-1a615g3",null,i,d),[()=>({hidden:a()})],b),_(m,o)}var Ro=H("<div><!></div>");function Oo(m,t){const n=$e(t,["children","$$slots","$$events","$$legacy"]),u=$e(n,["hidden","onScrollToTopClick"]);let a=T(t,"hidden",8),s=T(t,"onScrollToTopClick",8);var o=Ro();let i;var l=I(o);De(l,At({size:"xs",variant:"primary",leadingIcon:"arrow-up"},()=>u,{$$events:{click(...d){var r;(r=s())==null||r.apply(this,d)}}})),N(o),K(d=>i=me(o,1,"",null,i,d),[()=>({invisible:a()})],b),_(m,o)}var Fo=H('<div id="scroll-container"><!> <!></div>');function Ho(m,t){const n=$e(t,["children","$$slots","$$events","$$legacy"]);X(t,!1);const[u,a]=le(),s=()=>j(Oa,"$fullEventHistory",u);let o=T(t,"scrollToTopHidden",8,!0),i=T(t,"scrollToBottomHidden",8,!1),l=T(t,"onScrollToTopClick",8),d=T(t,"onScrollToBottomClick",8),r=T(t,"scrollToTopAriaLabel",8),v=T(t,"scrollToBottomAriaLabel",8);ee();var h=Fo(),p=I(h);Oo(p,{get hidden(){return o()},get onScrollToTopClick(){return l()},get"aria-label"(){return r()}});var f=B(p,2);{var $=c=>{Do(c,{get hidden(){return i()},get onScrollToBottomClick(){return d()},get"aria-label"(){return v()}})};J(f,c=>{s().length&&c($)})}N(h),K(()=>me(h,1,ot(n.class),"svelte-jpa06r")),_(m,h),Z(),a()}const Tt=Ut(0);var Mo=H('<div id="content-wrapper" class="relative h-screen w-max flex-auto overflow-auto"><!> <main id="content" class="pb-16 md:pb-0"><!></main> <!> <!></div>');function jo(m,t){X(t,!1);const[n,u]=le(),a=()=>j(et,"$endIndex",n),s=()=>j(Fa,"$filteredEventHistory",n),o=()=>j(Tt,"$scrollTop",n);let i=L(!0),l=!1,d=150;function r(){return document.getElementById("content-wrapper")}function v(){var k;Q(bt,0),Q(et,$t),(k=r())===null||k===void 0||k.scrollTo(0,0)}function h(){var k,E;const y=s()===null||s()===void 0?void 0:s().length;y&&(Ra(),Q(et,y),Q(bt,a()-$t)),(k=r())===null||k===void 0||k.scrollTo(0,(E=r())===null||E===void 0?void 0:E.scrollHeight)}function p(k){const E=k.target;Q(Tt,E.scrollTop),x(i,o()<d)}ee();var f=Mo(),$=I(f);de($,t,"default",{},null);var c=B($,2),w=I(c);de(w,t,"main",{},null),N(c);var g=B(c,2);de(g,t,"footer",{},null);var P=B(g,2);Ho(P,{get scrollToTopHidden(){return e(i)},scrollToBottomHidden:l,onScrollToTopClick:v,onScrollToBottomClick:h,scrollToTopAriaLabel:"Scroll to top",scrollToBottomAriaLabel:"Scroll to bottom"}),N(f),ye("scroll",f,p),_(m,f),Z(),u()}var qo=H('<div><p class="text-sm"><!></p> <button type="button"><!></button></div>');function Wo(m,t){X(t,!1);const n=Pa(),u={primary:"bg-slate-800 text-white",success:"bg-success",error:"bg-danger",info:"bg-information",warning:"bg-warning"};let a=T(t,"id",8),s=T(t,"variant",8),o=T(t,"closeButtonLabel",8);const i=()=>{n("dismiss",{id:a()})};ee();var l=qo(),d=I(l),r=I(d);de(r,t,"default",{},null),N(d);var v=B(d,2),h=I(v);he(h,{name:"close"}),N(v),N(l),K(p=>{re(l,"id",a()),me(l,1,p),re(v,"aria-label",o())},[()=>ot(Ve("flex grow-0 items-center justify-between gap-4 rounded-md px-3 py-2.5 shadow",u[s()]))],b),ye("click",v,Ot(i)),tt(3,l,()=>wa,()=>({x:250})),_(m,l),Z()}var Vo=H('<div class="fixed bottom-5 right-5 z-[99999] flex flex-col items-end gap-2" role="log"></div>');function Go(m,t){X(t,!1);const[n,u]=le(),a=()=>j(o(),"$toasts",n);let s=T(t,"pop",8),o=T(t,"toasts",8),i=T(t,"closeButtonLabel",8);const l=r=>{s()(r.detail.id)};ee();var d=Vo();ze(d,5,a,({message:r,variant:v,id:h,link:p})=>h,(r,v)=>{let h=()=>e(v).message,p=()=>e(v).variant,f=()=>e(v).id,$=()=>e(v).link;Wo(r,{get closeButtonLabel(){return i()},get variant(){return p()},get id(){return f()},$$events:{dismiss:l},children:(c,w)=>{var g=se(),P=q(g);{var k=y=>{Wt(y,{get href(){return $()},children:(D,F)=>{Pe();var A=Le();K(()=>ne(A,h())),_(D,A)},$$slots:{default:!0}})},E=y=>{var D=Le();K(()=>ne(D,h())),_(y,D)};J(P,y=>{$()?y(k):y(E,!1)})}_(c,g)},$$slots:{default:!0}})}),N(d),_(m,d),Z(),u()}var Jo=H('<div class="border-b border-subtle"></div> <!> <!>',1);function Ko(m,t){X(t,!1);const[n,u]=le(),a=()=>j(St,"$authUser",n);let s=T(t,"logout",8);ee();var o=se(),i=q(o);{var l=d=>{var r=Jo(),v=B(q(r),2);Oe(v,{get tooltip(){return a().email},get label(){return a().email},icon:"astronaut","data-testid":"email",disabled:!0});var h=B(v,2);const p=b(()=>C("common.log-out")),f=b(()=>C("common.log-out"));Oe(h,{get onClick(){return s()},get tooltip(){return e(p)},get label(){return e(f)},icon:"logout","data-testid":"log-out"}),_(d,r)};J(i,d=>{a().accessToken&&d(l)})}_(m,o),Z(),u()}var Qo=H('<div class="text-center text-sm text-black"> </div>'),Yo=H("<img> <div><!></div>",1),Xo=H('<div class="flex items-center justify-start gap-4"><!> <p> </p></div>'),Zo=H('<div class="flex items-center justify-start gap-4"><!> </div>'),en=H("<!> <!>",1),tn=H("<!> <!>",1);function an(m,t){X(t,!1);const[n,u]=le(),a=()=>j(St,"$authUser",n);let s=T(t,"logout",8),o=L(!0);function i(){x(o,!1)}ee();var l=se(),d=q(l);{var r=v=>{jt(v,{children:(h,p)=>{var f=tn(),$=q(f);Mt($,{variant:"ghost",hasIndicator:!0,controls:"user-menu",children:(w,g)=>{var P=Yo(),k=q(P);let E;var y=B(k,2);let D;var F=I(y);{var A=U=>{var M=Qo(),W=I(M,!0);N(M),K(te=>ne(W,te),[()=>{var te;return(te=a())==null?void 0:te.name.trim().charAt(0)}],b),_(U,M)};J(F,U=>{var M;(M=a())!=null&&M.name&&U(A)})}N(y),K((U,M,W)=>{var te;re(k,"src",(te=a())==null?void 0:te.picture),re(k,"alt",U),E=me(k,1,"h-[24px] w-[24px] cursor-pointer",null,E,M),D=me(y,1,"aspect-square h-full w-[24px] bg-blue-200 p-0.5",null,D,W)},[()=>{var U;return((U=a())==null?void 0:U.profile)??C("common.user-profile")},()=>({hidden:!e(o)}),()=>({hidden:e(o)})],b),ye("error",k,i),_(w,P)},$$slots:{default:!0}});var c=B($,2);qt(c,{id:"user-menu",position:"right",children:(w,g)=>{var P=en(),k=q(P);Ue(k,{hoverable:!1,children:(y,D)=>{var F=Xo(),A=I(F);he(A,{name:"astronaut"});var U=B(A,2),M=I(U,!0);N(U),N(F),K(()=>{var W;return ne(M,(W=a())==null?void 0:W.email)}),_(y,F)},$$slots:{default:!0}});var E=B(k,2);Ue(E,{$$events:{click(...y){var D;(D=s())==null||D.apply(this,y)}},children:(y,D)=>{var F=Zo(),A=I(F);he(A,{name:"logout"});var U=B(A);N(F),K(M=>ne(U,` ${M??""}`),[()=>C("common.log-out")],b),_(y,F)},$$slots:{default:!0}}),_(w,P)},$$slots:{default:!0}}),_(h,f)},$$slots:{default:!0}})};J(d,v=>{a().accessToken&&v(r)})}_(m,l),Z(),u()}var on=H("<!> <!> <!>",1),nn=H('<div slot="main" class="flex h-[calc(100%-2.5rem)] w-full flex-col gap-4 p-4 md:p-8"><!></div>'),sn=H('<!> <!> <div class="flex w-screen flex-row"><!> <div class="sticky top-0 z-30 hidden h-screen w-auto md:block"><!></div> <!></div>',1);function us(m,t){X(t,!1);const[n,u]=le(),a=()=>j(Ie,"$page",n),s=()=>j(Ne,"$lastUsedNamespace",n),o=()=>j(La,"$namespaces",n),i=()=>j(Ha,"$inProgressBatchOperation",n),l=L(),d=L(),r=L(),v=L(),h=L(),p=L(),f=L(),$=L(),c=L(),w=L(),g=L();var P=L(),k=L(),E=L(),y=L(),D=L();let F=L();const A=z=>({workflowsRoute:Je({namespace:z}),schedulesRoute:st({namespace:z}),batchOperationsRoute:rt({namespace:z}),workerDeploymentsRoute:lt({namespace:z}),archivalRoute:aa({namespace:z}),namespacesRoute:oa(),nexusRoute:na(),historyImportRoute:sa()}),U=({workflowsRoute:z,schedulesRoute:S,batchOperationsRoute:R,workerDeploymentsRoute:V,archivalRoute:ae,namespacesRoute:ue,nexusRoute:Y,historyImportRoute:ve},pe)=>{var fe,_e,Ce,Ee,Ge;return[{href:z,icon:"workflow",label:C("common.workflows"),isActive:oe=>oe.includes(z)},{href:S,icon:"schedules",label:C("common.schedules"),isActive:oe=>oe.includes(S)},{href:R,icon:"batch-operation",label:C("batch.nav-title"),tooltip:C("batch.list-page-title"),animate:pe,isActive:oe=>oe.includes(R)},{href:V,icon:"merge",label:C("deployments.deployments"),tooltip:C("deployments.worker-deployments"),isActive:oe=>oe.includes(V)},{href:ae,icon:"archives",label:C("common.archive"),isActive:oe=>oe.includes(ae)},{href:ue,icon:"namespace",label:C("common.namespaces"),divider:!0,isActive:oe=>oe.includes(ue)&&!oe.includes(z)&&!oe.includes(S)&&!oe.includes(R)&&!oe.includes(V)&&!oe.includes(ae)},{href:Y,icon:"nexus",label:C("nexus.nexus"),hidden:!(!((Ce=(_e=(fe=a().data)===null||fe===void 0?void 0:fe.systemInfo)===null||_e===void 0?void 0:_e.capabilities)===null||Ce===void 0)&&Ce.nexus),isActive:oe=>oe.includes(Y)},{href:ve,icon:"import",label:C("common.import"),isActive:oe=>oe.includes(ve)},{href:"http://docs.temporal.io",icon:"book",label:C("common.docs"),external:!0},{href:((Ge=(Ee=a().data)===null||Ee===void 0?void 0:Ee.settings)===null||Ge===void 0?void 0:Ge.feedbackURL)||"https://github.com/temporalio/ui/issues/new/choose",icon:"feedback",label:C("common.feedback"),external:!0}]};function M(z){const S=[{subPath:"schedules",fullRoute:st({namespace:z})},{subPath:"batch-operations",fullRoute:rt({namespace:z})},{subPath:"worker-deployments",fullRoute:lt({namespace:z})}];for(const{subPath:R,fullRoute:V}of S)if(a().url.pathname.endsWith(R))return V;return Je({namespace:z})}const W=()=>{Lt(),Xe(Bt())};ya.subscribe(async z=>{z&&window.location.reload()}),ka(()=>{var z;(z=document.getElementById("content"))===null||z===void 0||z.scrollTo(0,0)}),G(()=>(O(E),O(k),O(P),a()),()=>{x(l,x(E,x(k,x(P,a().data)===null||O(P)===void 0?void 0:O(P).settings)===null||O(k)===void 0?void 0:O(k).runtimeEnvironment)===null||O(E)===void 0?void 0:O(E).isCloud)}),G(()=>(e(l),a(),o()),()=>{x(r,e(l)?[a().params.namespace]:o().map(z=>{var S;return(S=z==null?void 0:z.namespaceInfo)===null||S===void 0?void 0:S.name}))}),G(()=>(e(r),e(l),Xe),()=>{x(F,e(r).map(z=>{const S=R=>e(l)?Je({namespace:R}):M(R);return{namespace:z,onClick:R=>{Q(Ne,R),Xe(S(R))}}}))}),G(()=>(O(D),O(y),a(),s()),()=>{x(d,x(D,x(y,a().params)===null||O(y)===void 0?void 0:O(y).namespace)!==null&&O(D)!==void 0?O(D):s())}),G(()=>e(d),()=>{x(v,A(e(d)))}),G(()=>(e(v),i()),()=>{x(h,U(e(v),!!i()))}),G(()=>(e(p),e(f),e($),e(c),e(w),e(v)),()=>{(z=>(x(p,z.workflowsRoute),x(f,z.schedulesRoute),x($,z.batchOperationsRoute),x(c,z.workerDeploymentsRoute),x(w,z.archivalRoute)))(e(v))}),G(()=>(e(p),e(f),e(c),e($),e(w),a()),()=>{x(g,[e(p),e(f),e(c),e($),e(w)].some(z=>a().url.href.includes(z)))}),xe(),ee();var te=sn(),Te=q(te);co(Te,{});var be=B(Te,2);No(be,{});var we=B(be,2),Be=I(we);const ie=b(()=>C("common.close"));Go(Be,{get closeButtonLabel(){return e(ie)},get pop(){return xt.pop},get toasts(){return xt.toasts}});var ce=B(Be,2),ke=I(ce);So(ke,{get linkList(){return e(h)},get isCloud(){return e(l)}}),N(ce);var ge=B(ce,2);jo(ge,{children:(z,S)=>{var R=on(),V=q(R);Ht(V,{class:"hidden md:flex"});var ae=B(V,2);Io(ae,{children:(Y,ve)=>{an(Y,{logout:W})},$$slots:{default:!0,left:(Y,ve)=>{var pe=se(),fe=q(pe);{var _e=Ce=>{yo(Ce,{get namespaceList(){return e(F)}})};J(fe,Ce=>{e(g)&&Ce(_e)})}_(Y,pe)}}});var ue=B(ae,2);ko(ue,{$$slots:{fallback:(Y,ve)=>{const pe=b(()=>{var _e;return(_e=a().data.settings)==null?void 0:_e.bannerText}),fe=b(()=>C("common.close"));Jt(Y,{id:"settings-banner-text",get message(){return e(pe)},dismissable:!0,get dismissLabel(){return e(fe)},slot:"fallback"})}}}),_(z,R)},$$slots:{default:!0,main:(z,S)=>{var R=nn(),V=I(R);Ao(V,{children:(ae,ue)=>{var Y=se(),ve=q(Y);de(ve,t,"default",{},null),_(ae,Y)},$$slots:{default:!0}}),N(R),_(z,R)},footer:(z,S)=>{_o(z,{slot:"footer",get linkList(){return e(h)},get namespaceList(){return e(F)},get isCloud(){return e(l)},get showNamespacePicker(){return e(g)},children:(R,V)=>{Ko(R,{logout:W})},$$slots:{default:!0}})}}}),N(we),_(m,te),Z(),u()}export{us as component,ds as universal};
