import{f as fe}from"../chunks/xYjYgPoN.js";import"../chunks/CWj6FrbW.js";import{p as ee,l as oe,s as K,m as se,g as e,a as ve,f as B,j as x,o as O,h as v,n as N,k as ce,t as D,G as M,L as Q,e as h,r as b,b as te,i as V,c as q,q as he,u as r}from"../chunks/CckrFwdx.js";import{s as A,e as ge}from"../chunks/_IQD3yTx.js";import{i as U}from"../chunks/CoMawi-e.js";import{p as Z}from"../chunks/j9zg6QAh.js";import{P as _e}from"../chunks/CuqmI6m2.js";import"../chunks/69_IOA4Y.js";import{t as le,a as be,f as we}from"../chunks/Do-UwQxE.js";import{p as ye}from"../chunks/Bfc47y5P.js";import{i as $e}from"../chunks/ebNgFJjp.js";import{a as ie,s as ke,c as j}from"../chunks/BioCYJcK.js";import{p as xe}from"../chunks/U_d3qflG.js";import{B as ue}from"../chunks/D8CHdp-y.js";import{I as Se}from"../chunks/B_qoRUNi.js";import{t}from"../chunks/DEjs8ZrU.js";import{w as ne}from"../chunks/Cb8_DOM-.js";import{c as Ie}from"../chunks/B3P80PfG.js";import{s as Le}from"../chunks/DlFjUWrg.js";import{g as Te,r as Ae,h as Pe}from"../chunks/C2yDo0aG.js";import{a as Ee}from"../chunks/SaVKtE1U.js";import{M as R}from"../chunks/DbxkDtSy.js";import{u as We}from"../chunks/54pEi8p7.js";import{C as X}from"../chunks/CneSAwz0.js";import{L as qe}from"../chunks/CrW0Uyne.js";import{k as Be}from"../chunks/DLKvYI2j.js";import{e as Y,i as J}from"../chunks/BTEtt5uP.js";import{e as Ce,T as Fe}from"../chunks/2LDtTsYz.js";import{T as Me}from"../chunks/BPuw5H8q.js";import{I as Qe}from"../chunks/POwFeHBs.js";import{A as De}from"../chunks/B3YA0RXw.js";import{T as Oe}from"../chunks/IF1TuVBO.js";import{D as Ue}from"../chunks/D7uwn1tX.js";const je=async function({params:C}){var s,E,L,W,n,u,f,p;const o=await fe(C.namespace),d=(L=(E=(s=o.config)==null?void 0:s.historyArchivalUri)==null?void 0:E.toLowerCase())==null?void 0:L.startsWith("s3://"),S=(u=(n=(W=o.config)==null?void 0:W.historyArchivalUri)==null?void 0:n.toLowerCase())==null?void 0:u.startsWith("gs://"),I=!d&&!S,P=((f=o==null?void 0:o.config)==null?void 0:f.historyArchivalState)==="Enabled",g=((p=o==null?void 0:o.config)==null?void 0:p.visibilityArchivalState)==="Enabled";return{namespace:o,archivalEnabled:P,visibilityArchivalEnabled:g,archivalQueryingSupported:I}},Wt=Object.freeze(Object.defineProperty({__proto__:null,load:je},Symbol.toStringTag,{value:"Module"}));var Ne=B('<div class="w-full"><form class="flex gap-0" role="search"><!> <!></form></div>');function ze(C,o){ee(o,!1);const d=()=>ie(xe,"$page",I),S=()=>ie(Le,"$searchAttributes",I),[I,P]=ke(),g=se();let s=se("");function E(c){K(s,c)}const L=()=>{if(!e(s))j(ne,[]),j(Te,"");else try{j(ne,Ee(e(s),S()))}catch(c){console.error(c)}e(s)&&e(s)===e(g)?j(Ae,Date.now()):We({url:d().url,parameter:"query",value:e(s),allowEmpty:!0,clearParameters:[Ie]})};function W(){L()}oe(()=>d(),()=>{K(g,d().url.searchParams.get("query"))}),oe(()=>e(g),()=>{E(e(g))}),ve(),$e();var n=Ne(),u=x(n),f=x(u);{let c=O(()=>(Q(t),M(()=>t("workflows.search-placeholder")))),l=O(()=>(Q(t),M(()=>t("workflows.search-placeholder")))),a=O(()=>(Q(t),M(()=>t("common.clear-input-button-label")))),i=O(()=>(e(s),Q(R),M(()=>!e(s)||e(s).length<R)));Se(f,{id:"manual-search",type:"search",get label(){return e(c)},labelHidden:!0,get placeholder(){return e(l)},icon:"search",class:"grow lg:w-3/4 [&_*]:border-r-0",clearable:!0,get clearButtonLabel(){return e(a)},get maxLength(){return R},get hideCount(){return e(i)},get value(){return e(s)},set value(m){K(s,m)},$$events:{clear:W},$$legacy:!0})}var p=v(f,2);ue(p,{"data-testid":"manual-search-button",variant:"primary",type:"submit",children:(c,l)=>{N();var a=ce();D(i=>A(a,i),[()=>(Q(t),M(()=>t("common.search")))]),h(c,a)},$$slots:{default:!0}}),b(u),b(n),ge("submit",u,ye(L)),le(1,u,()=>be,()=>({x:-100,duration:150})),le(1,n,()=>we),h(C,n),te(),P()}var Ge=B('<tr data-testid="workflows-summary-configurable-table-row" class="dense"></tr>'),He=B('<tr slot="headers"></tr>');function Ke(C,o){ee(o,!0);const d=r(()=>Z.params.namespace),S=r(()=>Z.url.searchParams.get("query")),I=r(()=>()=>Pe(e(d),e(S))),P=r(()=>Ue);var g=V(),s=q(g);Be(s,()=>[e(d),e(S)],E=>{{let L=r(()=>t("common.workflows")),W=r(()=>t("common.per-page")),n=r(()=>t("common.next")),u=r(()=>t("common.previous")),f=r(()=>t("workflows.empty-state-title"));De(E,{get onFetch(){return e(I)},get"aria-label"(){return e(L)},get pageSizeSelectLabel(){return e(W)},get nextButtonLabel(){return e(n)},get previousButtonLabel(){return e(u)},get emptyStateMessage(){return e(f)},children:he,$$slots:{default:(p,c)=>{const l=r(()=>c.visibleItems);var a=V(),i=q(a);Y(i,17,()=>e(l),J,(m,_)=>{var w=Ge();Y(w,21,()=>e(P),J,($,F)=>{Fe($,{get workflow(){return e(_)},get column(){return e(F)},archival:!0})}),b(w),h(m,w)}),h(p,a)},headers:(p,c)=>{var l=He();Y(l,21,()=>e(P),J,(a,i)=>{Me(a,{get column(){return e(i)}})}),b(l),h(p,l)},"actions-end-additional":(p,c)=>{const l=r(()=>c.visibleItems),a=r(()=>c.page);{let i=r(()=>t("common.download-json"));Oe(p,{get text(){return e(i)},top:!0,children:(m,_)=>{ue(m,{"data-testid":"export-history-button",size:"xs",variant:"ghost",$$events:{click:()=>Ce(e(l),e(a))},children:(w,$)=>{Qe(w,{name:"download"})},$$slots:{default:!0}})},$$slots:{default:!0}})}}}})}}),h(C,g),te()}var Re=B('<h1 data-testid="archived-enabled-title"> </h1> <!> <!> <!>',1),Xe=B('<h1 data-testid="visibility-disabled-title"> </h1> <p> <a class="text-blue-700 underline" href="https://docs.temporal.io/clusters#archival" target="_blank" rel="noreferrer"> </a>:</p> <!>',1),Ye=B('<p> <a class="text-blue-700 underline" href="https://docs.temporal.io/clusters#archival" target="_blank" rel="noreferrer"> </a>:</p> <!>',1),Je=B('<h1 data-testid="archived-disabled-title"> </h1> <p> </p> <!> <!>',1),Ve=B("<!> <!>",1);function qt(C,o){ee(o,!0);const d=r(()=>o.data.namespace.namespaceInfo.name),S=r(()=>o.data.archivalEnabled),I=r(()=>o.data.visibilityArchivalEnabled),P=r(()=>o.data.archivalQueryingSupported);var g=Ve(),s=q(g);{let n=r(()=>`${t("workflows.archival")} | ${e(d)}`);_e(s,{get title(){return e(n)},get url(){return Z.url.href}})}var E=v(s,2);{var L=n=>{var u=Re(),f=q(u),p=x(f,!0);b(f);var c=v(f,2);{var l=m=>{qe(m,{newTab:!0,href:"https://docs.temporal.io/list-filter",children:(_,w)=>{N();var $=ce("List Filter Documentation");h(_,$)},$$slots:{default:!0}})};U(c,m=>{e(P)&&m(l)})}var a=v(c,2);ze(a,{});var i=v(a,2);Ke(i,{}),D(m=>A(p,m),[()=>t("workflows.archived-workflows")]),h(n,u)},W=n=>{var u=V(),f=q(u);{var p=l=>{var a=Xe(),i=q(a),m=x(i,!0);b(i);var _=v(i,2),w=x(_,!0),$=v(w),F=x($,!0);b($),N(),b(_);var z=v(_,2);{let y=r(()=>`temporal operator namespace update --visibility-archival-state enabled ${e(d)}`),k=r(()=>t("common.copy-icon-title")),T=r(()=>t("common.copy-success-icon-title"));X(z,{get content(){return e(y)},language:"text",inline:!0,get copyIconTitle(){return e(k)},get copySuccessIconTitle(){return e(T)}})}D((y,k,T)=>{A(m,y),A(w,k),A(F,T)},[()=>t("workflows.visibility-disabled-archival"),()=>t("workflows.archival-link-preface"),()=>t("workflows.archival-link")]),h(l,a)},c=l=>{var a=Je(),i=q(a),m=x(i,!0);b(i);var _=v(i,2),w=x(_);b(_);var $=v(_,2);{let y=r(()=>`temporal operator namespace update --history-archival-state enabled ${e(d)}`),k=r(()=>t("common.copy-icon-title")),T=r(()=>t("common.copy-success-icon-title"));X($,{get content(){return e(y)},language:"text",inline:!0,get copyIconTitle(){return e(k)},get copySuccessIconTitle(){return e(T)}})}var F=v($,2);{var z=y=>{var k=Ye(),T=q(k),re=x(T,!0),ae=v(re),me=x(ae,!0);b(ae),N(),b(T);var pe=v(T,2);{let G=r(()=>`temporal operator namespace update --visibility-archival-state enabled ${e(d)}`),H=r(()=>t("common.copy-icon-title")),de=r(()=>t("common.copy-success-icon-title"));X(pe,{get content(){return e(G)},language:"text",inline:!0,get copyIconTitle(){return e(H)},get copySuccessIconTitle(){return e(de)}})}D((G,H)=>{A(re,G),A(me,H)},[()=>t("workflows.archival-link-preface"),()=>t("workflows.archival-link")]),h(y,k)};U(F,y=>{e(I)||y(z)})}D((y,k)=>{A(m,y),A(w,`${k??""}:`)},[()=>t("workflows.archival-disabled-title"),()=>t("workflows.archival-disabled-details")]),h(l,a)};U(f,l=>{e(S)?l(p):l(c,!1)},!0)}h(n,u)};U(E,n=>{e(S)&&e(I)?n(L):n(W,!1)})}h(C,g),te()}export{qt as component,Wt as universal};
