import{f as ie}from"../chunks/BBrHmkpn.js";import"../chunks/CWj6FrbW.js";import{p as X,az as t,g as e,e as V,f as I,o as ne,t as $,r as v,d,b as Y,c as p,h as b,i as z,n as Q,k as le}from"../chunks/DSxqszTl.js";import{s as x}from"../chunks/CXaSvchK.js";import{i as U}from"../chunks/BAt4aHTa.js";import{p as R}from"../chunks/B0CxnFc-.js";import{P as ce}from"../chunks/DTWo_ajL.js";import{e as pe,T as me,W as ve}from"../chunks/Dd9Ysdju.js";import{C as q}from"../chunks/15E2Hi1B.js";import{L as de}from"../chunks/rxQ8V94z.js";import{t as r}from"../chunks/D2OY9xdY.js";import{k as ue}from"../chunks/CvtqSEth.js";import{e as G,i as K}from"../chunks/B5GJuRxG.js";import{T as fe}from"../chunks/BMCXpDf7.js";import{B as _e}from"../chunks/ByUJZvZ-.js";import{I as he}from"../chunks/Dc8cZy7F.js";import{A as ge}from"../chunks/fVFRKPdb.js";import{T as be}from"../chunks/CFAn1g9i.js";import{b as xe}from"../chunks/DHporkfj.js";import{D as we}from"../chunks/D2tuqyh9.js";const ye=async function({params:F}){var k,E,P,W,B,m,f,n;const a=await ie(F.namespace),u=(P=(E=(k=a.config)==null?void 0:k.historyArchivalUri)==null?void 0:E.toLowerCase())==null?void 0:P.startsWith("s3://"),w=(m=(B=(W=a.config)==null?void 0:W.historyArchivalUri)==null?void 0:B.toLowerCase())==null?void 0:m.startsWith("gs://"),A=!u&&!w,L=((f=a==null?void 0:a.config)==null?void 0:f.historyArchivalState)==="Enabled",y=((n=a==null?void 0:a.config)==null?void 0:n.visibilityArchivalState)==="Enabled";return{namespace:a,archivalEnabled:L,visibilityArchivalEnabled:y,archivalQueryingSupported:A}},Xe=Object.freeze(Object.defineProperty({__proto__:null,load:ye},Symbol.toStringTag,{value:"Module"}));var ke=$('<tr data-testid="workflows-summary-configurable-table-row" class="dense"></tr>'),Se=$('<tr slot="headers"></tr>');function Te(F,a){X(a,!0);const u=t(()=>R.params.namespace),w=t(()=>R.url.searchParams.get("query")),A=t(()=>()=>xe(e(u),e(w))),L=t(()=>we);var y=V(),k=I(y);ue(k,()=>[e(u),e(w)],E=>{const P=t(()=>r("common.workflows")),W=t(()=>r("common.per-page")),B=t(()=>r("common.next")),m=t(()=>r("common.previous")),f=t(()=>r("workflows.empty-state-title"));ge(E,{get onFetch(){return e(A)},get"aria-label"(){return e(P)},get pageSizeSelectLabel(){return e(W)},get nextButtonLabel(){return e(B)},get previousButtonLabel(){return e(m)},get emptyStateMessage(){return e(f)},children:ne,$$slots:{default:(n,_)=>{const o=t(()=>_.visibleItems);var l=V(),s=I(l);G(s,17,()=>e(o),K,(h,i)=>{var c=ke();G(c,21,()=>e(L),K,(g,S)=>{me(g,{get workflow(){return e(i)},get column(){return e(S)}})}),v(c),d(h,c)}),d(n,l)},headers:(n,_)=>{var o=Se();G(o,21,()=>e(L),K,(l,s)=>{fe(l,{get column(){return e(s)}})}),v(o),d(n,o)},"actions-end-additional":(n,_)=>{const o=t(()=>_.visibleItems),l=t(()=>_.page),s=t(()=>r("common.download-json"));be(n,{get text(){return e(s)},top:!0,children:(h,i)=>{_e(h,{"data-testid":"export-history-button",size:"xs",variant:"ghost",$$events:{click:()=>pe(e(o),e(l))},children:(c,g)=>{he(c,{name:"download"})},$$slots:{default:!0}})},$$slots:{default:!0}})}}})}),d(F,y),Y()}var Ie=$('<h1 data-testid="archived-enabled-title"> </h1> <!> <!> <!>',1),$e=$('<h1 data-testid="visibility-disabled-title"> </h1> <p> <a class="text-blue-700 underline" href="https://docs.temporal.io/clusters#archival" target="_blank" rel="noreferrer"> </a>:</p> <!>',1),Ae=$('<p> <a class="text-blue-700 underline" href="https://docs.temporal.io/clusters#archival" target="_blank" rel="noreferrer"> </a>:</p> <!>',1),Le=$('<h1 data-testid="archived-disabled-title"> </h1> <p> </p> <!> <!>',1),Ee=$("<!> <!>",1);function Ye(F,a){X(a,!0);const u=t(()=>a.data.namespace.namespaceInfo.name),w=t(()=>a.data.archivalEnabled),A=t(()=>a.data.visibilityArchivalEnabled),L=t(()=>a.data.archivalQueryingSupported);var y=Ee(),k=I(y);const E=t(()=>`${r("workflows.archival")} | ${e(u)}`);ce(k,{get title(){return e(E)},get url(){return R.url.href}});var P=p(k,2);{var W=m=>{var f=Ie(),n=I(f),_=b(n,!0);v(n);var o=p(n,2);{var l=i=>{de(i,{newTab:!0,href:"https://docs.temporal.io/list-filter",children:(c,g)=>{Q();var S=le("List Filter Documentation");d(c,S)},$$slots:{default:!0}})};U(o,i=>{e(L)&&i(l)})}var s=p(o,2);ve(s,{});var h=p(s,2);Te(h,{}),z(i=>x(_,i),[()=>r("workflows.archived-workflows")]),d(m,f)},B=(m,f)=>{{var n=o=>{var l=$e(),s=I(l),h=b(s,!0);v(s);var i=p(s,2),c=b(i,!0),g=p(c),S=b(g,!0);v(g),Q(),v(i);var j=p(i,2);const D=t(()=>`temporal operator namespace update --visibility-archival-state enabled ${e(u)}`),M=t(()=>r("common.copy-icon-title")),N=t(()=>r("common.copy-success-icon-title"));q(j,{get content(){return e(D)},language:"text",inline:!0,get copyIconTitle(){return e(M)},get copySuccessIconTitle(){return e(N)}}),z((T,C,O)=>{x(h,T),x(c,C),x(S,O)},[()=>r("workflows.visibility-disabled-archival"),()=>r("workflows.archival-link-preface"),()=>r("workflows.archival-link")]),d(o,l)},_=o=>{var l=Le(),s=I(l),h=b(s,!0);v(s);var i=p(s,2),c=b(i);v(i);var g=p(i,2);const S=t(()=>`temporal operator namespace update --history-archival-state enabled ${e(u)}`),j=t(()=>r("common.copy-icon-title")),D=t(()=>r("common.copy-success-icon-title"));q(g,{get content(){return e(S)},language:"text",inline:!0,get copyIconTitle(){return e(j)},get copySuccessIconTitle(){return e(D)}});var M=p(g,2);{var N=T=>{var C=Ae(),O=I(C),H=b(O,!0),J=p(H),Z=b(J,!0);v(J),Q(),v(O);var ee=p(O,2);const te=t(()=>`temporal operator namespace update --visibility-archival-state enabled ${e(u)}`),re=t(()=>r("common.copy-icon-title")),ae=t(()=>r("common.copy-success-icon-title"));q(ee,{get content(){return e(te)},language:"text",inline:!0,get copyIconTitle(){return e(re)},get copySuccessIconTitle(){return e(ae)}}),z((oe,se)=>{x(H,oe),x(Z,se)},[()=>r("workflows.archival-link-preface"),()=>r("workflows.archival-link")]),d(T,C)};U(M,T=>{e(A)||T(N)})}z((T,C)=>{x(h,T),x(c,`${C??""}:`)},[()=>r("workflows.archival-disabled-title"),()=>r("workflows.archival-disabled-details")]),d(o,l)};U(m,o=>{e(w)?o(n):o(_,!1)},f)}};U(P,m=>{e(w)&&e(A)?m(W):m(B,!1)})}d(F,y),Y()}export{Ye as component,Xe as universal};
