import{f as _e}from"../chunks/F_fUDAcj.js";import"../chunks/Bzak7iHL.js";import{p as J,l as te,s as H,m as re,g as e,a as ge,t as P,i as k,o as M,c as f,n as U,k as le,j as Q,e as g,r as _,b as V,u as t,h as ae,f as B,q as be}from"../chunks/DOHD4F2H.js";import{s as I,e as we}from"../chunks/iKtCZmbp.js";import{i as D}from"../chunks/4jpKiR-7.js";import{p as Y}from"../chunks/C_POtOFg.js";import{P as ye}from"../chunks/DF9GLY19.js";import"../chunks/69_IOA4Y.js";import{t as oe,a as xe,f as ke}from"../chunks/VuWJBAT-.js";import{p as $e}from"../chunks/Bfc47y5P.js";import{i as Se}from"../chunks/DX2YhGcN.js";import{a as se,s as Ie,c as O}from"../chunks/CgvkIcHY.js";import{p as Te}from"../chunks/ClA4xhdn.js";import{B as ce}from"../chunks/DFVz8P8i.js";import{I as Ae}from"../chunks/osRkGD_-.js";import{t as r}from"../chunks/BXv1jDVW.js";import{w as ne}from"../chunks/CQmKa_sE.js";import{c as Le}from"../chunks/CyjWABYi.js";import{s as Pe}from"../chunks/C3UEgiin.js";import{g as Ee,r as We,h as qe}from"../chunks/C3o6KM80.js";import{a as Be}from"../chunks/DZ9BKAMF.js";import{M as ie}from"../chunks/BohsXFw8.js";import{u as Ce}from"../chunks/DPRndFLh.js";import{C as K}from"../chunks/H54r9ecj.js";import{L as Fe}from"../chunks/DZKebhkx.js";import{k as Me}from"../chunks/CcfqsO14.js";import{e as R,i as X}from"../chunks/h55qdt6V.js";import{e as Qe,T as De}from"../chunks/12mTMqvF.js";import{T as Oe}from"../chunks/DTIYfzFc.js";import{I as Ue}from"../chunks/DfISgQpk.js";import{A as je}from"../chunks/BZEBvx02.js";import{T as Ne}from"../chunks/B_4T2BRM.js";import{D as ze}from"../chunks/Bs6wsxBm.js";const Ge=async function({params:E}){var s,A,S,L,b,c,h,p;const a=await _e(E.namespace),d=(S=(A=(s=a.config)==null?void 0:s.historyArchivalUri)==null?void 0:A.toLowerCase())==null?void 0:S.startsWith("s3://"),$=(c=(b=(L=a.config)==null?void 0:L.historyArchivalUri)==null?void 0:b.toLowerCase())==null?void 0:c.startsWith("gs://"),x=!d&&!$,T=((h=a==null?void 0:a.config)==null?void 0:h.historyArchivalState)==="Enabled",v=((p=a==null?void 0:a.config)==null?void 0:p.visibilityArchivalState)==="Enabled";return{namespace:a,archivalEnabled:T,visibilityArchivalEnabled:v,archivalQueryingSupported:x}},Ct=Object.freeze(Object.defineProperty({__proto__:null,load:Ge},Symbol.toStringTag,{value:"Module"}));var He=P('<div class="w-full"><form class="flex gap-0" role="search"><!> <!></form></div>');function Ke(E,a){J(a,!1);const[d,$]=Ie(),x=()=>se(Te,"$page",d),T=()=>se(Pe,"$searchAttributes",d),v=re();let s=re("");function A(i){H(s,i)}const S=()=>{if(!e(s))O(ne,[]),O(Ee,"");else try{O(ne,Be(e(s),T()))}catch(i){console.error(i)}e(s)&&e(s)===e(v)?O(We,Date.now()):Ce({url:x().url,parameter:"query",value:e(s),allowEmpty:!0,clearParameters:[Le]})};function L(){S()}te(()=>x(),()=>{H(v,x().url.searchParams.get("query"))}),te(()=>e(v),()=>{A(e(v))}),ge(),Se();var b=He(),c=k(b),h=k(c);const p=M(()=>r("workflows.search-placeholder")),w=M(()=>r("workflows.search-placeholder")),o=M(()=>r("common.clear-input-button-label")),m=M(()=>!e(s)||e(s).length<ie);Ae(h,{id:"manual-search",type:"search",get label(){return e(p)},labelHidden:!0,get placeholder(){return e(w)},icon:"search",class:"grow lg:w-3/4 [&_*]:border-r-0",clearable:!0,get clearButtonLabel(){return e(o)},maxLength:ie,get hideCount(){return e(m)},get value(){return e(s)},set value(i){H(s,i)},$$events:{clear:L},$$legacy:!0});var n=f(h,2);ce(n,{"data-testid":"manual-search-button",variant:"primary",type:"submit",children:(i,l)=>{U();var u=le();Q(y=>I(u,y),[()=>r("common.search")],M),g(i,u)},$$slots:{default:!0}}),_(c),_(b),we("submit",c,$e(S)),oe(1,c,()=>xe,()=>({x:-100,duration:150})),oe(1,b,()=>ke),g(E,b),V(),$()}var Re=P('<tr data-testid="workflows-summary-configurable-table-row" class="dense"></tr>'),Xe=P('<tr slot="headers"></tr>');function Ye(E,a){J(a,!0);const d=t(()=>Y.params.namespace),$=t(()=>Y.url.searchParams.get("query")),x=t(()=>()=>qe(e(d),e($))),T=t(()=>ze);var v=ae(),s=B(v);Me(s,()=>[e(d),e($)],A=>{const S=t(()=>r("common.workflows")),L=t(()=>r("common.per-page")),b=t(()=>r("common.next")),c=t(()=>r("common.previous")),h=t(()=>r("workflows.empty-state-title"));je(A,{get onFetch(){return e(x)},get"aria-label"(){return e(S)},get pageSizeSelectLabel(){return e(L)},get nextButtonLabel(){return e(b)},get previousButtonLabel(){return e(c)},get emptyStateMessage(){return e(h)},children:be,$$slots:{default:(p,w)=>{const o=t(()=>w.visibleItems);var m=ae(),n=B(m);R(n,17,()=>e(o),X,(i,l)=>{var u=Re();R(u,21,()=>e(T),X,(y,W)=>{De(y,{get workflow(){return e(l)},get column(){return e(W)}})}),_(u),g(i,u)}),g(p,m)},headers:(p,w)=>{var o=Xe();R(o,21,()=>e(T),X,(m,n)=>{Oe(m,{get column(){return e(n)}})}),_(o),g(p,o)},"actions-end-additional":(p,w)=>{const o=t(()=>w.visibleItems),m=t(()=>w.page),n=t(()=>r("common.download-json"));Ne(p,{get text(){return e(n)},top:!0,children:(i,l)=>{ce(i,{"data-testid":"export-history-button",size:"xs",variant:"ghost",$$events:{click:()=>Qe(e(o),e(m))},children:(u,y)=>{Ue(u,{name:"download"})},$$slots:{default:!0}})},$$slots:{default:!0}})}}})}),g(E,v),V()}var Je=P('<h1 data-testid="archived-enabled-title"> </h1> <!> <!> <!>',1),Ve=P('<h1 data-testid="visibility-disabled-title"> </h1> <p> <a class="text-blue-700 underline" href="https://docs.temporal.io/clusters#archival" target="_blank" rel="noreferrer"> </a>:</p> <!>',1),Ze=P('<p> <a class="text-blue-700 underline" href="https://docs.temporal.io/clusters#archival" target="_blank" rel="noreferrer"> </a>:</p> <!>',1),et=P('<h1 data-testid="archived-disabled-title"> </h1> <p> </p> <!> <!>',1),tt=P("<!> <!>",1);function Ft(E,a){J(a,!0);const d=t(()=>a.data.namespace.namespaceInfo.name),$=t(()=>a.data.archivalEnabled),x=t(()=>a.data.visibilityArchivalEnabled),T=t(()=>a.data.archivalQueryingSupported);var v=tt(),s=B(v);const A=t(()=>`${r("workflows.archival")} | ${e(d)}`);ye(s,{get title(){return e(A)},get url(){return Y.url.href}});var S=f(s,2);{var L=c=>{var h=Je(),p=B(h),w=k(p,!0);_(p);var o=f(p,2);{var m=l=>{Fe(l,{newTab:!0,href:"https://docs.temporal.io/list-filter",children:(u,y)=>{U();var W=le("List Filter Documentation");g(u,W)},$$slots:{default:!0}})};D(o,l=>{e(T)&&l(m)})}var n=f(o,2);Ke(n,{});var i=f(n,2);Ye(i,{}),Q(l=>I(w,l),[()=>r("workflows.archived-workflows")]),g(c,h)},b=(c,h)=>{{var p=o=>{var m=Ve(),n=B(m),i=k(n,!0);_(n);var l=f(n,2),u=k(l,!0),y=f(u),W=k(y,!0);_(y),U(),_(l);var j=f(l,2);const N=t(()=>`temporal operator namespace update --visibility-archival-state enabled ${e(d)}`),z=t(()=>r("common.copy-icon-title")),G=t(()=>r("common.copy-success-icon-title"));K(j,{get content(){return e(N)},language:"text",inline:!0,get copyIconTitle(){return e(z)},get copySuccessIconTitle(){return e(G)}}),Q((q,C,F)=>{I(i,q),I(u,C),I(W,F)},[()=>r("workflows.visibility-disabled-archival"),()=>r("workflows.archival-link-preface"),()=>r("workflows.archival-link")]),g(o,m)},w=o=>{var m=et(),n=B(m),i=k(n,!0);_(n);var l=f(n,2),u=k(l);_(l);var y=f(l,2);const W=t(()=>`temporal operator namespace update --history-archival-state enabled ${e(d)}`),j=t(()=>r("common.copy-icon-title")),N=t(()=>r("common.copy-success-icon-title"));K(y,{get content(){return e(W)},language:"text",inline:!0,get copyIconTitle(){return e(j)},get copySuccessIconTitle(){return e(N)}});var z=f(y,2);{var G=q=>{var C=Ze(),F=B(C),Z=k(F,!0),ee=f(Z),pe=k(ee,!0);_(ee),U(),_(F);var me=f(F,2);const ue=t(()=>`temporal operator namespace update --visibility-archival-state enabled ${e(d)}`),fe=t(()=>r("common.copy-icon-title")),de=t(()=>r("common.copy-success-icon-title"));K(me,{get content(){return e(ue)},language:"text",inline:!0,get copyIconTitle(){return e(fe)},get copySuccessIconTitle(){return e(de)}}),Q((ve,he)=>{I(Z,ve),I(pe,he)},[()=>r("workflows.archival-link-preface"),()=>r("workflows.archival-link")]),g(q,C)};D(z,q=>{e(x)||q(G)})}Q((q,C)=>{I(i,q),I(u,`${C??""}:`)},[()=>r("workflows.archival-disabled-title"),()=>r("workflows.archival-disabled-details")]),g(o,m)};D(c,o=>{e($)?o(p):o(w,!1)},h)}};D(S,c=>{e($)&&e(x)?c(L):c(b,!1)})}g(E,v),V()}export{Ft as component,Ct as universal};
