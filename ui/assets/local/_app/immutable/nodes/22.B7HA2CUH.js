import"../chunks/CWj6FrbW.js";import{p as ct,f as A,c as R,h as S,g as t,v as i,e as s,b as ut,n as Ct,k as it,t as N,i as st,s as k,j as g,r as m,at as ot,d as be,u as we,q as aa,L as Ue,K as ra,I as tt,aN as Ht,au as ge}from"../chunks/BBjqMsu1.js";import{s as z,d as Te,e as Xt}from"../chunks/DHOm-mSm.js";import{p as U}from"../chunks/CMLVQbVT.js";import{P as sa}from"../chunks/BcjIxfWp.js";import{B as gt}from"../chunks/B-U8lKnK.js";import{t as L}from"../chunks/DEjs8ZrU.js";import{w as Jt,a as ia,o as Le}from"../chunks/r33Ll6et.js";import{i as F}from"../chunks/DrCjka1e.js";import{s as $t,c as At}from"../chunks/Cd9fk9Xa.js";import{p as Ut,s as It,a as H,b as W,e as xt}from"../chunks/D42yUzBQ.js";import{k as na}from"../chunks/C9OGzM-W.js";import{e as Rt,i as Wt}from"../chunks/B8KdL4-8.js";import{I as te}from"../chunks/CG6x3zff.js";import{A as oa}from"../chunks/Bn88JXjM.js";import{T as $e}from"../chunks/1nF0TMkb.js";import{b as la,f as ca,d as jt,e as ee,h as Be,a as ua}from"../chunks/ds5KQCoY.js";import{c as va,T as da,e as fa}from"../chunks/BfG0IV7q.js";import{T as me,t as ma}from"../chunks/5sHaeCkN.js";import{W as Me}from"../chunks/D4_ANIz7.js";import{j as pa}from"../chunks/CtQjrHKC.js";import{b as ya}from"../chunks/qgb4D5ux.js";import{B as _a,y as Ye}from"../chunks/BwYKm2xc.js";import{F as ga}from"../chunks/DTXfof7c.js";import{L as ha}from"../chunks/CfvQqTcd.js";import{g as nt}from"../chunks/C1dMtluI.js";import{S as Ot}from"../chunks/S6Q2Q0ub.js";import{u as zt,e as Gt,a as Ce,t as xa,c as ba}from"../chunks/CgwOjPzC.js";import{s as ie,b as wa}from"../chunks/CDFkFKEl.js";import{N as Ta,n as $a,S as Ca,D as Ia,V as je,a as pe,s as Ve,b as Vt,M as Oe}from"../chunks/BmpzjmR7.js";import{A as Sa}from"../chunks/BR7bzMxB.js";import{g as ze,a as Aa}from"../chunks/D_-yEbuJ.js";import"../chunks/69_IOA4Y.js";import{i as Ea,t as Tt}from"../chunks/DIZ-FoJG.js";import{f as ka,s as Pa,g as Xe}from"../chunks/BqDc1cgM.js";import{d as Zt,C as Fa}from"../chunks/DDsGWLnC.js";import{I as We}from"../chunks/CpO5ix7l.js";import{M as Va}from"../chunks/DzRmEAer.js";import{c as Oa,d as Qa,b as ye}from"../chunks/Brdcth0U.js";import{M as he,r as qa,a as Na}from"../chunks/CfaQCyUl.js";import{t as Dt,b as Bt,f as Da}from"../chunks/BNYpVztK.js";import{c as ne}from"../chunks/EXOzyKv5.js";import{u as oe}from"../chunks/DBlS1fYx.js";import{S as Ra}from"../chunks/BwPfwM7f.js";import{g as Ua}from"../chunks/BNcA6Hpw.js";import{a as La}from"../chunks/Caj8f1J2.js";import{s as xe}from"../chunks/C3NeAPeU.js";import{c as Ba}from"../chunks/DKR5volK.js";import{T as Qe}from"../chunks/vfzcNlzo.js";import{s as Ma}from"../chunks/DtMBDntM.js";import{l as Ya}from"../chunks/BNbTUsfE.js";const qe=["Running","Completed","Failed","Canceled","Terminated","TimedOut"],ja={ACTIVITY_EXECUTION_STATUS_UNSPECIFIED:"Running",ACTIVITY_EXECUTION_STATUS_RUNNING:"Running",ACTIVITY_EXECUTION_STATUS_COMPLETED:"Completed",ACTIVITY_EXECUTION_STATUS_FAILED:"Failed",ACTIVITY_EXECUTION_STATUS_CANCELED:"Canceled",ACTIVITY_EXECUTION_STATUS_TERMINATED:"Terminated",ACTIVITY_EXECUTION_STATUS_TIMED_OUT:"TimedOut"},za=C=>ja[C]||"Running",Ne=(C=[])=>C.map(a=>{const e=ya(a==null?void 0:a.groupValues[0]),u=parseInt(a.count);return{status:e,count:u}}).sort((a,e)=>qe.indexOf(a.status)-qe.indexOf(e.status));var Xa=A("<!> <!>",1);function _e(C,a){ct(a,!0);const e=()=>H(nt,"$activityFilters",u),[u,h]=It();let l=Ut(a,"filterOrCopyButtonsVisible",3,!1),T=Ut(a,"type",19,()=>Ot.KEYWORD);const $=()=>{const f=e().find(b=>b.attribute===a.attribute),d=()=>e().filter(b=>b.attribute!==a.attribute);if(!f||f.value!==a.value){const b={attribute:a.attribute,type:T(),value:a.value,conditional:"=",operator:"",parenthesis:""};W(nt,[...d(),b])}else W(nt,[...d()]);zt(U.url,e())};var I=Xa(),P=R(I);{var p=f=>{ha(f,{get href(){return a.href},children:(d,b)=>{Ct();var x=it();N(()=>z(x,a.value)),s(d,x)},$$slots:{default:!0}})},v=f=>{var d=it();N(()=>z(d,a.value)),s(f,d)};F(P,f=>{a.href?f(p):f(v,!1)})}var r=S(P,2);{let f=i(()=>L("common.copy-icon-title")),d=i(()=>L("common.copy-success-icon-title")),b=i(()=>L("common.filter-activities")),x=i(()=>e().some(O=>O.attribute===a.attribute&&O.value===a.value));ga(r,{get copyIconTitle(){return t(f)},get copySuccessIconTitle(){return t(d)},get filterIconTitle(){return t(b)},get show(){return l()},get content(){return a.value},onFilter:$,get filtered(){return t(x)}})}s(C,I),ut(),h()}var Wa=A('<td class="relative h-8 whitespace-nowrap pr-24" data-testid="activities-summary-table-body-cell"><!></td>'),Ga=A('<td class="h-8 whitespace-nowrap" data-testid="activities-summary-table-body-cell"><!></td>');function Ha(C,a){ct(a,!0);const e=i(()=>a.column.label),u=i(()=>U.params.namespace);let h=ot(!1);const l=()=>k(h,!0),T=()=>k(h,!1),$=f=>{const d=f.relatedTarget;d&&!["filter-button","copy-button"].includes(d.id)&&T()},I=["Activity ID","Activity Type","Task Queue"];var P=st(),p=R(P);{var v=f=>{var d=Wa();d.__mouseover=l,d.__focusin=l,d.__focusout=$;var b=g(d);{var x=_=>{{let B=i(()=>_a({namespace:t(u),activityId:a.activity.activityId}));_e(_,{get filterOrCopyButtonsVisible(){return t(h)},attribute:"ActivityId",get value(){return a.activity.activityId},get href(){return t(B)}})}},O=_=>{var B=st(),X=R(B);{var E=c=>{{let y=i(()=>{var Q;return((Q=a.activity.activityType)==null?void 0:Q.name)??""});_e(c,{get filterOrCopyButtonsVisible(){return t(h)},attribute:"ActivityType",get value(){return t(y)}})}},w=c=>{var y=st(),Q=R(y);{var Y=D=>{{let V=i(()=>a.activity.taskQueue??"");_e(D,{get filterOrCopyButtonsVisible(){return t(h)},attribute:"TaskQueue",get value(){return t(V)}})}};F(Q,D=>{t(e)==="Task Queue"&&D(Y)},!0)}s(c,y)};F(X,c=>{t(e)==="Activity Type"?c(E):c(w,!1)},!0)}s(_,B)};F(b,_=>{t(e)==="Activity ID"?_(x):_(O,!1)})}m(d),Xt("focus",d,l),Xt("mouseleave",d,T),Xt("blur",d,T),s(f,d)},r=f=>{var d=Ga(),b=g(d);{var x=_=>{{let B=i(()=>za(a.activity.status));Me(_,{get status(){return t(B)}})}},O=_=>{var B=st(),X=R(B);{var E=c=>{var y=it();N(()=>z(y,a.activity.runId??"")),s(c,y)},w=c=>{var y=st(),Q=R(y);{var Y=V=>{{let q=i(()=>a.activity.lastStartedTime||a.activity.scheduleTime);me(V,{get dateTime(){return t(q)}})}},D=V=>{var q=st(),J=R(q);{var K=G=>{me(G,{get dateTime(){return a.activity.lastStartedTime}})},et=G=>{var rt=st(),j=R(rt);{var lt=M=>{me(M,{get dateTime(){return a.activity.closeTime}})},dt=M=>{var Z=st(),vt=R(Z);{var Qt=ft=>{var Et=st(),Mt=R(Et);{var Kt=mt=>{var Lt=it();N(ae=>z(Lt,ae),[()=>pa({start:a.activity.lastStartedTime||a.activity.scheduleTime,end:a.activity.closeTime,includeMillisecondsForUnderSecond:!0})]),s(mt,Lt)};F(Mt,mt=>{a.activity.executionDuration&&mt(Kt)})}s(ft,Et)},bt=ft=>{var Et=st(),Mt=R(Et);{var Kt=mt=>{var Lt=it();N(()=>z(Lt,a.activity.stateTransitionCount??"")),s(mt,Lt)};F(Mt,mt=>{t(e)==="State Transitions"&&mt(Kt)},!0)}s(ft,Et)};F(vt,ft=>{t(e)==="Execution Duration"?ft(Qt):ft(bt,!1)},!0)}s(M,Z)};F(j,M=>{t(e)==="Close Time"?M(lt):M(dt,!1)},!0)}s(G,rt)};F(J,G=>{t(e)==="Execution Time"?G(K):G(et,!1)},!0)}s(V,q)};F(Q,V=>{t(e)==="Start Time"?V(Y):V(D,!1)},!0)}s(c,y)};F(X,c=>{t(e)==="Run ID"?c(E):c(w,!1)},!0)}s(_,B)};F(b,_=>{t(e)==="Status"?_(x):_(O,!1)})}m(d),s(f,d)};F(p,f=>{I.includes(t(e))?f(v):f(r,!1)})}s(C,P),ut()}Te(["mouseover","focusin","focusout"]);var Ka=A('<div class="flex h-full w-full flex-col items-center justify-center p-4" aria-live="polite"><div class="text-center"><h2><!></h2> <p class="text-secondary"><!></p> <!></div></div>'),Ja=A("<p> </p>"),Za=A('<div class="h-full w-full overflow-hidden xl:flex xl:flex-row" aria-live="polite"><div class="surface-primary flex w-auto min-w-[280px] flex-col gap-4 p-8 xl:min-w-[520px] xl:flex-1"><h2> </h2> <!></div> <div class="flex h-full flex-col"><div class="bg-off-white dark:bg-[#0f1725]"><img alt="" class="w-full"/></div> <div class="flex-1 bg-[#818cf8]"></div></div></div>');function tr(C,a){ct(a,!0);const e=()=>H(la,"$activityError",u),[u,h]=It();let l=i(()=>U.url.searchParams.get("query"));var T=st(),$=R(T);{var I=p=>{var v=Ka(),r=g(v),f=g(r),d=g(f);{var b=w=>{var c=it();N(y=>z(c,y),[()=>L("standalone-activities.activity-query-error-state")]),s(w,c)},x=w=>{var c=it();N(y=>z(c,y),[()=>L("standalone-activities.empty-state-title")]),s(w,c)};F(d,w=>{e()?w(b):w(x,!1)})}m(f);var O=S(f,2),_=g(O);{var B=w=>{var c=it();N(()=>z(c,e())),s(w,c)},X=w=>{var c=it();N(y=>z(c,y),[()=>L("standalone-activities.empty-state-description")]),s(w,c)};F(_,w=>{e()?w(B):w(X,!1)})}m(O);var E=S(O,2);Ta(E,{class:"m-auto mt-8 text-subtle"}),m(r),m(v),s(p,v)},P=p=>{var v=Za(),r=g(v),f=g(r),d=g(f,!0);m(f);var b=S(f,2);{var x=E=>{{let w=i(()=>L("common.error-occurred"));Sa(E,{intent:"warning",icon:"warning",get title(){return t(w)},style:"overflow-wrap: anywhere",children:(c,y)=>{Ct();var Q=it();N(()=>z(Q,e())),s(c,Q)},$$slots:{default:!0}})}},O=E=>{var w=Ja(),c=g(w,!0);m(w),N(y=>z(c,y),[()=>L("standalone-activities.empty-state-description")]),s(E,w)};F(b,E=>{e()?E(x):E(O,!1)})}m(r);var _=S(r,2),B=g(_),X=g(B);m(B),Ct(2),m(_),m(v),N(E=>{z(d,E),ie(X,"src",$a)},[()=>L("standalone-activities.empty-state-title")]),s(p,v)};F($,p=>{t(l)?p(I):p(P,!1)})}s(C,T),ut(),h()}var er=A("<th> </th>");function ar(C,a){ct(a,!0);const e=i(()=>a.column.label);var u=er(),h=g(u,!0);m(u),N(()=>{ie(u,"data-testid",`activities-summary-table-header-cell-${t(e)??""}`),z(h,t(e))}),s(C,u),ut()}var rr=A("<tr><!></tr>");function sr(C,a){var e=rr(),u=g(e);be(u,()=>a.children??we),m(e),s(C,e)}function ir(C,a){ct(a,!0);const e=i(()=>Ye({namespace:a.namespace,activityId:a.activityId,activityType:a.activityType,taskQueue:a.taskQueue,scheduleToCloseTimeout:a.scheduleToCloseTimeout,startToCloseTimeout:a.startToCloseTimeout}));{let u=i(()=>L("standalone-activities.start-activity-like-this-one"));$e(C,{get text(){return t(u)},topLeft:!0,children:(h,l)=>{gt(h,{size:"xs",variant:"ghost",class:"start-button",leadingIcon:"lightning-bolt",$$events:{click:()=>ze(t(e))}})},$$slots:{default:!0}})}ut()}var nr=A('<td class="relative flex items-center justify-center py-0.5"><!></td>'),or=A("<td></td>"),lr=A('<tr data-testid="activities-summary-configurable-table-row"><!><!></tr>');function cr(C,a){ct(a,!0);let e=Ut(a,"empty",3,!1);const u=i(()=>U.params.namespace);var h=lr();let l;var T=g(h);{var $=p=>{var v=nr(),r=g(v);{let f=i(()=>{var d;return((d=a.activity.activityType)==null?void 0:d.name)??""});ir(r,{get namespace(){return t(u)},get activityId(){return a.activity.activityId},get activityType(){return t(f)},get taskQueue(){return a.activity.taskQueue},get scheduleToCloseTimeout(){return a.activity.scheduleToCloseTimeout},get startToCloseTimeout(){return a.activity.startToCloseTimeout}})}m(v),s(p,v)},I=p=>{var v=or();s(p,v)};F(T,p=>{!e()&&a.activity?p($):p(I,!1)})}var P=S(T);be(P,()=>a.children??we),m(h),N(()=>l=$t(h,1,"dense",null,l,{empty:e()})),s(C,h),ut()}var ur=A('<caption class="sr-only" slot="caption"> </caption>'),vr=A("<th></th> <!>",1);function dr(C,a){ct(a,!0);const e=()=>H(va,"$configurableTableColumns",l),u=()=>H(ee,"$activityRefresh",l),h=()=>H(jt,"$activityCount",l),[l,T]=It();var $,I,P;const p=i(()=>U.params.namespace),v=i(()=>(I=($=e()===null||e()===void 0?void 0:e()[t(p)])===null||$===void 0?void 0:$.activities)!==null&&I!==void 0?I:[]),r=i(()=>(P=U.url.searchParams.get("query"))!==null&&P!==void 0?P:""),f=i(()=>()=>ca(t(p),t(r)));var d=st(),b=R(d);na(b,()=>[t(p),t(r),u()],x=>{{let O=i(()=>L("standalone-activities.standalone-activities")),_=i(()=>L("common.per-page")),B=i(()=>L("common.next")),X=i(()=>L("common.previous")),E=i(()=>L("standalone-activities.empty-state-title"));oa(x,{get total(){return h().count},get onFetch(){return t(f)},get"aria-label"(){return t(O)},get pageSizeSelectLabel(){return t(_)},get nextButtonLabel(){return t(B)},get previousButtonLabel(){return t(X)},get emptyStateMessage(){return t(E)},maxHeight:"var(--panel-h)",children:aa,$$slots:{default:(w,c)=>{const y=i(()=>c.visibleItems);var Q=st(),Y=R(Q);Rt(Y,17,()=>t(y),Wt,(D,V)=>{cr(D,{get activity(){return t(V)},children:(q,J)=>{var K=st(),et=R(K);Rt(et,17,()=>t(v),Wt,(G,rt)=>{Ha(G,{get activity(){return t(V)},get column(){return t(rt)}})}),s(q,K)},$$slots:{default:!0}})}),s(w,Q)},caption:(w,c)=>{var y=ur(),Q=g(y,!0);m(y),N(Y=>z(Q,Y),[()=>L("standalone-activities.standalone-activities")]),s(w,y)},headers:(w,c)=>{sr(w,{children:(y,Q)=>{var Y=vr(),D=S(R(Y),2);Rt(D,17,()=>t(v),Wt,(V,q)=>{ar(V,{get column(){return t(q)}})}),s(y,Y)}})},empty:(w,c)=>{tr(w,{})},"actions-end-additional":(w,c)=>{$e(w,{text:"Configure Columns",top:!0,children:(y,Q)=>{gt(y,{"data-testid":"activities-summary-table-configuration-button",size:"xs",variant:"ghost",$$events:{click(...Y){var D;(D=a.onClickConfigure)==null||D.apply(this,Y)}},children:(Y,D)=>{te(Y,{name:"settings"})},$$slots:{default:!0}})},$$slots:{default:!0}})}}})}}),s(C,d),ut(),T()}var fr=A('<div class="flex flex-wrap items-center gap-2"><!> <!></div>');function mr(C,a){ct(a,!0);const e=()=>H(nt,"$activityFilters",l),u=()=>H(I,"$activeQueryIndex",l),h=()=>H(P,"$chipOpenIndex",l),[l,T]=It(),{filter:$,activeQueryIndex:I,chipOpenIndex:P}=Ue(Ie);let p=ot(10);const v=i(()=>e().findIndex(c=>Zt(c))),r=i(()=>e().slice(0,t(p))),f=i(()=>e().filter(c=>c.attribute==="ExecutionStatus")),d=i(()=>e().filter(c=>!Zt(c))),b=i(()=>t(p)<e().length);function x(c,y){const Q=[...e()];Q[c]=y,W(nt,Q),zt(U.url,e())}function O(c,y){if(y.length===0)W(nt,t(d)),zt(U.url,e());else{const Q=[...e()];Q.splice(c,t(f).length,...y),W(nt,Q),zt(U.url,e())}}function _(c){const y=[...e()];if(y.splice(c,1),W(nt,y),zt(U.url,e()),c===e().length&&e().length>0){const Q=e()[e().length-1];Q&&(Q.operator="")}c===u()?(W(I,null),W($,Gt())):c<u()&&W(I,u()-1)}function B(){t(b)&&k(p,t(p)+10)}var X=st(),E=R(X);{var w=c=>{var y=fr(),Q=g(y);Rt(Q,19,()=>t(r),(V,q)=>V.attribute+"-"+q,(V,q,J)=>{var K=st(),et=R(K);{var G=j=>{Ca(j,{get filters(){return t(f)},get index(){return t(J)},get openIndex(){return h()},onUpdate:lt=>O(t(J),lt)})},rt=j=>{var lt=st(),dt=R(lt);{var M=Z=>{Ia(Z,{get filter(){return t(q)},get index(){return t(J)},get openIndex(){return h()},onUpdate:vt=>x(t(J),vt),onRemove:()=>_(t(J))})};F(dt,Z=>{!Zt(t(q))&&t(q).attribute&&Z(M)},!0)}s(j,lt)};F(et,j=>{Zt(t(q))&&t(J)===t(v)?j(G):j(rt,!1)})}s(V,K)});var Y=S(Q,2);{var D=V=>{gt(V,{variant:"secondary",size:"xs",$$events:{click:B},children:(q,J)=>{Ct();var K=it();N(et=>z(K,et),[()=>L("common.view-more")]),s(q,K)},$$slots:{default:!0}})};F(Y,V=>{t(b)&&V(D)})}m(y),s(c,y)};F(E,c=>{t(r).length>0&&c(w)})}s(C,X),ut(),T()}var pr=A('<div><p class="leading-3"> </p> <small class="text-secondary"> </small></div>'),yr=A('<!> <hr class="border-subtle"/> <!>',1),_r=A("<!> <!>",1),gr=A("<!> <!>",1);function hr(C,a){ct(a,!0);const e=()=>H(nt,"$activityFilters",h),u=()=>H(p,"$activeQueryIndex",h),[h,l]=It();var T;const $=i(()=>(T=U.url.searchParams.get("query"))!==null&&T!==void 0?T:"");let I=ot("");const{filter:P,activeQueryIndex:p,handleSubmit:v}=Ue(Ie),r=Jt(!1),f=E=>{switch(E){case Ot.BOOL:return"=";case Ot.DATETIME:return">=";case Ot.INT:return"=";case Ot.DOUBLE:return"=";case Ot.KEYWORDLIST:return"in";case Ot.KEYWORD:return"=";case Ot.TEXT:return"=";default:return"="}};function d(E,w){k(I,""),P.set({...Gt(),attribute:E,conditional:f(w),type:w}),v(),W(r,!1)}const b=i(()=>t(I)?a.options.filter(E=>E.value.toLowerCase().includes(t(I).toLowerCase())):a.options);function x(){W(nt,[]),zt(U.url,e(),!0),W(p,null),W(P,Gt())}var O=gr(),_=R(O);Oa(_,{get open(){return r},children:(E,w)=>{var c=_r(),y=R(c);{let Y=i(()=>u()!==null||t($).length>=he);Va(y,{id:"activity-search-attribute-filter-button",controls:"activity-search-attribute-menu",leadingIcon:"add",variant:"secondary","data-testid":"add-filter-button",get disabled(){return t(Y)},onclick:()=>k(I,""),class:"text-nowrap",size:"xs",children:(D,V)=>{Ct();var q=it("Add Filter");s(D,q)},$$slots:{default:!0}})}var Q=S(y,2);Qa(Q,{id:"activity-search-attribute-menu",children:(Y,D)=>{var V=yr(),q=R(V);ye(q,{class:"p-0",hoverable:!1,onclick:()=>{var K;(K=document.getElementById("activity-filter-search"))==null||K.focus()},children:(K,et)=>{{let G=i(()=>L("common.search")),rt=i(()=>L("common.search"));We(K,{get label(){return t(G)},labelHidden:!0,id:"activity-filter-search",noBorder:!0,icon:"search",get placeholder(){return t(rt)},class:"w-full min-w-[300px]",get value(){return t(I)},set value(j){k(I,j,!0)}})}},$$slots:{default:!0}});var J=S(q,4);Rt(J,17,()=>t(b),Wt,(K,et)=>{let G=()=>t(et).value,rt=()=>t(et).label,j=()=>t(et).type;{let lt=i(()=>G()==="ExecutionStatus"&&!!e().find(dt=>Zt(dt)));ye(K,{onclick:()=>{d(G(),j())},get disabled(){return t(lt)},children:(dt,M)=>{var Z=pr(),vt=g(Z),Qt=g(vt,!0);m(vt);var bt=S(vt,2),ft=g(bt,!0);m(bt),m(Z),N(()=>{z(Qt,rt()),z(ft,j())}),s(dt,Z)},$$slots:{default:!0}})}},K=>{ye(K,{class:"whitespace-nowrap",disabled:!0,children:(et,G)=>{Ct();var rt=it();N(j=>z(rt,j),[()=>L("common.no-results")]),s(et,rt)},$$slots:{default:!0}})}),s(Y,V)},$$slots:{default:!0}}),s(E,c)},$$slots:{default:!0}});var B=S(_,2);{var X=E=>{gt(E,{variant:"ghost",size:"xs","data-testid":"clear-all-filters-button",$$events:{click:x},children:(w,c)=>{Ct();var y=it();N(Q=>z(y,Q),[()=>L("common.clear-all")]),s(w,y)},$$slots:{default:!0}})};F(B,E=>{e().length>0&&E(X)})}s(C,O),ut(),l()}const Ie="activity-filter-context";var xr=A('<div class="flex shrink flex-wrap items-center justify-start gap-2"><!> <!></div>');function br(C,a){ct(a,!1);const e=()=>H(I,"$activeQueryIndex",l),u=()=>H(nt,"$activityFilters",l),h=()=>H($,"$filter",l),[l,T]=It(),$=Jt(Gt()),I=Jt(null),P=Jt(""),p=Jt(null),v=ka;Aa(()=>{p.set(null)}),ra(Ie,{filter:$,activeQueryIndex:I,handleSubmit:r,focusedElementId:P,resetFilter:f,chipOpenIndex:p});function r(){if(e()!==null)xt(nt,tt(u)[e()]=h(),tt(u)),W(I,null);else{const O=u().length;W(nt,[...u(),h()]),p.set(O)}$.set(Gt())}function f(){I.set(null),$.set(Gt())}Ea();var d=xr(),b=g(d);mr(b,{});var x=S(b,2);hr(x,{get options(){return v}}),m(d),s(C,d),ut(),T()}var wr=A('<div class="w-full border border-t-0 border-subtle"><form class="flex gap-0" role="search"><!> <!></form></div>');function Tr(C,a){ct(a,!0);const e=()=>H(Pa,"$searchAttributes",u),[u,h]=It();var l;let T=ot("");const $=i(()=>(l=U.url.searchParams.get("query"))!==null&&l!==void 0?l:"");function I(b){k(T,b,!0)}Ht(()=>{I(t($))});const P=()=>{if(!t(T))W(nt,[]),W(Be,"");else try{W(nt,Ce(t(T),e()))}catch(b){console.error(b)}t(T)&&t(T)===t($)?W(ee,Date.now()):oe({url:U.url,parameter:"query",value:t(T),allowEmpty:!0,clearParameters:[ne]})};function p(){P()}var v=wr(),r=g(v),f=g(r);{let b=i(()=>L("workflows.search-placeholder")),x=i(()=>L("workflows.search-placeholder")),O=i(()=>L("common.copy-icon-title")),_=i(()=>L("common.clear-input-button-label")),B=i(()=>!t(T)||t(T).length<he);We(f,{id:"query",type:"search",get label(){return t(b)},labelHidden:!0,get placeholder(){return t(x)},icon:"search",class:"grow  [&_*]:border-0",inputContainerClass:"surface-information !border-r border-subtle",clearable:!0,get copyButtonLabel(){return t(O)},get clearButtonLabel(){return t(_)},get maxLength(){return he},get hideCount(){return t(B)},"data-testid":"activity-manual-search-input",get value(){return t(T)},set value(X){k(T,X,!0)},$$events:{clear:p}})}var d=S(f,2);gt(d,{"data-testid":"activity-manual-search-button",variant:"ghost",type:"submit",children:(b,x)=>{Ct();var O=it();N(_=>z(O,_),[()=>L("common.search")]),s(b,O)},$$slots:{default:!0}}),m(r),m(v),Xt("submit",r,P),Dt(3,r,()=>Bt),Dt(1,v,()=>Da),s(C,v),ut(),h()}var $r=A('<div class="flex items-center gap-1"><!></div>'),Cr=A('<div><div class="flex w-full flex-wrap items-center justify-between gap-2 border border-subtle bg-primary p-1.5"><div class="flex grow items-center justify-start gap-4 px-2"><!> <!></div> <!></div> <!></div>');function Ir(C){const a=v=>{var r=$r(),f=g(r);{let d=i(()=>t(e)?"Hide raw query":"View raw query");$e(f,{get text(){return t(d)},left:!0,children:(b,x)=>{gt(b,{variant:"ghost",size:"xs",leadingIcon:"json",get active(){return t(e)},"data-testid":"toggle-manual-query",$$events:{click:()=>k(e,!t(e))}})},$$slots:{default:!0}})}m(r),s(v,r)};let e=ot(!1);var u=Cr(),h=g(u),l=g(h),T=g(l);te(T,{name:"filter-lines",class:"text-primary-text h-4 w-4 shrink-0"});var $=S(T,2);br($,{}),m(l);var I=S(l,2);a(I),m(h);var P=S(h,2);{var p=v=>{Tr(v,{})};F(P,v=>{t(e)&&v(p)})}m(u),s(C,u)}function Sr(C,a){ct(a,!0);const[e,u]=It();let h=Ut(a,"count",3,0);gt(C,{size:"xs",variant:"ghost",leadingIcon:"retry",$$events:{click:()=>W(ee,Date.now())},children:(l,T)=>{var $=st(),I=R($);{var P=v=>{var r=it();N(f=>z(r,`+${f??""}`),[()=>h().toLocaleString()]),s(v,r)},p=v=>{var r=st(),f=R(r);{var d=b=>{var x=it();N(O=>z(x,O),[()=>h().toLocaleString()]),s(b,x)};F(f,b=>{h()<0&&b(d)},!0)}s(v,r)};F(I,v=>{h()>0?v(P):v(p,!1)})}s(l,$)},$$slots:{default:!0}}),ut(),u()}const De=async({namespace:C,query:a})=>{const e="GROUP BY ExecutionStatus",u=qa("standalone-activities.count",{namespace:C}),{count:h,groups:l}=await Na(u,{params:{query:a?`${a} ${e}`:`${e}`},notifyOnError:!1});return{count:h??"0",groups:l}};var Ar=A("<button><!></button>"),Er=A('<div class="flex min-h-[24px] flex-wrap items-center gap-2 pt-1.5"></div>');function kr(C,a){ct(a,!0);const e=()=>H(nt,"$activityFilters",l),u=()=>H(jt,"$activityCount",l),h=()=>H(ee,"$activityRefresh",l),[l,T]=It();let $=Ut(a,"staticQuery",3,""),I=Ut(a,"refreshTime",15);const P=i(()=>U.url.searchParams.get("query")),p=i(()=>U.params.namespace),v=i(()=>$()||t(P)),r=i(()=>U.url.searchParams.get("per-page"));let f=ot(ge([])),d=ot(ge([])),b,x=ot(1),O=ot(!1);const _=60,B=20,X=D=>{if(!e().some(q=>q.attribute==="ExecutionStatus"&&q.value===D)){const q={attribute:"ExecutionStatus",type:Ot.KEYWORD,value:D,operator:"",conditional:"=",parenthesis:""};W(nt,[...e(),q]);const J=xa(ba(e()));oe({url:U.url,parameter:"query",value:J,clearParameters:[ne]})}},E=()=>{clearTimeout(b),k(d,[],!0),xt(jt,tt(u).newCount=0,tt(u)),k(x,1)},w=async()=>{k(O,!0);try{const{count:D,groups:V}=await De({namespace:t(p),query:t(v)}).catch(q=>({count:"0",groups:[]}));xt(jt,tt(u).count=parseInt(D),tt(u)),k(f,Ne(V),!0)}finally{I(new Date),k(O,!1)}},c=async()=>{try{const{count:D,groups:V}=await De({namespace:t(p),query:t(v)}).catch(q=>({count:"0",groups:[]}));xt(jt,tt(u).newCount=parseInt(D)-u().count,tt(u)),k(d,Ne(V),!0)}finally{I(new Date),k(x,t(x)+1)}},y=()=>{const D=Ua(_,t(x));b=setTimeout(async()=>{await c(),t(x)<=B&&y()},D)},Q=async()=>{E(),await w(),y()};Ht(()=>{t(p),t(v),t(r),h(),Q()}),ia(()=>{E()});var Y=Er();Rt(Y,21,()=>t(f),({count:D,status:V})=>V,(D,V)=>{let q=()=>t(V).count,J=()=>t(V).status;var K=st(),et=R(K);{var G=j=>{var lt=Ar();lt.__click=()=>X(J());var dt=g(lt);{let M=i(()=>t(d).find(Z=>Z.status===J())?t(d).find(Z=>Z.status===J()).count-q():0);Me(dt,{get status(){return J()},get count(){return q()},get newCount(){return t(M)},get"test-id"(){return`activity-status-${J()??""}`}})}m(lt),s(j,lt)},rt=j=>{Ra(j,{class:"h-6 w-24 rounded-sm"})};F(et,j=>{t(O)?j(rt,!1):j(G)})}s(D,K)}),m(Y),s(C,Y),ut(),T()}Te(["click"]);function Pr(C,a){ct(a,!0);let e=Ut(a,"open",15);je(C,{id:"activity-edit-view-modal",get view(){return a.view},get onSaveView(){return a.onSaveView},get onCreateView(){return a.onCreateView},get onDeleteView(){return a.onDeleteView},get open(){return e()},set open(u){e(u)}}),ut()}function Fr(C,a){ct(a,!0);let e=Ut(a,"open",15);je(C,{id:"activity-save-view-modal",get onCreateView(){return a.onCreateView},get open(){return e()},set open(u){e(u)}}),ut()}const Re=(C,a)=>{let e=()=>a==null?void 0:a().className,u=()=>a==null?void 0:a().content,h=()=>a==null?void 0:a().iconClass,l=()=>a==null?void 0:a().icon;var T=Lr(),$=g(T),I=S($);{var P=p=>{var v=Ur(),r=g(v);te(r,{get name(){return l()},class:"p-0.5"}),m(v),N(f=>$t(v,1,f),[()=>At(Tt("rounded-full p-0.5",h()))]),s(p,v)};F(I,p=>{l()&&p(P)})}m(T),N(p=>{$t(T,1,p),z($,`${u()??""} `)},[()=>At(Tt("surface-subtle right-2 top-2 hidden items-center rounded-full px-2 py-1 text-xs font-medium lg:static lg:ml-auto lg:flex",l()&&"gap-1.5 p-0.5 pl-2",e()))]),Dt(1,T,()=>Bt),s(C,T)};var Vr=A('<span class="hidden truncate text-left text-sm font-normal lg:inline-block"> </span> <!>',1),Or=A("<!> <!>",1),Qr=A("<span>Share</span>"),qr=A("<div><!> <!> <!></div>"),Nr=A("<span>New</span><span>Save as New</span>",1),Dr=A('<div class="flex items-center gap-1 overflow-hidden pt-0.5"><!></div>'),Rr=A('<div class="w-full" role="menuitem" tabindex="-1"><!> <!></div>'),Ur=A("<span><!></span>"),Lr=A("<span> <!></span>"),Br=A('<p class="hidden whitespace-nowrap text-xs font-medium leading-3 lg:block lg:text-sm">Saved Views</p>'),Mr=A('<p class="hidden items-center justify-between whitespace-nowrap px-2 text-xs font-medium leading-3 lg:flex lg:text-sm"> <!></p>'),Yr=A('<div class="text-center"><div class="space-y-1"></div></div>'),jr=A("<p>No Views</p>"),zr=A('<div class="pointer-events-none z-[9999] inline-block select-none rounded-md bg-slate-800 p-2 text-xs text-slate-50 opacity-95" role="tooltip"> </div>'),Xr=A('<div style="will-change: width"><div class="flex items-center justify-center gap-2 border-b border-subtle px-2 py-[.35rem] text-center lg:justify-start lg:py-[.47rem]"><div><!> <p class="block text-xs font-medium leading-3 lg:hidden">Saved Views</p> <button class="hidden rounded-sm p-0.5 hover:bg-secondary lg:inline-flex"><!></button></div></div> <div class="space-y-2 p-1.5"><div class="pb-2 text-center"><div class="space-y-1"></div></div> <!> <div class="border-t border-subtle"></div> <!> <!> <!></div></div> <!> <!>  <!>',1);function Wr(C,a){ct(a,!0);const e=()=>H(Vt,"$savedActivityQueries",$),u=()=>H(ee,"$activityRefresh",$),h=()=>H(Xe,"$activityExecutionSearchAttributes",$),l=()=>H(xe,"$savedQueryNavOpen",$),T=()=>H(D,"$copied",$),[$,I]=It(),P=(n,o=we)=>{var at=Rr();at.__mousemove=Z;var qt=g(at);{let pt=i(()=>o().type==="system"?o().id:o().name.toLowerCase().replace(/\s+/g,"-")),yt=i(()=>o().type==="system"?"system-query-button":"user-query-button");gt(qt,{variant:"ghost",get"data-testid"(){return t(pt)},get"data-track-name"(){return t(yt)},"data-track-intent":"action",get"data-track-text"(){return o().name},class:"flex w-full justify-start",get active(){return o().active},get disabled(){return o().disabled},size:"sm",$$events:{click:()=>Q(o())},children:(Yt,se)=>{var kt=Or(),Pt=R(kt);{let St=i(()=>o().icon||"bookmark"),ht=i(()=>Tt("h-4 w-4 flex-shrink-0  transition-colors duration-200",l()?"lg:hidden":""));te(Pt,{get name(){return t(St)},get class(){return t(ht)}})}var _t=S(Pt,2);{var wt=St=>{var ht=Vr(),Ft=R(ht),ue=g(Ft,!0);m(Ft);var ve=S(Ft,2);{var de=fe=>{Re(fe,()=>({className:"italic",content:o().badge}))};F(ve,fe=>{o().badge&&fe(de)})}N(()=>z(ue,o().name)),Dt(1,Ft,()=>Bt),s(St,ht)};F(_t,St=>{l()&&St(wt)})}s(Yt,kt)},$$slots:{default:!0}})}var Nt=S(qt,2);{var ce=pt=>{var yt=qr(),Yt=g(yt);{var se=_t=>{gt(_t,{size:"xs",class:"w-full",variant:"primary","data-testid":"save-view-button",$$events:{click:()=>{J({...o(),query:t(x)})}},children:(wt,St)=>{Ct();var ht=it("Save");s(wt,ht)},$$slots:{default:!0}})};F(Yt,_t=>{var wt;o().id===((wt=t(r))==null?void 0:wt.id)&&o().query!==t(x)&&_t(se)})}var kt=S(Yt,2);gt(kt,{size:"xs",class:"w-full",variant:"secondary","data-testid":"edit-view-button",$$events:{click:()=>{k(d,!0)}},children:(_t,wt)=>{Ct();var St=it("Edit");s(_t,St)},$$slots:{default:!0}});var Pt=S(kt,2);{let _t=i(()=>T()?"checkmark":"copy");gt(Pt,{get leadingIcon(){return t(_t)},size:"xs",class:"w-full opacity-80",variant:"ghost","data-testid":"share-view-button",$$events:{click:V},children:(wt,St)=>{var ht=Qr();N(Ft=>$t(ht,1,Ft),[()=>At(Tt("hidden",l()&&"lg:inline"))]),s(wt,ht)},$$slots:{default:!0}})}m(yt),N(_t=>$t(yt,1,_t),[()=>At(Tt("flex flex-col items-center gap-1 pt-0.5 transition-all",l()&&"lg:flex-row"))]),Dt(1,yt,()=>Bt),s(pt,yt)},re=pt=>{var yt=st(),Yt=R(yt);{var se=kt=>{var Pt=Dr(),_t=g(Pt);gt(_t,{size:"xs",class:"w-full break-all transition-all",variant:"secondary",get disabled(){return t(B)},"data-testid":"create-view-button",$$events:{click:()=>{k(f,!0)}},children:(wt,St)=>{var ht=Nr(),Ft=R(ht),ue=S(Ft);N((ve,de)=>{$t(Ft,1,ve),$t(ue,1,de)},[()=>At(Tt("inline lg:hidden",!l()&&"lg:inline")),()=>At(Tt("hidden",l()&&"lg:inline"))]),s(wt,ht)},$$slots:{default:!0}}),m(Pt),Dt(3,Pt,()=>Bt),s(kt,Pt)};F(Yt,kt=>{t(y)&&o().id==="unsaved"&&kt(se)},!0)}s(pt,yt)};F(Nt,pt=>{var yt;((yt=t(r))==null?void 0:yt.id)===o().id&&o().type==="user"?pt(ce):pt(re,!1)})}m(at),Xt("mouseenter",at,pt=>M(pt,o().name)),Xt("mouseleave",at,vt),s(n,at)};var p,v;let r=ot(void 0),f=ot(!1),d=ot(!1),b=ot(void 0);const x=i(()=>U.url.searchParams.get("query")||""),O=U.url.searchParams.get("savedQuery"),_=i(()=>U.params.namespace),B=i(()=>((p=e()===null||e()===void 0?void 0:e()[t(_)])===null||p===void 0?void 0:p.length)>=Oe),X=i(()=>((v=e()===null||e()===void 0?void 0:e()[t(_)])===null||v===void 0?void 0:v.sort((n,o)=>n.name.localeCompare(o.name)))||[]),E=i(()=>t(x)&&Ve.find(n=>n.query===t(x))||!t(x)&&pe),w=i(()=>t(x)&&t(X).find(n=>n.query===t(x))),c=i(()=>({id:"unsaved",name:"New View",query:t(x),icon:"bookmark",badge:"Unsaved",type:"system",active:!0})),y=i(()=>t(x)&&(t(r)===null||t(r)===void 0?void 0:t(r).id)==="unsaved");Le(()=>{if(O){const n={name:O,query:t(x),id:Date.now().toString(),type:"user"};e()[t(_)]||xt(Vt,tt(e)[t(_)]=[],tt(e)),t(B)||xt(Vt,tt(e)[t(_)]=[...e()[t(_)],n],tt(e)),k(r,n,!0);const o=new URL(U.url);o.searchParams.delete("savedQuery"),ze(o)}else t(w)?k(r,t(w),!0):t(E)?k(r,t(E),!0):t(x)&&k(r,t(c),!0)}),Ht(()=>{if(t(b)!==void 0){t(x)===t(b)&&k(b,void 0);return}if(!t(x)&&(t(r)===null||t(r)===void 0?void 0:t(r).id)!==pe.id){k(r,pe,!0);return}(t(r)===null||t(r)===void 0?void 0:t(r).type)==="system"&&t(x)&&t(r).query!==t(x)&&(t(w)?k(r,t(w),!0):t(E)?k(r,t(E),!0):k(r,t(c),!0))}),Ht(()=>{u()});const Q=n=>{n.id!==(t(r)===null||t(r)===void 0?void 0:t(r).id)&&(k(r,n,!0),k(b,n.query||"",!0),n.query&&W(nt,Ce(n.query,h())),oe({url:U.url,parameter:"query",value:n.query,allowEmpty:!0,clearParameters:[ne]}))},{copy:Y,copied:D}=Ba(),V=n=>{const o=new URL(U.url.href)+"&savedQuery="+encodeURIComponent(t(r)===null||t(r)===void 0?void 0:t(r).name);Y(n,o)},q=n=>{e()[t(_)]||xt(Vt,tt(e)[t(_)]=[],tt(e)),xt(Vt,tt(e)[t(_)]=[...e()[t(_)],n],tt(e)),k(r,n,!0)},J=n=>{e()[t(_)]||xt(Vt,tt(e)[t(_)]=[],tt(e)),n.id===(t(r)===null||t(r)===void 0?void 0:t(r).id)?xt(Vt,tt(e)[t(_)]=e()[t(_)].map(o=>o.id===n.id?n:o),tt(e)):xt(Vt,tt(e)[t(_)]=[...e()[t(_)],n],tt(e)),k(r,n,!0)},K=n=>{xt(Vt,tt(e)[t(_)]=e()[t(_)].filter(o=>(o==null?void 0:o.id)!==n.id),tt(e)),W(nt,[]),k(r,void 0),oe({url:U.url,parameter:"query",value:"",allowEmpty:!0,clearParameters:[ne]})};function et(n,o=document.body){const at=typeof o=="string"?document.querySelector(o):o;return at&&at.appendChild(n),{destroy(){n.parentNode&&n.parentNode.removeChild(n)}}}let G=ot(!1),rt=ot(void 0),j=ot(0),lt=ot(0);const dt=n=>{const o=n.getBoundingClientRect();k(j,Math.round(o.right+8),!0),k(lt,Math.round(o.top+16),!0)},M=(n,o)=>{if(l())return;const at=n.currentTarget;k(rt,o,!0),dt(at),k(G,!0)},Z=n=>{if(!t(G))return;const o=n.currentTarget;dt(o)},vt=()=>{k(G,!1)};var Qt=Xr(),bt=R(Qt),ft=g(bt),Et=g(ft),Mt=g(Et);{var Kt=n=>{var o=Br();Dt(1,o,()=>Bt),s(n,o)};F(Mt,n=>{l()&&n(Kt)})}var mt=S(Mt,4);mt.__click=()=>W(xe,!l());var Lt=g(mt);{let n=i(()=>l()?"chevron-left":"chevron-right");te(Lt,{get name(){return t(n)}})}m(mt),m(Et),m(ft);var ae=S(ft,2),le=g(ae),Se=g(le);Rt(Se,21,()=>Ve,Wt,(n,o)=>{{let at=i(()=>({...t(o),active:t(x)===t(o).query}));P(n,()=>t(at))}}),m(Se),m(le);var Ae=S(le,2);{var Ge=n=>{var o=Mr(),at=g(o),qt=S(at);Re(qt,()=>({className:"font-mono",content:`${t(X).length}/${Oe}`})),m(o),N(Nt=>z(at,`${Nt??""} `),[()=>L("standalone-activities.custom-views")]),Dt(1,o,()=>Bt),s(n,o)};F(Ae,n=>{l()&&n(Ge)})}var Ee=S(Ae,4);{var He=n=>{P(n,()=>t(c))};F(Ee,n=>{t(y)&&n(He)})}var ke=S(Ee,2);{var Ke=n=>{var o=Yr(),at=g(o);Rt(at,21,()=>t(X),Wt,(qt,Nt)=>{{let ce=i(()=>{var re,pt;return{...t(Nt),active:t(Nt).id===((re=t(r))==null?void 0:re.id),badge:t(Nt).id===((pt=t(r))==null?void 0:pt.id)&&t(Nt).query!==t(x)?"Unsaved":void 0}});P(qt,()=>t(ce))}}),m(at),m(o),s(n,o)};F(ke,n=>{t(X).length>0&&n(Ke)})}var Je=S(ke,2);{var Ze=n=>{var o=jr();N(at=>$t(o,1,at),[()=>At(Tt(" pl-1 text-center text-secondary lg:pl-4 lg:text-left",!l()&&"lg:pl-1 lg:text-center"))]),s(n,o)};F(Je,n=>{t(X).length===0&&!t(y)&&n(Ze)})}m(ae),m(bt);var Pe=S(bt,2);Fr(Pe,{onCreateView:q,get open(){return t(f)},set open(n){k(f,n,!0)}});var Fe=S(Pe,2);Pr(Fe,{get view(){return t(r)},onSaveView:J,onCreateView:q,onDeleteView:K,get open(){return t(d)},set open(n){k(d,n,!0)}});var ta=S(Fe,2);{var ea=n=>{var o=zr(),at=g(o,!0);m(o),La(o,qt=>et==null?void 0:et(qt)),N(()=>{wa(o,`position: fixed; top: ${t(lt)}px; left: ${t(j)}px; transform: translateY(-50%); max-width: 280px;`),z(at,t(rt))}),s(n,o)};F(ta,n=>{t(G)&&t(rt)&&n(ea)})}N((n,o)=>{$t(bt,1,n),$t(Et,1,o),ie(mt,"aria-label",l()?"Collapse saved views":"Expand saved views"),ie(mt,"title",l()?"Collapse":"Expand")},[()=>At(Tt("surface-primary relative h-[var(--panel-h)] h-auto max-h-[var(--panel-h)] min-h-[var(--panel-h)] w-[var(--panel-collapsed-w)] min-w-[var(--panel-collapsed-w)] max-w-[var(--panel-collapsed-w)] overflow-auto border border-r-0 border-subtle shadow-sm transition-all duration-300 ease-in-out",l()?"lg:w-[var(--panel-expanded-w)] lg:min-w-[var(--panel-expanded-w)] lg:max-w-[var(--panel-expanded-w)]":"lg:w-[var(--panel-collapsed-w)] lg:min-w-[var(--panel-collapsed-w)] lg:max-w-[var(--panel-collapsed-w)]")),()=>At(Tt("flex w-full items-center justify-between",l()?"lg:justify-between":"lg:justify-center"))]),s(C,Qt),ut(),I()}Te(["mousemove","click"]);var Gr=A('<span data-testid="activity-count"> </span> <!>',1),Hr=A('<div class="flex items-center gap-4"><!></div>'),Kr=A('<header class="flex flex-col gap-2"><div class="flex flex-col justify-between gap-2 md:flex-row"><div class="flex flex-row flex-wrap items-start gap-2"><div><h1 class="flex items-center gap-2 leading-7"><!></h1> <p class="text-xs text-secondary"> </p></div> <!> <!></div> <!></div></header> <!> <div class="flex overflow-auto"><!> <div><!></div></div> <!>',1);function Jr(C,a){ct(a,!0);const e=()=>H(ma,"$timestamp",$),u=()=>H(Xe,"$activityExecutionSearchAttributes",$),h=()=>H(Ma,"$supportsAdvancedVisibility",$),l=()=>H(jt,"$activityCount",$),T=()=>H(xe,"$savedQueryNavOpen",$),[$,I]=It(),P=i(()=>U.url.searchParams.get("query")),p=i(()=>U.params.namespace),v=i(()=>U.url.searchParams.toString());let r=ot(ge(new Date));const f=i(()=>e()(t(r))),d=i(()=>fa(t(p)));Le(()=>{W(Ya,U.params.namespace),t(P)&&W(nt,Ce(t(P),u()))}),Ht(()=>{W(Be,t(P))}),Ht(()=>{W(ua,t(v))});let b=ot(!1);const x=()=>{k(b,!0)};var O=Kr(),_=R(O),B=g(_),X=g(B),E=g(X),w=g(E),c=g(w);{var y=M=>{var Z=Gr(),vt=R(Z),Qt=g(vt,!0);m(vt);var bt=S(vt,2);Qe(bt,{key:"standalone-activities.activities-plural",get count(){return l().count}}),N(ft=>z(Qt,ft),[()=>l().count.toLocaleString()]),s(M,Z)},Q=M=>{Qe(M,{key:"standalone-activities.recent-activities"})};F(c,M=>{h()?M(y):M(Q,!1)})}m(w);var Y=S(w,2),D=g(Y,!0);m(Y),m(E);var V=S(E,2);Sr(V,{get count(){return l().newCount}});var q=S(V,2);kr(q,{get refreshTime(){return t(r)},set refreshTime(M){k(r,M,!0)}}),m(X);var J=S(X,2);{var K=M=>{var Z=Hr(),vt=g(Z);be(vt,()=>a.headerActions),m(Z),s(M,Z)};F(J,M=>{a.headerActions&&M(K)})}m(B),m(_);var et=S(_,2);Ir(et);var G=S(et,2),rt=g(G);Wr(rt,{});var j=S(rt,2),lt=g(j);dr(lt,{onClickConfigure:x}),m(j),m(G);var dt=S(G,2);{let M=i(()=>L("common.columns")),Z=i(()=>L("standalone-activities.activities-table"));Fa(dt,{get availableColumns(){return t(d)},get table(){return da.ACTIVITIES},get type(){return t(M)},get title(){return t(Z)},get open(){return t(b)},set open(vt){k(b,vt,!0)}})}N(M=>{z(D,t(f)),$t(j,1,M)},[()=>At(Tt("flex w-[calc(100%-var(--panel-collapsed-w))] shrink flex-col transition-all lg:w-[calc(100%-var(--panel-expanded-w))]",!T()&&"lg:w-[calc(100%-var(--panel-collapsed-w))]"))]),s(C,O),ut(),I()}var Zr=A("<!> <!>",1);function Ks(C,a){ct(a,!0);const e=i(()=>U.params.namespace);var u=Zr(),h=R(u);{let T=i(()=>L("standalone-activities.standalone-activities")),$=i(()=>t(e));sa(h,{get title(){return`${t(T)??""} | ${t($)??""}`},get url(){return U.url.href}})}var l=S(h,2);Jr(l,{headerActions:$=>{{let I=i(()=>Ye({namespace:t(e)}));gt($,{get href(){return t(I)},children:(P,p)=>{Ct();var v=it();N(r=>z(v,r),[()=>L("standalone-activities.start-standalone-activity")]),s(P,v)},$$slots:{default:!0}})}},$$slots:{headerActions:!0}}),s(C,u),ut()}export{Ks as component};
