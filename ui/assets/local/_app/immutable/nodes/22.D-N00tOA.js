import"../chunks/CWj6FrbW.js";import{p as ct,f as A,c as R,h as S,g as t,v as i,e as r,b as ut,n as St,k as st,t as D,i as rt,s as k,j as g,r as p,at as ot,d as ie,u as ce,q as aa,L as Ue,K as ra,I as Z,aO as Ht,au as xe}from"../chunks/B6CF0p-B.js";import{s as Y,d as Te,e as Xt}from"../chunks/BSSJzwu8.js";import{p as L}from"../chunks/CGGZL5WV.js";import{P as sa}from"../chunks/D-4C8DtU.js";import{B as xt}from"../chunks/Cgbq73pB.js";import{t as B}from"../chunks/DEjs8ZrU.js";import{w as Jt,a as ia,o as Le}from"../chunks/CfXw_P7u.js";import{i as F}from"../chunks/DVfqY6Lp.js";import{s as It,c as kt}from"../chunks/CVNTlwXL.js";import{p as Lt,s as At,a as W,b as j,e as wt}from"../chunks/BrOjBIf0.js";import{k as na}from"../chunks/CmR3ARMz.js";import{e as Ut,i as Wt}from"../chunks/DNXtLIpi.js";import{I as te}from"../chunks/CsmBsHFA.js";import{A as oa}from"../chunks/ju1oZBav.js";import{T as $e}from"../chunks/C82XNxlY.js";import{b as la,f as ca,d as zt,e as ee,h as Be,a as ua}from"../chunks/CgPiYAS3.js";import{c as va,T as da,e as fa}from"../chunks/tjdhcHhK.js";import{T as ye,t as ma}from"../chunks/DRi4x2LZ.js";import{W as Me}from"../chunks/BAEKz-jo.js";import{j as pa}from"../chunks/CtQjrHKC.js";import{b as ya}from"../chunks/CaJvKMMs.js";import{z as _a,w as Ye}from"../chunks/BydudN05.js";import{F as ga}from"../chunks/Dn1qQEC4.js";import{L as ha}from"../chunks/PLG0j6OZ.js";import{g as it}from"../chunks/B3KRT4Td.js";import{S as Qt}from"../chunks/S6Q2Q0ub.js";import{u as jt,e as Gt,a as Ce,t as xa,c as ba}from"../chunks/W2LnuZbm.js";import{s as ne,b as wa}from"../chunks/Rrz4rnkO.js";import{N as Ta,n as $a,S as Ca,D as Ia,V as ze,a as _e,s as Ve,b as Ot,M as Oe}from"../chunks/Cds99Ovm.js";import{A as Sa}from"../chunks/DFhL1XQn.js";import{g as je,a as Aa}from"../chunks/DN4jPxEP.js";import"../chunks/69_IOA4Y.js";import{i as Ea,t as Ct}from"../chunks/BC0HqUZ9.js";import{aW as ka,s as Pa,aX as Xe}from"../chunks/DWmkfC13.js";import{d as Zt,C as Fa}from"../chunks/Cj8UdAbT.js";import{I as We}from"../chunks/BQzR8NcI.js";import{M as Va}from"../chunks/DgGmhWmm.js";import{c as Oa,d as Qa,b as ge}from"../chunks/C8yzQBLH.js";import{M as be,r as qa,a as Na}from"../chunks/CD7Wirp1.js";import{t as Rt,b as Mt,f as Da}from"../chunks/DRO9Fqoc.js";import{c as oe}from"../chunks/Cpz1pHG5.js";import{u as le}from"../chunks/D5nd7-LT.js";import{S as Ra}from"../chunks/BFF_e7em.js";import{g as Ua}from"../chunks/BNcA6Hpw.js";import{a as La}from"../chunks/CS-Nszw6.js";import{s as we}from"../chunks/NGbM5w7V.js";import{c as Ba}from"../chunks/Bra16--0.js";import{T as Qe}from"../chunks/DDSNsabO.js";import{s as Ma}from"../chunks/CfxiErbU.js";import{l as Ya}from"../chunks/C8gbAnvz.js";const qe=["Running","Completed","Failed","Canceled","Terminated","TimedOut"],za={ACTIVITY_EXECUTION_STATUS_UNSPECIFIED:"Running",ACTIVITY_EXECUTION_STATUS_RUNNING:"Running",ACTIVITY_EXECUTION_STATUS_COMPLETED:"Completed",ACTIVITY_EXECUTION_STATUS_FAILED:"Failed",ACTIVITY_EXECUTION_STATUS_CANCELED:"Canceled",ACTIVITY_EXECUTION_STATUS_TERMINATED:"Terminated",ACTIVITY_EXECUTION_STATUS_TIMED_OUT:"TimedOut"},ja=C=>za[C]||"Running",Ne=(C=[])=>C.map(a=>{const e=ya(a==null?void 0:a.groupValues[0]),u=parseInt(a.count);return{status:e,count:u}}).sort((a,e)=>qe.indexOf(a.status)-qe.indexOf(e.status));var Xa=A("<!> <!>",1);function he(C,a){ct(a,!0);const e=()=>W(it,"$activityFilters",u),[u,h]=At();let l=Lt(a,"filterOrCopyButtonsVisible",3,!1),w=Lt(a,"type",19,()=>Qt.KEYWORD);const $=()=>{const d=e().find(T=>T.attribute===a.attribute),f=()=>e().filter(T=>T.attribute!==a.attribute);if(!d||d.value!==a.value){const T={attribute:a.attribute,type:w(),value:a.value,conditional:"=",operator:"",parenthesis:""};j(it,[...f(),T])}else j(it,[...f()]);jt(L.url,e())};var I=Xa(),P=R(I);{var m=d=>{ha(d,{get href(){return a.href},children:(f,T)=>{St();var _=st();D(()=>Y(_,a.value)),r(f,_)},$$slots:{default:!0}})},v=d=>{var f=st();D(()=>Y(f,a.value)),r(d,f)};F(P,d=>{a.href?d(m):d(v,!1)})}var s=S(P,2);{let d=i(()=>B("common.copy-icon-title")),f=i(()=>B("common.copy-success-icon-title")),T=i(()=>B("common.filter-activities")),_=i(()=>e().some(q=>q.attribute===a.attribute&&q.value===a.value));ga(s,{get copyIconTitle(){return t(d)},get copySuccessIconTitle(){return t(f)},get filterIconTitle(){return t(T)},get show(){return l()},get content(){return a.value},onFilter:$,get filtered(){return t(_)}})}r(C,I),ut(),h()}var Wa=A('<td class="relative h-8 whitespace-nowrap pr-24" data-testid="activities-summary-table-body-cell"><!></td>'),Ga=A('<td class="h-8 whitespace-nowrap" data-testid="activities-summary-table-body-cell"><!></td>');function Ha(C,a){ct(a,!0);const e=i(()=>a.column.label),u=i(()=>L.params.namespace);let h=ot(!1);const l=()=>k(h,!0),w=()=>k(h,!1),$=d=>{const f=d.relatedTarget;f&&!["filter-button","copy-button"].includes(f.id)&&w()},I=["Activity ID","Activity Type","Task Queue"];var P=rt(),m=R(P);{var v=d=>{var f=Wa();f.__mouseover=l,f.__focusin=l,f.__focusout=$;var T=g(f);{var _=x=>{{let U=i(()=>_a({namespace:t(u),activityId:a.activity.activityId,runId:a.activity.runId}));he(x,{get filterOrCopyButtonsVisible(){return t(h)},attribute:"ActivityId",get value(){return a.activity.activityId},get href(){return t(U)}})}},q=x=>{var U=rt(),X=R(U);{var E=c=>{{let y=i(()=>{var O;return((O=a.activity.activityType)==null?void 0:O.name)??""});he(c,{get filterOrCopyButtonsVisible(){return t(h)},attribute:"ActivityType",get value(){return t(y)}})}},b=c=>{var y=rt(),O=R(y);{var z=N=>{{let V=i(()=>a.activity.taskQueue??"");he(N,{get filterOrCopyButtonsVisible(){return t(h)},attribute:"TaskQueue",get value(){return t(V)}})}};F(O,N=>{t(e)==="Task Queue"&&N(z)},!0)}r(c,y)};F(X,c=>{t(e)==="Activity Type"?c(E):c(b,!1)},!0)}r(x,U)};F(T,x=>{t(e)==="Activity ID"?x(_):x(q,!1)})}p(f),Xt("focus",f,l),Xt("mouseleave",f,w),Xt("blur",f,w),r(d,f)},s=d=>{var f=Ga(),T=g(f);{var _=x=>{{let U=i(()=>ja(a.activity.status));Me(x,{get status(){return t(U)}})}},q=x=>{var U=rt(),X=R(U);{var E=c=>{var y=st();D(()=>Y(y,a.activity.runId??"")),r(c,y)},b=c=>{var y=rt(),O=R(y);{var z=V=>{{let Q=i(()=>a.activity.lastStartedTime||a.activity.scheduleTime);ye(V,{get dateTime(){return t(Q)}})}},N=V=>{var Q=rt(),G=R(Q);{var H=J=>{ye(J,{get dateTime(){return a.activity.lastStartedTime}})},et=J=>{var at=rt(),M=R(at);{var nt=ft=>{ye(ft,{get dateTime(){return a.activity.closeTime}})},dt=ft=>{var lt=rt(),K=R(lt);{var mt=pt=>{var Tt=rt(),qt=R(Tt);{var Kt=yt=>{var Bt=st();D(ae=>Y(Bt,ae),[()=>pa({start:a.activity.lastStartedTime||a.activity.scheduleTime,end:a.activity.closeTime,includeMillisecondsForUnderSecond:!0})]),r(yt,Bt)};F(qt,yt=>{a.activity.executionDuration&&yt(Kt)})}r(pt,Tt)},vt=pt=>{var Tt=rt(),qt=R(Tt);{var Kt=yt=>{var Bt=st();D(()=>Y(Bt,a.activity.stateTransitionCount??"")),r(yt,Bt)};F(qt,yt=>{t(e)==="State Transitions"&&yt(Kt)},!0)}r(pt,Tt)};F(K,pt=>{t(e)==="Execution Duration"?pt(mt):pt(vt,!1)},!0)}r(ft,lt)};F(M,ft=>{t(e)==="Close Time"?ft(nt):ft(dt,!1)},!0)}r(J,at)};F(G,J=>{t(e)==="Execution Time"?J(H):J(et,!1)},!0)}r(V,Q)};F(O,V=>{t(e)==="Start Time"?V(z):V(N,!1)},!0)}r(c,y)};F(X,c=>{t(e)==="Run ID"?c(E):c(b,!1)},!0)}r(x,U)};F(T,x=>{t(e)==="Status"?x(_):x(q,!1)})}p(f),r(d,f)};F(m,d=>{I.includes(t(e))?d(v):d(s,!1)})}r(C,P),ut()}Te(["mouseover","focusin","focusout"]);var Ka=A('<div class="flex h-full w-full flex-col items-center justify-center p-4" aria-live="polite"><div class="text-center"><h2><!></h2> <p class="text-secondary"><!></p> <!></div></div>'),Ja=A("<p> </p>"),Za=A('<div class="h-full w-full overflow-hidden xl:flex xl:flex-row" aria-live="polite"><div class="surface-primary flex w-auto min-w-[280px] flex-col gap-4 p-8 xl:min-w-[520px] xl:flex-1"><h2> </h2> <!></div> <div class="flex h-full flex-col"><div class="bg-off-white dark:bg-[#0f1725]"><img alt="" class="w-full"/></div> <div class="flex-1 bg-[#818cf8]"></div></div></div>');function tr(C,a){ct(a,!0);const e=()=>W(la,"$activityError",u),[u,h]=At();let l=i(()=>L.url.searchParams.get("query"));var w=rt(),$=R(w);{var I=m=>{var v=Ka(),s=g(v),d=g(s),f=g(d);{var T=b=>{var c=st();D(y=>Y(c,y),[()=>B("standalone-activities.activity-query-error-state")]),r(b,c)},_=b=>{var c=st();D(y=>Y(c,y),[()=>B("standalone-activities.empty-state-title")]),r(b,c)};F(f,b=>{e()?b(T):b(_,!1)})}p(d);var q=S(d,2),x=g(q);{var U=b=>{var c=st();D(()=>Y(c,e())),r(b,c)},X=b=>{var c=st();D(y=>Y(c,y),[()=>B("standalone-activities.empty-state-description")]),r(b,c)};F(x,b=>{e()?b(U):b(X,!1)})}p(q);var E=S(q,2);Ta(E,{class:"m-auto mt-8 text-subtle"}),p(s),p(v),r(m,v)},P=m=>{var v=Za(),s=g(v),d=g(s),f=g(d,!0);p(d);var T=S(d,2);{var _=E=>{{let b=i(()=>B("common.error-occurred"));Sa(E,{intent:"warning",icon:"warning",get title(){return t(b)},style:"overflow-wrap: anywhere",children:(c,y)=>{St();var O=st();D(()=>Y(O,e())),r(c,O)},$$slots:{default:!0}})}},q=E=>{var b=Ja(),c=g(b,!0);p(b),D(y=>Y(c,y),[()=>B("standalone-activities.empty-state-description")]),r(E,b)};F(T,E=>{e()?E(_):E(q,!1)})}p(s);var x=S(s,2),U=g(x),X=g(U);p(U),St(2),p(x),p(v),D(E=>{Y(f,E),ne(X,"src",$a)},[()=>B("standalone-activities.empty-state-title")]),r(m,v)};F($,m=>{t(l)?m(I):m(P,!1)})}r(C,w),ut(),h()}var er=A("<th> </th>");function ar(C,a){ct(a,!0);const e=i(()=>a.column.label);var u=er(),h=g(u,!0);p(u),D(()=>{ne(u,"data-testid",`activities-summary-table-header-cell-${t(e)??""}`),Y(h,t(e))}),r(C,u),ut()}var rr=A("<tr><!></tr>");function sr(C,a){var e=rr(),u=g(e);ie(u,()=>a.children??ce),p(e),r(C,e)}function ir(C,a){ct(a,!0);const e=i(()=>Ye({namespace:a.namespace,activityId:a.activityId,activityType:a.activityType,taskQueue:a.taskQueue,scheduleToCloseTimeout:a.scheduleToCloseTimeout,startToCloseTimeout:a.startToCloseTimeout}));{let u=i(()=>B("standalone-activities.start-activity-like-this-one"));$e(C,{get text(){return t(u)},topLeft:!0,children:(h,l)=>{xt(h,{size:"xs",variant:"ghost",class:"start-button",leadingIcon:"lightning-bolt",$$events:{click:()=>je(t(e))}})},$$slots:{default:!0}})}ut()}var nr=A('<td class="relative flex items-center justify-center py-0.5"><!></td>'),or=A("<td></td>"),lr=A('<tr data-testid="activities-summary-configurable-table-row"><!><!></tr>');function cr(C,a){ct(a,!0);let e=Lt(a,"empty",3,!1);const u=i(()=>L.params.namespace);var h=lr();let l;var w=g(h);{var $=m=>{var v=nr(),s=g(v);{let d=i(()=>{var f;return((f=a.activity.activityType)==null?void 0:f.name)??""});ir(s,{get namespace(){return t(u)},get activityId(){return a.activity.activityId},get activityType(){return t(d)},get taskQueue(){return a.activity.taskQueue},get scheduleToCloseTimeout(){return a.activity.scheduleToCloseTimeout},get startToCloseTimeout(){return a.activity.startToCloseTimeout}})}p(v),r(m,v)},I=m=>{var v=or();r(m,v)};F(w,m=>{!e()&&a.activity?m($):m(I,!1)})}var P=S(w);ie(P,()=>a.children??ce),p(h),D(()=>l=It(h,1,"dense",null,l,{empty:e()})),r(C,h),ut()}var ur=A('<caption class="sr-only" slot="caption"> </caption>'),vr=A("<th></th> <!>",1);function dr(C,a){ct(a,!0);const e=()=>W(va,"$configurableTableColumns",l),u=()=>W(ee,"$activityRefresh",l),h=()=>W(zt,"$activityCount",l),[l,w]=At();var $,I,P;const m=i(()=>L.params.namespace),v=i(()=>(I=($=e()===null||e()===void 0?void 0:e()[t(m)])===null||$===void 0?void 0:$.activities)!==null&&I!==void 0?I:[]),s=i(()=>(P=L.url.searchParams.get("query"))!==null&&P!==void 0?P:""),d=i(()=>()=>ca(t(m),t(s)));var f=rt(),T=R(f);na(T,()=>[t(m),t(s),u()],_=>{{let q=i(()=>B("standalone-activities.standalone-activities")),x=i(()=>B("common.per-page")),U=i(()=>B("common.next")),X=i(()=>B("common.previous")),E=i(()=>B("standalone-activities.empty-state-title"));oa(_,{get total(){return h().count},get onFetch(){return t(d)},get"aria-label"(){return t(q)},get pageSizeSelectLabel(){return t(x)},get nextButtonLabel(){return t(U)},get previousButtonLabel(){return t(X)},get emptyStateMessage(){return t(E)},maxHeight:"var(--panel-h)",children:aa,$$slots:{default:(b,c)=>{const y=i(()=>c.visibleItems);var O=rt(),z=R(O);Ut(z,17,()=>t(y),Wt,(N,V)=>{cr(N,{get activity(){return t(V)},children:(Q,G)=>{var H=rt(),et=R(H);Ut(et,17,()=>t(v),Wt,(J,at)=>{Ha(J,{get activity(){return t(V)},get column(){return t(at)}})}),r(Q,H)},$$slots:{default:!0}})}),r(b,O)},caption:(b,c)=>{var y=ur(),O=g(y,!0);p(y),D(z=>Y(O,z),[()=>B("standalone-activities.standalone-activities")]),r(b,y)},headers:(b,c)=>{sr(b,{children:(y,O)=>{var z=vr(),N=S(R(z),2);Ut(N,17,()=>t(v),Wt,(V,Q)=>{ar(V,{get column(){return t(Q)}})}),r(y,z)}})},empty:(b,c)=>{tr(b,{})},"actions-end-additional":(b,c)=>{$e(b,{text:"Configure Columns",top:!0,children:(y,O)=>{xt(y,{"data-testid":"activities-summary-table-configuration-button",size:"xs",variant:"ghost",$$events:{click(...z){var N;(N=a.onClickConfigure)==null||N.apply(this,z)}},children:(z,N)=>{te(z,{name:"settings"})},$$slots:{default:!0}})},$$slots:{default:!0}})}}})}}),r(C,f),ut(),w()}var fr=A('<div class="flex flex-wrap items-center gap-2"><!> <!></div>');function mr(C,a){ct(a,!0);const e=()=>W(it,"$activityFilters",l),u=()=>W(I,"$activeQueryIndex",l),h=()=>W(P,"$chipOpenIndex",l),[l,w]=At(),{filter:$,activeQueryIndex:I,chipOpenIndex:P}=Ue(Ie);let m=ot(10);const v=i(()=>e().findIndex(c=>Zt(c))),s=i(()=>e().slice(0,t(m))),d=i(()=>e().filter(c=>c.attribute==="ExecutionStatus")),f=i(()=>e().filter(c=>!Zt(c))),T=i(()=>t(m)<e().length);function _(c,y){const O=[...e()];O[c]=y,j(it,O),jt(L.url,e())}function q(c,y){if(y.length===0)j(it,t(f)),jt(L.url,e());else{const O=[...e()];O.splice(c,t(d).length,...y),j(it,O),jt(L.url,e())}}function x(c){const y=[...e()];if(y.splice(c,1),j(it,y),jt(L.url,e()),c===e().length&&e().length>0){const O=e()[e().length-1];O&&(O.operator="")}c===u()?(j(I,null),j($,Gt())):c<u()&&j(I,u()-1)}function U(){t(T)&&k(m,t(m)+10)}var X=rt(),E=R(X);{var b=c=>{var y=fr(),O=g(y);Ut(O,19,()=>t(s),(V,Q)=>V.attribute+"-"+Q,(V,Q,G)=>{var H=rt(),et=R(H);{var J=M=>{Ca(M,{get filters(){return t(d)},get index(){return t(G)},get openIndex(){return h()},onUpdate:nt=>q(t(G),nt)})},at=M=>{var nt=rt(),dt=R(nt);{var ft=lt=>{Ia(lt,{get filter(){return t(Q)},get index(){return t(G)},get openIndex(){return h()},onUpdate:K=>_(t(G),K),onRemove:()=>x(t(G))})};F(dt,lt=>{!Zt(t(Q))&&t(Q).attribute&&lt(ft)},!0)}r(M,nt)};F(et,M=>{Zt(t(Q))&&t(G)===t(v)?M(J):M(at,!1)})}r(V,H)});var z=S(O,2);{var N=V=>{xt(V,{variant:"secondary",size:"xs",$$events:{click:U},children:(Q,G)=>{St();var H=st();D(et=>Y(H,et),[()=>B("common.view-more")]),r(Q,H)},$$slots:{default:!0}})};F(z,V=>{t(T)&&V(N)})}p(y),r(c,y)};F(E,c=>{t(s).length>0&&c(b)})}r(C,X),ut(),w()}var pr=A('<div><p class="leading-3"> </p> <small class="text-secondary"> </small></div>'),yr=A('<!> <hr class="border-subtle"/> <!>',1),_r=A("<!> <!>",1),gr=A("<!> <!>",1);function hr(C,a){ct(a,!0);const e=()=>W(it,"$activityFilters",h),u=()=>W(m,"$activeQueryIndex",h),[h,l]=At();var w;const $=i(()=>(w=L.url.searchParams.get("query"))!==null&&w!==void 0?w:"");let I=ot("");const{filter:P,activeQueryIndex:m,handleSubmit:v}=Ue(Ie),s=Jt(!1),d=E=>{switch(E){case Qt.BOOL:return"=";case Qt.DATETIME:return">=";case Qt.INT:return"=";case Qt.DOUBLE:return"=";case Qt.KEYWORDLIST:return"in";case Qt.KEYWORD:return"=";case Qt.TEXT:return"=";default:return"="}};function f(E,b){k(I,""),P.set({...Gt(),attribute:E,conditional:d(b),type:b}),v(),j(s,!1)}const T=i(()=>t(I)?a.options.filter(E=>E.value.toLowerCase().includes(t(I).toLowerCase())):a.options);function _(){j(it,[]),jt(L.url,e(),!0),j(m,null),j(P,Gt())}var q=gr(),x=R(q);Oa(x,{get open(){return s},children:(E,b)=>{var c=_r(),y=R(c);{let z=i(()=>u()!==null||t($).length>=be);Va(y,{id:"activity-search-attribute-filter-button",controls:"activity-search-attribute-menu",leadingIcon:"add",variant:"secondary","data-testid":"add-filter-button",get disabled(){return t(z)},onclick:()=>k(I,""),class:"text-nowrap",size:"xs",children:(N,V)=>{St();var Q=st("Add Filter");r(N,Q)},$$slots:{default:!0}})}var O=S(y,2);Qa(O,{id:"activity-search-attribute-menu",children:(z,N)=>{var V=yr(),Q=R(V);ge(Q,{class:"p-0",hoverable:!1,onclick:()=>{var H;(H=document.getElementById("activity-filter-search"))==null||H.focus()},children:(H,et)=>{{let J=i(()=>B("common.search")),at=i(()=>B("common.search"));We(H,{get label(){return t(J)},labelHidden:!0,id:"activity-filter-search",noBorder:!0,icon:"search",get placeholder(){return t(at)},class:"w-full min-w-[300px]",get value(){return t(I)},set value(M){k(I,M,!0)}})}},$$slots:{default:!0}});var G=S(Q,4);Ut(G,17,()=>t(T),Wt,(H,et)=>{let J=()=>t(et).value,at=()=>t(et).label,M=()=>t(et).type;{let nt=i(()=>J()==="ExecutionStatus"&&!!e().find(dt=>Zt(dt)));ge(H,{onclick:()=>{f(J(),M())},get disabled(){return t(nt)},children:(dt,ft)=>{var lt=pr(),K=g(lt),mt=g(K,!0);p(K);var vt=S(K,2),pt=g(vt,!0);p(vt),p(lt),D(()=>{Y(mt,at()),Y(pt,M())}),r(dt,lt)},$$slots:{default:!0}})}},H=>{ge(H,{class:"whitespace-nowrap",disabled:!0,children:(et,J)=>{St();var at=st();D(M=>Y(at,M),[()=>B("common.no-results")]),r(et,at)},$$slots:{default:!0}})}),r(z,V)},$$slots:{default:!0}}),r(E,c)},$$slots:{default:!0}});var U=S(x,2);{var X=E=>{xt(E,{variant:"ghost",size:"xs","data-testid":"clear-all-filters-button",$$events:{click:_},children:(b,c)=>{St();var y=st();D(O=>Y(y,O),[()=>B("common.clear-all")]),r(b,y)},$$slots:{default:!0}})};F(U,E=>{e().length>0&&E(X)})}r(C,q),ut(),l()}const Ie="activity-filter-context";var xr=A('<div class="flex shrink flex-wrap items-center justify-start gap-2"><!> <!></div>');function br(C,a){ct(a,!1);const e=()=>W(I,"$activeQueryIndex",l),u=()=>W(it,"$activityFilters",l),h=()=>W($,"$filter",l),[l,w]=At(),$=Jt(Gt()),I=Jt(null),P=Jt(""),m=Jt(null),v=ka;Aa(()=>{m.set(null)}),ra(Ie,{filter:$,activeQueryIndex:I,handleSubmit:s,focusedElementId:P,resetFilter:d,chipOpenIndex:m});function s(){if(e()!==null)wt(it,Z(u)[e()]=h(),Z(u)),j(I,null);else{const q=u().length;j(it,[...u(),h()]),m.set(q)}$.set(Gt())}function d(){I.set(null),$.set(Gt())}Ea();var f=xr(),T=g(f);mr(T,{});var _=S(T,2);hr(_,{get options(){return v}}),p(f),r(C,f),ut(),w()}var wr=A('<div class="w-full border border-t-0 border-subtle"><form class="flex gap-0" role="search"><!> <!></form></div>');function Tr(C,a){ct(a,!0);const e=()=>W(Pa,"$searchAttributes",u),[u,h]=At();var l;let w=ot("");const $=i(()=>(l=L.url.searchParams.get("query"))!==null&&l!==void 0?l:"");function I(T){k(w,T,!0)}Ht(()=>{I(t($))});const P=()=>{if(!t(w))j(it,[]),j(Be,"");else try{j(it,Ce(t(w),e()))}catch(T){console.error(T)}t(w)&&t(w)===t($)?j(ee,Date.now()):le({url:L.url,parameter:"query",value:t(w),allowEmpty:!0,clearParameters:[oe]})};function m(){P()}var v=wr(),s=g(v),d=g(s);{let T=i(()=>B("workflows.search-placeholder")),_=i(()=>B("workflows.search-placeholder")),q=i(()=>B("common.copy-icon-title")),x=i(()=>B("common.clear-input-button-label")),U=i(()=>!t(w)||t(w).length<be);We(d,{id:"query",type:"search",get label(){return t(T)},labelHidden:!0,get placeholder(){return t(_)},icon:"search",class:"grow  [&_*]:border-0",inputContainerClass:"surface-information !border-r border-subtle",clearable:!0,get copyButtonLabel(){return t(q)},get clearButtonLabel(){return t(x)},get maxLength(){return be},get hideCount(){return t(U)},"data-testid":"activity-manual-search-input",get value(){return t(w)},set value(X){k(w,X,!0)},$$events:{clear:m}})}var f=S(d,2);xt(f,{"data-testid":"activity-manual-search-button",variant:"ghost",type:"submit",children:(T,_)=>{St();var q=st();D(x=>Y(q,x),[()=>B("common.search")]),r(T,q)},$$slots:{default:!0}}),p(s),p(v),Xt("submit",s,P),Rt(3,s,()=>Mt),Rt(1,v,()=>Da),r(C,v),ut(),h()}var $r=A('<div class="flex items-center gap-1"><!></div>'),Cr=A('<div><div class="flex w-full flex-wrap items-center justify-between gap-2 border border-subtle bg-primary p-1.5"><div class="flex grow items-center justify-start gap-4 px-2"><!> <!></div> <!></div> <!></div>');function Ir(C){const a=v=>{var s=$r(),d=g(s);{let f=i(()=>t(e)?"Hide raw query":"View raw query");$e(d,{get text(){return t(f)},left:!0,children:(T,_)=>{xt(T,{variant:"ghost",size:"xs",leadingIcon:"json",get active(){return t(e)},"data-testid":"toggle-manual-query",$$events:{click:()=>k(e,!t(e))}})},$$slots:{default:!0}})}p(s),r(v,s)};let e=ot(!1);var u=Cr(),h=g(u),l=g(h),w=g(l);te(w,{name:"filter-lines",class:"text-primary-text h-4 w-4 shrink-0"});var $=S(w,2);br($,{}),p(l);var I=S(l,2);a(I),p(h);var P=S(h,2);{var m=v=>{Tr(v,{})};F(P,v=>{t(e)&&v(m)})}p(u),r(C,u)}function Sr(C,a){ct(a,!0);const[e,u]=At();let h=Lt(a,"count",3,0);xt(C,{size:"xs",variant:"ghost",leadingIcon:"retry",$$events:{click:()=>j(ee,Date.now())},children:(l,w)=>{var $=rt(),I=R($);{var P=v=>{var s=st();D(d=>Y(s,`+${d??""}`),[()=>h().toLocaleString()]),r(v,s)},m=v=>{var s=rt(),d=R(s);{var f=T=>{var _=st();D(q=>Y(_,q),[()=>h().toLocaleString()]),r(T,_)};F(d,T=>{h()<0&&T(f)},!0)}r(v,s)};F(I,v=>{h()>0?v(P):v(m,!1)})}r(l,$)},$$slots:{default:!0}}),ut(),u()}const De=async({namespace:C,query:a})=>{const e="GROUP BY ExecutionStatus",u=qa("standalone-activities.count",{namespace:C}),{count:h,groups:l}=await Na(u,{params:{query:a?`${a} ${e}`:`${e}`},notifyOnError:!1});return{count:h??"0",groups:l}};var Ar=A("<button><!></button>"),Er=A('<div class="flex min-h-[24px] flex-wrap items-center gap-2 pt-1.5"></div>');function kr(C,a){ct(a,!0);const e=()=>W(it,"$activityFilters",l),u=()=>W(zt,"$activityCount",l),h=()=>W(ee,"$activityRefresh",l),[l,w]=At();let $=Lt(a,"staticQuery",3,""),I=Lt(a,"refreshTime",15);const P=i(()=>L.url.searchParams.get("query")),m=i(()=>L.params.namespace),v=i(()=>$()||t(P)),s=i(()=>L.url.searchParams.get("per-page"));let d=ot(xe([])),f=ot(xe([])),T,_=ot(1),q=ot(!1);const x=60,U=20,X=N=>{if(!e().some(Q=>Q.attribute==="ExecutionStatus"&&Q.value===N)){const Q={attribute:"ExecutionStatus",type:Qt.KEYWORD,value:N,operator:"",conditional:"=",parenthesis:""};j(it,[...e(),Q]);const G=xa(ba(e()));le({url:L.url,parameter:"query",value:G,clearParameters:[oe]})}},E=()=>{clearTimeout(T),k(f,[],!0),wt(zt,Z(u).newCount=0,Z(u)),k(_,1)},b=async()=>{k(q,!0);try{const{count:N,groups:V}=await De({namespace:t(m),query:t(v)}).catch(Q=>({count:"0",groups:[]}));wt(zt,Z(u).count=parseInt(N),Z(u)),k(d,Ne(V),!0)}finally{I(new Date),k(q,!1)}},c=async()=>{try{const{count:N,groups:V}=await De({namespace:t(m),query:t(v)}).catch(Q=>({count:"0",groups:[]}));wt(zt,Z(u).newCount=parseInt(N)-u().count,Z(u)),k(f,Ne(V),!0)}finally{I(new Date),k(_,t(_)+1)}},y=()=>{const N=Ua(x,t(_));T=setTimeout(async()=>{await c(),t(_)<=U&&y()},N)},O=async()=>{E(),await b(),y()};Ht(()=>{t(m),t(v),t(s),h(),O()}),ia(()=>{E()});var z=Er();Ut(z,21,()=>t(d),({count:N,status:V})=>V,(N,V)=>{let Q=()=>t(V).count,G=()=>t(V).status;var H=rt(),et=R(H);{var J=M=>{var nt=Ar();nt.__click=()=>X(G());var dt=g(nt);{let ft=i(()=>t(f).find(lt=>lt.status===G())?t(f).find(lt=>lt.status===G()).count-Q():0);Me(dt,{get status(){return G()},get count(){return Q()},get newCount(){return t(ft)},get"test-id"(){return`activity-status-${G()??""}`}})}p(nt),r(M,nt)},at=M=>{Ra(M,{class:"h-6 w-24 rounded-sm"})};F(et,M=>{t(q)?M(at,!1):M(J)})}r(N,H)}),p(z),r(C,z),ut(),w()}Te(["click"]);function Pr(C,a){ct(a,!0);let e=Lt(a,"open",15);ze(C,{id:"activity-edit-view-modal",get view(){return a.view},get onSaveView(){return a.onSaveView},get onCreateView(){return a.onCreateView},get onDeleteView(){return a.onDeleteView},get open(){return e()},set open(u){e(u)}}),ut()}function Fr(C,a){ct(a,!0);let e=Lt(a,"open",15);ze(C,{id:"activity-save-view-modal",get onCreateView(){return a.onCreateView},get open(){return e()},set open(u){e(u)}}),ut()}const Re=(C,a)=>{let e=()=>a==null?void 0:a().className,u=()=>a==null?void 0:a().content,h=()=>a==null?void 0:a().iconClass,l=()=>a==null?void 0:a().icon;var w=Lr(),$=g(w),I=S($);{var P=m=>{var v=Ur(),s=g(v);te(s,{get name(){return l()},class:"p-0.5"}),p(v),D(d=>It(v,1,d),[()=>kt(Ct("rounded-full p-0.5",h()))]),r(m,v)};F(I,m=>{l()&&m(P)})}p(w),D(m=>{It(w,1,m),Y($,`${u()??""} `)},[()=>kt(Ct("surface-subtle right-2 top-2 hidden items-center rounded-full px-2 py-1 text-xs font-medium lg:static lg:ml-auto lg:flex",l()&&"gap-1.5 p-0.5 pl-2",e()))]),Rt(1,w,()=>Mt),r(C,w)};var Vr=A('<span class="hidden truncate text-left text-sm font-normal lg:inline-block"> </span> <!>',1),Or=A("<!> <!>",1),Qr=A("<span>Share</span>"),qr=A("<div><!> <!> <!></div>"),Nr=A("<span>New</span><span>Save as New</span>",1),Dr=A('<div class="flex items-center gap-1 overflow-hidden pt-0.5"><!></div>'),Rr=A('<div class="w-full" role="menuitem" tabindex="-1"><!> <!></div>'),Ur=A("<span><!></span>"),Lr=A("<span> <!></span>"),Br=A('<p class="hidden whitespace-nowrap text-xs font-medium leading-3 lg:block lg:text-sm">Saved Views</p>'),Mr=A('<p class="hidden items-center justify-between whitespace-nowrap px-2 text-xs font-medium leading-3 lg:flex lg:text-sm"> <!></p>'),Yr=A('<div class="text-center"><div class="space-y-1"></div></div>'),zr=A("<p>No Views</p>"),jr=A('<div class="pointer-events-none z-[9999] inline-block select-none rounded-md bg-slate-800 p-2 text-xs text-slate-50 opacity-95" role="tooltip"> </div>'),Xr=A('<div style="will-change: width"><div class="flex items-center justify-center gap-2 border-b border-subtle px-2 py-[.35rem] text-center lg:justify-start lg:py-[.47rem]"><div><!> <p class="block text-xs font-medium leading-3 lg:hidden">Saved Views</p> <button class="hidden rounded-sm p-0.5 hover:bg-secondary lg:inline-flex"><!></button></div></div> <div class="space-y-2 p-1.5"><div class="pb-2 text-center"><div class="space-y-1"></div></div> <!> <div class="border-t border-subtle"></div> <!> <!> <!></div></div> <!> <!>  <!>',1);function Wr(C,a){ct(a,!0);const e=()=>W(Ot,"$savedActivityQueries",$),u=()=>W(ee,"$activityRefresh",$),h=()=>W(Xe,"$activityExecutionSearchAttributes",$),l=()=>W(we,"$savedQueryNavOpen",$),w=()=>W(N,"$copied",$),[$,I]=At(),P=(n,o=ce)=>{var tt=Rr();tt.__mousemove=lt;var Nt=g(tt);{let _t=i(()=>o().type==="system"?o().id:o().name.toLowerCase().replace(/\s+/g,"-")),gt=i(()=>o().type==="system"?"system-query-button":"user-query-button");xt(Nt,{variant:"ghost",get"data-testid"(){return t(_t)},get"data-track-name"(){return t(gt)},"data-track-intent":"action",get"data-track-text"(){return o().name},class:"flex w-full justify-start",get active(){return o().active},get disabled(){return o().disabled},size:"sm",$$events:{click:()=>O(o())},children:(Yt,se)=>{var Pt=Or(),Ft=R(Pt);{let Et=i(()=>o().icon||"bookmark"),bt=i(()=>Ct("h-4 w-4 flex-shrink-0  transition-colors duration-200",l()?"lg:hidden":""));te(Ft,{get name(){return t(Et)},get class(){return t(bt)}})}var ht=S(Ft,2);{var $t=Et=>{var bt=Vr(),Vt=R(bt),de=g(Vt,!0);p(Vt);var fe=S(Vt,2);{var me=pe=>{Re(pe,()=>({className:"italic",content:o().badge}))};F(fe,pe=>{o().badge&&pe(me)})}D(()=>Y(de,o().name)),Rt(1,Vt,()=>Mt),r(Et,bt)};F(ht,Et=>{l()&&Et($t)})}r(Yt,Pt)},$$slots:{default:!0}})}var Dt=S(Nt,2);{var ve=_t=>{var gt=qr(),Yt=g(gt);{var se=ht=>{xt(ht,{size:"xs",class:"w-full",variant:"primary","data-testid":"save-view-button",$$events:{click:()=>{G({...o(),query:t(_)})}},children:($t,Et)=>{St();var bt=st("Save");r($t,bt)},$$slots:{default:!0}})};F(Yt,ht=>{var $t;o().id===(($t=t(s))==null?void 0:$t.id)&&o().query!==t(_)&&ht(se)})}var Pt=S(Yt,2);xt(Pt,{size:"xs",class:"w-full",variant:"secondary","data-testid":"edit-view-button",$$events:{click:()=>{k(f,!0)}},children:(ht,$t)=>{St();var Et=st("Edit");r(ht,Et)},$$slots:{default:!0}});var Ft=S(Pt,2);{let ht=i(()=>w()?"checkmark":"copy");xt(Ft,{get leadingIcon(){return t(ht)},size:"xs",class:"w-full opacity-80",variant:"ghost","data-testid":"share-view-button",$$events:{click:V},children:($t,Et)=>{var bt=Qr();D(Vt=>It(bt,1,Vt),[()=>kt(Ct("hidden",l()&&"lg:inline"))]),r($t,bt)},$$slots:{default:!0}})}p(gt),D(ht=>It(gt,1,ht),[()=>kt(Ct("flex flex-col items-center gap-1 pt-0.5 transition-all",l()&&"lg:flex-row"))]),Rt(1,gt,()=>Mt),r(_t,gt)},re=_t=>{var gt=rt(),Yt=R(gt);{var se=Pt=>{var Ft=Dr(),ht=g(Ft);xt(ht,{size:"xs",class:"w-full break-all transition-all",variant:"secondary",get disabled(){return t(U)},"data-testid":"create-view-button",$$events:{click:()=>{k(d,!0)}},children:($t,Et)=>{var bt=Nr(),Vt=R(bt),de=S(Vt);D((fe,me)=>{It(Vt,1,fe),It(de,1,me)},[()=>kt(Ct("inline lg:hidden",!l()&&"lg:inline")),()=>kt(Ct("hidden",l()&&"lg:inline"))]),r($t,bt)},$$slots:{default:!0}}),p(Ft),Rt(3,Ft,()=>Mt),r(Pt,Ft)};F(Yt,Pt=>{t(y)&&o().id==="unsaved"&&Pt(se)},!0)}r(_t,gt)};F(Dt,_t=>{var gt;((gt=t(s))==null?void 0:gt.id)===o().id&&o().type==="user"?_t(ve):_t(re,!1)})}p(tt),Xt("mouseenter",tt,_t=>ft(_t,o().name)),Xt("mouseleave",tt,K),r(n,tt)};var m,v;let s=ot(void 0),d=ot(!1),f=ot(!1),T=ot(void 0);const _=i(()=>L.url.searchParams.get("query")||""),q=L.url.searchParams.get("savedQuery"),x=i(()=>L.params.namespace),U=i(()=>((m=e()===null||e()===void 0?void 0:e()[t(x)])===null||m===void 0?void 0:m.length)>=Oe),X=i(()=>((v=e()===null||e()===void 0?void 0:e()[t(x)])===null||v===void 0?void 0:v.sort((n,o)=>n.name.localeCompare(o.name)))||[]),E=i(()=>t(_)&&Ve.find(n=>n.query===t(_))||!t(_)&&_e),b=i(()=>t(_)&&t(X).find(n=>n.query===t(_))),c=i(()=>({id:"unsaved",name:"New View",query:t(_),icon:"bookmark",badge:"Unsaved",type:"system",active:!0})),y=i(()=>t(_)&&(t(s)===null||t(s)===void 0?void 0:t(s).id)==="unsaved");Le(()=>{if(q){const n={name:q,query:t(_),id:Date.now().toString(),type:"user"};e()[t(x)]||wt(Ot,Z(e)[t(x)]=[],Z(e)),t(U)||wt(Ot,Z(e)[t(x)]=[...e()[t(x)],n],Z(e)),k(s,n,!0);const o=new URL(L.url);o.searchParams.delete("savedQuery"),je(o)}else t(b)?k(s,t(b),!0):t(E)?k(s,t(E),!0):t(_)&&k(s,t(c),!0)}),Ht(()=>{if(t(T)!==void 0){t(_)===t(T)&&k(T,void 0);return}if(!t(_)&&(t(s)===null||t(s)===void 0?void 0:t(s).id)!==_e.id){k(s,_e,!0);return}(t(s)===null||t(s)===void 0?void 0:t(s).type)==="system"&&t(_)&&t(s).query!==t(_)&&(t(b)?k(s,t(b),!0):t(E)?k(s,t(E),!0):k(s,t(c),!0))}),Ht(()=>{u()});const O=n=>{n.id!==(t(s)===null||t(s)===void 0?void 0:t(s).id)&&(k(s,n,!0),k(T,n.query||"",!0),n.query&&j(it,Ce(n.query,h())),le({url:L.url,parameter:"query",value:n.query,allowEmpty:!0,clearParameters:[oe]}))},{copy:z,copied:N}=Ba(),V=n=>{const o=new URL(L.url.href)+"&savedQuery="+encodeURIComponent(t(s)===null||t(s)===void 0?void 0:t(s).name);z(n,o)},Q=n=>{e()[t(x)]||wt(Ot,Z(e)[t(x)]=[],Z(e)),wt(Ot,Z(e)[t(x)]=[...e()[t(x)],n],Z(e)),k(s,n,!0)},G=n=>{e()[t(x)]||wt(Ot,Z(e)[t(x)]=[],Z(e)),n.id===(t(s)===null||t(s)===void 0?void 0:t(s).id)?wt(Ot,Z(e)[t(x)]=e()[t(x)].map(o=>o.id===n.id?n:o),Z(e)):wt(Ot,Z(e)[t(x)]=[...e()[t(x)],n],Z(e)),k(s,n,!0)},H=n=>{wt(Ot,Z(e)[t(x)]=e()[t(x)].filter(o=>(o==null?void 0:o.id)!==n.id),Z(e)),j(it,[]),k(s,void 0),le({url:L.url,parameter:"query",value:"",allowEmpty:!0,clearParameters:[oe]})};function et(n,o=document.body){const tt=typeof o=="string"?document.querySelector(o):o;return tt&&tt.appendChild(n),{destroy(){n.parentNode&&n.parentNode.removeChild(n)}}}let J=ot(!1),at=ot(void 0),M=ot(0),nt=ot(0);const dt=n=>{const o=n.getBoundingClientRect();k(M,Math.round(o.right+8),!0),k(nt,Math.round(o.top+16),!0)},ft=(n,o)=>{if(l())return;const tt=n.currentTarget;k(at,o,!0),dt(tt),k(J,!0)},lt=n=>{if(!t(J))return;const o=n.currentTarget;dt(o)},K=()=>{k(J,!1)};var mt=Xr(),vt=R(mt),pt=g(vt),Tt=g(pt),qt=g(Tt);{var Kt=n=>{var o=Br();Rt(1,o,()=>Mt),r(n,o)};F(qt,n=>{l()&&n(Kt)})}var yt=S(qt,4);yt.__click=()=>j(we,!l());var Bt=g(yt);{let n=i(()=>l()?"chevron-left":"chevron-right");te(Bt,{get name(){return t(n)}})}p(yt),p(Tt),p(pt);var ae=S(pt,2),ue=g(ae),Se=g(ue);Ut(Se,21,()=>Ve,Wt,(n,o)=>{{let tt=i(()=>({...t(o),active:t(_)===t(o).query}));P(n,()=>t(tt))}}),p(Se),p(ue);var Ae=S(ue,2);{var Ge=n=>{var o=Mr(),tt=g(o),Nt=S(tt);Re(Nt,()=>({className:"font-mono",content:`${t(X).length}/${Oe}`})),p(o),D(Dt=>Y(tt,`${Dt??""} `),[()=>B("standalone-activities.custom-views")]),Rt(1,o,()=>Mt),r(n,o)};F(Ae,n=>{l()&&n(Ge)})}var Ee=S(Ae,4);{var He=n=>{P(n,()=>t(c))};F(Ee,n=>{t(y)&&n(He)})}var ke=S(Ee,2);{var Ke=n=>{var o=Yr(),tt=g(o);Ut(tt,21,()=>t(X),Wt,(Nt,Dt)=>{{let ve=i(()=>{var re,_t;return{...t(Dt),active:t(Dt).id===((re=t(s))==null?void 0:re.id),badge:t(Dt).id===((_t=t(s))==null?void 0:_t.id)&&t(Dt).query!==t(_)?"Unsaved":void 0}});P(Nt,()=>t(ve))}}),p(tt),p(o),r(n,o)};F(ke,n=>{t(X).length>0&&n(Ke)})}var Je=S(ke,2);{var Ze=n=>{var o=zr();D(tt=>It(o,1,tt),[()=>kt(Ct(" pl-1 text-center text-secondary lg:pl-4 lg:text-left",!l()&&"lg:pl-1 lg:text-center"))]),r(n,o)};F(Je,n=>{t(X).length===0&&!t(y)&&n(Ze)})}p(ae),p(vt);var Pe=S(vt,2);Fr(Pe,{onCreateView:Q,get open(){return t(d)},set open(n){k(d,n,!0)}});var Fe=S(Pe,2);Pr(Fe,{get view(){return t(s)},onSaveView:G,onCreateView:Q,onDeleteView:H,get open(){return t(f)},set open(n){k(f,n,!0)}});var ta=S(Fe,2);{var ea=n=>{var o=jr(),tt=g(o,!0);p(o),La(o,Nt=>et==null?void 0:et(Nt)),D(()=>{wa(o,`position: fixed; top: ${t(nt)}px; left: ${t(M)}px; transform: translateY(-50%); max-width: 280px;`),Y(tt,t(at))}),r(n,o)};F(ta,n=>{t(J)&&t(at)&&n(ea)})}D((n,o)=>{It(vt,1,n),It(Tt,1,o),ne(yt,"aria-label",l()?"Collapse saved views":"Expand saved views"),ne(yt,"title",l()?"Collapse":"Expand")},[()=>kt(Ct("surface-primary relative h-[var(--panel-h)] h-auto max-h-[var(--panel-h)] min-h-[var(--panel-h)] w-[var(--panel-collapsed-w)] min-w-[var(--panel-collapsed-w)] max-w-[var(--panel-collapsed-w)] overflow-auto border border-r-0 border-subtle shadow-sm transition-all duration-300 ease-in-out",l()?"lg:w-[var(--panel-expanded-w)] lg:min-w-[var(--panel-expanded-w)] lg:max-w-[var(--panel-expanded-w)]":"lg:w-[var(--panel-collapsed-w)] lg:min-w-[var(--panel-collapsed-w)] lg:max-w-[var(--panel-collapsed-w)]")),()=>kt(Ct("flex w-full items-center justify-between",l()?"lg:justify-between":"lg:justify-center"))]),r(C,mt),ut(),I()}Te(["mousemove","click"]);var Gr=A('<span data-testid="activity-count"> </span> <!>',1),Hr=A('<div class="flex items-center gap-4"><!></div>'),Kr=A('<header class="flex flex-col gap-2"><div class="flex flex-col justify-between gap-2 md:flex-row"><div class="flex flex-row flex-wrap items-start gap-2"><div><h1 class="flex items-center gap-2 leading-7"><!></h1> <p class="text-xs text-secondary"> </p></div> <!> <!> <!></div> <!></div></header> <!> <div class="flex overflow-auto"><!> <div><!></div></div> <!>',1);function Jr(C,a){ct(a,!0);const e=()=>W(ma,"$timestamp",$),u=()=>W(Xe,"$activityExecutionSearchAttributes",$),h=()=>W(Ma,"$supportsAdvancedVisibility",$),l=()=>W(zt,"$activityCount",$),w=()=>W(we,"$savedQueryNavOpen",$),[$,I]=At();var P;const m=i(()=>(P=L.url.searchParams.get("query"))!==null&&P!==void 0?P:""),v=i(()=>L.params.namespace),s=i(()=>L.url.searchParams.toString());let d=ot(xe(new Date));const f=i(()=>e()(t(d))),T=i(()=>fa(t(v)));Le(()=>{j(Ya,L.params.namespace),t(m)&&j(it,Ce(t(m),u()))}),Ht(()=>{j(Be,t(m))}),Ht(()=>{j(ua,t(s))});let _=ot(!1);const q=()=>{k(_,!0)};var x=Kr(),U=R(x),X=g(U),E=g(X),b=g(E),c=g(b),y=g(c);{var O=K=>{var mt=Gr(),vt=R(mt),pt=g(vt,!0);p(vt);var Tt=S(vt,2);Qe(Tt,{key:"standalone-activities.activities-plural",get count(){return l().count}}),D(qt=>Y(pt,qt),[()=>l().count.toLocaleString()]),r(K,mt)},z=K=>{Qe(K,{key:"standalone-activities.recent-activities"})};F(y,K=>{h()?K(O):K(z,!1)})}p(c);var N=S(c,2),V=g(N,!0);p(N),p(b);var Q=S(b,2);ie(Q,()=>a.releaseStageBadge??ce);var G=S(Q,2);Sr(G,{get count(){return l().newCount}});var H=S(G,2);kr(H,{get refreshTime(){return t(d)},set refreshTime(K){k(d,K,!0)}}),p(E);var et=S(E,2);{var J=K=>{var mt=Hr(),vt=g(mt);ie(vt,()=>a.headerActions),p(mt),r(K,mt)};F(et,K=>{a.headerActions&&K(J)})}p(X),p(U);var at=S(U,2);Ir(at);var M=S(at,2),nt=g(M);Wr(nt,{});var dt=S(nt,2),ft=g(dt);dr(ft,{onClickConfigure:q}),p(dt),p(M);var lt=S(M,2);{let K=i(()=>B("common.columns")),mt=i(()=>B("standalone-activities.activities-table"));Fa(lt,{get availableColumns(){return t(T)},get table(){return da.ACTIVITIES},get type(){return t(K)},get title(){return t(mt)},get open(){return t(_)},set open(vt){k(_,vt,!0)}})}D(K=>{Y(V,t(f)),It(dt,1,K)},[()=>kt(Ct("flex w-[calc(100%-var(--panel-collapsed-w))] shrink flex-col transition-all lg:w-[calc(100%-var(--panel-expanded-w))]",!w()&&"lg:w-[calc(100%-var(--panel-collapsed-w))]"))]),r(C,x),ut(),I()}var Zr=A("<!> <!>",1);function Ks(C,a){ct(a,!0);const e=i(()=>L.params.namespace);var u=Zr(),h=R(u);{let w=i(()=>B("standalone-activities.standalone-activities")),$=i(()=>t(e));sa(h,{get title(){return`${t(w)??""} | ${t($)??""}`},get url(){return L.url.href}})}var l=S(h,2);Jr(l,{headerActions:$=>{{let I=i(()=>Ye({namespace:t(e)}));xt($,{get href(){return t(I)},children:(P,m)=>{St();var v=st();D(s=>Y(v,s),[()=>B("standalone-activities.start-standalone-activity")]),r(P,v)},$$slots:{default:!0}})}},$$slots:{headerActions:!0}}),r(C,u),ut()}export{Ks as component};
