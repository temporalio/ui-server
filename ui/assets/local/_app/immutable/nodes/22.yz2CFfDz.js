import"../chunks/CWj6FrbW.js";import{p as ct,f as A,c as D,h as S,g as t,v as s,e as r,b as ut,n as St,k as it,t as q,i as rt,s as E,j as h,r as y,at as ot,d as se,u as ce,q as aa,L as Ue,K as ra,I as tt,aO as Gt,au as xe}from"../chunks/BzuLCQNf.js";import{s as z,d as Te,e as Xt}from"../chunks/HOnlAALn.js";import{p as L}from"../chunks/BPIP8Ni0.js";import{P as ia}from"../chunks/BX5rdQWZ.js";import{B as bt}from"../chunks/BaZ1uhbi.js";import{t as B}from"../chunks/DEjs8ZrU.js";import{w as Kt,a as sa,o as Le}from"../chunks/SxBBeV83.js";import{i as k}from"../chunks/Be-bjpec.js";import{s as It,c as kt}from"../chunks/wWuJlbLq.js";import{p as Lt,s as At,a as W,b as X,e as Tt}from"../chunks/DdNojIXk.js";import{k as na}from"../chunks/B6WYOvS7.js";import{e as Ut,i as Zt}from"../chunks/DHcq7Esf.js";import{I as te}from"../chunks/CKL6Zfw6.js";import{A as oa}from"../chunks/p-9vSiaN.js";import{T as $e}from"../chunks/QGm-pl5O.js";import{b as la,f as ca,d as zt,e as ee,h as Be,a as ua}from"../chunks/DQLNoxHR.js";import{c as va,T as da,e as fa}from"../chunks/CcOjc3C0.js";import{T as ye,t as ma}from"../chunks/DQtg0T9O.js";import{W as Me}from"../chunks/B1S_w4vZ.js";import{k as pa}from"../chunks/CrZfxCV7.js";import{b as ya}from"../chunks/CGhS7psW.js";import{A as _a,x as Ye}from"../chunks/RE4EaMEX.js";import{F as ga}from"../chunks/DWk7_A5Y.js";import{L as ha}from"../chunks/B8Tddeb-.js";import{l as st}from"../chunks/B2MQV_JE.js";import{S as Qt}from"../chunks/S6Q2Q0ub.js";import{u as jt,e as Wt,a as Ce,t as xa,c as ba}from"../chunks/CpQUJMLz.js";import{s as ne,b as wa}from"../chunks/Brfhuxqj.js";import{N as Ta,n as $a,S as Ca,D as Ia,V as ze,a as _e,s as Ve,b as Ot,M as Oe}from"../chunks/B0lb0UvO.js";import{A as Sa}from"../chunks/feDwqkM8.js";import{g as je,a as Aa}from"../chunks/Ij_vO0mX.js";import"../chunks/69_IOA4Y.js";import{i as Ea,t as Ct}from"../chunks/W-5sOwmb.js";import{d as Jt,C as ka}from"../chunks/3Xfj7NGH.js";import{I as Xe}from"../chunks/Bq-uf1Q1.js";import{M as Pa}from"../chunks/oj7FfB3a.js";import{c as Fa,d as Va,b as ge}from"../chunks/CjrP6doz.js";import{g as Oa,s as Qa,h as We}from"../chunks/Cz2A3HS5.js";import{M as be,r as qa,a as Na}from"../chunks/B9NqrPA5.js";import{t as Rt,b as Mt,f as Da}from"../chunks/B9AObqCb.js";import{c as oe}from"../chunks/BXZ3g64y.js";import{a as le}from"../chunks/DbNYprft.js";import{S as Ra}from"../chunks/DH9BFp7y.js";import{g as Ua}from"../chunks/BNcA6Hpw.js";import{a as La}from"../chunks/Dm3plelZ.js";import{s as we}from"../chunks/DHXPGyQG.js";import{c as Ba}from"../chunks/CnPHWPEI.js";import{T as Qe}from"../chunks/BUGJ_rhA.js";import{s as Ma}from"../chunks/BPs_GBf-.js";import{l as Ya}from"../chunks/DuFMxN9w.js";const qe=["Running","Completed","Failed","Canceled","Terminated","TimedOut"],za={ACTIVITY_EXECUTION_STATUS_UNSPECIFIED:"Running",ACTIVITY_EXECUTION_STATUS_RUNNING:"Running",ACTIVITY_EXECUTION_STATUS_COMPLETED:"Completed",ACTIVITY_EXECUTION_STATUS_FAILED:"Failed",ACTIVITY_EXECUTION_STATUS_CANCELED:"Canceled",ACTIVITY_EXECUTION_STATUS_TERMINATED:"Terminated",ACTIVITY_EXECUTION_STATUS_TIMED_OUT:"TimedOut"},ja=C=>za[C]||"Running",Ne=(C=[])=>C.map(a=>{const e=ya(a==null?void 0:a.groupValues[0]),u=parseInt(a.count);return{status:e,count:u}}).sort((a,e)=>qe.indexOf(a.status)-qe.indexOf(e.status));var Xa=A("<!> <!>",1);function he(C,a){ct(a,!0);const e=()=>W(st,"$activityFilters",u),[u,b]=At();let o=Lt(a,"filterOrCopyButtonsVisible",3,!1),T=Lt(a,"type",19,()=>Qt.KEYWORD);const w=()=>{const v=e().find($=>$.attribute===a.attribute),f=()=>e().filter($=>$.attribute!==a.attribute);if(!v||v.value!==a.value){const $={attribute:a.attribute,type:T(),value:a.value,conditional:"=",operator:"",parenthesis:""};X(st,[...f(),$])}else X(st,[...f()]);jt(L.url,e())};var P=Xa(),I=D(P);{var m=v=>{ha(v,{get href(){return a.href},children:(f,$)=>{St();var _=it();q(()=>z(_,a.value)),r(f,_)},$$slots:{default:!0}})},d=v=>{var f=it();q(()=>z(f,a.value)),r(v,f)};k(I,v=>{a.href?v(m):v(d,!1)})}var i=S(I,2);{let v=s(()=>B("common.copy-icon-title")),f=s(()=>B("common.copy-success-icon-title")),$=s(()=>B("common.filter-activities")),_=s(()=>e().some(N=>N.attribute===a.attribute&&N.value===a.value));ga(i,{get copyIconTitle(){return t(v)},get copySuccessIconTitle(){return t(f)},get filterIconTitle(){return t($)},get show(){return o()},get content(){return a.value},onFilter:w,get filtered(){return t(_)}})}r(C,P),ut(),b()}var Wa=A('<td class="relative h-8 whitespace-nowrap pr-24" data-testid="activities-summary-table-body-cell"><!></td>'),Ga=A('<td class="h-8 whitespace-nowrap" data-testid="activities-summary-table-body-cell"><!></td>');function Ha(C,a){ct(a,!0);const e=s(()=>a.column.label),u=s(()=>L.params.namespace);let b=ot(!1);const o=()=>E(b,!0),T=()=>E(b,!1),w=v=>{const f=v.relatedTarget;f&&!["filter-button","copy-button"].includes(f.id)&&T()},P=["Activity ID","Activity Type","Task Queue"];var I=rt(),m=D(I);{var d=v=>{var f=Wa();f.__mouseover=o,f.__focusin=o,f.__focusout=w;var $=h(f);{var _=x=>{{let R=s(()=>_a({namespace:t(u),activityId:a.activity.activityId,runId:a.activity.runId}));he(x,{get filterOrCopyButtonsVisible(){return t(b)},attribute:"ActivityId",get value(){return a.activity.activityId},get href(){return t(R)}})}},N=x=>{var R=rt(),G=D(R);{var U=l=>{{let g=s(()=>{var F;return((F=a.activity.activityType)==null?void 0:F.name)??""});he(l,{get filterOrCopyButtonsVisible(){return t(b)},attribute:"ActivityType",get value(){return t(g)}})}},p=l=>{var g=rt(),F=D(g);{var j=Q=>{{let V=s(()=>a.activity.taskQueue??"");he(Q,{get filterOrCopyButtonsVisible(){return t(b)},attribute:"TaskQueue",get value(){return t(V)}})}};k(F,Q=>{t(e)==="Task Queue"&&Q(j)},!0)}r(l,g)};k(G,l=>{t(e)==="Activity Type"?l(U):l(p,!1)},!0)}r(x,R)};k($,x=>{t(e)==="Activity ID"?x(_):x(N,!1)})}y(f),Xt("focus",f,o),Xt("mouseleave",f,T),Xt("blur",f,T),r(v,f)},i=v=>{var f=Ga(),$=h(f);{var _=x=>{{let R=s(()=>ja(a.activity.status));Me(x,{get status(){return t(R)}})}},N=x=>{var R=rt(),G=D(R);{var U=l=>{var g=it();q(()=>z(g,a.activity.runId??"")),r(l,g)},p=l=>{var g=rt(),F=D(g);{var j=V=>{{let O=s(()=>a.activity.lastStartedTime||a.activity.scheduleTime);ye(V,{get dateTime(){return t(O)}})}},Q=V=>{var O=rt(),M=D(O);{var nt=H=>{ye(H,{get dateTime(){return a.activity.lastStartedTime}})},K=H=>{var at=rt(),Y=D(at);{var Z=lt=>{ye(lt,{get dateTime(){return a.activity.closeTime}})},pt=lt=>{var ft=rt(),J=D(ft);{var vt=mt=>{var yt=rt(),qt=D(yt);{var Ht=_t=>{var Bt=it();q(ae=>z(Bt,ae),[()=>pa({start:a.activity.lastStartedTime||a.activity.scheduleTime,end:a.activity.closeTime,includeMillisecondsForUnderSecond:!0})]),r(_t,Bt)};k(qt,_t=>{a.activity.executionDuration&&_t(Ht)})}r(mt,yt)},dt=mt=>{var yt=rt(),qt=D(yt);{var Ht=_t=>{var Bt=it();q(()=>z(Bt,a.activity.stateTransitionCount??"")),r(_t,Bt)};k(qt,_t=>{t(e)==="State Transitions"&&_t(Ht)},!0)}r(mt,yt)};k(J,mt=>{t(e)==="Execution Duration"?mt(vt):mt(dt,!1)},!0)}r(lt,ft)};k(Y,lt=>{t(e)==="Close Time"?lt(Z):lt(pt,!1)},!0)}r(H,at)};k(M,H=>{t(e)==="Execution Time"?H(nt):H(K,!1)},!0)}r(V,O)};k(F,V=>{t(e)==="Start Time"?V(j):V(Q,!1)},!0)}r(l,g)};k(G,l=>{t(e)==="Run ID"?l(U):l(p,!1)},!0)}r(x,R)};k($,x=>{t(e)==="Status"?x(_):x(N,!1)})}y(f),r(v,f)};k(m,v=>{P.includes(t(e))?v(d):v(i,!1)})}r(C,I),ut()}Te(["mouseover","focusin","focusout"]);var Ka=A('<div class="flex h-full w-full flex-col items-center justify-center p-4" aria-live="polite"><div class="text-center"><h2><!></h2> <p class="text-secondary"><!></p> <!></div></div>'),Ja=A("<p> </p>"),Za=A('<div class="h-full w-full overflow-hidden xl:flex xl:flex-row" aria-live="polite"><div class="surface-primary flex w-auto min-w-[280px] flex-col gap-4 p-8 xl:min-w-[520px] xl:flex-1"><h2> </h2> <!></div> <div class="flex h-full flex-col"><div class="bg-off-white dark:bg-[#0f1725]"><img alt="" class="w-full"/></div> <div class="flex-1 bg-[#818cf8]"></div></div></div>');function tr(C,a){ct(a,!0);const e=()=>W(la,"$activityError",u),[u,b]=At();let o=s(()=>L.url.searchParams.get("query"));var T=rt(),w=D(T);{var P=m=>{var d=Ka(),i=h(d),v=h(i),f=h(v);{var $=p=>{var l=it();q(g=>z(l,g),[()=>B("standalone-activities.activity-query-error-state")]),r(p,l)},_=p=>{var l=it();q(g=>z(l,g),[()=>B("standalone-activities.empty-state-title")]),r(p,l)};k(f,p=>{e()?p($):p(_,!1)})}y(v);var N=S(v,2),x=h(N);{var R=p=>{var l=it();q(()=>z(l,e())),r(p,l)},G=p=>{var l=it();q(g=>z(l,g),[()=>B("standalone-activities.empty-state-description")]),r(p,l)};k(x,p=>{e()?p(R):p(G,!1)})}y(N);var U=S(N,2);Ta(U,{class:"m-auto mt-8 text-subtle"}),y(i),y(d),r(m,d)},I=m=>{var d=Za(),i=h(d),v=h(i),f=h(v,!0);y(v);var $=S(v,2);{var _=U=>{{let p=s(()=>B("common.error-occurred"));Sa(U,{intent:"warning",icon:"warning",get title(){return t(p)},style:"overflow-wrap: anywhere",children:(l,g)=>{St();var F=it();q(()=>z(F,e())),r(l,F)},$$slots:{default:!0}})}},N=U=>{var p=Ja(),l=h(p,!0);y(p),q(g=>z(l,g),[()=>B("standalone-activities.empty-state-description")]),r(U,p)};k($,U=>{e()?U(_):U(N,!1)})}y(i);var x=S(i,2),R=h(x),G=h(R);y(R),St(2),y(x),y(d),q(U=>{z(f,U),ne(G,"src",$a)},[()=>B("standalone-activities.empty-state-title")]),r(m,d)};k(w,m=>{t(o)?m(P):m(I,!1)})}r(C,T),ut(),b()}var er=A("<th> </th>");function ar(C,a){ct(a,!0);const e=s(()=>a.column.label);var u=er(),b=h(u,!0);y(u),q(()=>{ne(u,"data-testid",`activities-summary-table-header-cell-${t(e)??""}`),z(b,t(e))}),r(C,u),ut()}var rr=A("<tr><!></tr>");function ir(C,a){var e=rr(),u=h(e);se(u,()=>a.children??ce),y(e),r(C,e)}function sr(C,a){ct(a,!0);const e=s(()=>Ye({namespace:a.namespace,activityId:a.activityId,activityType:a.activityType,taskQueue:a.taskQueue,scheduleToCloseTimeout:a.scheduleToCloseTimeout,startToCloseTimeout:a.startToCloseTimeout}));{let u=s(()=>B("standalone-activities.start-activity-like-this-one"));$e(C,{get text(){return t(u)},topLeft:!0,children:(b,o)=>{bt(b,{size:"xs",variant:"ghost",class:"start-button",leadingIcon:"lightning-bolt",$$events:{click:()=>je(t(e))}})},$$slots:{default:!0}})}ut()}var nr=A('<td class="relative flex items-center justify-center py-0.5"><!></td>'),or=A("<td></td>"),lr=A('<tr data-testid="activities-summary-configurable-table-row"><!><!></tr>');function cr(C,a){ct(a,!0);let e=Lt(a,"empty",3,!1);const u=s(()=>L.params.namespace);var b=lr();let o;var T=h(b);{var w=m=>{var d=nr(),i=h(d);{let v=s(()=>{var f;return((f=a.activity.activityType)==null?void 0:f.name)??""});sr(i,{get namespace(){return t(u)},get activityId(){return a.activity.activityId},get activityType(){return t(v)},get taskQueue(){return a.activity.taskQueue},get scheduleToCloseTimeout(){return a.activity.scheduleToCloseTimeout},get startToCloseTimeout(){return a.activity.startToCloseTimeout}})}y(d),r(m,d)},P=m=>{var d=or();r(m,d)};k(T,m=>{!e()&&a.activity?m(w):m(P,!1)})}var I=S(T);se(I,()=>a.children??ce),y(b),q(()=>o=It(b,1,"dense",null,o,{empty:e()})),r(C,b),ut()}var ur=A('<caption class="sr-only" slot="caption"> </caption>'),vr=A("<th></th> <!>",1);function dr(C,a){ct(a,!0);const e=()=>W(va,"$configurableTableColumns",o),u=()=>W(ee,"$activityRefresh",o),b=()=>W(zt,"$activityCount",o),[o,T]=At();var w,P,I;const m=s(()=>L.params.namespace),d=s(()=>(P=(w=e()===null||e()===void 0?void 0:e()[t(m)])===null||w===void 0?void 0:w.activities)!==null&&P!==void 0?P:[]),i=s(()=>(I=L.url.searchParams.get("query"))!==null&&I!==void 0?I:""),v=s(()=>()=>ca(t(m),t(i)));var f=rt(),$=D(f);na($,()=>[t(m),t(i),u()],_=>{{let N=s(()=>B("standalone-activities.standalone-activities")),x=s(()=>B("common.per-page")),R=s(()=>B("common.next")),G=s(()=>B("common.previous")),U=s(()=>B("standalone-activities.empty-state-title"));oa(_,{get total(){return b().count},get onFetch(){return t(v)},get"aria-label"(){return t(N)},get pageSizeSelectLabel(){return t(x)},get nextButtonLabel(){return t(R)},get previousButtonLabel(){return t(G)},get emptyStateMessage(){return t(U)},maxHeight:"var(--panel-h)",children:aa,$$slots:{default:(p,l)=>{const g=s(()=>l.visibleItems);var F=rt(),j=D(F);Ut(j,17,()=>t(g),Zt,(Q,V)=>{cr(Q,{get activity(){return t(V)},children:(O,M)=>{var nt=rt(),K=D(nt);Ut(K,17,()=>t(d),Zt,(H,at)=>{Ha(H,{get activity(){return t(V)},get column(){return t(at)}})}),r(O,nt)},$$slots:{default:!0}})}),r(p,F)},caption:(p,l)=>{var g=ur(),F=h(g,!0);y(g),q(j=>z(F,j),[()=>B("standalone-activities.standalone-activities")]),r(p,g)},headers:(p,l)=>{ir(p,{children:(g,F)=>{var j=vr(),Q=S(D(j),2);Ut(Q,17,()=>t(d),Zt,(V,O)=>{ar(V,{get column(){return t(O)}})}),r(g,j)}})},empty:(p,l)=>{tr(p,{})},"actions-end-additional":(p,l)=>{$e(p,{text:"Configure Columns",top:!0,children:(g,F)=>{bt(g,{"data-testid":"activities-summary-table-configuration-button",size:"xs",variant:"ghost",$$events:{click(...j){var Q;(Q=a.onClickConfigure)==null||Q.apply(this,j)}},children:(j,Q)=>{te(j,{name:"settings"})},$$slots:{default:!0}})},$$slots:{default:!0}})}}})}}),r(C,f),ut(),T()}var fr=A('<div class="flex flex-wrap items-center gap-2"><!> <!></div>');function mr(C,a){ct(a,!0);const e=()=>W(st,"$activityFilters",o),u=()=>W(P,"$activeQueryIndex",o),b=()=>W(I,"$chipOpenIndex",o),[o,T]=At(),{filter:w,activeQueryIndex:P,chipOpenIndex:I}=Ue(Ie);let m=ot(10);const d=s(()=>e().findIndex(l=>Jt(l))),i=s(()=>e().slice(0,t(m))),v=s(()=>e().filter(l=>l.attribute==="ExecutionStatus")),f=s(()=>e().filter(l=>!Jt(l))),$=s(()=>t(m)<e().length);function _(l,g){const F=[...e()];F[l]=g,X(st,F),jt(L.url,e())}function N(l,g){if(g.length===0)X(st,t(f)),jt(L.url,e());else{const F=[...e()];F.splice(l,t(v).length,...g),X(st,F),jt(L.url,e())}}function x(l){const g=[...e()];if(g.splice(l,1),X(st,g),jt(L.url,e()),l===e().length&&e().length>0){const F=e()[e().length-1];F&&(F.operator="")}l===u()?(X(P,null),X(w,Wt())):l<u()&&X(P,u()-1)}function R(){t($)&&E(m,t(m)+10)}var G=rt(),U=D(G);{var p=l=>{var g=fr(),F=h(g);Ut(F,19,()=>t(i),(V,O)=>V.attribute+"-"+O,(V,O,M)=>{var nt=rt(),K=D(nt);{var H=Y=>{Ca(Y,{get filters(){return t(v)},get index(){return t(M)},get openIndex(){return b()},onUpdate:Z=>N(t(M),Z)})},at=Y=>{var Z=rt(),pt=D(Z);{var lt=ft=>{Ia(ft,{get filter(){return t(O)},get index(){return t(M)},get openIndex(){return b()},onUpdate:J=>_(t(M),J),onRemove:()=>x(t(M))})};k(pt,ft=>{!Jt(t(O))&&t(O).attribute&&ft(lt)},!0)}r(Y,Z)};k(K,Y=>{Jt(t(O))&&t(M)===t(d)?Y(H):Y(at,!1)})}r(V,nt)});var j=S(F,2);{var Q=V=>{bt(V,{variant:"secondary",size:"xs",$$events:{click:R},children:(O,M)=>{St();var nt=it();q(K=>z(nt,K),[()=>B("common.view-more")]),r(O,nt)},$$slots:{default:!0}})};k(j,V=>{t($)&&V(Q)})}y(g),r(l,g)};k(U,l=>{t(i).length>0&&l(p)})}r(C,G),ut(),T()}var pr=A('<div><p class="leading-3"> </p> <small class="text-secondary"> </small></div>'),yr=A('<!> <hr class="border-subtle"/> <!>',1),_r=A("<!> <!>",1),gr=A("<!> <!>",1);function hr(C,a){ct(a,!0);const e=()=>W(Oa,"$activitySearchAttributeOptions",o),u=()=>W(st,"$activityFilters",o),b=()=>W(d,"$activeQueryIndex",o),[o,T]=At();var w;const P=s(()=>(w=L.url.searchParams.get("query"))!==null&&w!==void 0?w:"");let I=ot("");const{filter:m,activeQueryIndex:d,handleSubmit:i}=Ue(Ie),v=Kt(!1),f=p=>{switch(p){case Qt.BOOL:return"=";case Qt.DATETIME:return">=";case Qt.INT:return"=";case Qt.DOUBLE:return"=";case Qt.KEYWORDLIST:return"in";case Qt.KEYWORD:return"=";case Qt.TEXT:return"=";default:return"="}};function $(p,l){E(I,""),m.set({...Wt(),attribute:p,conditional:f(l),type:l}),i(),X(v,!1)}const _=s(()=>t(I)?e().filter(p=>p.value.toLowerCase().includes(t(I).toLowerCase())):e());function N(){X(st,[]),jt(L.url,u(),!0),X(d,null),X(m,Wt())}var x=gr(),R=D(x);Fa(R,{get open(){return v},children:(p,l)=>{var g=_r(),F=D(g);{let Q=s(()=>b()!==null||t(P).length>=be);Pa(F,{id:"activity-search-attribute-filter-button",controls:"activity-search-attribute-menu",leadingIcon:"add",variant:"secondary","data-testid":"add-filter-button",get disabled(){return t(Q)},onclick:()=>E(I,""),class:"text-nowrap",size:"xs",children:(V,O)=>{St();var M=it("Add Filter");r(V,M)},$$slots:{default:!0}})}var j=S(F,2);Va(j,{id:"activity-search-attribute-menu",children:(Q,V)=>{var O=yr(),M=D(O);ge(M,{class:"p-0",hoverable:!1,onclick:()=>{var K;(K=document.getElementById("activity-filter-search"))==null||K.focus()},children:(K,H)=>{{let at=s(()=>B("common.search")),Y=s(()=>B("common.search"));Xe(K,{get label(){return t(at)},labelHidden:!0,id:"activity-filter-search",noBorder:!0,icon:"search",get placeholder(){return t(Y)},class:"w-full min-w-[300px]",get value(){return t(I)},set value(Z){E(I,Z,!0)}})}},$$slots:{default:!0}});var nt=S(M,4);Ut(nt,17,()=>t(_),({value:K,label:H,type:at})=>K,(K,H)=>{let at=()=>t(H).value,Y=()=>t(H).label,Z=()=>t(H).type;{let pt=s(()=>at()==="ExecutionStatus"&&!!u().find(lt=>Jt(lt)));ge(K,{onclick:()=>{$(at(),Z())},get disabled(){return t(pt)},children:(lt,ft)=>{var J=pr(),vt=h(J),dt=h(vt,!0);y(vt);var mt=S(vt,2),yt=h(mt,!0);y(mt),y(J),q(()=>{z(dt,Y()),z(yt,Z())}),r(lt,J)},$$slots:{default:!0}})}},K=>{ge(K,{class:"whitespace-nowrap",disabled:!0,children:(H,at)=>{St();var Y=it();q(Z=>z(Y,Z),[()=>B("common.no-results")]),r(H,Y)},$$slots:{default:!0}})}),r(Q,O)},$$slots:{default:!0}}),r(p,g)},$$slots:{default:!0}});var G=S(R,2);{var U=p=>{bt(p,{variant:"ghost",size:"xs","data-testid":"clear-all-filters-button",$$events:{click:N},children:(l,g)=>{St();var F=it();q(j=>z(F,j),[()=>B("common.clear-all")]),r(l,F)},$$slots:{default:!0}})};k(G,p=>{u().length>0&&p(U)})}r(C,x),ut(),T()}const Ie="activity-filter-context";var xr=A('<div class="flex shrink flex-wrap items-center justify-start gap-2"><!> <!></div>');function br(C,a){ct(a,!1);const e=()=>W(P,"$activeQueryIndex",o),u=()=>W(st,"$activityFilters",o),b=()=>W(w,"$filter",o),[o,T]=At(),w=Kt(Wt()),P=Kt(null),I=Kt(""),m=Kt(null);Aa(()=>{m.set(null)}),ra(Ie,{filter:w,activeQueryIndex:P,handleSubmit:d,focusedElementId:I,resetFilter:i,chipOpenIndex:m});function d(){if(e()!==null)Tt(st,tt(u)[e()]=b(),tt(u)),X(P,null);else{const _=u().length;X(st,[...u(),b()]),m.set(_)}w.set(Wt())}function i(){P.set(null),w.set(Wt())}Ea();var v=xr(),f=h(v);mr(f,{});var $=S(f,2);hr($,{}),y(v),r(C,v),ut(),T()}var wr=A('<div class="w-full border border-t-0 border-subtle"><form class="flex gap-0" role="search"><!> <!></form></div>');function Tr(C,a){ct(a,!0);const e=()=>W(Qa,"$searchAttributes",u),[u,b]=At();var o;let T=ot("");const w=s(()=>(o=L.url.searchParams.get("query"))!==null&&o!==void 0?o:"");function P($){E(T,$,!0)}Gt(()=>{P(t(w))});const I=()=>{if(!t(T))X(st,[]),X(Be,"");else try{X(st,Ce(t(T),e()))}catch($){console.error($)}t(T)&&t(T)===t(w)?X(ee,Date.now()):le({url:L.url,parameter:"query",value:t(T),allowEmpty:!0,clearParameters:[oe]})};function m(){I()}var d=wr(),i=h(d),v=h(i);{let $=s(()=>B("workflows.search-placeholder")),_=s(()=>B("workflows.search-placeholder")),N=s(()=>B("common.copy-icon-title")),x=s(()=>B("common.clear-input-button-label")),R=s(()=>!t(T)||t(T).length<be);Xe(v,{id:"query",type:"search",get label(){return t($)},labelHidden:!0,get placeholder(){return t(_)},icon:"search",class:"grow  [&_*]:border-0",inputContainerClass:"surface-information !border-r border-subtle",clearable:!0,get copyButtonLabel(){return t(N)},get clearButtonLabel(){return t(x)},get maxLength(){return be},get hideCount(){return t(R)},"data-testid":"activity-manual-search-input",get value(){return t(T)},set value(G){E(T,G,!0)},$$events:{clear:m}})}var f=S(v,2);bt(f,{"data-testid":"activity-manual-search-button",variant:"ghost",type:"submit",children:($,_)=>{St();var N=it();q(x=>z(N,x),[()=>B("common.search")]),r($,N)},$$slots:{default:!0}}),y(i),y(d),Xt("submit",i,I),Rt(3,i,()=>Mt),Rt(1,d,()=>Da),r(C,d),ut(),b()}var $r=A('<div class="flex items-center gap-1"><!></div>'),Cr=A('<div><div class="flex w-full flex-wrap items-center justify-between gap-2 border border-subtle bg-primary p-1.5"><div class="flex grow items-center justify-start gap-4 px-2"><!> <!></div> <!></div> <!></div>');function Ir(C){const a=d=>{var i=$r(),v=h(i);{let f=s(()=>t(e)?"Hide raw query":"View raw query");$e(v,{get text(){return t(f)},left:!0,children:($,_)=>{bt($,{variant:"ghost",size:"xs",leadingIcon:"json",get active(){return t(e)},"data-testid":"toggle-manual-query",$$events:{click:()=>E(e,!t(e))}})},$$slots:{default:!0}})}y(i),r(d,i)};let e=ot(!1);var u=Cr(),b=h(u),o=h(b),T=h(o);te(T,{name:"filter-lines",class:"text-primary-text h-4 w-4 shrink-0"});var w=S(T,2);br(w,{}),y(o);var P=S(o,2);a(P),y(b);var I=S(b,2);{var m=d=>{Tr(d,{})};k(I,d=>{t(e)&&d(m)})}y(u),r(C,u)}function Sr(C,a){ct(a,!0);const[e,u]=At();let b=Lt(a,"count",3,0);bt(C,{size:"xs",variant:"ghost",leadingIcon:"retry",$$events:{click:()=>X(ee,Date.now())},children:(o,T)=>{var w=rt(),P=D(w);{var I=d=>{var i=it();q(v=>z(i,`+${v??""}`),[()=>b().toLocaleString()]),r(d,i)},m=d=>{var i=rt(),v=D(i);{var f=$=>{var _=it();q(N=>z(_,N),[()=>b().toLocaleString()]),r($,_)};k(v,$=>{b()<0&&$(f)},!0)}r(d,i)};k(P,d=>{b()>0?d(I):d(m,!1)})}r(o,w)},$$slots:{default:!0}}),ut(),u()}const De=async({namespace:C,query:a})=>{const e="GROUP BY ExecutionStatus",u=qa("standalone-activities.count",{namespace:C}),{count:b,groups:o}=await Na(u,{params:{query:a?`${a} ${e}`:`${e}`},notifyOnError:!1});return{count:b??"0",groups:o}};var Ar=A("<button><!></button>"),Er=A('<div class="flex min-h-[24px] flex-wrap items-center gap-2 pt-1.5"></div>');function kr(C,a){ct(a,!0);const e=()=>W(st,"$activityFilters",o),u=()=>W(zt,"$activityCount",o),b=()=>W(ee,"$activityRefresh",o),[o,T]=At();let w=Lt(a,"staticQuery",3,""),P=Lt(a,"refreshTime",15);const I=s(()=>L.url.searchParams.get("query")),m=s(()=>L.params.namespace),d=s(()=>w()||t(I)),i=s(()=>L.url.searchParams.get("per-page"));let v=ot(xe([])),f=ot(xe([])),$,_=ot(1),N=ot(!1);const x=60,R=20,G=Q=>{if(!e().some(O=>O.attribute==="ExecutionStatus"&&O.value===Q)){const O={attribute:"ExecutionStatus",type:Qt.KEYWORD,value:Q,operator:"",conditional:"=",parenthesis:""};X(st,[...e(),O]);const M=xa(ba(e()));le({url:L.url,parameter:"query",value:M,clearParameters:[oe]})}},U=()=>{clearTimeout($),E(f,[],!0),Tt(zt,tt(u).newCount=0,tt(u)),E(_,1)},p=async()=>{E(N,!0);try{const{count:Q,groups:V}=await De({namespace:t(m),query:t(d)}).catch(O=>({count:"0",groups:[]}));Tt(zt,tt(u).count=parseInt(Q),tt(u)),E(v,Ne(V),!0)}finally{P(new Date),E(N,!1)}},l=async()=>{try{const{count:Q,groups:V}=await De({namespace:t(m),query:t(d)}).catch(O=>({count:"0",groups:[]}));Tt(zt,tt(u).newCount=parseInt(Q)-u().count,tt(u)),E(f,Ne(V),!0)}finally{P(new Date),E(_,t(_)+1)}},g=()=>{const Q=Ua(x,t(_));$=setTimeout(async()=>{await l(),t(_)<=R&&g()},Q)},F=async()=>{U(),await p(),g()};Gt(()=>{t(m),t(d),t(i),b(),F()}),sa(()=>{U()});var j=Er();Ut(j,21,()=>t(v),({count:Q,status:V})=>V,(Q,V)=>{let O=()=>t(V).count,M=()=>t(V).status;var nt=rt(),K=D(nt);{var H=Y=>{var Z=Ar();Z.__click=()=>G(M());var pt=h(Z);{let lt=s(()=>t(f).find(ft=>ft.status===M())?t(f).find(ft=>ft.status===M()).count-O():0);Me(pt,{get status(){return M()},get count(){return O()},get newCount(){return t(lt)},get"test-id"(){return`activity-status-${M()??""}`}})}y(Z),r(Y,Z)},at=Y=>{Ra(Y,{class:"h-6 w-24 rounded-sm"})};k(K,Y=>{t(N)?Y(at,!1):Y(H)})}r(Q,nt)}),y(j),r(C,j),ut(),T()}Te(["click"]);function Pr(C,a){ct(a,!0);let e=Lt(a,"open",15);ze(C,{id:"activity-edit-view-modal",get view(){return a.view},get onSaveView(){return a.onSaveView},get onCreateView(){return a.onCreateView},get onDeleteView(){return a.onDeleteView},get open(){return e()},set open(u){e(u)}}),ut()}function Fr(C,a){ct(a,!0);let e=Lt(a,"open",15);ze(C,{id:"activity-save-view-modal",get onCreateView(){return a.onCreateView},get open(){return e()},set open(u){e(u)}}),ut()}const Re=(C,a)=>{let e=()=>a==null?void 0:a().className,u=()=>a==null?void 0:a().content,b=()=>a==null?void 0:a().iconClass,o=()=>a==null?void 0:a().icon;var T=Lr(),w=h(T),P=S(w);{var I=m=>{var d=Ur(),i=h(d);te(i,{get name(){return o()},class:"p-0.5"}),y(d),q(v=>It(d,1,v),[()=>kt(Ct("rounded-full p-0.5",b()))]),r(m,d)};k(P,m=>{o()&&m(I)})}y(T),q(m=>{It(T,1,m),z(w,`${u()??""} `)},[()=>kt(Ct("surface-subtle right-2 top-2 hidden items-center rounded-full px-2 py-1 text-xs font-medium lg:static lg:ml-auto lg:flex",o()&&"gap-1.5 p-0.5 pl-2",e()))]),Rt(1,T,()=>Mt),r(C,T)};var Vr=A('<span class="hidden truncate text-left text-sm font-normal lg:inline-block"> </span> <!>',1),Or=A("<!> <!>",1),Qr=A("<span>Share</span>"),qr=A("<div><!> <!> <!></div>"),Nr=A("<span>New</span><span>Save as New</span>",1),Dr=A('<div class="flex items-center gap-1 overflow-hidden pt-0.5"><!></div>'),Rr=A('<div class="w-full" role="menuitem" tabindex="-1"><!> <!></div>'),Ur=A("<span><!></span>"),Lr=A("<span> <!></span>"),Br=A('<p class="hidden whitespace-nowrap text-xs font-medium leading-3 lg:block lg:text-sm">Saved Views</p>'),Mr=A('<p class="hidden items-center justify-between whitespace-nowrap px-2 text-xs font-medium leading-3 lg:flex lg:text-sm"> <!></p>'),Yr=A('<div class="text-center"><div class="space-y-1"></div></div>'),zr=A("<p>No Views</p>"),jr=A('<div class="pointer-events-none z-[9999] inline-block select-none rounded-md bg-slate-800 p-2 text-xs text-slate-50 opacity-95" role="tooltip"> </div>'),Xr=A('<div style="will-change: width"><div class="flex items-center justify-center gap-2 border-b border-subtle px-2 py-[.35rem] text-center lg:justify-start lg:py-[.47rem]"><div><!> <p class="block text-xs font-medium leading-3 lg:hidden">Saved Views</p> <button class="hidden rounded-sm p-0.5 hover:bg-secondary lg:inline-flex"><!></button></div></div> <div class="space-y-2 p-1.5"><div class="pb-2 text-center"><div class="space-y-1"></div></div> <!> <div class="border-t border-subtle"></div> <!> <!> <!></div></div> <!> <!>  <!>',1);function Wr(C,a){ct(a,!0);const e=()=>W(Ot,"$savedActivityQueries",w),u=()=>W(ee,"$activityRefresh",w),b=()=>W(We,"$activityExecutionSearchAttributes",w),o=()=>W(we,"$savedQueryNavOpen",w),T=()=>W(Q,"$copied",w),[w,P]=At(),I=(n,c=ce)=>{var et=Rr();et.__mousemove=ft;var Nt=h(et);{let gt=s(()=>c().type==="system"?c().id:c().name.toLowerCase().replace(/\s+/g,"-")),ht=s(()=>c().type==="system"?"system-query-button":"user-query-button");bt(Nt,{variant:"ghost",get"data-testid"(){return t(gt)},get"data-track-name"(){return t(ht)},"data-track-intent":"action",get"data-track-text"(){return c().name},class:"flex w-full justify-start",get active(){return c().active},get disabled(){return c().disabled},size:"sm",$$events:{click:()=>F(c())},children:(Yt,ie)=>{var Pt=Or(),Ft=D(Pt);{let Et=s(()=>c().icon||"bookmark"),wt=s(()=>Ct("h-4 w-4 flex-shrink-0  transition-colors duration-200",o()?"lg:hidden":""));te(Ft,{get name(){return t(Et)},get class(){return t(wt)}})}var xt=S(Ft,2);{var $t=Et=>{var wt=Vr(),Vt=D(wt),de=h(Vt,!0);y(Vt);var fe=S(Vt,2);{var me=pe=>{Re(pe,()=>({className:"italic",content:c().badge}))};k(fe,pe=>{c().badge&&pe(me)})}q(()=>z(de,c().name)),Rt(1,Vt,()=>Mt),r(Et,wt)};k(xt,Et=>{o()&&Et($t)})}r(Yt,Pt)},$$slots:{default:!0}})}var Dt=S(Nt,2);{var ve=gt=>{var ht=qr(),Yt=h(ht);{var ie=xt=>{bt(xt,{size:"xs",class:"w-full",variant:"primary","data-testid":"save-view-button",$$events:{click:()=>{M({...c(),query:t(_)})}},children:($t,Et)=>{St();var wt=it("Save");r($t,wt)},$$slots:{default:!0}})};k(Yt,xt=>{var $t;c().id===(($t=t(i))==null?void 0:$t.id)&&c().query!==t(_)&&xt(ie)})}var Pt=S(Yt,2);bt(Pt,{size:"xs",class:"w-full",variant:"secondary","data-testid":"edit-view-button",$$events:{click:()=>{E(f,!0)}},children:(xt,$t)=>{St();var Et=it("Edit");r(xt,Et)},$$slots:{default:!0}});var Ft=S(Pt,2);{let xt=s(()=>T()?"checkmark":"copy");bt(Ft,{get leadingIcon(){return t(xt)},size:"xs",class:"w-full opacity-80",variant:"ghost","data-testid":"share-view-button",$$events:{click:V},children:($t,Et)=>{var wt=Qr();q(Vt=>It(wt,1,Vt),[()=>kt(Ct("hidden",o()&&"lg:inline"))]),r($t,wt)},$$slots:{default:!0}})}y(ht),q(xt=>It(ht,1,xt),[()=>kt(Ct("flex flex-col items-center gap-1 pt-0.5 transition-all",o()&&"lg:flex-row"))]),Rt(1,ht,()=>Mt),r(gt,ht)},re=gt=>{var ht=rt(),Yt=D(ht);{var ie=Pt=>{var Ft=Dr(),xt=h(Ft);bt(xt,{size:"xs",class:"w-full break-all transition-all",variant:"secondary",get disabled(){return t(R)},"data-testid":"create-view-button",$$events:{click:()=>{E(v,!0)}},children:($t,Et)=>{var wt=Nr(),Vt=D(wt),de=S(Vt);q((fe,me)=>{It(Vt,1,fe),It(de,1,me)},[()=>kt(Ct("inline lg:hidden",!o()&&"lg:inline")),()=>kt(Ct("hidden",o()&&"lg:inline"))]),r($t,wt)},$$slots:{default:!0}}),y(Ft),Rt(3,Ft,()=>Mt),r(Pt,Ft)};k(Yt,Pt=>{t(g)&&c().id==="unsaved"&&Pt(ie)},!0)}r(gt,ht)};k(Dt,gt=>{var ht;((ht=t(i))==null?void 0:ht.id)===c().id&&c().type==="user"?gt(ve):gt(re,!1)})}y(et),Xt("mouseenter",et,gt=>lt(gt,c().name)),Xt("mouseleave",et,J),r(n,et)};var m,d;let i=ot(void 0),v=ot(!1),f=ot(!1),$=ot(void 0);const _=s(()=>L.url.searchParams.get("query")||""),N=L.url.searchParams.get("savedQuery"),x=s(()=>L.params.namespace),R=s(()=>((m=e()===null||e()===void 0?void 0:e()[t(x)])===null||m===void 0?void 0:m.length)>=Oe),G=s(()=>((d=e()===null||e()===void 0?void 0:e()[t(x)])===null||d===void 0?void 0:d.sort((n,c)=>n.name.localeCompare(c.name)))||[]),U=s(()=>t(_)&&Ve.find(n=>n.query===t(_))||!t(_)&&_e),p=s(()=>t(_)&&t(G).find(n=>n.query===t(_))),l=s(()=>({id:"unsaved",name:"New View",query:t(_),icon:"bookmark",badge:"Unsaved",type:"system",active:!0})),g=s(()=>t(_)&&(t(i)===null||t(i)===void 0?void 0:t(i).id)==="unsaved");Le(()=>{if(N){const n={name:N,query:t(_),id:Date.now().toString(),type:"user"};e()[t(x)]||Tt(Ot,tt(e)[t(x)]=[],tt(e)),t(R)||Tt(Ot,tt(e)[t(x)]=[...e()[t(x)],n],tt(e)),E(i,n,!0);const c=new URL(L.url);c.searchParams.delete("savedQuery"),je(c)}else t(p)?E(i,t(p),!0):t(U)?E(i,t(U),!0):t(_)&&E(i,t(l),!0)}),Gt(()=>{if(t($)!==void 0){t(_)===t($)&&E($,void 0);return}if(!t(_)&&(t(i)===null||t(i)===void 0?void 0:t(i).id)!==_e.id){E(i,_e,!0);return}(t(i)===null||t(i)===void 0?void 0:t(i).type)==="system"&&t(_)&&t(i).query!==t(_)&&(t(p)?E(i,t(p),!0):t(U)?E(i,t(U),!0):E(i,t(l),!0))}),Gt(()=>{u()});const F=n=>{n.id!==(t(i)===null||t(i)===void 0?void 0:t(i).id)&&(E(i,n,!0),E($,n.query||"",!0),n.query&&X(st,Ce(n.query,b())),le({url:L.url,parameter:"query",value:n.query,allowEmpty:!0,clearParameters:[oe]}))},{copy:j,copied:Q}=Ba(),V=n=>{const c=new URL(L.url.href)+"&savedQuery="+encodeURIComponent(t(i)===null||t(i)===void 0?void 0:t(i).name);j(n,c)},O=n=>{e()[t(x)]||Tt(Ot,tt(e)[t(x)]=[],tt(e)),Tt(Ot,tt(e)[t(x)]=[...e()[t(x)],n],tt(e)),E(i,n,!0)},M=n=>{e()[t(x)]||Tt(Ot,tt(e)[t(x)]=[],tt(e)),n.id===(t(i)===null||t(i)===void 0?void 0:t(i).id)?Tt(Ot,tt(e)[t(x)]=e()[t(x)].map(c=>c.id===n.id?n:c),tt(e)):Tt(Ot,tt(e)[t(x)]=[...e()[t(x)],n],tt(e)),E(i,n,!0)},nt=n=>{Tt(Ot,tt(e)[t(x)]=e()[t(x)].filter(c=>(c==null?void 0:c.id)!==n.id),tt(e)),X(st,[]),E(i,void 0),le({url:L.url,parameter:"query",value:"",allowEmpty:!0,clearParameters:[oe]})};function K(n,c=document.body){const et=typeof c=="string"?document.querySelector(c):c;return et&&et.appendChild(n),{destroy(){n.parentNode&&n.parentNode.removeChild(n)}}}let H=ot(!1),at=ot(void 0),Y=ot(0),Z=ot(0);const pt=n=>{const c=n.getBoundingClientRect();E(Y,Math.round(c.right+8),!0),E(Z,Math.round(c.top+16),!0)},lt=(n,c)=>{if(o())return;const et=n.currentTarget;E(at,c,!0),pt(et),E(H,!0)},ft=n=>{if(!t(H))return;const c=n.currentTarget;pt(c)},J=()=>{E(H,!1)};var vt=Xr(),dt=D(vt),mt=h(dt),yt=h(mt),qt=h(yt);{var Ht=n=>{var c=Br();Rt(1,c,()=>Mt),r(n,c)};k(qt,n=>{o()&&n(Ht)})}var _t=S(qt,4);_t.__click=()=>X(we,!o());var Bt=h(_t);{let n=s(()=>o()?"chevron-left":"chevron-right");te(Bt,{get name(){return t(n)}})}y(_t),y(yt),y(mt);var ae=S(mt,2),ue=h(ae),Se=h(ue);Ut(Se,21,()=>Ve,Zt,(n,c)=>{{let et=s(()=>({...t(c),active:t(_)===t(c).query}));I(n,()=>t(et))}}),y(Se),y(ue);var Ae=S(ue,2);{var Ge=n=>{var c=Mr(),et=h(c),Nt=S(et);Re(Nt,()=>({className:"font-mono",content:`${t(G).length}/${Oe}`})),y(c),q(Dt=>z(et,`${Dt??""} `),[()=>B("standalone-activities.custom-views")]),Rt(1,c,()=>Mt),r(n,c)};k(Ae,n=>{o()&&n(Ge)})}var Ee=S(Ae,4);{var He=n=>{I(n,()=>t(l))};k(Ee,n=>{t(g)&&n(He)})}var ke=S(Ee,2);{var Ke=n=>{var c=Yr(),et=h(c);Ut(et,21,()=>t(G),Zt,(Nt,Dt)=>{{let ve=s(()=>{var re,gt;return{...t(Dt),active:t(Dt).id===((re=t(i))==null?void 0:re.id),badge:t(Dt).id===((gt=t(i))==null?void 0:gt.id)&&t(Dt).query!==t(_)?"Unsaved":void 0}});I(Nt,()=>t(ve))}}),y(et),y(c),r(n,c)};k(ke,n=>{t(G).length>0&&n(Ke)})}var Je=S(ke,2);{var Ze=n=>{var c=zr();q(et=>It(c,1,et),[()=>kt(Ct(" pl-1 text-center text-secondary lg:pl-4 lg:text-left",!o()&&"lg:pl-1 lg:text-center"))]),r(n,c)};k(Je,n=>{t(G).length===0&&!t(g)&&n(Ze)})}y(ae),y(dt);var Pe=S(dt,2);Fr(Pe,{onCreateView:O,get open(){return t(v)},set open(n){E(v,n,!0)}});var Fe=S(Pe,2);Pr(Fe,{get view(){return t(i)},onSaveView:M,onCreateView:O,onDeleteView:nt,get open(){return t(f)},set open(n){E(f,n,!0)}});var ta=S(Fe,2);{var ea=n=>{var c=jr(),et=h(c,!0);y(c),La(c,Nt=>K==null?void 0:K(Nt)),q(()=>{wa(c,`position: fixed; top: ${t(Z)}px; left: ${t(Y)}px; transform: translateY(-50%); max-width: 280px;`),z(et,t(at))}),r(n,c)};k(ta,n=>{t(H)&&t(at)&&n(ea)})}q((n,c)=>{It(dt,1,n),It(yt,1,c),ne(_t,"aria-label",o()?"Collapse saved views":"Expand saved views"),ne(_t,"title",o()?"Collapse":"Expand")},[()=>kt(Ct("surface-primary relative h-[var(--panel-h)] h-auto max-h-[var(--panel-h)] min-h-[var(--panel-h)] w-[var(--panel-collapsed-w)] min-w-[var(--panel-collapsed-w)] max-w-[var(--panel-collapsed-w)] overflow-auto border border-r-0 border-subtle shadow-sm transition-all duration-300 ease-in-out",o()?"lg:w-[var(--panel-expanded-w)] lg:min-w-[var(--panel-expanded-w)] lg:max-w-[var(--panel-expanded-w)]":"lg:w-[var(--panel-collapsed-w)] lg:min-w-[var(--panel-collapsed-w)] lg:max-w-[var(--panel-collapsed-w)]")),()=>kt(Ct("flex w-full items-center justify-between",o()?"lg:justify-between":"lg:justify-center"))]),r(C,vt),ut(),P()}Te(["mousemove","click"]);var Gr=A('<span data-testid="activity-count"> </span> <!>',1),Hr=A('<div class="flex items-center gap-4"><!></div>'),Kr=A('<header class="flex flex-col gap-2"><div class="flex flex-col justify-between gap-2 md:flex-row"><div class="flex flex-row flex-wrap items-start gap-2"><div><h1 class="flex items-center gap-2 leading-7"><!></h1> <p class="text-xs text-secondary"> </p></div> <!> <!> <!></div> <!></div></header> <!> <div class="flex overflow-auto"><!> <div><!></div></div> <!>',1);function Jr(C,a){ct(a,!0);const e=()=>W(ma,"$timestamp",w),u=()=>W(We,"$activityExecutionSearchAttributes",w),b=()=>W(Ma,"$supportsAdvancedVisibility",w),o=()=>W(zt,"$activityCount",w),T=()=>W(we,"$savedQueryNavOpen",w),[w,P]=At();var I;const m=s(()=>(I=L.url.searchParams.get("query"))!==null&&I!==void 0?I:""),d=s(()=>L.params.namespace),i=s(()=>L.url.searchParams.toString());let v=ot(xe(new Date));const f=s(()=>e()(t(v))),$=s(()=>fa(t(d)));Le(()=>{X(Ya,L.params.namespace),t(m)&&X(st,Ce(t(m),u()))}),Gt(()=>{X(Be,t(m))}),Gt(()=>{X(ua,t(i))});let _=ot(!1);const N=()=>{E(_,!0)};var x=Kr(),R=D(x),G=h(R),U=h(G),p=h(U),l=h(p),g=h(l);{var F=J=>{var vt=Gr(),dt=D(vt),mt=h(dt,!0);y(dt);var yt=S(dt,2);Qe(yt,{key:"standalone-activities.activities-plural",get count(){return o().count}}),q(qt=>z(mt,qt),[()=>o().count.toLocaleString()]),r(J,vt)},j=J=>{Qe(J,{key:"standalone-activities.recent-activities"})};k(g,J=>{b()?J(F):J(j,!1)})}y(l);var Q=S(l,2),V=h(Q,!0);y(Q),y(p);var O=S(p,2);se(O,()=>a.releaseStageBadge??ce);var M=S(O,2);Sr(M,{get count(){return o().newCount}});var nt=S(M,2);kr(nt,{get refreshTime(){return t(v)},set refreshTime(J){E(v,J,!0)}}),y(U);var K=S(U,2);{var H=J=>{var vt=Hr(),dt=h(vt);se(dt,()=>a.headerActions),y(vt),r(J,vt)};k(K,J=>{a.headerActions&&J(H)})}y(G),y(R);var at=S(R,2);Ir(at);var Y=S(at,2),Z=h(Y);Wr(Z,{});var pt=S(Z,2),lt=h(pt);dr(lt,{onClickConfigure:N}),y(pt),y(Y);var ft=S(Y,2);{let J=s(()=>B("common.columns")),vt=s(()=>B("standalone-activities.activities-table"));ka(ft,{get availableColumns(){return t($)},get table(){return da.ACTIVITIES},get type(){return t(J)},get title(){return t(vt)},get open(){return t(_)},set open(dt){E(_,dt,!0)}})}q(J=>{z(V,t(f)),It(pt,1,J)},[()=>kt(Ct("flex w-[calc(100%-var(--panel-collapsed-w))] shrink flex-col transition-all lg:w-[calc(100%-var(--panel-expanded-w))]",!T()&&"lg:w-[calc(100%-var(--panel-collapsed-w))]"))]),r(C,x),ut(),P()}var Zr=A("<!> <!>",1);function Ki(C,a){ct(a,!0);const e=s(()=>L.params.namespace);var u=Zr(),b=D(u);{let T=s(()=>B("standalone-activities.standalone-activities")),w=s(()=>t(e));ia(b,{get title(){return`${t(T)??""} | ${t(w)??""}`},get url(){return L.url.href}})}var o=S(b,2);Jr(o,{headerActions:w=>{{let P=s(()=>Ye({namespace:t(e)}));bt(w,{get href(){return t(P)},children:(I,m)=>{St();var d=it();q(i=>z(d,i),[()=>B("standalone-activities.start-standalone-activity")]),r(I,d)},$$slots:{default:!0}})}},$$slots:{headerActions:!0}}),r(C,u),ut()}export{Ki as component};
