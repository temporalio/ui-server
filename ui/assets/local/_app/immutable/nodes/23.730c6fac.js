import{S as Ee,b as Ie,a as Te,m as b,w as M,c as C,p as E,q as I,x as q,k as i,d as A,u as R,f as w,L as p,y as J,n as B,C as N,D as F,E as Q,j as D,g as V,F as U,G as xl,P as bl,H as es,I as ts,J as ls,N as El,U as Il,K as ne,e as le,z as Ae,aa as ss,ab as rs,h as Me,ar as Je,as as jl,a7 as Bl,a5 as Qe,V as ns,A as Ue,a0 as je,a1 as Be,_ as Tl,Q as Dl,$ as os,r as as}from"../chunks/index.9b814669.js";import{p as Ol}from"../chunks/stores.6d738ce5.js";import{P as us}from"../chunks/page-title.83a2b61d.js";import{w as is}from"../chunks/singletons.81f3dcce.js";import{g as Ne}from"../chunks/navigation.fab4001c.js";import{A as fs}from"../chunks/accordion.40484c8f.js";import{t as $}from"../chunks/translate.c28e5b4f.js";import{S as cs,l as Oe}from"../chunks/schedules.e154df61.js";import{E as ms}from"../chunks/empty-state.f50463e1.js";import{L as Fe}from"../chunks/link.b247ece3.js";import{h as Rl}from"../chunks/workflow-service.2f21b29e.js";import{t as xe,r as et,b as we}from"../chunks/time-format.7a7b28d5.js";import{d as ye}from"../chunks/encode-uri.e26747e0.js";import{u as ds,g as Pl,d as ze,v as ps}from"../chunks/route-for.11dd3ed3.js";import{W as zl}from"../chunks/workflow-status.27af3610.js";import{T as hs,W as _s}from"../chunks/translate.edbd60ff.js";import{B as $s}from"../chunks/button.69ab34c0.js";import{L as Gl}from"../chunks/loading.12386e1b.js";import{d as Ye}from"../chunks/menu.01afbb3a.js";import{M as Ze}from"../chunks/modal.166ecf81.js";import{R as gs,a as vs}from"../chunks/radio-input.a0392fb1.js";import{S as ws}from"../chunks/split-button.87490c3b.js";import{a as Ge,d as ks,u as bs,p as Es,t as Is}from"../chunks/schedule-service.8d8c8acc.js";import{c as Ts}from"../chunks/core-user.8dfb47fe.js";import{g as Ds,a as Rs,r as Sl}from"../chunks/workflows.8dac06ae.js";function Ps(s){let e,l,t=$("common.notes")+"",r,n,o,a;return{c(){e=b("div"),l=b("h2"),r=M(t),n=C(),o=b("p"),a=M(s[0]),this.h()},l(u){e=E(u,"DIV",{});var c=I(e);l=E(c,"H2",{class:!0});var f=I(l);r=q(f,t),f.forEach(i),n=A(c),o=E(c,"P",{});var g=I(o);a=q(g,s[0]),g.forEach(i),c.forEach(i),this.h()},h(){R(l,"class","mb-4 text-2xl")},m(u,c){w(u,e,c),p(e,l),p(l,r),p(e,n),p(e,o),p(o,a)},p(u,[c]){c&1&&J(a,u[0])},i:B,o:B,d(u){u&&i(e)}}}function Ss(s,e,l){let{notes:t=""}=e;return s.$$set=r=>{"notes"in r&&l(0,t=r.notes)},[t]}class Vs extends Ee{constructor(e){super(),Ie(this,e,Ss,Ps,Te,{notes:0})}}function Vl(s){var o;let e,l=$("schedules.remaining-actions")+"",t,r=(((o=s[1])==null?void 0:o.remainingActions)??$("common.none"))+"",n;return{c(){e=b("p"),t=M(l),n=M(r)},l(a){e=E(a,"P",{});var u=I(e);t=q(u,l),n=q(u,r),u.forEach(i)},m(a,u){w(a,e,u),p(e,t),p(e,n)},p(a,u){var c;u&2&&r!==(r=(((c=a[1])==null?void 0:c.remainingActions)??$("common.none"))+"")&&J(n,r)},d(a){a&&i(e)}}}function Ws(s){var ue,De,ge,ie,ke,te,Re;let e,l=$("schedules.start-time")+"",t,r,n=(((ue=s[0])==null?void 0:ue.startTime)??$("common.none"))+"",o,a,u,c=$("schedules.end-time")+"",f,g=(((De=s[0])==null?void 0:De.endTime)??$("common.none"))+"",k,m,h,_=$("schedules.jitter")+"",d,v=(((ge=s[0])==null?void 0:ge.jitter)??$("common.none"))+"",W,Z,K,me=$("schedules.exclusion-calendar")+"",x,oe=(((ke=(ie=s[0])==null?void 0:ie.excludeCalendar)==null?void 0:ke[0])??$("common.none"))+"",X,de,ae,y,ee=$("schedules.overlap-policy")+"",se,$e=(((te=s[2])==null?void 0:te.overlapPolicy)??$("common.none"))+"",re,z=((Re=s[1])==null?void 0:Re.limitedActions)&&Vl(s);return{c(){e=b("p"),t=M(l),r=C(),o=M(n),a=C(),u=b("p"),f=M(c),k=M(g),m=C(),h=b("p"),d=M(_),W=M(v),Z=C(),K=b("p"),x=M(me),X=M(oe),de=C(),z&&z.c(),ae=C(),y=b("p"),se=M(ee),re=M($e)},l(P){e=E(P,"P",{});var L=I(e);t=q(L,l),r=A(L),o=q(L,n),L.forEach(i),a=A(P),u=E(P,"P",{});var pe=I(u);f=q(pe,c),k=q(pe,g),pe.forEach(i),m=A(P),h=E(P,"P",{});var fe=I(h);d=q(fe,_),W=q(fe,v),fe.forEach(i),Z=A(P),K=E(P,"P",{});var G=I(K);x=q(G,me),X=q(G,oe),G.forEach(i),de=A(P),z&&z.l(P),ae=A(P),y=E(P,"P",{});var he=I(y);se=q(he,ee),re=q(he,$e),he.forEach(i)},m(P,L){w(P,e,L),p(e,t),p(e,r),p(e,o),w(P,a,L),w(P,u,L),p(u,f),p(u,k),w(P,m,L),w(P,h,L),p(h,d),p(h,W),w(P,Z,L),w(P,K,L),p(K,x),p(K,X),w(P,de,L),z&&z.m(P,L),w(P,ae,L),w(P,y,L),p(y,se),p(y,re)},p(P,L){var pe,fe,G,he,Se,H,O;L&1&&n!==(n=(((pe=P[0])==null?void 0:pe.startTime)??$("common.none"))+"")&&J(o,n),L&1&&g!==(g=(((fe=P[0])==null?void 0:fe.endTime)??$("common.none"))+"")&&J(k,g),L&1&&v!==(v=(((G=P[0])==null?void 0:G.jitter)??$("common.none"))+"")&&J(W,v),L&1&&oe!==(oe=(((Se=(he=P[0])==null?void 0:he.excludeCalendar)==null?void 0:Se[0])??$("common.none"))+"")&&J(X,oe),(H=P[1])!=null&&H.limitedActions?z?z.p(P,L):(z=Vl(P),z.c(),z.m(ae.parentNode,ae)):z&&(z.d(1),z=null),L&4&&$e!==($e=(((O=P[2])==null?void 0:O.overlapPolicy)??$("common.none"))+"")&&J(re,$e)},d(P){P&&i(e),P&&i(a),P&&i(u),P&&i(m),P&&i(h),P&&i(Z),P&&i(K),P&&i(de),z&&z.d(P),P&&i(ae),P&&i(y)}}}function Cs(s){let e,l,t,r;return e=new Vs({props:{notes:s[3]}}),t=new fs({props:{title:$("schedules.advanced-settings"),$$slots:{default:[Ws]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment),l=C(),N(t.$$.fragment)},l(n){F(e.$$.fragment,n),l=A(n),F(t.$$.fragment,n)},m(n,o){Q(e,n,o),w(n,l,o),Q(t,n,o),r=!0},p(n,[o]){const a={};o&8&&(a.notes=n[3]),e.$set(a);const u={};o&23&&(u.$$scope={dirty:o,ctx:n}),t.$set(u)},i(n){r||(D(e.$$.fragment,n),D(t.$$.fragment,n),r=!0)},o(n){V(e.$$.fragment,n),V(t.$$.fragment,n),r=!1},d(n){U(e,n),n&&i(l),U(t,n)}}}function As(s,e,l){let{spec:t}=e,{state:r}=e,{policies:n}=e,{notes:o=""}=e;return s.$$set=a=>{"spec"in a&&l(0,t=a.spec),"state"in a&&l(1,r=a.state),"policies"in a&&l(2,n=a.policies),"notes"in a&&l(3,o=a.notes)},[t,r,n,o]}class Ms extends Ee{constructor(e){super(),Ie(this,e,As,Cs,Te,{spec:0,state:1,policies:2,notes:3})}}function qs(s){let e,l,t;const r=s[3].default,n=xl(r,s,s[2],null);return{c(){e=b("div"),n&&n.c(),this.h()},l(o){e=E(o,"DIV",{class:!0});var a=I(e);n&&n.l(a),a.forEach(i),this.h()},h(){R(e,"class",l="panel bg-white "+s[1].class+" svelte-11fqqfg"),bl(e,"error",s[0])},m(o,a){w(o,e,a),n&&n.m(e,null),t=!0},p(o,[a]){n&&n.p&&(!t||a&4)&&es(n,r,o,o[2],t?ls(r,o[2],a,null):ts(o[2]),null),(!t||a&2&&l!==(l="panel bg-white "+o[1].class+" svelte-11fqqfg"))&&R(e,"class",l),(!t||a&3)&&bl(e,"error",o[0])},i(o){t||(D(n,o),t=!0)},o(o){V(n,o),t=!1},d(o){o&&i(e),n&&n.d(o)}}}function Hs(s,e,l){let{$$slots:t={},$$scope:r}=e,{error:n=!1}=e;return s.$$set=o=>{l(1,e=El(El({},e),Il(o))),"error"in o&&l(0,n=o.error),"$$scope"in o&&l(2,r=o.$$scope)},e=Il(e),[n,e,r,t]}class Ke extends Ee{constructor(e){super(),Ie(this,e,Hs,qs,Te,{error:0})}}function Ls(s){let e,l=$("schedules.error-title")+"",t,r,n,o;return{c(){e=b("p"),t=M(l),r=C(),n=b("p"),o=M(s[0]),this.h()},l(a){e=E(a,"P",{class:!0});var u=I(e);t=q(u,l),u.forEach(i),r=A(a),n=E(a,"P",{class:!0});var c=I(n);o=q(c,s[0]),c.forEach(i),this.h()},h(){R(e,"class","error-text svelte-1lke5yx"),R(n,"class","error-text svelte-1lke5yx")},m(a,u){w(a,e,u),p(e,t),w(a,r,u),w(a,n,u),p(n,o)},p(a,u){u&1&&J(o,a[0])},d(a){a&&i(e),a&&i(r),a&&i(n)}}}function Ns(s){let e,l;return e=new Ke({props:{error:!0,$$slots:{default:[Ls]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){Q(e,t,r),l=!0},p(t,[r]){const n={};r&3&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Fs(s,e,l){let{error:t=""}=e;return s.$$set=r=>{"error"in r&&l(0,t=r.error)},[t]}class Jl extends Ee{constructor(e){super(),Ie(this,e,Fs,Ns,Te,{error:0})}}function Qs(s){let e,l=$("schedules.schedule-spec")+"",t,r,n,o,a;return o=new cs({props:{calendar:s[0],interval:s[1],class:"text-base"}}),{c(){e=b("h2"),t=M(l),r=C(),n=b("div"),N(o.$$.fragment),this.h()},l(u){e=E(u,"H2",{class:!0});var c=I(e);t=q(c,l),c.forEach(i),r=A(u),n=E(u,"DIV",{class:!0});var f=I(n);F(o.$$.fragment,f),f.forEach(i),this.h()},h(){R(e,"class","mb-4 text-2xl"),R(n,"class","pr-2")},m(u,c){w(u,e,c),p(e,t),w(u,r,c),w(u,n,c),Q(o,n,null),a=!0},p(u,c){const f={};c&1&&(f.calendar=u[0]),c&2&&(f.interval=u[1]),o.$set(f)},i(u){a||(D(o.$$.fragment,u),a=!0)},o(u){V(o.$$.fragment,u),a=!1},d(u){u&&i(e),u&&i(r),u&&i(n),U(o)}}}function Us(s){let e,l;return e=new Ke({props:{$$slots:{default:[Qs]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){Q(e,t,r),l=!0},p(t,[r]){const n={};r&7&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function js(s,e,l){let{calendar:t=void 0}=e,{interval:r=void 0}=e;return s.$$set=n=>{"calendar"in n&&l(0,t=n.calendar),"interval"in n&&l(1,r=n.interval)},[t,r]}class Bs extends Ee{constructor(e){super(),Ie(this,e,js,Us,Te,{calendar:0,interval:1})}}function Wl(s,e,l){const t=s.slice();return t[7]=e[l],t}function Os(s){let e=$("common.view-all-runs")+"",l;return{c(){l=M(e)},l(t){l=q(t,e)},m(t,r){w(t,l,r)},p:B,d(t){t&&i(l)}}}function zs(s){let e,l,t,r,n=s[7].startWorkflowResult.workflowId+"",o,a,u,c,f=we(s[7].actualTime,s[3],{relative:s[4]})+"",g;return{c(){e=b("div"),l=b("div"),t=C(),r=b("div"),o=M(n),a=C(),u=b("div"),c=b("p"),g=M(f),this.h()},l(k){e=E(k,"DIV",{class:!0});var m=I(e);l=E(m,"DIV",{class:!0}),I(l).forEach(i),t=A(m),r=E(m,"DIV",{class:!0});var h=I(r);o=q(h,n),h.forEach(i),a=A(m),u=E(m,"DIV",{class:!0});var _=I(u);c=E(_,"P",{});var d=I(c);g=q(d,f),d.forEach(i),_.forEach(i),m.forEach(i),this.h()},h(){R(l,"class","w-28"),R(r,"class","w-96"),R(u,"class","ml-auto"),R(e,"class","row svelte-lqpjgu")},m(k,m){w(k,e,m),p(e,l),p(e,t),p(e,r),p(r,o),p(e,a),p(e,u),p(u,c),p(c,g)},p(k,m){m&1&&n!==(n=k[7].startWorkflowResult.workflowId+"")&&J(o,n),m&25&&f!==(f=we(k[7].actualTime,k[3],{relative:k[4]})+"")&&J(g,f)},i:B,o:B,d(k){k&&i(e)}}}function Gs(s){let e,l,t,r,n,o,a,u,c,f=we(s[7].actualTime,s[3],{relative:s[4]})+"",g,k;return t=new zl({props:{status:s[10].status}}),o=new Fe({props:{newTab:!0,href:Pl({workflow:s[7].startWorkflowResult.workflowId,run:s[7].startWorkflowResult.runId,namespace:s[1]}),$$slots:{default:[Js]},$$scope:{ctx:s}}}),{c(){e=b("div"),l=b("div"),N(t.$$.fragment),r=C(),n=b("div"),N(o.$$.fragment),a=C(),u=b("div"),c=b("p"),g=M(f),this.h()},l(m){e=E(m,"DIV",{class:!0});var h=I(e);l=E(h,"DIV",{class:!0});var _=I(l);F(t.$$.fragment,_),_.forEach(i),r=A(h),n=E(h,"DIV",{class:!0});var d=I(n);F(o.$$.fragment,d),d.forEach(i),a=A(h),u=E(h,"DIV",{class:!0});var v=I(u);c=E(v,"P",{});var W=I(c);g=q(W,f),W.forEach(i),v.forEach(i),h.forEach(i),this.h()},h(){R(l,"class","w-28"),R(n,"class","mx-2 w-auto break-words"),R(u,"class","ml-auto"),R(e,"class","row svelte-lqpjgu")},m(m,h){w(m,e,h),p(e,l),Q(t,l,null),p(e,r),p(e,n),Q(o,n,null),p(e,a),p(e,u),p(u,c),p(c,g),k=!0},p(m,h){const _={};h&3&&(_.status=m[10].status),t.$set(_);const d={};h&3&&(d.href=Pl({workflow:m[7].startWorkflowResult.workflowId,run:m[7].startWorkflowResult.runId,namespace:m[1]})),h&2049&&(d.$$scope={dirty:h,ctx:m}),o.$set(d),(!k||h&25)&&f!==(f=we(m[7].actualTime,m[3],{relative:m[4]})+"")&&J(g,f)},i(m){k||(D(t.$$.fragment,m),D(o.$$.fragment,m),k=!0)},o(m){V(t.$$.fragment,m),V(o.$$.fragment,m),k=!1},d(m){m&&i(e),U(t),U(o)}}}function Js(s){let e=s[7].startWorkflowResult.workflowId+"",l;return{c(){l=M(e)},l(t){l=q(t,e)},m(t,r){w(t,l,r)},p(t,r){r&1&&e!==(e=t[7].startWorkflowResult.workflowId+"")&&J(l,e)},d(t){t&&i(l)}}}function Ks(s){return{c:B,l:B,m:B,p:B,i:B,o:B,d:B}}function Cl(s,e){let l,t,r,n,o={ctx:e,current:null,token:null,hasCatch:!0,pending:Ks,then:Gs,catch:zs,value:10,blocks:[,,,]};return Je(r=Rl({namespace:e[1],workflowId:ye(e[7].startWorkflowResult.workflowId),runId:e[7].startWorkflowResult.runId},fetch),o),{key:s,first:null,c(){l=le(),t=le(),o.block.c(),this.h()},l(a){l=le(),t=le(),o.block.l(a),this.h()},h(){this.first=l},m(a,u){w(a,l,u),w(a,t,u),o.block.m(a,o.anchor=u),o.mount=()=>t.parentNode,o.anchor=t,n=!0},p(a,u){e=a,o.ctx=e,u&3&&r!==(r=Rl({namespace:e[1],workflowId:ye(e[7].startWorkflowResult.workflowId),runId:e[7].startWorkflowResult.runId},fetch))&&Je(r,o)||jl(o,e,u)},i(a){n||(D(o.block),n=!0)},o(a){for(let u=0;u<3;u+=1){const c=o.blocks[u];V(c)}n=!1},d(a){a&&i(l),a&&i(t),o.block.d(a),o.token=null,o=null}}}function Al(s){let e,l;return e=new ms({props:{title:$("schedules.recent-runs-empty-state-title")}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){Q(e,t,r),l=!0},p:B,i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Xs(s){let e,l,t=$("schedules.recent-runs")+"",r,n,o,a,u=[],c=new Map,f,g,k;o=new Fe({props:{$$slots:{default:[Os]},$$scope:{ctx:s}}}),o.$on("click",s[6]);let m=s[5](s[0]);const h=d=>{var v,W;return(W=(v=d[7])==null?void 0:v.startWorkflowResult)==null?void 0:W.workflowId};for(let d=0;d<m.length;d+=1){let v=Wl(s,m,d),W=h(v);c.set(W,u[d]=Cl(W,v))}let _=!s[0].length&&Al();return{c(){e=b("div"),l=b("h2"),r=M(t),n=C(),N(o.$$.fragment),a=C();for(let d=0;d<u.length;d+=1)u[d].c();f=C(),_&&_.c(),g=le(),this.h()},l(d){e=E(d,"DIV",{class:!0});var v=I(e);l=E(v,"H2",{class:!0});var W=I(l);r=q(W,t),W.forEach(i),n=A(v),F(o.$$.fragment,v),v.forEach(i),a=A(d);for(let Z=0;Z<u.length;Z+=1)u[Z].l(d);f=A(d),_&&_.l(d),g=le(),this.h()},h(){R(l,"class","mb-4 text-2xl"),R(e,"class","flex justify-between")},m(d,v){w(d,e,v),p(e,l),p(l,r),p(e,n),Q(o,e,null),w(d,a,v);for(let W=0;W<u.length;W+=1)u[W].m(d,v);w(d,f,v),_&&_.m(d,v),w(d,g,v),k=!0},p(d,v){const W={};v&2048&&(W.$$scope={dirty:v,ctx:d}),o.$set(W),v&59&&(m=d[5](d[0]),Ae(),u=ss(u,v,h,1,d,m,c,f.parentNode,rs,Cl,f,Wl),Me()),d[0].length?_&&(Ae(),V(_,1,1,()=>{_=null}),Me()):_?(_.p(d,v),v&1&&D(_,1)):(_=Al(),_.c(),D(_,1),_.m(g.parentNode,g))},i(d){if(!k){D(o.$$.fragment,d);for(let v=0;v<m.length;v+=1)D(u[v]);D(_),k=!0}},o(d){V(o.$$.fragment,d);for(let v=0;v<u.length;v+=1)V(u[v]);V(_),k=!1},d(d){d&&i(e),U(o),d&&i(a);for(let v=0;v<u.length;v+=1)u[v].d(d);d&&i(f),_&&_.d(d),d&&i(g)}}}function Ys(s){let e,l;return e=new Ke({props:{class:"w-full",$$slots:{default:[Xs]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){Q(e,t,r),l=!0},p(t,[r]){const n={};r&2079&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Zs(s,e,l){let t,r;ne(s,xe,f=>l(3,t=f)),ne(s,et,f=>l(4,r=f));let{recentRuns:n=[]}=e,{namespace:o}=e,{workflowQuery:a}=e;const u=f=>{var g,k;return(k=(g=f==null?void 0:f.sort((m,h)=>new Date(h.actualTime).getTime()-new Date(m.actualTime).getTime()))===null||g===void 0?void 0:g.slice(0,5))!==null&&k!==void 0?k:[]},c=()=>{Ne(ds({namespace:o,query:a}))};return s.$$set=f=>{"recentRuns"in f&&l(0,n=f.recentRuns),"namespace"in f&&l(1,o=f.namespace),"workflowQuery"in f&&l(2,a=f.workflowQuery)},[n,o,a,t,r,u,c]}class ys extends Ee{constructor(e){super(),Ie(this,e,Zs,Ys,Te,{recentRuns:0,namespace:1,workflowQuery:2})}}function Ml(s,e,l){const t=s.slice();return t[3]=e[l],t}function ql(s){let e,l,t=we(s[3],s[1],{relative:s[2],relativeLabel:$("common.from-now")})+"",r,n;return{c(){e=b("div"),l=b("p"),r=M(t),n=C(),this.h()},l(o){e=E(o,"DIV",{class:!0});var a=I(e);l=E(a,"P",{});var u=I(l);r=q(u,t),u.forEach(i),n=A(a),a.forEach(i),this.h()},h(){R(e,"class","row svelte-kbuuws")},m(o,a){w(o,e,a),p(e,l),p(l,r),p(e,n)},p(o,a){a&7&&t!==(t=we(o[3],o[1],{relative:o[2],relativeLabel:$("common.from-now")})+"")&&J(r,t)},d(o){o&&i(e)}}}function xs(s){let e,l=$("schedules.upcoming-runs")+"",t,r,n,o=s[0].slice(0,5),a=[];for(let u=0;u<o.length;u+=1)a[u]=ql(Ml(s,o,u));return{c(){e=b("h2"),t=M(l),r=C();for(let u=0;u<a.length;u+=1)a[u].c();n=le(),this.h()},l(u){e=E(u,"H2",{class:!0});var c=I(e);t=q(c,l),c.forEach(i),r=A(u);for(let f=0;f<a.length;f+=1)a[f].l(u);n=le(),this.h()},h(){R(e,"class","mb-4 text-2xl")},m(u,c){w(u,e,c),p(e,t),w(u,r,c);for(let f=0;f<a.length;f+=1)a[f].m(u,c);w(u,n,c)},p(u,c){if(c&7){o=u[0].slice(0,5);let f;for(f=0;f<o.length;f+=1){const g=Ml(u,o,f);a[f]?a[f].p(g,c):(a[f]=ql(g),a[f].c(),a[f].m(n.parentNode,n))}for(;f<a.length;f+=1)a[f].d(1);a.length=o.length}},d(u){u&&i(e),u&&i(r),Bl(a,u),u&&i(n)}}}function er(s){let e,l;return e=new Ke({props:{$$slots:{default:[xs]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){Q(e,t,r),l=!0},p(t,[r]){const n={};r&71&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function tr(s,e,l){let t,r;ne(s,xe,o=>l(1,t=o)),ne(s,et,o=>l(2,r=o));let{futureRuns:n=[]}=e;return s.$$set=o=>{"futureRuns"in o&&l(0,n=o.futureRuns)},[n,t,r]}class lr extends Ee{constructor(e){super(),Ie(this,e,tr,er,Te,{futureRuns:0})}}function Hl(s,e,l){const t=s.slice();return t[45]=e[l],t}function sr(s){var m;let e,l,t,r,n,o,a,u,c,f,g,k;return t=new Fe({props:{icon:"chevron-left",$$slots:{default:[rr]},$$scope:{ctx:s}}}),t.$on("click",s[40]),g=new Jl({props:{error:(m=s[12])==null?void 0:m.message}}),{c(){e=b("header"),l=b("div"),N(t.$$.fragment),r=C(),n=b("h1"),o=M(s[14]),a=C(),u=b("p"),c=M(s[13]),f=C(),N(g.$$.fragment),this.h()},l(h){e=E(h,"HEADER",{class:!0});var _=I(e);l=E(_,"DIV",{class:!0});var d=I(l);F(t.$$.fragment,d),r=A(d),n=E(d,"H1",{class:!0,"data-testid":!0});var v=I(n);o=q(v,s[14]),v.forEach(i),a=A(d),u=E(d,"P",{class:!0});var W=I(u);c=q(W,s[13]),W.forEach(i),d.forEach(i),_.forEach(i),f=A(h),F(g.$$.fragment,h),this.h()},h(){R(n,"class","mt-8 select-all text-2xl font-medium"),R(n,"data-testid","schedule-name"),R(u,"class","text-sm"),R(l,"class","relative flex flex-col gap-1"),R(e,"class","mb-8")},m(h,_){w(h,e,_),p(e,l),Q(t,l,null),p(l,r),p(l,n),p(n,o),p(l,a),p(l,u),p(u,c),w(h,f,_),Q(g,h,_),k=!0},p(h,_){var W;const d={};_[1]&131072&&(d.$$scope={dirty:_,ctx:h}),t.$set(d);const v={};_[0]&1&&(v.error=(W=h[12])==null?void 0:W.message),g.$set(v)},i(h){k||(D(t.$$.fragment,h),D(g.$$.fragment,h),k=!0)},o(h){V(t.$$.fragment,h),V(g.$$.fragment,h),k=!1},d(h){h&&i(e),U(t),h&&i(f),U(g,h)}}}function rr(s){let e=$("schedules.back-to-schedules")+"",l;return{c(){l=M(e)},l(t){l=q(t,e)},m(t,r){w(t,l,r)},p:B,d(t){t&&i(l)}}}function nr(s){let e,l,t,r;const n=[ar,or],o=[];function a(u,c){return u[6]?0:1}return e=a(s),l=o[e]=n[e](s),{c(){l.c(),t=le()},l(u){l.l(u),t=le()},m(u,c){o[e].m(u,c),w(u,t,c),r=!0},p(u,c){let f=e;e=a(u),e===f?o[e].p(u,c):(Ae(),V(o[f],1,1,()=>{o[f]=null}),Me(),l=o[e],l?l.p(u,c):(l=o[e]=n[e](u),l.c()),D(l,1),l.m(t.parentNode,t))},i(u){r||(D(l),r=!0)},o(u){V(l),r=!1},d(u){o[e].d(u),u&&i(t)}}}function or(s){var st,rt,nt,ot,at,ut,it,ft,ct,mt,dt,pt,ht,_t,$t,gt,vt,wt,kt,bt,Et,It,Tt,Dt,Rt,Pt,St,Vt,Wt,Ct,At,Mt,qt,Ht,Lt,Nt,Ft;let e,l,t,r,n,o,a,u,c,f,g,k,m=((at=(ot=(nt=(rt=(st=s[44])==null?void 0:st.schedule)==null?void 0:rt.action)==null?void 0:nt.startWorkflow)==null?void 0:ot.workflowType)==null?void 0:at.name)+"",h,_,d,v,W=$("common.created",{created:we((it=(ut=s[44])==null?void 0:ut.info)==null?void 0:it.createTime,s[7],{relative:s[8]})})+"",Z,K,me,x,oe,X,de,ae,y,ee,se,$e,re,z,ue,De,ge,ie,ke,te,Re,P,L,pe,fe,G,he,Se,H;t=new Fe({props:{icon:"chevron-left",$$slots:{default:[ur]},$$scope:{ctx:s}}}),t.$on("click",s[27]),f=new zl({props:{status:(ft=s[44])!=null&&ft.schedule.state.paused?"Paused":"Running"}});let O=((mt=(ct=s[44])==null?void 0:ct.info)==null?void 0:mt.updateTime)&&Ll(s);x=new ws({props:{position:"right",label:(ht=(pt=(dt=s[44])==null?void 0:dt.schedule)==null?void 0:pt.state)!=null&&ht.paused?$("schedules.unpause"):$("schedules.pause"),menuLabel:$("schedules.schedule-actions"),id:"schedule-actions",disabled:s[20],$$slots:{default:[mr]},$$scope:{ctx:s}}}),x.$on("click",s[30]);let j=(($t=(_t=s[44])==null?void 0:_t.info)==null?void 0:$t.invalidScheduleError)&&Nl(s),Y=s[9]&&Fl(s);se=new ys({props:{namespace:s[13],recentRuns:(vt=(gt=s[44])==null?void 0:gt.info)==null?void 0:vt.recentActions,workflowQuery:s[15]}}),re=new lr({props:{futureRuns:(kt=(wt=s[44])==null?void 0:wt.info)==null?void 0:kt.futureActionTimes}}),ue=new Ms({props:{spec:(Et=(bt=s[44])==null?void 0:bt.schedule)==null?void 0:Et.spec,state:(Tt=(It=s[44])==null?void 0:It.schedule)==null?void 0:Tt.state,policies:(Rt=(Dt=s[44])==null?void 0:Dt.schedule)==null?void 0:Rt.policies,notes:(Vt=(St=(Pt=s[44])==null?void 0:Pt.schedule)==null?void 0:St.state)==null?void 0:Vt.notes}}),ie=new Bs({props:{calendar:(Mt=(At=(Ct=(Wt=s[44])==null?void 0:Wt.schedule)==null?void 0:Ct.spec)==null?void 0:At.structuredCalendar)==null?void 0:Mt[0],interval:(Nt=(Lt=(Ht=(qt=s[44])==null?void 0:qt.schedule)==null?void 0:Ht.spec)==null?void 0:Lt.interval)==null?void 0:Nt[0]}});function Kl(T){s[33](T)}function Xl(){return s[34](s[44])}let tt={id:"pause-schedule-modal",confirmType:"primary",confirmText:(Ft=s[44])!=null&&Ft.schedule.state.paused?$("schedules.unpause"):$("schedules.pause"),cancelText:$("common.cancel"),confirmDisabled:!s[4],$$slots:{content:[hr],title:[pr]},$$scope:{ctx:s}};s[1]!==void 0&&(tt.open=s[1]),te=new Ze({props:tt}),Ue.push(()=>je(te,"open",Kl)),te.$on("confirmModal",Xl),te.$on("cancelModal",s[24]);function Yl(T){s[35](T)}let lt={id:"trigger-schedule-modal",large:!0,confirmType:"primary",confirmText:$("schedules.trigger"),cancelText:$("common.cancel"),loading:s[5],$$slots:{content:[gr],title:[_r]},$$scope:{ctx:s}};s[2]!==void 0&&(lt.open=s[2]),L=new Ze({props:lt}),Ue.push(()=>je(L,"open",Yl)),L.$on("confirmModal",s[36]),L.$on("cancelModal",s[37]);function Zl(T){s[38](T)}function yl(T){s[39](T)}let Xe={id:"delete-schedule-modal",confirmType:"destructive",confirmText:$("common.delete"),cancelText:$("common.cancel"),$$slots:{content:[wr],title:[vr]},$$scope:{ctx:s}};return s[3]!==void 0&&(Xe.open=s[3]),s[12]!==void 0&&(Xe.error=s[12]),G=new Ze({props:Xe}),Ue.push(()=>je(G,"open",Zl)),Ue.push(()=>je(G,"error",yl)),G.$on("confirmModal",s[21]),G.$on("cancelModal",s[24]),{c(){e=b("header"),l=b("div"),N(t.$$.fragment),r=C(),n=b("h1"),o=b("span"),a=M(s[14]),u=C(),c=b("div"),N(f.$$.fragment),g=C(),k=b("p"),h=M(m),_=C(),d=b("div"),v=b("p"),Z=M(W),K=C(),O&&O.c(),me=C(),N(x.$$.fragment),oe=C(),X=b("div"),j&&j.c(),de=C(),Y&&Y.c(),ae=C(),y=b("div"),ee=b("div"),N(se.$$.fragment),$e=C(),N(re.$$.fragment),z=C(),N(ue.$$.fragment),De=C(),ge=b("div"),N(ie.$$.fragment),ke=C(),N(te.$$.fragment),P=C(),N(L.$$.fragment),fe=C(),N(G.$$.fragment),this.h()},l(T){e=E(T,"HEADER",{class:!0});var S=I(e);l=E(S,"DIV",{class:!0});var ce=I(l);F(t.$$.fragment,ce),r=A(ce),n=E(ce,"H1",{class:!0});var qe=I(n);o=E(qe,"SPAN",{class:!0,"data-testid":!0});var We=I(o);a=q(We,s[14]),We.forEach(i),qe.forEach(i),u=A(ce),c=E(ce,"DIV",{class:!0});var Ve=I(c);F(f.$$.fragment,Ve),g=A(Ve),k=E(Ve,"P",{});var He=I(k);h=q(He,m),He.forEach(i),Ve.forEach(i),_=A(ce),d=E(ce,"DIV",{class:!0});var Pe=I(d);v=E(Pe,"P",{});var Ce=I(v);Z=q(Ce,W),Ce.forEach(i),Pe.forEach(i),K=A(ce),O&&O.l(ce),ce.forEach(i),me=A(S),F(x.$$.fragment,S),S.forEach(i),oe=A(T),X=E(T,"DIV",{class:!0});var _e=I(X);j&&j.l(_e),de=A(_e),Y&&Y.l(_e),ae=A(_e),y=E(_e,"DIV",{class:!0});var be=I(y);ee=E(be,"DIV",{class:!0});var ve=I(ee);F(se.$$.fragment,ve),$e=A(ve),F(re.$$.fragment,ve),z=A(ve),F(ue.$$.fragment,ve),ve.forEach(i),De=A(be),ge=E(be,"DIV",{class:!0});var Le=I(ge);F(ie.$$.fragment,Le),Le.forEach(i),be.forEach(i),_e.forEach(i),ke=A(T),F(te.$$.fragment,T),P=A(T),F(L.$$.fragment,T),fe=A(T),F(G.$$.fragment,T),this.h()},h(){R(o,"class","select-all font-medium"),R(o,"data-testid","schedule-name"),R(n,"class","relative flex items-center text-2xl"),R(c,"class","flex items-center gap-2 text-lg"),R(d,"class","flex items-center gap-2 text-sm"),R(l,"class","relative flex flex-col gap-4"),R(e,"class","mb-8 flex flex-row justify-between gap-4"),R(ee,"class","flex w-full flex-col items-start gap-4 xl:w-2/3"),R(ge,"class","w-full xl:w-1/3"),R(y,"class","flex flex-col gap-4 xl:flex-row"),R(X,"class","flex flex-col gap-4 pb-24")},m(T,S){w(T,e,S),p(e,l),Q(t,l,null),p(l,r),p(l,n),p(n,o),p(o,a),p(l,u),p(l,c),Q(f,c,null),p(c,g),p(c,k),p(k,h),p(l,_),p(l,d),p(d,v),p(v,Z),p(l,K),O&&O.m(l,null),p(e,me),Q(x,e,null),w(T,oe,S),w(T,X,S),j&&j.m(X,null),p(X,de),Y&&Y.m(X,null),p(X,ae),p(X,y),p(y,ee),Q(se,ee,null),p(ee,$e),Q(re,ee,null),p(ee,z),Q(ue,ee,null),p(y,De),p(y,ge),Q(ie,ge,null),w(T,ke,S),Q(te,T,S),w(T,P,S),Q(L,T,S),w(T,fe,S),Q(G,T,S),H=!0},p(T,S){var Le,Qt,Ut,jt,Bt,Ot,zt,Gt,Jt,Kt,Xt,Yt,Zt,yt,xt,el,tl,ll,sl,rl,nl,ol,al,ul,il,fl,cl,ml,dl,pl,hl,_l,$l,gl,vl,wl,kl;s=T;const ce={};S[1]&131072&&(ce.$$scope={dirty:S,ctx:s}),t.$set(ce);const qe={};S[0]&1&&(qe.status=(Le=s[44])!=null&&Le.schedule.state.paused?"Paused":"Running"),f.$set(qe),(!H||S[0]&1)&&m!==(m=((Ot=(Bt=(jt=(Ut=(Qt=s[44])==null?void 0:Qt.schedule)==null?void 0:Ut.action)==null?void 0:jt.startWorkflow)==null?void 0:Bt.workflowType)==null?void 0:Ot.name)+"")&&J(h,m),(!H||S[0]&385)&&W!==(W=$("common.created",{created:we((Gt=(zt=s[44])==null?void 0:zt.info)==null?void 0:Gt.createTime,s[7],{relative:s[8]})})+"")&&J(Z,W),(Kt=(Jt=s[44])==null?void 0:Jt.info)!=null&&Kt.updateTime?O?O.p(s,S):(O=Ll(s),O.c(),O.m(l,null)):O&&(O.d(1),O=null);const We={};S[0]&1&&(We.label=(Zt=(Yt=(Xt=s[44])==null?void 0:Xt.schedule)==null?void 0:Yt.state)!=null&&Zt.paused?$("schedules.unpause"):$("schedules.pause")),S[0]&12|S[1]&131072&&(We.$$scope={dirty:S,ctx:s}),x.$set(We),(xt=(yt=s[44])==null?void 0:yt.info)!=null&&xt.invalidScheduleError?j?(j.p(s,S),S[0]&1&&D(j,1)):(j=Nl(s),j.c(),D(j,1),j.m(X,de)):j&&(Ae(),V(j,1,1,()=>{j=null}),Me()),s[9]?Y?(Y.p(s,S),S[0]&512&&D(Y,1)):(Y=Fl(s),Y.c(),D(Y,1),Y.m(X,ae)):Y&&(Ae(),V(Y,1,1,()=>{Y=null}),Me());const Ve={};S[0]&1&&(Ve.recentRuns=(tl=(el=s[44])==null?void 0:el.info)==null?void 0:tl.recentActions),se.$set(Ve);const He={};S[0]&1&&(He.futureRuns=(sl=(ll=s[44])==null?void 0:ll.info)==null?void 0:sl.futureActionTimes),re.$set(He);const Pe={};S[0]&1&&(Pe.spec=(nl=(rl=s[44])==null?void 0:rl.schedule)==null?void 0:nl.spec),S[0]&1&&(Pe.state=(al=(ol=s[44])==null?void 0:ol.schedule)==null?void 0:al.state),S[0]&1&&(Pe.policies=(il=(ul=s[44])==null?void 0:ul.schedule)==null?void 0:il.policies),S[0]&1&&(Pe.notes=(ml=(cl=(fl=s[44])==null?void 0:fl.schedule)==null?void 0:cl.state)==null?void 0:ml.notes),ue.$set(Pe);const Ce={};S[0]&1&&(Ce.calendar=(_l=(hl=(pl=(dl=s[44])==null?void 0:dl.schedule)==null?void 0:pl.spec)==null?void 0:hl.structuredCalendar)==null?void 0:_l[0]),S[0]&1&&(Ce.interval=(wl=(vl=(gl=($l=s[44])==null?void 0:$l.schedule)==null?void 0:gl.spec)==null?void 0:vl.interval)==null?void 0:wl[0]),ie.$set(Ce);const _e={};S[0]&1&&(_e.confirmText=(kl=s[44])!=null&&kl.schedule.state.paused?$("schedules.unpause"):$("schedules.pause")),S[0]&16&&(_e.confirmDisabled=!s[4]),S[0]&17|S[1]&131072&&(_e.$$scope={dirty:S,ctx:s}),!Re&&S[0]&2&&(Re=!0,_e.open=s[1],Be(()=>Re=!1)),te.$set(_e);const be={};S[0]&32&&(be.loading=s[5]),S[1]&131072&&(be.$$scope={dirty:S,ctx:s}),!pe&&S[0]&4&&(pe=!0,be.open=s[2],Be(()=>pe=!1)),L.$set(be);const ve={};S[1]&131072&&(ve.$$scope={dirty:S,ctx:s}),!he&&S[0]&8&&(he=!0,ve.open=s[3],Be(()=>he=!1)),!Se&&S[0]&4096&&(Se=!0,ve.error=s[12],Be(()=>Se=!1)),G.$set(ve)},i(T){H||(D(t.$$.fragment,T),D(f.$$.fragment,T),D(x.$$.fragment,T),D(j),D(Y),D(se.$$.fragment,T),D(re.$$.fragment,T),D(ue.$$.fragment,T),D(ie.$$.fragment,T),D(te.$$.fragment,T),D(L.$$.fragment,T),D(G.$$.fragment,T),H=!0)},o(T){V(t.$$.fragment,T),V(f.$$.fragment,T),V(x.$$.fragment,T),V(j),V(Y),V(se.$$.fragment,T),V(re.$$.fragment,T),V(ue.$$.fragment,T),V(ie.$$.fragment,T),V(te.$$.fragment,T),V(L.$$.fragment,T),V(G.$$.fragment,T),H=!1},d(T){T&&i(e),U(t),U(f),O&&O.d(),U(x),T&&i(oe),T&&i(X),j&&j.d(),Y&&Y.d(),U(se),U(re),U(ue),U(ie),T&&i(ke),U(te,T),T&&i(P),U(L,T),T&&i(fe),U(G,T)}}}function ar(s){let e,l;return e=new Gl({props:{title:$("schedules.deleting"),class:"my-2"}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){Q(e,t,r),l=!0},p:B,i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function ur(s){let e=$("schedules.back-to-schedules")+"",l;return{c(){l=M(e)},l(t){l=q(t,e)},m(t,r){w(t,l,r)},p:B,d(t){t&&i(l)}}}function Ll(s){var n,o;let e,l,t=$("common.last-updated",{updated:we((o=(n=s[44])==null?void 0:n.info)==null?void 0:o.updateTime,s[7],{relative:s[8]})})+"",r;return{c(){e=b("div"),l=b("p"),r=M(t),this.h()},l(a){e=E(a,"DIV",{class:!0});var u=I(e);l=E(u,"P",{});var c=I(l);r=q(c,t),c.forEach(i),u.forEach(i),this.h()},h(){R(e,"class","flex items-center gap-2 text-sm")},m(a,u){w(a,e,u),p(e,l),p(l,r)},p(a,u){var c,f;u[0]&385&&t!==(t=$("common.last-updated",{updated:we((f=(c=a[44])==null?void 0:c.info)==null?void 0:f.updateTime,a[7],{relative:a[8]})})+"")&&J(r,t)},d(a){a&&i(e)}}}function ir(s){let e=$("schedules.trigger")+"",l;return{c(){l=M(e)},l(t){l=q(t,e)},m(t,r){w(t,l,r)},p:B,d(t){t&&i(l)}}}function fr(s){let e=$("common.edit")+"",l;return{c(){l=M(e)},l(t){l=q(t,e)},m(t,r){w(t,l,r)},p:B,d(t){t&&i(l)}}}function cr(s){let e=$("common.delete")+"",l;return{c(){l=M(e)},l(t){l=q(t,e)},m(t,r){w(t,l,r)},p:B,d(t){t&&i(l)}}}function mr(s){let e,l,t,r,n,o;return e=new Ye({props:{"data-testid":"trigger-schedule",$$slots:{default:[ir]},$$scope:{ctx:s}}}),e.$on("click",s[28]),t=new Ye({props:{"data-testid":"edit-schedule",href:ps({namespace:s[13],scheduleId:s[14]}),$$slots:{default:[fr]},$$scope:{ctx:s}}}),n=new Ye({props:{"data-testid":"delete-schedule",destructive:!0,$$slots:{default:[cr]},$$scope:{ctx:s}}}),n.$on("click",s[29]),{c(){N(e.$$.fragment),l=C(),N(t.$$.fragment),r=C(),N(n.$$.fragment)},l(a){F(e.$$.fragment,a),l=A(a),F(t.$$.fragment,a),r=A(a),F(n.$$.fragment,a)},m(a,u){Q(e,a,u),w(a,l,u),Q(t,a,u),w(a,r,u),Q(n,a,u),o=!0},p(a,u){const c={};u[1]&131072&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const f={};u[1]&131072&&(f.$$scope={dirty:u,ctx:a}),t.$set(f);const g={};u[1]&131072&&(g.$$scope={dirty:u,ctx:a}),n.$set(g)},i(a){o||(D(e.$$.fragment,a),D(t.$$.fragment,a),D(n.$$.fragment,a),o=!0)},o(a){V(e.$$.fragment,a),V(t.$$.fragment,a),V(n.$$.fragment,a),o=!1},d(a){U(e,a),a&&i(l),U(t,a),a&&i(r),U(n,a)}}}function Nl(s){var r,n;let e,l,t;return l=new Jl({props:{error:(n=(r=s[44])==null?void 0:r.info)==null?void 0:n.invalidScheduleError}}),{c(){e=b("div"),N(l.$$.fragment),this.h()},l(o){e=E(o,"DIV",{class:!0});var a=I(e);F(l.$$.fragment,a),a.forEach(i),this.h()},h(){R(e,"class","w-full xl:w-1/2")},m(o,a){w(o,e,a),Q(l,e,null),t=!0},p(o,a){var c,f;const u={};a[0]&1&&(u.error=(f=(c=o[44])==null?void 0:c.info)==null?void 0:f.invalidScheduleError),l.$set(u)},i(o){t||(D(l.$$.fragment,o),t=!0)},o(o){V(l.$$.fragment,o),t=!1},d(o){o&&i(e),U(l)}}}function Fl(s){let e,l,t,r=s[10].count.toLocaleString()+"",n,o,a,u,c,f,g,k;return a=new hs({props:{key:"common.workflows-plural",count:s[10].count}}),c=new $s({props:{size:"xs",variant:"ghost",leadingIcon:"retry",$$slots:{default:[dr]},$$scope:{ctx:s}}}),c.$on("click",s[31]),g=new _s({props:{staticQuery:s[15]}}),{c(){e=b("div"),l=b("div"),t=b("span"),n=M(r),o=C(),N(a.$$.fragment),u=C(),N(c.$$.fragment),f=C(),N(g.$$.fragment),this.h()},l(m){e=E(m,"DIV",{class:!0});var h=I(e);l=E(h,"DIV",{class:!0});var _=I(l);t=E(_,"SPAN",{"data-testid":!0});var d=I(t);n=q(d,r),o=A(d),F(a.$$.fragment,d),d.forEach(i),u=A(_),F(c.$$.fragment,_),_.forEach(i),f=A(h),F(g.$$.fragment,h),h.forEach(i),this.h()},h(){R(t,"data-testid","workflow-count"),R(l,"class","flex items-center gap-2"),R(e,"class","flex w-full flex-col gap-2 text-lg")},m(m,h){w(m,e,h),p(e,l),p(l,t),p(t,n),p(t,o),Q(a,t,null),p(l,u),Q(c,l,null),p(e,f),Q(g,e,null),k=!0},p(m,h){(!k||h[0]&1024)&&r!==(r=m[10].count.toLocaleString()+"")&&J(n,r);const _={};h[0]&1024&&(_.count=m[10].count),a.$set(_);const d={};h[0]&1024|h[1]&131072&&(d.$$scope={dirty:h,ctx:m}),c.$set(d)},i(m){k||(D(a.$$.fragment,m),D(c.$$.fragment,m),D(g.$$.fragment,m),k=!0)},o(m){V(a.$$.fragment,m),V(c.$$.fragment,m),V(g.$$.fragment,m),k=!1},d(m){m&&i(e),U(a),U(c),U(g)}}}function Ql(s){let e,l=s[10].newCount.toLocaleString()+"",t;return{c(){e=M("+"),t=M(l)},l(r){e=q(r,"+"),t=q(r,l)},m(r,n){w(r,e,n),w(r,t,n)},p(r,n){n[0]&1024&&l!==(l=r[10].newCount.toLocaleString()+"")&&J(t,l)},d(r){r&&i(e),r&&i(t)}}}function dr(s){let e,l=s[10].newCount>0&&Ql(s);return{c(){l&&l.c(),e=le()},l(t){l&&l.l(t),e=le()},m(t,r){l&&l.m(t,r),w(t,e,r)},p(t,r){t[10].newCount>0?l?l.p(t,r):(l=Ql(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&i(e)}}}function pr(s){var r;let e,l=((r=s[44])!=null&&r.schedule.state.paused?$("schedules.unpause-modal-title"):$("schedules.pause-modal-title"))+"",t;return{c(){e=b("h3"),t=M(l),this.h()},l(n){e=E(n,"H3",{slot:!0});var o=I(e);t=q(o,l),o.forEach(i),this.h()},h(){R(e,"slot","title")},m(n,o){w(n,e,o),p(e,t)},p(n,o){var a;o[0]&1&&l!==(l=((a=n[44])!=null&&a.schedule.state.paused?$("schedules.unpause-modal-title"):$("schedules.pause-modal-title"))+"")&&J(t,l)},d(n){n&&i(e)}}}function hr(s){var m,h;let e,l,t=((m=s[44])!=null&&m.schedule.state.paused?$("schedules.unpause-modal-confirmation",{schedule:s[14]}):$("schedules.pause-modal-confirmation",{schedule:s[14]}))+"",r,n,o,a=((h=s[44])!=null&&h.schedule.state.paused?$("schedules.unpause-reason"):$("schedules.pause-reason"))+"",u,c,f,g,k;return{c(){e=b("div"),l=b("p"),r=M(t),n=C(),o=b("p"),u=M(a),c=C(),f=b("input"),this.h()},l(_){e=E(_,"DIV",{slot:!0});var d=I(e);l=E(d,"P",{});var v=I(l);r=q(v,t),v.forEach(i),n=A(d),o=E(d,"P",{class:!0});var W=I(o);u=q(W,a),W.forEach(i),c=A(d),f=E(d,"INPUT",{class:!0,placeholder:!0}),d.forEach(i),this.h()},h(){R(o,"class","my-4"),R(f,"class","mt-4 block w-full rounded-md border border-gray-200 p-2"),R(f,"placeholder",$("common.reason")),R(e,"slot","content")},m(_,d){w(_,e,d),p(e,l),p(l,r),p(e,n),p(e,o),p(o,u),p(e,c),p(e,f),Tl(f,s[4]),g||(k=[Dl(f,"input",s[32]),Dl(f,"keydown",os(s[25]))],g=!0)},p(_,d){var v,W;d[0]&1&&t!==(t=((v=_[44])!=null&&v.schedule.state.paused?$("schedules.unpause-modal-confirmation",{schedule:_[14]}):$("schedules.pause-modal-confirmation",{schedule:_[14]}))+"")&&J(r,t),d[0]&1&&a!==(a=((W=_[44])!=null&&W.schedule.state.paused?$("schedules.unpause-reason"):$("schedules.pause-reason"))+"")&&J(u,a),d[0]&16&&f.value!==_[4]&&Tl(f,_[4])},d(_){_&&i(e),g=!1,as(k)}}}function _r(s){let e,l=$("schedules.trigger-modal-title")+"",t;return{c(){e=b("h3"),t=M(l),this.h()},l(r){e=E(r,"H3",{slot:!0});var n=I(e);t=q(n,l),n.forEach(i),this.h()},h(){R(e,"slot","title")},m(r,n){w(r,e,n),p(e,t)},p:B,d(r){r&&i(e)}}}function Ul(s){let e,l;return e=new vs({props:{id:s[45].value,value:s[45].value,label:s[45].label,description:s[45].description}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){Q(e,t,r),l=!0},p:B,i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function $r(s){let e,l,t=s[18],r=[];for(let o=0;o<t.length;o+=1)r[o]=Ul(Hl(s,t,o));const n=o=>V(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=le()},l(o){for(let a=0;a<r.length;a+=1)r[a].l(o);e=le()},m(o,a){for(let u=0;u<r.length;u+=1)r[u].m(o,a);w(o,e,a),l=!0},p(o,a){if(a[0]&262144){t=o[18];let u;for(u=0;u<t.length;u+=1){const c=Hl(o,t,u);r[u]?(r[u].p(c,a),D(r[u],1)):(r[u]=Ul(c),r[u].c(),D(r[u],1),r[u].m(e.parentNode,e))}for(Ae(),u=t.length;u<r.length;u+=1)n(u);Me()}},i(o){if(!l){for(let a=0;a<t.length;a+=1)D(r[a]);l=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)V(r[a]);l=!1},d(o){Bl(r,o),o&&i(e)}}}function gr(s){let e,l,t;return l=new gs({props:{group:s[17],name:"trigger-event-id",class:"h-auto overflow-auto",$$slots:{default:[$r]},$$scope:{ctx:s}}}),{c(){e=b("div"),N(l.$$.fragment),this.h()},l(r){e=E(r,"DIV",{slot:!0});var n=I(e);F(l.$$.fragment,n),n.forEach(i),this.h()},h(){R(e,"slot","content")},m(r,n){w(r,e,n),Q(l,e,null),t=!0},p(r,n){const o={};n[1]&131072&&(o.$$scope={dirty:n,ctx:r}),l.$set(o)},i(r){t||(D(l.$$.fragment,r),t=!0)},o(r){V(l.$$.fragment,r),t=!1},d(r){r&&i(e),U(l)}}}function vr(s){let e,l=$("schedules.delete-modal-title")+"",t;return{c(){e=b("h3"),t=M(l),this.h()},l(r){e=E(r,"H3",{slot:!0});var n=I(e);t=q(n,l),n.forEach(i),this.h()},h(){R(e,"slot","title")},m(r,n){w(r,e,n),p(e,t)},p:B,d(r){r&&i(e)}}}function wr(s){let e,l,t=$("schedules.delete-modal-confirmation",{schedule:s[14]})+"",r;return{c(){e=b("div"),l=b("p"),r=M(t),this.h()},l(n){e=E(n,"DIV",{slot:!0});var o=I(e);l=E(o,"P",{});var a=I(l);r=q(a,t),a.forEach(i),o.forEach(i),this.h()},h(){R(e,"slot","content")},m(n,o){w(n,e,o),p(e,l),p(l,r)},p:B,d(n){n&&i(e)}}}function kr(s){let e,l,t,r,n,o,a,u,c,f,g,k;return t=new Fe({props:{icon:"chevron-left",$$slots:{default:[br]},$$scope:{ctx:s}}}),t.$on("click",s[26]),g=new Gl({}),{c(){e=b("header"),l=b("div"),N(t.$$.fragment),r=C(),n=b("h1"),o=M(s[14]),a=C(),u=b("p"),c=M(s[13]),f=C(),N(g.$$.fragment),this.h()},l(m){e=E(m,"HEADER",{class:!0});var h=I(e);l=E(h,"DIV",{class:!0});var _=I(l);F(t.$$.fragment,_),r=A(_),n=E(_,"H1",{class:!0,"data-testid":!0});var d=I(n);o=q(d,s[14]),d.forEach(i),a=A(_),u=E(_,"P",{class:!0});var v=I(u);c=q(v,s[13]),v.forEach(i),_.forEach(i),h.forEach(i),f=A(m),F(g.$$.fragment,m),this.h()},h(){R(n,"class","select-all text-2xl font-medium"),R(n,"data-testid","schedule-name"),R(u,"class","text-sm"),R(l,"class","relative flex flex-col gap-4"),R(e,"class","mb-8")},m(m,h){w(m,e,h),p(e,l),Q(t,l,null),p(l,r),p(l,n),p(n,o),p(l,a),p(l,u),p(u,c),w(m,f,h),Q(g,m,h),k=!0},p(m,h){const _={};h[1]&131072&&(_.$$scope={dirty:h,ctx:m}),t.$set(_)},i(m){k||(D(t.$$.fragment,m),D(g.$$.fragment,m),k=!0)},o(m){V(t.$$.fragment,m),V(g.$$.fragment,m),k=!1},d(m){m&&i(e),U(t),m&&i(f),U(g,m)}}}function br(s){let e=$("schedules.back-to-schedules")+"",l;return{c(){l=M(e)},l(t){l=q(t,e)},m(t,r){w(t,l,r)},p:B,d(t){t&&i(l)}}}function Er(s){let e,l,t,r={ctx:s,current:null,token:null,hasCatch:!0,pending:kr,then:nr,catch:sr,value:44,error:12,blocks:[,,,]};return Je(l=s[0],r),{c(){e=le(),r.block.c()},l(n){e=le(),r.block.l(n)},m(n,o){w(n,e,o),r.block.m(n,r.anchor=o),r.mount=()=>e.parentNode,r.anchor=e,t=!0},p(n,o){s=n,r.ctx=s,o[0]&1&&l!==(l=s[0])&&Je(l,r)||jl(r,s,o)},i(n){t||(D(r.block),t=!0)},o(n){for(let o=0;o<3;o+=1){const a=r.blocks[o];V(a)}t=!1},d(n){n&&i(e),r.block.d(n),r.token=null,r=null}}}function Ir(s,e,l){let t,r,n,o,a,u,c,f,g;ne(s,Oe,H=>l(6,r=H)),ne(s,Ol,H=>l(43,o=H)),ne(s,xe,H=>l(7,a=H)),ne(s,et,H=>l(8,u=H)),ne(s,Ds,H=>l(9,c=H)),ne(s,Rs,H=>l(10,f=H)),ne(s,Sl,H=>l(11,g=H));let k=o.params.namespace,m=o.params.schedule,h=`TemporalScheduledById="${m}"`;const _={namespace:k,scheduleId:ye(m)};let d=Ge(_),v=!1,W=!1,Z=!1,K="",me="",x=!1,oe=is("Unspecified");ne(s,oe,H=>l(41,t=H));let X=[{description:$("schedules.trigger-unspecified-description"),label:$("schedules.trigger-unspecified-title"),value:"Unspecified"},{description:$("schedules.trigger-allow-all-description"),label:$("schedules.trigger-allow-all-title"),value:"AllowAll"},{description:$("schedules.trigger-skip-description"),label:$("schedules.trigger-skip-title"),value:"Skip"},{description:$("schedules.trigger-buffer-one-description"),label:$("schedules.trigger-buffer-one-title"),value:"BufferOne"},{description:$("schedules.trigger-buffer-all-description"),label:$("schedules.trigger-buffer-all-title"),value:"BufferAll"},{description:$("schedules.trigger-cancel-other-description"),label:$("schedules.trigger-cancel-other-title"),value:"CancelOther"},{description:$("schedules.trigger-terminate-other-description"),label:$("schedules.trigger-terminate-other-title"),value:"TerminateOther"}],de=Ts();ne(s,de,H=>l(42,n=H));let ae=n.namespaceWriteDisabled(k);const y=async()=>{l(12,me="");try{Qe(Oe,r=!0,r),await ks({namespace:k,scheduleId:m}),l(3,Z=!1),setTimeout(()=>{Qe(Oe,r=!1,r),Ne(ze({namespace:k}))},2e3),l(4,K="")}catch(H){l(12,me=$("schedules.delete-schedule-error",{error:H==null?void 0:H.message})),Qe(Oe,r=!1,r)}},ee=async H=>{var O,j;!((j=(O=H==null?void 0:H.schedule)===null||O===void 0?void 0:O.state)===null||j===void 0)&&j.paused?await bs({namespace:k,scheduleId:m,reason:K}):await Es({namespace:k,scheduleId:m,reason:K}),l(0,d=Ge(_)),l(4,K=""),l(1,v=!1)},se=async()=>{l(5,x=!0),await Is({namespace:k,scheduleId:m,overlapPolicy:t}),setTimeout(()=>{l(0,d=Ge(_)),l(2,W=!1),l(5,x=!1)},1e3)},$e=()=>{l(4,K="")};function re(H){ns.call(this,s,H)}const z=()=>{Ne(ze({namespace:k}))},ue=()=>{Ne(ze({namespace:k}))},De=()=>l(2,W=!0),ge=()=>l(3,Z=!0),ie=()=>l(1,v=!0),ke=()=>{l(0,d=Ge(_)),Qe(Sl,g=Date.now(),g)};function te(){K=this.value,l(4,K)}function Re(H){v=H,l(1,v)}const P=H=>ee(H);function L(H){W=H,l(2,W)}const pe=()=>se(),fe=()=>l(2,W=!1);function G(H){Z=H,l(3,Z)}function he(H){me=H,l(12,me)}return[d,v,W,Z,K,x,r,a,u,c,f,g,me,k,m,h,_,oe,X,de,ae,y,ee,se,$e,re,z,ue,De,ge,ie,ke,te,Re,P,L,pe,fe,G,he,()=>{Ne(ze({namespace:k}))}]}class Tr extends Ee{constructor(e){super(),Ie(this,e,Ir,Er,Te,{},null,[-1,-1])}}function Dr(s){let e,l,t,r;return e=new us({props:{title:`Schedule | ${s[1]}`,url:s[0].url.href}}),t=new Tr({}),{c(){N(e.$$.fragment),l=C(),N(t.$$.fragment)},l(n){F(e.$$.fragment,n),l=A(n),F(t.$$.fragment,n)},m(n,o){Q(e,n,o),w(n,l,o),Q(t,n,o),r=!0},p(n,[o]){const a={};o&1&&(a.url=n[0].url.href),e.$set(a)},i(n){r||(D(e.$$.fragment,n),D(t.$$.fragment,n),r=!0)},o(n){V(e.$$.fragment,n),V(t.$$.fragment,n),r=!1},d(n){U(e,n),n&&i(l),U(t,n)}}}function Rr(s,e,l){let t;ne(s,Ol,n=>l(0,t=n));const r=t.params.schedule;return[t,r]}class xr extends Ee{constructor(e){super(),Ie(this,e,Rr,Dr,Te,{})}}export{xr as component};
