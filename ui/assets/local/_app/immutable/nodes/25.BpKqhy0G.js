import"../chunks/Bzak7iHL.js";import"../chunks/69_IOA4Y.js";import{p as ne,t as k,i as o,r as a,c as l,j as y,o as s,e as c,b as ie,f as q,g as e,n as le,k as ae,h as Pe,l as Qe,s as u,m as F,M as jr,aj as mt,a as Qt}from"../chunks/C-0kx8Rl.js";import{i as ve,s as Vt}from"../chunks/DFzl7kYA.js";import{p as z,l as Gt,a as Fe,s as Jt,c as Be}from"../chunks/B0Wc33k0.js";import{p as Kt}from"../chunks/Crisr3ff.js";import{P as Er}from"../chunks/DMOchDbk.js";import{s as v}from"../chunks/B-1TjF6E.js";import{a as Xt}from"../chunks/D7Rg7Pz7.js";import{i as ue}from"../chunks/DIXBMONz.js";import{e as Ge,i as at}from"../chunks/CdE3I_3f.js";import{a as Nr,w as Qr}from"../chunks/Dl-yZlXH.js";import{g as Vr}from"../chunks/rVIpjEnb.js";import{C as Gr}from"../chunks/F7l7YnQ6.js";import{A as Yt}from"../chunks/BEz0tgA7.js";import{t}from"../chunks/BXv1jDVW.js";import{w as Jr,s as Me,B as Kr}from"../chunks/2uWpc1Jl.js";import{A as Xr}from"../chunks/LaSHB24F.js";import{a as Yr}from"../chunks/DliSAU7O.js";import{S as Zr}from"../chunks/Dxuvm3wO.js";import{I as es}from"../chunks/B2RTnV-7.js";import{s as ts}from"../chunks/BDfAQ6r3.js";import{T as Je}from"../chunks/D-7Yb9FW.js";import{E as Zt}from"../chunks/gfJM6Lr5.js";import{L as Ve}from"../chunks/JIa4XFG7.js";import{u as rs,m as zt,r as ss,w as as}from"../chunks/DMe9yTXZ.js";import{d as er}from"../chunks/vO_crHjm.js";import{o as os,c as ls,t as et,z as ns}from"../chunks/B3MDECzE.js";import{W as tr}from"../chunks/rQ9pVa1K.js";import{d as is}from"../chunks/C7YGd2vM.js";import{p as cs}from"../chunks/756y7qLl.js";import{W as ds}from"../chunks/D74eeKVn.js";import{B as ft}from"../chunks/xlOWWygC.js";import{D as Bt,T as Ft}from"../chunks/CCLwf2Kf.js";import{I as rr}from"../chunks/BQ19dEFL.js";import{I as us}from"../chunks/CWeBFgRG.js";import{L as qt}from"../chunks/qfvyAaco.js";import{c as vs,d as ps,b as tt}from"../chunks/BSdQFxOj.js";import{M as rt}from"../chunks/D38q0be0.js";import{R as Ht,a as jt}from"../chunks/CZPG30hH.js";import{b as ms}from"../chunks/BvOUGpE9.js";import{M as fs}from"../chunks/CjSdgRSj.js";import{T as _s,a as gs}from"../chunks/BOTC2cql.js";import{f as Ne,l as st,u as hs,p as xs,t as $s,b as ws,d as bs}from"../chunks/B6necoT4.js";import{c as ys}from"../chunks/DdOilM5V.js";import{g as ks}from"../chunks/BduMvSVJ.js";import{g as Et}from"../chunks/BnZXuwac.js";var Ts=k('<div><h2 class="mb-4"> </h2> <p> </p></div>');function Ps(C,d){ne(d,!1);let g=z(d,"notes",8,"");ve();var w=Ts(),_=o(w),b=o(_,!0);a(_);var f=l(_,2),S=o(f,!0);a(f),a(w),y(T=>{v(b,T),v(S,g())},[()=>t("common.notes")],s),c(C,w),ie()}var Ss=k('<li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li>'),Cs=k('<li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li>'),As=k('<li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li>'),Ds=k('<ul class="settings-list svelte-s42yf"><li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <!> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <!> <!></ul>'),Is=k("<!> <!>",1);function Ms(C,d){ne(d,!1);let g=z(d,"spec",8),w=z(d,"state",8),_=z(d,"policies",8),b=z(d,"notes",8,"");ve();var f=Is(),S=q(f);Ps(S,{get notes(){return b()}});var T=l(S,2);const U=s(()=>t("schedules.advanced-settings"));Yt(T,{get title(){return e(U)},children:(x,R)=>{var K=Ds(),G=o(K),J=o(G),j=l(J),X=o(j,!0);a(j),a(G);var D=l(G,2),P=o(D),Q=l(P),B=o(Q,!0);a(Q),a(D);var E=l(D,2),O=o(E),W=l(O),Y=o(W,!0);a(W),a(E);var V=l(E,2),N=o(V),$e=l(N),qe=o($e,!0);a($e),a(V);var Se=l(V,2);{var He=$=>{var A=Ss(),ee=o(A),oe=l(ee),me=o(oe,!0);a(oe),a(A),y((te,ge)=>{v(ee,`${te??""} `),v(me,ge)},[()=>t("schedules.remaining-actions"),()=>{var te;return((te=w())==null?void 0:te.remainingActions)??t("common.none")}],s),c($,A)};ue(Se,$=>{var A;(A=w())!=null&&A.limitedActions&&$(He)})}var we=l(Se,2),je=o(we),pe=l(je),We=o(pe,!0);a(pe),a(we);var be=l(we,2),ye=o(be),Ce=l(ye),Ue=o(Ce,!0);a(Ce),a(be);var ke=l(be,2);{var Re=$=>{var A=Cs(),ee=o(A),oe=l(ee),me=o(oe,!0);a(oe),a(A),y((te,ge)=>{v(ee,`${te??""} `),v(me,ge)},[()=>t("schedules.pause-on-failure"),()=>_().pauseOnFailure?t("common.true"):t("common.false")],s),c($,A)};ue(ke,$=>{var A;((A=_())==null?void 0:A.pauseOnFailure)!=null&&$(Re)})}var Le=l(ke,2);{var lt=$=>{var A=As(),ee=o(A),oe=l(ee),me=o(oe,!0);a(oe),a(A),y((te,ge)=>{v(ee,`${te??""} `),v(me,ge)},[()=>t("schedules.keep-original-workflow-id"),()=>_().keepOriginalWorkflowId?t("common.true"):t("common.false")],s),c($,A)};ue(Le,$=>{var A;((A=_())==null?void 0:A.keepOriginalWorkflowId)!=null&&$(lt)})}a(K),y(($,A,ee,oe,me,te,ge,I,m,Z,fe,he)=>{v(J,`${$??""} `),v(X,A),v(P,`${ee??""} `),v(B,oe),v(O,`${me??""} `),v(Y,te),v(N,`${ge??""} `),v(qe,I),v(je,`${m??""} `),v(We,Z),v(ye,`${fe??""} `),v(Ue,he)},[()=>t("schedules.start-time"),()=>{var $;return(($=g())==null?void 0:$.startTime)??t("common.none")},()=>t("schedules.end-time"),()=>{var $;return(($=g())==null?void 0:$.endTime)??t("common.none")},()=>t("schedules.jitter"),()=>{var $;return(($=g())==null?void 0:$.jitter)??t("common.none")},()=>t("schedules.exclusion-calendar"),()=>{var $,A;return((A=($=g())==null?void 0:$.excludeCalendar)==null?void 0:A[0])??t("common.none")},()=>t("schedules.overlap-policy"),()=>{var $;return(($=_())==null?void 0:$.overlapPolicy)??t("common.none")},()=>t("schedules.catchup-window"),()=>{var $;return(($=_())==null?void 0:$.catchupWindow)!=null?Jr(_().catchupWindow.toString()):t("common.none")}],s),c(x,K)},$$slots:{default:!0}}),c(C,f),ie()}var Ws=k("<p> </p> <p> </p>",1);function Nt(C,d){ne(d,!1);let g=z(d,"error",8,"");ve(),Xr(C,{intent:"error",children:(w,_)=>{var b=Ws(),f=q(b),S=o(f,!0);a(f);var T=l(f,2),U=o(T,!0);a(T),y(x=>{v(S,x),v(U,g())},[()=>t("schedules.error-title")],s),c(w,b)},$$slots:{default:!0}}),ie()}var Us=k("<div><!></div>");function ot(C,d){const g=Gt(d,["children","$$slots","$$events","$$legacy"]);ne(d,!1);let w=z(d,"error",8,!1);ve();var _=Us();let b;var f=o(_);Vt(f,d,"default",{},null),a(_),y(S=>b=Yr(_,1,`panel surface-primary ${g.class??""}`,"svelte-eklrpl",b,S),[()=>({error:w()})],s),c(C,_),ie()}var Rs=k('<h2 class="mb-4"> </h2> <div class="pr-2"><!></div>',1);function Ls(C,d){ne(d,!0);let g=z(d,"timezoneName",3,"UTC");ot(C,{children:(w,_)=>{var b=Rs(),f=q(b),S=o(f,!0);a(f);var T=l(f,2),U=o(T);Zr(U,{get frequency(){return d.frequency},get timezoneName(){return g()},class:"text-base"}),a(T),y(x=>v(S,x),[()=>t("schedules.schedule-spec")]),c(w,b)},$$slots:{default:!0}}),ie()}function Os(C,d){ne(d,!1);let g=z(d,"input",8);ve(),ot(C,{children:(w,_)=>{const b=s(()=>t("schedules.schedule-input")),f=s(()=>ts(g()));es(w,{get title(){return e(b)},get content(){return e(f)}})},$$slots:{default:!0}}),ie()}var zs=k('<div class="row svelte-19syzt9"><div class="w-28"><!></div> <div class="mx-2 w-auto break-words"><!></div> <div class="ml-auto"><!></div></div>'),Bs=k('<div class="row svelte-19syzt9"><div class="w-28"></div> <div class="w-96"> </div> <div class="ml-auto"><!></div></div>'),Fs=k('<div class="flex justify-between"><h2 class="mb-4"> </h2> <!></div> <!> <!>',1);function qs(C,d){ne(d,!1);let g=z(d,"recentRuns",24,()=>[]),w=z(d,"namespace",8),_=z(d,"workflowQuery",8);const b=f=>{var S,T;return(T=(S=f==null?void 0:f.sort((U,x)=>new Date(x.actualTime).getTime()-new Date(U.actualTime).getTime()))===null||S===void 0?void 0:S.slice(0,5))!==null&&T!==void 0?T:[]};ve(),ot(C,{class:"w-full",children:(f,S)=>{var T=Fs(),U=q(T),x=o(U),R=o(x,!0);a(x);var K=l(x,2);const G=s(()=>os({namespace:w(),query:_()}));Ve(K,{get href(){return e(G)},children:(D,P)=>{le();var Q=ae();y(B=>v(Q,B),[()=>t("common.view-all-runs")],s),c(D,Q)},$$slots:{default:!0}}),a(U);var J=l(U,2);Ge(J,1,()=>b(g()),D=>{var P;return(P=D==null?void 0:D.startWorkflowResult)==null?void 0:P.workflowId},(D,P)=>{var Q=Pe(),B=q(Q);Xt(B,()=>rs({namespace:w(),workflowId:er(e(P).startWorkflowResult.workflowId),runId:e(P).startWorkflowResult.runId},fetch),null,(E,O)=>{var W=zs(),Y=o(W),V=o(Y);tr(V,{get status(){return e(O).status}}),a(Y);var N=l(Y,2),$e=o(N);const qe=s(()=>ls({workflow:e(P).startWorkflowResult.workflowId,run:e(P).startWorkflowResult.runId,namespace:w()}));Ve($e,{get href(){return e(qe)},children:(we,je)=>{le();var pe=ae();y(()=>v(pe,e(P).startWorkflowResult.workflowId)),c(we,pe)},$$slots:{default:!0}}),a(N);var Se=l(N,2),He=o(Se);Je(He,{as:"p",get dateTime(){return e(P).actualTime}}),a(Se),a(W),c(E,W)},E=>{var O=Bs(),W=l(o(O),2),Y=o(W,!0);a(W);var V=l(W,2),N=o(V);Je(N,{as:"p",get dateTime(){return e(P).actualTime}}),a(V),a(O),y(()=>v(Y,e(P).startWorkflowResult.workflowId)),c(E,O)}),c(D,Q)});var j=l(J,2);{var X=D=>{const P=s(()=>t("schedules.recent-runs-empty-state-title"));Zt(D,{get title(){return e(P)}})};ue(j,D=>{g().length||D(X)})}y(D=>v(R,D),[()=>t("schedules.recent-runs")],s),c(f,T)},$$slots:{default:!0}}),ie()}const Hs=C=>Array.isArray(C)?C.join(", "):C;var js=k('<li class="flex flex-wrap items-center gap-2 border-b py-2 last-of-type:border-b-0"><span class="break-all"> </span> <span class="surface-subtle select-all rounded-sm p-1 leading-4"> </span></li>'),Es=k('<ul class="w-full"></ul>');function Ns(C,d){ne(d,!1);const g=F(),w=F(),_=F();var b=F();let f=z(d,"searchAttributes",8);Qe(()=>jr(f()),()=>{u(g,is({searchAttributes:f()}))}),Qe(()=>(mt(b),e(g)),()=>{u(w,u(b,e(g)===null||e(g)===void 0?void 0:e(g).searchAttributes.indexedFields)!==null&&mt(b)!==void 0?mt(b):{})}),Qe(()=>e(w),()=>{u(_,Object.keys(e(w)).length)}),Qt(),ve();const S=s(()=>t("events.custom-search-attributes")),T=s(()=>`${e(_)} ${t("events.custom-search")} ${cs(t("events.attribute"),e(_))}`),U=s(()=>e(_)>0);Yt(C,{get title(){return e(S)},get subtitle(){return e(T)},get expandable(){return e(U)},children:(x,R)=>{var K=Pe(),G=q(K);{var J=j=>{var X=Es();Ge(X,5,()=>Object.entries(e(w)),at,(D,P)=>{let Q=()=>e(P)[0],B=()=>e(P)[1];var E=js();const O=s(()=>Hs(B()));var W=o(E),Y=o(W,!0);a(W);var V=l(W,2),N=o(V,!0);a(V),a(E),y(()=>{v(Y,Q()),v(N,e(O))}),c(D,E)}),a(X),c(j,X)};ue(G,j=>{e(_)&&j(J)})}c(x,K)},$$slots:{default:!0}}),ie()}var Qs=k('<div class="row svelte-dqszqh"><!></div>'),Vs=k('<h2 class="mb-4"> </h2> <!>',1);function Gs(C,d){ne(d,!1);let g=z(d,"futureRuns",24,()=>[]);ve(),ot(C,{class:"w-full",children:(w,_)=>{var b=Vs(),f=q(b),S=o(f,!0);a(f);var T=l(f,2);Ge(T,1,()=>g().slice(0,5),at,(U,x)=>{var R=Qs(),K=o(R);const G=s(()=>({relativeLabel:t("common.from-now")}));Je(K,{as:"p",get dateTime(){return e(x)},get options(){return e(G)}}),a(R),c(U,R)},U=>{const x=s(()=>t("schedules.upcoming-runs-empty-state-title"));Zt(U,{get title(){return e(x)}})}),y(U=>v(S,U),[()=>t("schedules.upcoming-runs")],s),c(w,b)},$$slots:{default:!0}}),ie()}var Js=k("<!> ",1),Ks=k('<div class="button-group flex h-10 cursor-pointer flex-row gap-[1px]"><!> <!></div> <!>',1);function Xs(C,d){const g=Gt(d,["children","$$slots","$$events","$$legacy"]);ne(d,!1);let w=z(d,"label",8),_=z(d,"menuLabel",8),b=z(d,"icon",8,void 0),f=z(d,"id",8),S=z(d,"disabled",8,!1),T=z(d,"position",8,"left"),U=z(d,"primaryActionDisabled",8,!1),x=z(d,"href",8,void 0),R=z(d,"menuClass",8,void 0);ve(),vs(C,{get class(){return g.class},children:(K,G)=>{var J=Ks(),j=q(J),X=o(j);const D=s(()=>S()||U());ft(X,{get disabled(){return e(D)},get id(){return`${f()??""}-primary-button`},get href(){return x()},disableTracking:!0,"data-track-name":"split-button","data-track-intent":"primary",get"data-track-text"(){return w()},$$events:{click(B){ms.call(this,d,B)}},children:(B,E)=>{var O=Js(),W=q(O);{var Y=N=>{rr(N,{get name(){return b()}})};ue(W,N=>{b()&&N(Y)})}var V=l(W);y(()=>v(V,` ${w()??""}`)),c(B,O)},$$slots:{default:!0}});var P=l(X,2);fs(P,{class:"max-w-fit grow-0 px-3",get id(){return`${f()??""}-menu-button`},get label(){return _()},get controls(){return`${f()??""}-menu`},variant:"primary",get disabled(){return S()},hasIndicator:!0}),a(j);var Q=l(j,2);ps(Q,{get id(){return`${f()??""}-menu`},get position(){return T()},get class(){return R()},children:(B,E)=>{var O=Pe(),W=q(O);Vt(W,d,"default",{},null),c(B,O)},$$slots:{default:!0}}),c(K,J)},$$slots:{default:!0}}),ie()}var Ys=k("<!> <!> <!> <!>",1),Zs=k('<div class="w-full xl:w-1/2"><!></div>'),ea=k('<h3 slot="title"> </h3>'),ta=k('<div slot="content"><p> </p> <p class="my-4"> </p> <!></div>'),ra=k('<h3 slot="title"> </h3>'),sa=k('<div slot="content"><!></div>'),aa=k('<h3 slot="title"> </h3>'),oa=k('<div slot="content" class="p-0"><div class="flex flex-col gap-2 p-2"><!> <!> <!> <!> <div class="flex w-full flex-row items-center gap-2"><!> <span class="text-xs font-normal text-slate-500"> </span></div></div> <hr tabindex="-1" aria-hidden="true" class="my-4 w-full border-subtle"> <div class="flex max-h-52 flex-col gap-2 overflow-auto"><!> <!></div></div>'),la=k('<h3 slot="title"> </h3>'),na=k('<div slot="content"><p> </p></div>'),ia=k('<header class="flex flex-row flex-wrap justify-between gap-4"><div class="relative flex flex-col"><!> <h1 class="relative flex items-center"><span class="select-all" data-testid="schedule-name"></span></h1> <div class="flex flex-wrap items-center gap-2 text-lg"><!> <p> </p></div> <!> <!></div> <!></header> <!> <div class="flex flex-col gap-4 pb-24"><!> <div class="flex w-full flex-col gap-2 text-lg"><div class="flex items-center gap-2"><span data-testid="workflow-count"> <!></span> <!></div> <!></div> <div class="flex flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col items-start gap-4 xl:w-2/3"><!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 xl:w-1/3"><!> <!></div></div></div> <!> <!> <!> <!>',1),ca=k('<header class="mb-8"><div class="relative flex flex-col gap-1"><!> <h1 class="mt-8 select-all" data-testid="schedule-name"></h1> <p class="text-sm"></p></div></header> <!>',1),da=k('<header class="mb-8"><div class="relative flex flex-col gap-4"><!> <h1 class="select-all" data-testid="schedule-name"></h1></div></header> <!>',1);function ua(C,d){ne(d,!1);const[g,w]=Jt(),_=()=>Fe(Kt,"$page",g),b=()=>Fe(qe,"$coreUser",g),f=()=>Fe(st,"$loading",g),S=()=>Fe(W,"$overlapPolicy",g),T=()=>Fe(as,"$workflowCount",g),U=F();let x=_().params.namespace,R=_().params.schedule,K=`TemporalScheduledById="${R}"`;const G=ks(),J={namespace:x,scheduleId:er(R)};let j=F(Ne(J)),X=F(!1),D=F(!1),P=F(!1),Q=F(!1),B=F(""),E=F(""),O=F(!1),W=Qr("Unspecified"),Y,V,N,$e=[{description:t("schedules.trigger-unspecified-description"),label:t("schedules.trigger-unspecified-title"),value:"Unspecified"},{description:t("schedules.trigger-buffer-all-description"),label:t("schedules.trigger-buffer-all-title"),value:"BufferAll"},{description:t("schedules.trigger-allow-all-description"),label:t("schedules.trigger-allow-all-title"),value:"AllowAll"},{description:t("schedules.trigger-skip-description"),label:t("schedules.trigger-skip-title"),value:"Skip"},{description:t("schedules.trigger-buffer-one-description"),label:t("schedules.trigger-buffer-one-title"),value:"BufferOne"},{description:t("schedules.trigger-cancel-other-description"),label:t("schedules.trigger-cancel-other-title"),value:"CancelOther"},{description:t("schedules.trigger-terminate-other-description"),label:t("schedules.trigger-terminate-other-title"),value:"TerminateOther"}],qe=ys();const Se=async()=>{u(E,"");try{Be(st,!0),await bs({identity:G,namespace:x,scheduleId:R}),u(Q,!1),clearTimeout(Y),Y=setTimeout(()=>{Be(st,!1),Vr(et({namespace:x}))},2e3),u(B,"")}catch(I){u(E,t("schedules.delete-schedule-error",{error:I==null?void 0:I.message})),Be(st,!1)}},He=async I=>{var m,Z;!((Z=(m=I==null?void 0:I.schedule)===null||m===void 0?void 0:m.state)===null||Z===void 0)&&Z.paused?await hs({identity:G,namespace:x,scheduleId:R,reason:e(B)}):await xs({identity:G,namespace:x,scheduleId:R,reason:e(B)}),u(j,Ne(J)),u(B,""),u(X,!1)},we=()=>{u(D,!1),Be(W,"Unspecified")},je=async()=>{u(O,!0),await $s({identity:G,namespace:x,scheduleId:R,overlapPolicy:S()}),clearTimeout(V),V=setTimeout(()=>{u(j,Ne(J)),we(),u(O,!1)},1e3)};let pe=F(!1),We=F(Me(new Date)),be=F(Me(new Date)),ye=F(""),Ce=F(""),Ue=F(""),ke=F(""),Re=F(""),Le=F("");const lt=I=>{u(We,Me(I.detail))},$=I=>{u(be,Me(I.detail))},A=()=>{const I=new Date(Date.now()),m=gs(I,1);u(ye,I.getUTCHours().toString()),u(Ce,I.getUTCMinutes().toString()),u(Ue,I.getUTCSeconds().toString()),u(ke,m.getUTCHours().toString()),u(Re,m.getUTCMinutes().toString()),u(Le,m.getUTCSeconds().toString()),u(We,Me(new Date)),u(be,e(ke)<e(ye)?Me(Kr(new Date,1)):Me(new Date))},ee=()=>{u(P,!1),u(pe,!1),Be(W,"Unspecified")},oe=async()=>{u(O,!0);const I=Et({date:e(We),hour:e(ye),minute:e(Ce),second:e(Ue)}),m=Et({date:e(be),hour:e(ke),minute:e(Re),second:e(Le)});await ws({identity:G,namespace:x,scheduleId:R,overlapPolicy:S(),startTime:I,endTime:m}),clearTimeout(N),N=setTimeout(()=>{u(j,Ne(J)),ee(),u(O,!1)},1e3)},me=()=>{u(B,"")};Nr(()=>{clearTimeout(Y),clearTimeout(V),clearTimeout(N)}),Qe(()=>(b(),zt),()=>{u(U,b().namespaceWriteDisabled(x)||!zt())}),Qe(()=>e(P),()=>{e(P)&&A()}),Qt(),ve();var te=Pe(),ge=q(te);Xt(ge,()=>e(j),I=>{var m=da(),Z=q(m),fe=o(Z),he=o(fe);const Oe=s(()=>et({namespace:x}));Ve(he,{get href(){return e(Oe)},icon:"chevron-left",children:(De,ze)=>{le();var Ie=ae();y(Te=>v(Ie,Te),[()=>t("schedules.back-to-schedules")],s),c(De,Ie)},$$slots:{default:!0}});var _e=l(he,2);_e.textContent=R,a(fe),a(Z);var Ae=l(Z,2);qt(Ae,{}),c(I,m)},(I,m)=>{var Z=Pe(),fe=q(Z);{var he=_e=>{qt(_e,{class:"my-2"})},Oe=_e=>{var Ae=ia(),De=q(Ae),ze=o(De),Ie=o(ze);const Te=s(()=>et({namespace:x}));Ve(Ie,{get href(){return e(Te)},icon:"chevron-left",children:(r,i)=>{le();var n=ae();y(p=>v(n,p),[()=>t("schedules.back-to-schedules")],s),c(r,n)},$$slots:{default:!0}});var Ke=l(Ie,2),Xe=o(Ke);Xe.textContent=R,a(Ke);var Ee=l(Ke,2),_t=o(Ee);const sr=s(()=>{var r;return(r=e(m))!=null&&r.schedule.state.paused?"Paused":"Running"});tr(_t,{get status(){return e(sr)}});var gt=l(_t,2),ar=o(gt,!0);a(gt),a(Ee);var ht=l(Ee,2);const or=s(()=>{var r,i;return(i=(r=e(m))==null?void 0:r.info)==null?void 0:i.createTime});Je(ht,{as:"p",class:"flex items-center gap-2 text-right text-sm",get dateTime(){return e(or)},leading:i=>{le();var n=ae("Created");c(i,n)},$$slots:{leading:!0}});var lr=l(ht,2);{var nr=r=>{const i=s(()=>{var n,p;return(p=(n=e(m))==null?void 0:n.info)==null?void 0:p.updateTime});Je(r,{as:"p",class:"flex items-center gap-2 text-right text-sm",get dateTime(){return e(i)},leading:p=>{le();var h=ae("Last Updated");c(p,h)},$$slots:{leading:!0}})};ue(lr,r=>{var i,n;(n=(i=e(m))==null?void 0:i.info)!=null&&n.updateTime&&r(nr)})}a(ze);var ir=l(ze,2);const cr=s(()=>{var r,i,n;return(n=(i=(r=e(m))==null?void 0:r.schedule)==null?void 0:i.state)!=null&&n.paused?t("schedules.unpause"):t("schedules.pause")}),dr=s(()=>t("schedules.schedule-actions"));Xs(ir,{position:"right",get label(){return e(cr)},get menuLabel(){return e(dr)},id:"schedule-actions",get disabled(){return e(U)},$$events:{click:()=>u(X,!0)},children:(r,i)=>{var n=Ys(),p=q(n);tt(p,{"data-testid":"trigger-schedule",onclick:()=>u(D,!0),children:(re,se)=>{le();var L=ae();y(de=>v(L,de),[()=>t("schedules.trigger")],s),c(re,L)},$$slots:{default:!0}});var h=l(p,2);tt(h,{"data-testid":"backfill-schedule",onclick:()=>u(P,!0),children:(re,se)=>{le();var L=ae();y(de=>v(L,de),[()=>t("schedules.backfill")],s),c(re,L)},$$slots:{default:!0}});var M=l(h,2);const ce=s(()=>ns({namespace:x,scheduleId:R}));tt(M,{"data-testid":"edit-schedule",get href(){return e(ce)},children:(re,se)=>{le();var L=ae();y(de=>v(L,de),[()=>t("common.edit")],s),c(re,L)},$$slots:{default:!0}});var xe=l(M,2);tt(xe,{"data-testid":"delete-schedule",destructive:!0,onclick:()=>u(Q,!0),children:(re,se)=>{le();var L=ae();y(de=>v(L,de),[()=>t("common.delete")],s),c(re,L)},$$slots:{default:!0}}),c(r,n)},$$slots:{default:!0}}),a(De);var xt=l(De,2);Gr(xt,{});var nt=l(xt,2),$t=o(nt);{var ur=r=>{var i=Zs(),n=o(i);const p=s(()=>{var h,M;return(M=(h=e(m))==null?void 0:h.info)==null?void 0:M.invalidScheduleError});Nt(n,{get error(){return e(p)}}),a(i),c(r,i)};ue($t,r=>{var i,n;(n=(i=e(m))==null?void 0:i.info)!=null&&n.invalidScheduleError&&r(ur)})}var it=l($t,2),ct=o(it),dt=o(ct),wt=o(dt),vr=l(wt);_s(vr,{key:"common.workflows-plural",get count(){return T().count}}),a(dt);var pr=l(dt,2);ft(pr,{size:"xs",variant:"ghost",leadingIcon:"retry",$$events:{click:()=>{u(j,Ne(J)),Be(ss,Date.now())}},children:(r,i)=>{var n=Pe(),p=q(n);{var h=M=>{var ce=ae();y(xe=>v(ce,`+${xe??""}`),[()=>T().newCount.toLocaleString()],s),c(M,ce)};ue(p,M=>{T().newCount>0&&M(h)})}c(r,n)},$$slots:{default:!0}}),a(ct);var mr=l(ct,2);ds(mr,{staticQuery:K}),a(it);var bt=l(it,2),ut=o(bt),yt=o(ut);const fr=s(()=>{var r,i;return(i=(r=e(m))==null?void 0:r.info)==null?void 0:i.recentActions});qs(yt,{namespace:x,get recentRuns(){return e(fr)},workflowQuery:K});var kt=l(yt,2);const _r=s(()=>{var r,i;return(i=(r=e(m))==null?void 0:r.info)==null?void 0:i.futureActionTimes});Gs(kt,{get futureRuns(){return e(_r)}});var Tt=l(kt,2);const gr=s(()=>{var r,i;return(i=(r=e(m))==null?void 0:r.schedule)==null?void 0:i.spec}),hr=s(()=>{var r,i;return(i=(r=e(m))==null?void 0:r.schedule)==null?void 0:i.state}),xr=s(()=>{var r,i;return(i=(r=e(m))==null?void 0:r.schedule)==null?void 0:i.policies}),$r=s(()=>{var r,i,n;return(n=(i=(r=e(m))==null?void 0:r.schedule)==null?void 0:i.state)==null?void 0:n.notes});Ms(Tt,{get spec(){return e(gr)},get state(){return e(hr)},get policies(){return e(xr)},get notes(){return e($r)}});var wr=l(Tt,2);const br=s(()=>{var r;return((r=e(m))==null?void 0:r.searchAttributes)??{}});Ns(wr,{get searchAttributes(){return e(br)}}),a(ut);var Pt=l(ut,2),St=o(Pt);const yr=s(()=>{var r,i,n,p;return(p=(n=(i=(r=e(m))==null?void 0:r.schedule)==null?void 0:i.action)==null?void 0:n.startWorkflow)==null?void 0:p.input});Os(St,{get input(){return e(yr)}});var kr=l(St,2);const Tr=s(()=>{var r,i,n,p,h,M;return[...((n=(i=(r=e(m))==null?void 0:r.schedule)==null?void 0:i.spec)==null?void 0:n.structuredCalendar)??[],...((M=(h=(p=e(m))==null?void 0:p.schedule)==null?void 0:h.spec)==null?void 0:M.interval)??[]]}),Pr=s(()=>{var r,i,n;return(n=(i=(r=e(m))==null?void 0:r.schedule)==null?void 0:i.spec)==null?void 0:n.timezoneName});Ls(kr,{get frequency(){return e(Tr)},get timezoneName(){return e(Pr)}}),a(Pt),a(bt),a(nt);var Ct=l(nt,2);const Sr=s(()=>{var r;return(r=e(m))!=null&&r.schedule.state.paused?t("schedules.unpause"):t("schedules.pause")}),Cr=s(()=>t("common.cancel")),Ar=s(()=>!e(B));rt(Ct,{id:"pause-schedule-modal",confirmType:"primary",get confirmText(){return e(Sr)},get cancelText(){return e(Cr)},get confirmDisabled(){return e(Ar)},get open(){return e(X)},set open(r){u(X,r)},$$events:{confirmModal:()=>He(e(m)),cancelModal:me},$$slots:{title:(r,i)=>{var n=ea(),p=o(n,!0);a(n),y(h=>v(p,h),[()=>{var h;return(h=e(m))!=null&&h.schedule.state.paused?t("schedules.unpause-modal-title"):t("schedules.pause-modal-title")}],s),c(r,n)},content:(r,i)=>{var n=ta(),p=o(n),h=o(p,!0);a(p);var M=l(p,2),ce=o(M,!0);a(M);var xe=l(M,2);const re=s(()=>t("common.reason")),se=s(()=>t("common.reason"));us(xe,{id:"pause-reason",get placeholder(){return e(re)},get label(){return e(se)},labelHidden:!0,get value(){return e(B)},set value(L){u(B,L)},$$legacy:!0}),a(n),y((L,de)=>{v(h,L),v(ce,de)},[()=>{var L;return(L=e(m))!=null&&L.schedule.state.paused?t("schedules.unpause-modal-confirmation",{schedule:R}):t("schedules.pause-modal-confirmation",{schedule:R})},()=>{var L;return(L=e(m))!=null&&L.schedule.state.paused?t("schedules.unpause-reason"):t("schedules.pause-reason")}],s),c(r,n)}},$$legacy:!0});var At=l(Ct,2);const Dr=s(()=>t("schedules.trigger")),Ir=s(()=>t("common.cancel"));rt(At,{id:"trigger-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(Dr)},get cancelText(){return e(Ir)},get loading(){return e(O)},get open(){return e(D)},set open(r){u(D,r)},$$events:{confirmModal:()=>je(),cancelModal:we},$$slots:{title:(r,i)=>{var n=ra(),p=o(n,!0);a(n),y(h=>v(p,h),[()=>t("schedules.trigger-modal-title")],s),c(r,n)},content:(r,i)=>{var n=sa(),p=o(n);Ht(p,{group:W,name:"trigger-event-id",class:"h-auto overflow-auto",children:(h,M)=>{var ce=Pe(),xe=q(ce);Ge(xe,1,()=>$e,at,(re,se)=>{jt(re,{get id(){return e(se).value},get value(){return e(se).value},get label(){return e(se).label},get description(){return e(se).description}})}),c(h,ce)},$$slots:{default:!0}}),a(n),c(r,n)}},$$legacy:!0});var Dt=l(At,2);const Mr=s(()=>t("schedules.schedule")),Wr=s(()=>t("common.cancel"));rt(Dt,{id:"backfill-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(Mr)},get cancelText(){return e(Wr)},get loading(){return e(O)},get open(){return e(P)},set open(r){u(P,r)},$$events:{confirmModal:()=>oe(),cancelModal:ee},$$slots:{title:(r,i)=>{var n=aa(),p=o(n);a(n),y((h,M)=>v(p,`${h??""}
        ${M??""}`),[()=>t("schedules.schedule"),()=>t("schedules.backfill")],s),c(r,n)},content:(r,i)=>{var n=oa(),p=o(n),h=o(p);const M=s(()=>t("common.start")),ce=s(()=>t("common.today")),xe=s(()=>t("common.close")),re=s(()=>t("common.clear-input-button-label"));Bt(h,{get label(){return e(M)},get selected(){return e(We)},get todayLabel(){return e(ce)},get closeLabel(){return e(xe)},get clearLabel(){return e(re)},$$events:{datechange:lt}});var se=l(h,2);Ft(se,{twelveHourClock:!1,get hour(){return e(ye)},set hour(H){u(ye,H)},get minute(){return e(Ce)},set minute(H){u(Ce,H)},get second(){return e(Ue)},set second(H){u(Ue,H)},$$legacy:!0});var L=l(se,2);const de=s(()=>t("common.end")),Or=s(()=>t("common.today")),zr=s(()=>t("common.close")),Br=s(()=>t("common.clear-input-button-label"));Bt(L,{get label(){return e(de)},get selected(){return e(be)},get todayLabel(){return e(Or)},get closeLabel(){return e(zr)},get clearLabel(){return e(Br)},$$events:{datechange:$}});var It=l(L,2);Ft(It,{twelveHourClock:!1,get hour(){return e(ke)},set hour(H){u(ke,H)},get minute(){return e(Re)},set minute(H){u(Re,H)},get second(){return e(Le)},set second(H){u(Le,H)},$$legacy:!0});var Mt=l(It,2),Wt=o(Mt);rr(Wt,{name:"clock","aria-hidden":"true"});var Ut=l(Wt,2),Fr=o(Ut);a(Ut),a(Mt),a(p);var Rt=l(p,4),Lt=o(Rt);Ht(Lt,{group:W,name:"backfill-event-id",class:"h-auto overflow-auto",children:(H,Ot)=>{var vt=Pe(),Ye=q(vt);Ge(Ye,1,()=>$e.slice(0,e(pe)?$e.length:3),at,(pt,Ze)=>{jt(pt,{get id(){return e(Ze).value},get value(){return e(Ze).value},get label(){return e(Ze).label},get description(){return e(Ze).description}})}),c(H,vt)},$$slots:{default:!0}});var qr=l(Lt,2);{var Hr=H=>{ft(H,{variant:"ghost",size:"xs",$$events:{click:()=>u(pe,!0)},children:(Ot,vt)=>{le();var Ye=ae();y(pt=>v(Ye,pt),[()=>t("schedules.more-options")],s),c(Ot,Ye)},$$slots:{default:!0}})};ue(qr,H=>{e(pe)||H(Hr)})}a(Rt),a(n),y(H=>v(Fr,`${H??""} Universal Standard Time
              (UTC)`),[()=>t("common.based-on-time-preface")],s),c(r,n)}},$$legacy:!0});var Ur=l(Dt,2);const Rr=s(()=>t("common.delete")),Lr=s(()=>t("common.cancel"));rt(Ur,{id:"delete-schedule-modal",confirmType:"destructive",get confirmText(){return e(Rr)},get cancelText(){return e(Lr)},get open(){return e(Q)},set open(r){u(Q,r)},get error(){return e(E)},set error(r){u(E,r)},$$events:{confirmModal:Se,cancelModal:me},$$slots:{title:(r,i)=>{var n=la(),p=o(n,!0);a(n),y(h=>v(p,h),[()=>t("schedules.delete-modal-title")],s),c(r,n)},content:(r,i)=>{var n=na(),p=o(n),h=o(p,!0);a(p),a(n),y(M=>v(h,M),[()=>t("schedules.delete-modal-confirmation",{schedule:R})],s),c(r,n)}},$$legacy:!0}),y(r=>{var i,n,p,h,M;v(ar,(M=(h=(p=(n=(i=e(m))==null?void 0:i.schedule)==null?void 0:n.action)==null?void 0:p.startWorkflow)==null?void 0:h.workflowType)==null?void 0:M.name),v(wt,`${r??""} `)},[()=>T().count.toLocaleString()],s),c(_e,Ae)};ue(fe,_e=>{f()?_e(he):_e(Oe,!1)})}c(I,Z)},(I,m)=>{var Z=ca(),fe=q(Z),he=o(fe),Oe=o(he);const _e=s(()=>et({namespace:x}));Ve(Oe,{get href(){return e(_e)},icon:"chevron-left",children:(Te,Ke)=>{le();var Xe=ae();y(Ee=>v(Xe,Ee),[()=>t("schedules.back-to-schedules")],s),c(Te,Xe)},$$slots:{default:!0}});var Ae=l(Oe,2);Ae.textContent=R;var De=l(Ae,2);De.textContent=x,a(he),a(fe);var ze=l(fe,2);const Ie=s(()=>{var Te;return(Te=e(m))==null?void 0:Te.message});Nt(ze,{get error(){return e(Ie)}}),c(I,Z)}),c(C,te),ie(),w()}var va=k("<!> <!>",1);function lo(C,d){ne(d,!1);const[g,w]=Jt(),_=()=>Fe(Kt,"$page",g),b=_().params.schedule;ve();var f=va(),S=q(f);Er(S,{title:`Schedule | ${b}`,get url(){return _().url.href}});var T=l(S,2);ua(T,{}),c(C,f),ie(),w()}export{lo as component};
