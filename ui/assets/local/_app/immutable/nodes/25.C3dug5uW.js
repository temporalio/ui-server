import"../chunks/Bzak7iHL.js";import"../chunks/69_IOA4Y.js";import{p as ne,t as T,i as o,r as a,c as n,j as $,o as s,e as c,b as ie,f as H,g as e,n as le,k as se,h as Te,l as Fe,s as p,m as F,M as Fr,aj as ut,a as jt}from"../chunks/CYx2j9em.js";import{i as pe,s as Et}from"../chunks/HoZrOv-6.js";import{p as z,l as Nt,a as Oe,s as Qt,c as Le}from"../chunks/DnRAdnAf.js";import{p as Vt}from"../chunks/CidsXpNP.js";import{P as qr}from"../chunks/DN2Bw11a.js";import{s as u}from"../chunks/BjCW00Pv.js";import{a as Gt}from"../chunks/LxxMQusO.js";import{i as ve}from"../chunks/DeQvpgQS.js";import{e as He,i as et}from"../chunks/C1OgRA7l.js";import{w as Hr}from"../chunks/CzTm8X19.js";import{g as jr}from"../chunks/D3mPUXmH.js";import{C as Er}from"../chunks/C5wFgPTU.js";import{A as Jt}from"../chunks/CnoPspYK.js";import{t}from"../chunks/BXv1jDVW.js";import{w as Nr,s as De,B as Qr}from"../chunks/2uWpc1Jl.js";import{A as Vr}from"../chunks/TlAHMYQ6.js";import{a as Gr}from"../chunks/CHX8vcg8.js";import{S as Jr}from"../chunks/OiUrSY8E.js";import{I as Kr}from"../chunks/De5Dg-u2.js";import{s as Xr}from"../chunks/BDfAQ6r3.js";import{T as je}from"../chunks/C5Sw_ggu.js";import{E as Kt}from"../chunks/BJQQDmwL.js";import{L as qe}from"../chunks/okl5SrKR.js";import{u as Yr,m as Ut,r as Zr,w as es}from"../chunks/BcIOdc2R.js";import{d as Xt}from"../chunks/vO_crHjm.js";import{o as ts,c as rs,t as Ke,z as ss}from"../chunks/yeH8K6Zf.js";import{W as Yt}from"../chunks/C6aklHeg.js";import{d as as}from"../chunks/pbvGJLXG.js";import{p as os}from"../chunks/756y7qLl.js";import{W as ls}from"../chunks/96m_J7Fc.js";import{B as vt}from"../chunks/B9yPLxZj.js";import{D as Lt,T as Ot}from"../chunks/CrprEgkn.js";import{I as Zt}from"../chunks/Cgy7lDWn.js";import{I as ns}from"../chunks/DH-qHh3A.js";import{L as zt}from"../chunks/BdJ44p3e.js";import{c as is,d as cs,b as Xe}from"../chunks/DejKAeDH.js";import{M as Ye}from"../chunks/vBRT9TDL.js";import{R as Bt,a as Ft}from"../chunks/UShUVu_D.js";import{b as ds}from"../chunks/D5h33X_W.js";import{M as us}from"../chunks/3r6Rhf0H.js";import{T as vs,a as ps}from"../chunks/BCdICmxL.js";import{f as Be,l as Ze,u as fs,p as ms,t as _s,b as gs,d as hs}from"../chunks/onNynuwh.js";import{c as xs}from"../chunks/Corebn1S.js";import{g as $s}from"../chunks/C2N_BLLi.js";import{g as qt}from"../chunks/Cted96qS.js";var ws=T('<div><h2 class="mb-4"> </h2> <p> </p></div>');function bs(I,d){ne(d,!1);let h=z(d,"notes",8,"");pe();var b=ws(),_=o(b),y=o(_,!0);a(_);var m=n(_,2),C=o(m,!0);a(m),a(b),$(P=>{u(y,P),u(C,h())},[()=>t("common.notes")],s),c(I,b),ie()}var ys=T('<li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li>'),ks=T('<li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li>'),Ts=T('<li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li>'),Ps=T('<ul class="settings-list svelte-s42yf"><li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <!> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <!> <!></ul>'),Ss=T("<!> <!>",1);function Cs(I,d){ne(d,!1);let h=z(d,"spec",8),b=z(d,"state",8),_=z(d,"policies",8),y=z(d,"notes",8,"");pe();var m=Ss(),C=H(m);bs(C,{get notes(){return y()}});var P=n(C,2);const R=s(()=>t("schedules.advanced-settings"));Jt(P,{get title(){return e(R)},children:(x,U)=>{var K=Ps(),V=o(K),G=o(V),E=n(G),X=o(E,!0);a(E),a(V);var M=n(V,2),S=o(M),Q=n(S),B=o(Q,!0);a(Q),a(M);var N=n(M,2),O=o(N),W=n(O),Y=o(W,!0);a(W),a(N);var Z=n(N,2),J=o(Z),Ie=n(J),Me=o(Ie,!0);a(Ie),a(Z);var Pe=n(Z,2);{var xe=w=>{var A=ys(),ee=o(A),ae=n(ee),k=o(ae,!0);a(ae),a(A),$((v,q)=>{u(ee,`${v??""} `),u(k,q)},[()=>t("schedules.remaining-actions"),()=>{var v;return((v=b())==null?void 0:v.remainingActions)??t("common.none")}],s),c(w,A)};ve(Pe,w=>{var A;(A=b())!=null&&A.limitedActions&&w(xe)})}var fe=n(Pe,2),$e=o(fe),ce=n($e),We=o(ce,!0);a(ce),a(fe);var we=n(fe,2),be=o(we),Se=n(be),Re=o(Se,!0);a(Se),a(we);var Ee=n(we,2);{var rt=w=>{var A=ks(),ee=o(A),ae=n(ee),k=o(ae,!0);a(ae),a(A),$((v,q)=>{u(ee,`${v??""} `),u(k,q)},[()=>t("schedules.pause-on-failure"),()=>_().pauseOnFailure?t("common.true"):t("common.false")],s),c(w,A)};ve(Ee,w=>{var A;((A=_())==null?void 0:A.pauseOnFailure)!=null&&w(rt)})}var st=n(Ee,2);{var Ne=w=>{var A=Ts(),ee=o(A),ae=n(ee),k=o(ae,!0);a(ae),a(A),$((v,q)=>{u(ee,`${v??""} `),u(k,q)},[()=>t("schedules.keep-original-workflow-id"),()=>_().keepOriginalWorkflowId?t("common.true"):t("common.false")],s),c(w,A)};ve(st,w=>{var A;((A=_())==null?void 0:A.keepOriginalWorkflowId)!=null&&w(Ne)})}a(K),$((w,A,ee,ae,k,v,q,me,_e,ye,oe,ge)=>{u(G,`${w??""} `),u(X,A),u(S,`${ee??""} `),u(B,ae),u(O,`${k??""} `),u(Y,v),u(J,`${q??""} `),u(Me,me),u($e,`${_e??""} `),u(We,ye),u(be,`${oe??""} `),u(Re,ge)},[()=>t("schedules.start-time"),()=>{var w;return((w=h())==null?void 0:w.startTime)??t("common.none")},()=>t("schedules.end-time"),()=>{var w;return((w=h())==null?void 0:w.endTime)??t("common.none")},()=>t("schedules.jitter"),()=>{var w;return((w=h())==null?void 0:w.jitter)??t("common.none")},()=>t("schedules.exclusion-calendar"),()=>{var w,A;return((A=(w=h())==null?void 0:w.excludeCalendar)==null?void 0:A[0])??t("common.none")},()=>t("schedules.overlap-policy"),()=>{var w;return((w=_())==null?void 0:w.overlapPolicy)??t("common.none")},()=>t("schedules.catchup-window"),()=>{var w;return((w=_())==null?void 0:w.catchupWindow)!=null?Nr(_().catchupWindow.toString()):t("common.none")}],s),c(x,K)},$$slots:{default:!0}}),c(I,m),ie()}var As=T("<p> </p> <p> </p>",1);function Ht(I,d){ne(d,!1);let h=z(d,"error",8,"");pe(),Vr(I,{intent:"error",children:(b,_)=>{var y=As(),m=H(y),C=o(m,!0);a(m);var P=n(m,2),R=o(P,!0);a(P),$(x=>{u(C,x),u(R,h())},[()=>t("schedules.error-title")],s),c(b,y)},$$slots:{default:!0}}),ie()}var Ds=T("<div><!></div>");function tt(I,d){const h=Nt(d,["children","$$slots","$$events","$$legacy"]);ne(d,!1);let b=z(d,"error",8,!1);pe();var _=Ds();let y;var m=o(_);Et(m,d,"default",{},null),a(_),$(C=>y=Gr(_,1,`panel surface-primary ${h.class??""}`,"svelte-eklrpl",y,C),[()=>({error:b()})],s),c(I,_),ie()}var Is=T('<h2 class="mb-4"> </h2> <div class="pr-2"><!></div>',1);function Ms(I,d){ne(d,!0);let h=z(d,"timezoneName",3,"UTC");tt(I,{children:(b,_)=>{var y=Is(),m=H(y),C=o(m,!0);a(m);var P=n(m,2),R=o(P);Jr(R,{get frequency(){return d.frequency},get timezoneName(){return h()},class:"text-base"}),a(P),$(x=>u(C,x),[()=>t("schedules.schedule-spec")]),c(b,y)},$$slots:{default:!0}}),ie()}function Ws(I,d){ne(d,!1);let h=z(d,"input",8);pe(),tt(I,{children:(b,_)=>{const y=s(()=>t("schedules.schedule-input")),m=s(()=>Xr(h()));Kr(b,{get title(){return e(y)},get content(){return e(m)}})},$$slots:{default:!0}}),ie()}var Rs=T('<div class="row svelte-19syzt9"><div class="w-28"><!></div> <div class="mx-2 w-auto break-words"><!></div> <div class="ml-auto"><!></div></div>'),Us=T('<div class="row svelte-19syzt9"><div class="w-28"></div> <div class="w-96"> </div> <div class="ml-auto"><!></div></div>'),Ls=T('<div class="flex justify-between"><h2 class="mb-4"> </h2> <!></div> <!> <!>',1);function Os(I,d){ne(d,!1);let h=z(d,"recentRuns",24,()=>[]),b=z(d,"namespace",8),_=z(d,"workflowQuery",8);const y=m=>{var C,P;return(P=(C=m==null?void 0:m.sort((R,x)=>new Date(x.actualTime).getTime()-new Date(R.actualTime).getTime()))===null||C===void 0?void 0:C.slice(0,5))!==null&&P!==void 0?P:[]};pe(),tt(I,{class:"w-full",children:(m,C)=>{var P=Ls(),R=H(P),x=o(R),U=o(x,!0);a(x);var K=n(x,2);const V=s(()=>ts({namespace:b(),query:_()}));qe(K,{get href(){return e(V)},children:(M,S)=>{le();var Q=se();$(B=>u(Q,B),[()=>t("common.view-all-runs")],s),c(M,Q)},$$slots:{default:!0}}),a(R);var G=n(R,2);He(G,1,()=>y(h()),M=>{var S;return(S=M==null?void 0:M.startWorkflowResult)==null?void 0:S.workflowId},(M,S)=>{var Q=Te(),B=H(Q);Gt(B,()=>Yr({namespace:b(),workflowId:Xt(e(S).startWorkflowResult.workflowId),runId:e(S).startWorkflowResult.runId},fetch),null,(N,O)=>{var W=Rs(),Y=o(W),Z=o(Y);Yt(Z,{get status(){return e(O).status}}),a(Y);var J=n(Y,2),Ie=o(J);const Me=s(()=>rs({workflow:e(S).startWorkflowResult.workflowId,run:e(S).startWorkflowResult.runId,namespace:b()}));qe(Ie,{get href(){return e(Me)},children:(fe,$e)=>{le();var ce=se();$(()=>u(ce,e(S).startWorkflowResult.workflowId)),c(fe,ce)},$$slots:{default:!0}}),a(J);var Pe=n(J,2),xe=o(Pe);je(xe,{as:"p",get dateTime(){return e(S).actualTime}}),a(Pe),a(W),c(N,W)},N=>{var O=Us(),W=n(o(O),2),Y=o(W,!0);a(W);var Z=n(W,2),J=o(Z);je(J,{as:"p",get dateTime(){return e(S).actualTime}}),a(Z),a(O),$(()=>u(Y,e(S).startWorkflowResult.workflowId)),c(N,O)}),c(M,Q)});var E=n(G,2);{var X=M=>{const S=s(()=>t("schedules.recent-runs-empty-state-title"));Kt(M,{get title(){return e(S)}})};ve(E,M=>{h().length||M(X)})}$(M=>u(U,M),[()=>t("schedules.recent-runs")],s),c(m,P)},$$slots:{default:!0}}),ie()}const zs=I=>Array.isArray(I)?I.join(", "):I;var Bs=T('<li class="flex flex-wrap items-center gap-2 border-b py-2 last-of-type:border-b-0"><span class="break-all"> </span> <span class="surface-subtle select-all rounded-sm p-1 leading-4"> </span></li>'),Fs=T('<ul class="w-full"></ul>');function qs(I,d){ne(d,!1);const h=F(),b=F(),_=F();var y=F();let m=z(d,"searchAttributes",8);Fe(()=>Fr(m()),()=>{p(h,as({searchAttributes:m()}))}),Fe(()=>(ut(y),e(h)),()=>{p(b,p(y,e(h)===null||e(h)===void 0?void 0:e(h).searchAttributes.indexedFields)!==null&&ut(y)!==void 0?ut(y):{})}),Fe(()=>e(b),()=>{p(_,Object.keys(e(b)).length)}),jt(),pe();const C=s(()=>t("events.custom-search-attributes")),P=s(()=>`${e(_)} ${t("events.custom-search")} ${os(t("events.attribute"),e(_))}`),R=s(()=>e(_)>0);Jt(I,{get title(){return e(C)},get subtitle(){return e(P)},get expandable(){return e(R)},children:(x,U)=>{var K=Te(),V=H(K);{var G=E=>{var X=Fs();He(X,5,()=>Object.entries(e(b)),et,(M,S)=>{let Q=()=>e(S)[0],B=()=>e(S)[1];var N=Bs();const O=s(()=>zs(B()));var W=o(N),Y=o(W,!0);a(W);var Z=n(W,2),J=o(Z,!0);a(Z),a(N),$(()=>{u(Y,Q()),u(J,e(O))}),c(M,N)}),a(X),c(E,X)};ve(V,E=>{e(_)&&E(G)})}c(x,K)},$$slots:{default:!0}}),ie()}var Hs=T('<div class="row svelte-dqszqh"><!></div>'),js=T('<h2 class="mb-4"> </h2> <!>',1);function Es(I,d){ne(d,!1);let h=z(d,"futureRuns",24,()=>[]);pe(),tt(I,{class:"w-full",children:(b,_)=>{var y=js(),m=H(y),C=o(m,!0);a(m);var P=n(m,2);He(P,1,()=>h().slice(0,5),et,(R,x)=>{var U=Hs(),K=o(U);const V=s(()=>({relativeLabel:t("common.from-now")}));je(K,{as:"p",get dateTime(){return e(x)},get options(){return e(V)}}),a(U),c(R,U)},R=>{const x=s(()=>t("schedules.upcoming-runs-empty-state-title"));Kt(R,{get title(){return e(x)}})}),$(R=>u(C,R),[()=>t("schedules.upcoming-runs")],s),c(b,y)},$$slots:{default:!0}}),ie()}var Ns=T("<!> ",1),Qs=T('<div class="button-group flex h-10 cursor-pointer flex-row gap-[1px]"><!> <!></div> <!>',1);function Vs(I,d){const h=Nt(d,["children","$$slots","$$events","$$legacy"]);ne(d,!1);let b=z(d,"label",8),_=z(d,"menuLabel",8),y=z(d,"icon",8,void 0),m=z(d,"id",8),C=z(d,"disabled",8,!1),P=z(d,"position",8,"left"),R=z(d,"primaryActionDisabled",8,!1),x=z(d,"href",8,void 0),U=z(d,"menuClass",8,void 0);pe(),is(I,{get class(){return h.class},children:(K,V)=>{var G=Qs(),E=H(G),X=o(E);const M=s(()=>C()||R());vt(X,{get disabled(){return e(M)},get id(){return`${m()??""}-primary-button`},get href(){return x()},disableTracking:!0,"data-track-name":"split-button","data-track-intent":"primary",get"data-track-text"(){return b()},$$events:{click(B){ds.call(this,d,B)}},children:(B,N)=>{var O=Ns(),W=H(O);{var Y=J=>{Zt(J,{get name(){return y()}})};ve(W,J=>{y()&&J(Y)})}var Z=n(W);$(()=>u(Z,` ${b()??""}`)),c(B,O)},$$slots:{default:!0}});var S=n(X,2);us(S,{class:"max-w-fit grow-0 px-3",get id(){return`${m()??""}-menu-button`},get label(){return _()},get controls(){return`${m()??""}-menu`},variant:"primary",get disabled(){return C()},hasIndicator:!0}),a(E);var Q=n(E,2);cs(Q,{get id(){return`${m()??""}-menu`},get position(){return P()},get class(){return U()},children:(B,N)=>{var O=Te(),W=H(O);Et(W,d,"default",{},null),c(B,O)},$$slots:{default:!0}}),c(K,G)},$$slots:{default:!0}}),ie()}var Gs=T("<!> <!> <!> <!>",1),Js=T('<div class="w-full xl:w-1/2"><!></div>'),Ks=T('<h3 slot="title"> </h3>'),Xs=T('<div slot="content"><p> </p> <p class="my-4"> </p> <!></div>'),Ys=T('<h3 slot="title"> </h3>'),Zs=T('<div slot="content"><!></div>'),ea=T('<h3 slot="title"> </h3>'),ta=T('<div slot="content" class="p-0"><div class="flex flex-col gap-2 p-2"><!> <!> <!> <!> <div class="flex w-full flex-row items-center gap-2"><!> <span class="text-xs font-normal text-slate-500"> </span></div></div> <hr tabindex="-1" aria-hidden="true" class="my-4 w-full border-subtle"> <div class="flex max-h-52 flex-col gap-2 overflow-auto"><!> <!></div></div>'),ra=T('<h3 slot="title"> </h3>'),sa=T('<div slot="content"><p> </p></div>'),aa=T('<header class="flex flex-row flex-wrap justify-between gap-4"><div class="relative flex flex-col"><!> <h1 class="relative flex items-center"><span class="select-all" data-testid="schedule-name"></span></h1> <div class="flex flex-wrap items-center gap-2 text-lg"><!> <p> </p></div> <!> <!></div> <!></header> <!> <div class="flex flex-col gap-4 pb-24"><!> <div class="flex w-full flex-col gap-2 text-lg"><div class="flex items-center gap-2"><span data-testid="workflow-count"> <!></span> <!></div> <!></div> <div class="flex flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col items-start gap-4 xl:w-2/3"><!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 xl:w-1/3"><!> <!></div></div></div> <!> <!> <!> <!>',1),oa=T('<header class="mb-8"><div class="relative flex flex-col gap-1"><!> <h1 class="mt-8 select-all" data-testid="schedule-name"></h1> <p class="text-sm"></p></div></header> <!>',1),la=T('<header class="mb-8"><div class="relative flex flex-col gap-4"><!> <h1 class="select-all" data-testid="schedule-name"></h1></div></header> <!>',1);function na(I,d){ne(d,!1);const[h,b]=Qt(),_=()=>Oe(Vt,"$page",h),y=()=>Oe(Z,"$coreUser",h),m=()=>Oe(Ze,"$loading",h),C=()=>Oe(W,"$overlapPolicy",h),P=()=>Oe(es,"$workflowCount",h),R=F();let x=_().params.namespace,U=_().params.schedule,K=`TemporalScheduledById="${U}"`;const V=$s(),G={namespace:x,scheduleId:Xt(U)};let E=F(Be(G)),X=F(!1),M=F(!1),S=F(!1),Q=F(!1),B=F(""),N=F(""),O=F(!1),W=Hr("Unspecified"),Y=[{description:t("schedules.trigger-unspecified-description"),label:t("schedules.trigger-unspecified-title"),value:"Unspecified"},{description:t("schedules.trigger-buffer-all-description"),label:t("schedules.trigger-buffer-all-title"),value:"BufferAll"},{description:t("schedules.trigger-allow-all-description"),label:t("schedules.trigger-allow-all-title"),value:"AllowAll"},{description:t("schedules.trigger-skip-description"),label:t("schedules.trigger-skip-title"),value:"Skip"},{description:t("schedules.trigger-buffer-one-description"),label:t("schedules.trigger-buffer-one-title"),value:"BufferOne"},{description:t("schedules.trigger-cancel-other-description"),label:t("schedules.trigger-cancel-other-title"),value:"CancelOther"},{description:t("schedules.trigger-terminate-other-description"),label:t("schedules.trigger-terminate-other-title"),value:"TerminateOther"}],Z=xs();const J=async()=>{p(N,"");try{Le(Ze,!0),await hs({identity:V,namespace:x,scheduleId:U}),p(Q,!1),setTimeout(()=>{Le(Ze,!1),jr(Ke({namespace:x}))},2e3),p(B,"")}catch(k){p(N,t("schedules.delete-schedule-error",{error:k==null?void 0:k.message})),Le(Ze,!1)}},Ie=async k=>{var v,q;!((q=(v=k==null?void 0:k.schedule)===null||v===void 0?void 0:v.state)===null||q===void 0)&&q.paused?await fs({identity:V,namespace:x,scheduleId:U,reason:e(B)}):await ms({identity:V,namespace:x,scheduleId:U,reason:e(B)}),p(E,Be(G)),p(B,""),p(X,!1)},Me=()=>{p(M,!1),Le(W,"Unspecified")},Pe=async()=>{p(O,!0),await _s({identity:V,namespace:x,scheduleId:U,overlapPolicy:C()}),setTimeout(()=>{p(E,Be(G)),Me(),p(O,!1)},1e3)};let xe=F(!1),fe=F(De(new Date)),$e=F(De(new Date)),ce=F(""),We=F(""),we=F(""),be=F(""),Se=F(""),Re=F("");const Ee=k=>{p(fe,De(k.detail))},rt=k=>{p($e,De(k.detail))},st=()=>{const k=new Date(Date.now()),v=ps(k,1);p(ce,k.getUTCHours().toString()),p(We,k.getUTCMinutes().toString()),p(we,k.getUTCSeconds().toString()),p(be,v.getUTCHours().toString()),p(Se,v.getUTCMinutes().toString()),p(Re,v.getUTCSeconds().toString()),p(fe,De(new Date)),p($e,e(be)<e(ce)?De(Qr(new Date,1)):De(new Date))},Ne=()=>{p(S,!1),p(xe,!1),Le(W,"Unspecified")},w=async()=>{p(O,!0);const k=qt({date:e(fe),hour:e(ce),minute:e(We),second:e(we)}),v=qt({date:e($e),hour:e(be),minute:e(Se),second:e(Re)});await gs({identity:V,namespace:x,scheduleId:U,overlapPolicy:C(),startTime:k,endTime:v}),setTimeout(()=>{p(E,Be(G)),Ne(),p(O,!1)},1e3)},A=()=>{p(B,"")};Fe(()=>(y(),Ut),()=>{p(R,y().namespaceWriteDisabled(x)||!Ut())}),Fe(()=>e(S),()=>{e(S)&&st()}),jt(),pe();var ee=Te(),ae=H(ee);Gt(ae,()=>e(E),k=>{var v=la(),q=H(v),me=o(q),_e=o(me);const ye=s(()=>Ke({namespace:x}));qe(_e,{get href(){return e(ye)},icon:"chevron-left",children:(Ce,Ue)=>{le();var Ae=se();$(ke=>u(Ae,ke),[()=>t("schedules.back-to-schedules")],s),c(Ce,Ae)},$$slots:{default:!0}});var oe=n(_e,2);oe.textContent=U,a(me),a(q);var ge=n(q,2);zt(ge,{}),c(k,v)},(k,v)=>{var q=Te(),me=H(q);{var _e=oe=>{zt(oe,{class:"my-2"})},ye=oe=>{var ge=aa(),Ce=H(ge),Ue=o(Ce),Ae=o(Ue);const ke=s(()=>Ke({namespace:x}));qe(Ae,{get href(){return e(ke)},icon:"chevron-left",children:(r,i)=>{le();var l=se();$(f=>u(l,f),[()=>t("schedules.back-to-schedules")],s),c(r,l)},$$slots:{default:!0}});var Qe=n(Ae,2),Ve=o(Qe);Ve.textContent=U,a(Qe);var ze=n(Qe,2),pt=o(ze);const er=s(()=>{var r;return(r=e(v))!=null&&r.schedule.state.paused?"Paused":"Running"});Yt(pt,{get status(){return e(er)}});var ft=n(pt,2),tr=o(ft,!0);a(ft),a(ze);var mt=n(ze,2);const rr=s(()=>{var r,i;return(i=(r=e(v))==null?void 0:r.info)==null?void 0:i.createTime});je(mt,{as:"p",class:"flex items-center gap-2 text-right text-sm",get dateTime(){return e(rr)},leading:i=>{le();var l=se();$(f=>u(l,f),[()=>t("common.created")],s),c(i,l)},$$slots:{leading:!0}});var sr=n(mt,2);{var ar=r=>{const i=s(()=>{var l,f;return(f=(l=e(v))==null?void 0:l.info)==null?void 0:f.updateTime});je(r,{as:"p",class:"flex items-center gap-2 text-right text-sm",get dateTime(){return e(i)},leading:f=>{le();var g=se();$(D=>u(g,D),[()=>t("common.last-updated")],s),c(f,g)},$$slots:{leading:!0}})};ve(sr,r=>{var i,l;(l=(i=e(v))==null?void 0:i.info)!=null&&l.updateTime&&r(ar)})}a(Ue);var or=n(Ue,2);const lr=s(()=>{var r,i,l;return(l=(i=(r=e(v))==null?void 0:r.schedule)==null?void 0:i.state)!=null&&l.paused?t("schedules.unpause"):t("schedules.pause")}),nr=s(()=>t("schedules.schedule-actions"));Vs(or,{position:"right",get label(){return e(lr)},get menuLabel(){return e(nr)},id:"schedule-actions",get disabled(){return e(R)},$$events:{click:()=>p(X,!0)},children:(r,i)=>{var l=Gs(),f=H(l);Xe(f,{"data-testid":"trigger-schedule",$$events:{click:()=>p(M,!0)},children:(te,re)=>{le();var L=se();$(ue=>u(L,ue),[()=>t("schedules.trigger")],s),c(te,L)},$$slots:{default:!0}});var g=n(f,2);Xe(g,{"data-testid":"backfill-schedule",$$events:{click:()=>p(S,!0)},children:(te,re)=>{le();var L=se();$(ue=>u(L,ue),[()=>t("schedules.backfill")],s),c(te,L)},$$slots:{default:!0}});var D=n(g,2);const de=s(()=>ss({namespace:x,scheduleId:U}));Xe(D,{"data-testid":"edit-schedule",get href(){return e(de)},children:(te,re)=>{le();var L=se();$(ue=>u(L,ue),[()=>t("common.edit")],s),c(te,L)},$$slots:{default:!0}});var he=n(D,2);Xe(he,{"data-testid":"delete-schedule",destructive:!0,$$events:{click:()=>p(Q,!0)},children:(te,re)=>{le();var L=se();$(ue=>u(L,ue),[()=>t("common.delete")],s),c(te,L)},$$slots:{default:!0}}),c(r,l)},$$slots:{default:!0}}),a(Ce);var _t=n(Ce,2);Er(_t,{});var at=n(_t,2),gt=o(at);{var ir=r=>{var i=Js(),l=o(i);const f=s(()=>{var g,D;return(D=(g=e(v))==null?void 0:g.info)==null?void 0:D.invalidScheduleError});Ht(l,{get error(){return e(f)}}),a(i),c(r,i)};ve(gt,r=>{var i,l;(l=(i=e(v))==null?void 0:i.info)!=null&&l.invalidScheduleError&&r(ir)})}var ot=n(gt,2),lt=o(ot),nt=o(lt),ht=o(nt),cr=n(ht);vs(cr,{key:"common.workflows-plural",get count(){return P().count}}),a(nt);var dr=n(nt,2);vt(dr,{size:"xs",variant:"ghost",leadingIcon:"retry",$$events:{click:()=>{p(E,Be(G)),Le(Zr,Date.now())}},children:(r,i)=>{var l=Te(),f=H(l);{var g=D=>{var de=se();$(he=>u(de,`+${he??""}`),[()=>P().newCount.toLocaleString()],s),c(D,de)};ve(f,D=>{P().newCount>0&&D(g)})}c(r,l)},$$slots:{default:!0}}),a(lt);var ur=n(lt,2);ls(ur,{staticQuery:K}),a(ot);var xt=n(ot,2),it=o(xt),$t=o(it);const vr=s(()=>{var r,i;return(i=(r=e(v))==null?void 0:r.info)==null?void 0:i.recentActions});Os($t,{namespace:x,get recentRuns(){return e(vr)},workflowQuery:K});var wt=n($t,2);const pr=s(()=>{var r,i;return(i=(r=e(v))==null?void 0:r.info)==null?void 0:i.futureActionTimes});Es(wt,{get futureRuns(){return e(pr)}});var bt=n(wt,2);const fr=s(()=>{var r,i;return(i=(r=e(v))==null?void 0:r.schedule)==null?void 0:i.spec}),mr=s(()=>{var r,i;return(i=(r=e(v))==null?void 0:r.schedule)==null?void 0:i.state}),_r=s(()=>{var r,i;return(i=(r=e(v))==null?void 0:r.schedule)==null?void 0:i.policies}),gr=s(()=>{var r,i,l;return(l=(i=(r=e(v))==null?void 0:r.schedule)==null?void 0:i.state)==null?void 0:l.notes});Cs(bt,{get spec(){return e(fr)},get state(){return e(mr)},get policies(){return e(_r)},get notes(){return e(gr)}});var hr=n(bt,2);const xr=s(()=>{var r;return((r=e(v))==null?void 0:r.searchAttributes)??{}});qs(hr,{get searchAttributes(){return e(xr)}}),a(it);var yt=n(it,2),kt=o(yt);const $r=s(()=>{var r,i,l,f;return(f=(l=(i=(r=e(v))==null?void 0:r.schedule)==null?void 0:i.action)==null?void 0:l.startWorkflow)==null?void 0:f.input});Ws(kt,{get input(){return e($r)}});var wr=n(kt,2);const br=s(()=>{var r,i,l,f,g,D;return[...((l=(i=(r=e(v))==null?void 0:r.schedule)==null?void 0:i.spec)==null?void 0:l.structuredCalendar)??[],...((D=(g=(f=e(v))==null?void 0:f.schedule)==null?void 0:g.spec)==null?void 0:D.interval)??[]]}),yr=s(()=>{var r,i,l;return(l=(i=(r=e(v))==null?void 0:r.schedule)==null?void 0:i.spec)==null?void 0:l.timezoneName});Ms(wr,{get frequency(){return e(br)},get timezoneName(){return e(yr)}}),a(yt),a(xt),a(at);var Tt=n(at,2);const kr=s(()=>{var r;return(r=e(v))!=null&&r.schedule.state.paused?t("schedules.unpause"):t("schedules.pause")}),Tr=s(()=>t("common.cancel")),Pr=s(()=>!e(B));Ye(Tt,{id:"pause-schedule-modal",confirmType:"primary",get confirmText(){return e(kr)},get cancelText(){return e(Tr)},get confirmDisabled(){return e(Pr)},get open(){return e(X)},set open(r){p(X,r)},$$events:{confirmModal:()=>Ie(e(v)),cancelModal:A},$$slots:{title:(r,i)=>{var l=Ks(),f=o(l,!0);a(l),$(g=>u(f,g),[()=>{var g;return(g=e(v))!=null&&g.schedule.state.paused?t("schedules.unpause-modal-title"):t("schedules.pause-modal-title")}],s),c(r,l)},content:(r,i)=>{var l=Xs(),f=o(l),g=o(f,!0);a(f);var D=n(f,2),de=o(D,!0);a(D);var he=n(D,2);const te=s(()=>t("common.reason")),re=s(()=>t("common.reason"));ns(he,{id:"pause-reason",get placeholder(){return e(te)},get label(){return e(re)},labelHidden:!0,get value(){return e(B)},set value(L){p(B,L)},$$legacy:!0}),a(l),$((L,ue)=>{u(g,L),u(de,ue)},[()=>{var L;return(L=e(v))!=null&&L.schedule.state.paused?t("schedules.unpause-modal-confirmation",{schedule:U}):t("schedules.pause-modal-confirmation",{schedule:U})},()=>{var L;return(L=e(v))!=null&&L.schedule.state.paused?t("schedules.unpause-reason"):t("schedules.pause-reason")}],s),c(r,l)}},$$legacy:!0});var Pt=n(Tt,2);const Sr=s(()=>t("schedules.trigger")),Cr=s(()=>t("common.cancel"));Ye(Pt,{id:"trigger-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(Sr)},get cancelText(){return e(Cr)},get loading(){return e(O)},get open(){return e(M)},set open(r){p(M,r)},$$events:{confirmModal:()=>Pe(),cancelModal:Me},$$slots:{title:(r,i)=>{var l=Ys(),f=o(l,!0);a(l),$(g=>u(f,g),[()=>t("schedules.trigger-modal-title")],s),c(r,l)},content:(r,i)=>{var l=Zs(),f=o(l);Bt(f,{group:W,name:"trigger-event-id",class:"h-auto overflow-auto",children:(g,D)=>{var de=Te(),he=H(de);He(he,1,()=>Y,et,(te,re)=>{Ft(te,{get id(){return e(re).value},get value(){return e(re).value},get label(){return e(re).label},get description(){return e(re).description}})}),c(g,de)},$$slots:{default:!0}}),a(l),c(r,l)}},$$legacy:!0});var St=n(Pt,2);const Ar=s(()=>t("schedules.schedule")),Dr=s(()=>t("common.cancel"));Ye(St,{id:"backfill-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(Ar)},get cancelText(){return e(Dr)},get loading(){return e(O)},get open(){return e(S)},set open(r){p(S,r)},$$events:{confirmModal:()=>w(),cancelModal:Ne},$$slots:{title:(r,i)=>{var l=ea(),f=o(l);a(l),$((g,D)=>u(f,`${g??""}
        ${D??""}`),[()=>t("schedules.schedule"),()=>t("schedules.backfill")],s),c(r,l)},content:(r,i)=>{var l=ta(),f=o(l),g=o(f);const D=s(()=>t("common.start")),de=s(()=>t("common.today")),he=s(()=>t("common.close")),te=s(()=>t("common.clear-input-button-label"));Lt(g,{get label(){return e(D)},get selected(){return e(fe)},get todayLabel(){return e(de)},get closeLabel(){return e(he)},get clearLabel(){return e(te)},$$events:{datechange:Ee}});var re=n(g,2);Ot(re,{twelveHourClock:!1,get hour(){return e(ce)},set hour(j){p(ce,j)},get minute(){return e(We)},set minute(j){p(We,j)},get second(){return e(we)},set second(j){p(we,j)},$$legacy:!0});var L=n(re,2);const ue=s(()=>t("common.end")),Rr=s(()=>t("common.today")),Ur=s(()=>t("common.close")),Lr=s(()=>t("common.clear-input-button-label"));Lt(L,{get label(){return e(ue)},get selected(){return e($e)},get todayLabel(){return e(Rr)},get closeLabel(){return e(Ur)},get clearLabel(){return e(Lr)},$$events:{datechange:rt}});var Ct=n(L,2);Ot(Ct,{twelveHourClock:!1,get hour(){return e(be)},set hour(j){p(be,j)},get minute(){return e(Se)},set minute(j){p(Se,j)},get second(){return e(Re)},set second(j){p(Re,j)},$$legacy:!0});var At=n(Ct,2),Dt=o(At);Zt(Dt,{name:"clock","aria-hidden":"true"});var It=n(Dt,2),Or=o(It);a(It),a(At),a(f);var Mt=n(f,4),Wt=o(Mt);Bt(Wt,{group:W,name:"backfill-event-id",class:"h-auto overflow-auto",children:(j,Rt)=>{var ct=Te(),Ge=H(ct);He(Ge,1,()=>Y.slice(0,e(xe)?Y.length:3),et,(dt,Je)=>{Ft(dt,{get id(){return e(Je).value},get value(){return e(Je).value},get label(){return e(Je).label},get description(){return e(Je).description}})}),c(j,ct)},$$slots:{default:!0}});var zr=n(Wt,2);{var Br=j=>{vt(j,{variant:"ghost",size:"xs",$$events:{click:()=>p(xe,!0)},children:(Rt,ct)=>{le();var Ge=se();$(dt=>u(Ge,dt),[()=>t("schedules.more-options")],s),c(Rt,Ge)},$$slots:{default:!0}})};ve(zr,j=>{e(xe)||j(Br)})}a(Mt),a(l),$(j=>u(Or,`${j??""} Universal Standard Time
              (UTC)`),[()=>t("common.based-on-time-preface")],s),c(r,l)}},$$legacy:!0});var Ir=n(St,2);const Mr=s(()=>t("common.delete")),Wr=s(()=>t("common.cancel"));Ye(Ir,{id:"delete-schedule-modal",confirmType:"destructive",get confirmText(){return e(Mr)},get cancelText(){return e(Wr)},get open(){return e(Q)},set open(r){p(Q,r)},get error(){return e(N)},set error(r){p(N,r)},$$events:{confirmModal:J,cancelModal:A},$$slots:{title:(r,i)=>{var l=ra(),f=o(l,!0);a(l),$(g=>u(f,g),[()=>t("schedules.delete-modal-title")],s),c(r,l)},content:(r,i)=>{var l=sa(),f=o(l),g=o(f,!0);a(f),a(l),$(D=>u(g,D),[()=>t("schedules.delete-modal-confirmation",{schedule:U})],s),c(r,l)}},$$legacy:!0}),$(r=>{var i,l,f,g,D;u(tr,(D=(g=(f=(l=(i=e(v))==null?void 0:i.schedule)==null?void 0:l.action)==null?void 0:f.startWorkflow)==null?void 0:g.workflowType)==null?void 0:D.name),u(ht,`${r??""} `)},[()=>P().count.toLocaleString()],s),c(oe,ge)};ve(me,oe=>{m()?oe(_e):oe(ye,!1)})}c(k,q)},(k,v)=>{var q=oa(),me=H(q),_e=o(me),ye=o(_e);const oe=s(()=>Ke({namespace:x}));qe(ye,{get href(){return e(oe)},icon:"chevron-left",children:(ke,Qe)=>{le();var Ve=se();$(ze=>u(Ve,ze),[()=>t("schedules.back-to-schedules")],s),c(ke,Ve)},$$slots:{default:!0}});var ge=n(ye,2);ge.textContent=U;var Ce=n(ge,2);Ce.textContent=x,a(_e),a(me);var Ue=n(me,2);const Ae=s(()=>{var ke;return(ke=e(v))==null?void 0:ke.message});Ht(Ue,{get error(){return e(Ae)}}),c(k,q)}),c(I,ee),ie(),b()}var ia=T("<!> <!>",1);function ro(I,d){ne(d,!1);const[h,b]=Qt(),_=()=>Oe(Vt,"$page",h),y=_().params.schedule;pe();var m=ia(),C=H(m);qr(C,{title:`Schedule | ${y}`,get url(){return _().url.href}});var P=n(C,2);na(P,{}),c(I,m),ie(),b()}export{ro as component};
