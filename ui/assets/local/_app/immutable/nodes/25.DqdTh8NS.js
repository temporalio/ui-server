import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as ve,f as A,j as l,r as s,h as o,t as T,G as a,L as r,e as v,b as me,c as G,g as e,o as c,n as ue,k as ie,i as Ie,l as rt,s as p,m as N,ao as ht,a as tr,u as yr,aP as Tr}from"../chunks/yn9lut7I.js";import{i as $e,s as rr}from"../chunks/Bk16Yghv.js";import{p as B,l as ar,a as Ke,s as sr,c as Je}from"../chunks/C6jR5PNA.js";import{p as lr}from"../chunks/DFcTyoi9.js";import{P as Pr}from"../chunks/DUSMGXax.js";import{a as Sr,w as Ar}from"../chunks/D12POdU-.js";import{s as u}from"../chunks/B95CcGmx.js";import{a as or}from"../chunks/CToTg80N.js";import{i as _e}from"../chunks/Bw1cG9kR.js";import{e as st,i as ct}from"../chunks/B0gjW5Lu.js";import{g as Cr}from"../chunks/DrUhGuiG.js";import{C as jr}from"../chunks/B90CBMg1.js";import{A as nr}from"../chunks/Dde3z8ch.js";import{t}from"../chunks/DEjs8ZrU.js";import{j as zt,s as ze,o as Dr}from"../chunks/DjVCw9_4.js";import{A as Ir}from"../chunks/DbXm5z4s.js";import{a as Mr}from"../chunks/BLNXIcBS.js";import{S as Wr}from"../chunks/D_4uGr6f.js";import{I as Ur}from"../chunks/CWM2zCW6.js";import{s as Ft}from"../chunks/rlUF3pky.js";import{T as lt}from"../chunks/D-zf2pZL.js";import{E as ir}from"../chunks/CCu90O8D.js";import{L as at}from"../chunks/CDcvx98p.js";import{u as qt,m as Bt,r as Rr,w as Lr}from"../chunks/Dw_UP38h.js";import{d as xt}from"../chunks/vO_crHjm.js";import{o as Ht,c as Et,t as Fe,z as Nt}from"../chunks/RIRDcgvq.js";import{W as dr}from"../chunks/CUN4uJtp.js";import{d as Or}from"../chunks/DDCWcpAt.js";import{p as Qt}from"../chunks/756y7qLl.js";import{W as zr}from"../chunks/CVMZVByh.js";import{B as wt}from"../chunks/Bc7AzjuX.js";import{D as Gt,T as Vt}from"../chunks/BpfWWGjo.js";import{I as cr}from"../chunks/DbAXokY8.js";import{I as Fr}from"../chunks/BYFEcC-V.js";import{L as Jt}from"../chunks/nhWcYVoD.js";import{c as qr,d as Br,b as nt}from"../chunks/CefftFSf.js";import{M as it}from"../chunks/BPAvvcXQ.js";import{R as Kt,a as Xt}from"../chunks/B-TEjnOf.js";import{b as Hr}from"../chunks/DWaXUyxi.js";import{M as Er}from"../chunks/DJqQNHCC.js";import{T as Nr,b as Qr}from"../chunks/Bf8gM6-S.js";import{f as tt,l as dt,u as Gr,p as Vr,t as Jr,b as Kr,d as Xr}from"../chunks/DqtPdsXv.js";import{c as Yr}from"../chunks/OBxgwt-1.js";import{g as Zr}from"../chunks/D0XF6wMs.js";import{g as Yt}from"../chunks/CELvPEsn.js";var ea=A('<div><h2 class="mb-4"> </h2> <p> </p></div>');function ta(I,m){ve(m,!1);let h=B(m,"notes",8,"");$e();var w=ea(),x=l(w),S=l(x,!0);s(x);var $=o(x,2),D=l($,!0);s($),s(w),T(U=>{u(S,U),u(D,h())},[()=>(r(t),a(()=>t("common.notes")))]),v(I,w),me()}var ra=A('<li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li>'),aa=A('<li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li>'),sa=A('<li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li>'),la=A('<ul class="settings-list svelte-1ek4oji"><li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li> <li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li> <li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li> <li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li> <!> <li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li> <li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li> <!> <!></ul>'),oa=A("<!> <!>",1);function na(I,m){ve(m,!1);let h=B(m,"spec",8),w=B(m,"state",8),x=B(m,"policies",8),S=B(m,"notes",8,"");$e();var $=oa(),D=G($);ta(D,{get notes(){return S()}});var U=o(D,2);{let R=c(()=>(r(t),a(()=>t("schedules.advanced-settings"))));nr(U,{get title(){return e(R)},children:(k,O)=>{var ee=la(),K=l(ee),te=l(K),J=o(te),M=l(J,!0);s(J),s(K);var y=o(K,2),X=l(y),V=o(X),F=l(V,!0);s(V),s(y);var H=o(y,2),z=l(H),Q=o(z),Z=l(Q,!0);s(Q),s(H);var Y=o(H,2),re=l(Y),fe=o(re),Xe=l(fe,!0);s(fe),s(Y);var qe=o(Y,2);{var Ye=P=>{var W=ra(),oe=l(W),de=o(oe),he=l(de,!0);s(de),s(W),T((ne,be)=>{u(oe,`${ne??""} `),u(he,be)},[()=>(r(t),a(()=>t("schedules.remaining-actions"))),()=>(r(w()),r(t),a(()=>{var ne;return((ne=w())==null?void 0:ne.remainingActions)??t("common.none")}))]),v(P,W)};_e(qe,P=>{r(w()),a(()=>{var W;return(W=w())==null?void 0:W.limitedActions})&&P(Ye)})}var Me=o(qe,2),We=l(Me),Te=o(We),Be=l(Te,!0);s(Te),s(Me);var Pe=o(Me,2),Se=l(Pe),Ue=o(Se),He=l(Ue,!0);s(Ue),s(Pe);var Ae=o(Pe,2);{var Ee=P=>{var W=aa(),oe=l(W),de=o(oe),he=l(de,!0);s(de),s(W),T((ne,be)=>{u(oe,`${ne??""} `),u(he,be)},[()=>(r(t),a(()=>t("schedules.pause-on-failure"))),()=>(r(x()),r(t),a(()=>x().pauseOnFailure?t("common.true"):t("common.false")))]),v(P,W)};_e(Ae,P=>{r(x()),a(()=>{var W;return((W=x())==null?void 0:W.pauseOnFailure)!=null})&&P(Ee)})}var Ne=o(Ae,2);{var vt=P=>{var W=sa(),oe=l(W),de=o(oe),he=l(de,!0);s(de),s(W),T((ne,be)=>{u(oe,`${ne??""} `),u(he,be)},[()=>(r(t),a(()=>t("schedules.keep-original-workflow-id"))),()=>(r(x()),r(t),a(()=>x().keepOriginalWorkflowId?t("common.true"):t("common.false")))]),v(P,W)};_e(Ne,P=>{r(x()),a(()=>{var W;return((W=x())==null?void 0:W.keepOriginalWorkflowId)!=null})&&P(vt)})}s(ee),T((P,W,oe,de,he,ne,be,L,d,ae,xe,ke)=>{u(te,`${P??""} `),u(M,W),u(X,`${oe??""} `),u(F,de),u(z,`${he??""} `),u(Z,ne),u(re,`${be??""} `),u(Xe,L),u(We,`${d??""} `),u(Be,ae),u(Se,`${xe??""} `),u(He,ke)},[()=>(r(t),a(()=>t("schedules.start-time"))),()=>(r(h()),r(t),a(()=>{var P;return((P=h())==null?void 0:P.startTime)??t("common.none")})),()=>(r(t),a(()=>t("schedules.end-time"))),()=>(r(h()),r(t),a(()=>{var P;return((P=h())==null?void 0:P.endTime)??t("common.none")})),()=>(r(t),a(()=>t("schedules.jitter"))),()=>(r(h()),r(t),a(()=>{var P;return((P=h())==null?void 0:P.jitter)??t("common.none")})),()=>(r(t),a(()=>t("schedules.exclusion-calendar"))),()=>(r(h()),r(t),a(()=>{var P,W;return((W=(P=h())==null?void 0:P.excludeCalendar)==null?void 0:W[0])??t("common.none")})),()=>(r(t),a(()=>t("schedules.overlap-policy"))),()=>(r(x()),r(t),a(()=>{var P;return((P=x())==null?void 0:P.overlapPolicy)??t("common.none")})),()=>(r(t),a(()=>t("schedules.catchup-window"))),()=>(r(x()),r(zt),r(t),a(()=>{var P;return((P=x())==null?void 0:P.catchupWindow)!=null?zt(x().catchupWindow.toString()):t("common.none")}))]),v(k,ee)},$$slots:{default:!0}})}v(I,$),me()}var ia=A("<p> </p> <p> </p>",1);function Zt(I,m){ve(m,!1);let h=B(m,"error",8,"");$e(),Ir(I,{intent:"error",children:(w,x)=>{var S=ia(),$=G(S),D=l($,!0);s($);var U=o($,2),R=l(U,!0);s(U),T(k=>{u(D,k),u(R,h())},[()=>(r(t),a(()=>t("schedules.error-title")))]),v(w,S)},$$slots:{default:!0}}),me()}var da=A("<div><!></div>");function ut(I,m){const h=ar(m,["children","$$slots","$$events","$$legacy"]);ve(m,!1);let w=B(m,"error",8,!1);$e();var x=da();let S;var $=l(x);rr($,m,"default",{},null),s(x),T(()=>S=Mr(x,1,`panel surface-primary ${r(h),a(()=>h.class)??""}`,"svelte-16zztsi",S,{error:w()})),v(I,x),me()}var ca=A('<h2 class="mb-4"> </h2> <div class="pr-2"><!></div>',1);function ua(I,m){ve(m,!0);let h=B(m,"timezoneName",3,"UTC");ut(I,{children:(w,x)=>{var S=ca(),$=G(S),D=l($,!0);s($);var U=o($,2),R=l(U);Wr(R,{get frequency(){return m.frequency},get timezoneName(){return h()},class:"text-base"}),s(U),T(k=>u(D,k),[()=>t("schedules.schedule-spec")]),v(w,S)},$$slots:{default:!0}}),me()}function va(I,m){ve(m,!1);let h=B(m,"input",8);$e(),ut(I,{children:(w,x)=>{{let S=c(()=>(r(t),a(()=>t("schedules.schedule-input")))),$=c(()=>(r(Ft),r(h()),a(()=>Ft(h()))));Ur(w,{get title(){return e(S)},get content(){return e($)}})}},$$slots:{default:!0}}),me()}var ma=A('<div class="row svelte-1q6417u"><div class="w-28"><!></div> <div class="mx-2 w-auto break-words"><!></div> <div class="ml-auto"><!></div></div>'),fa=A('<div class="row svelte-1q6417u"><div class="w-28"></div> <div class="w-96"> </div> <div class="ml-auto"><!></div></div>'),pa=A('<div class="flex justify-between"><h2 class="mb-4"> </h2> <!></div> <!> <!>',1);function ga(I,m){ve(m,!1);let h=B(m,"recentRuns",24,()=>[]),w=B(m,"namespace",8),x=B(m,"workflowQuery",8);const S=$=>{var D,U;return(U=(D=$==null?void 0:$.sort((R,k)=>new Date(k.actualTime).getTime()-new Date(R.actualTime).getTime()))===null||D===void 0?void 0:D.slice(0,5))!==null&&U!==void 0?U:[]};$e(),ut(I,{class:"w-full",children:($,D)=>{var U=pa(),R=G(U),k=l(R),O=l(k,!0);s(k);var ee=o(k,2);{let M=c(()=>(r(Ht),r(w()),r(x()),a(()=>Ht({namespace:w(),query:x()}))));at(ee,{get href(){return e(M)},icon:"filter",children:(y,X)=>{ue();var V=ie();T(F=>u(V,F),[()=>(r(t),a(()=>t("common.view-all-runs")))]),v(y,V)},$$slots:{default:!0}})}s(R);var K=o(R,2);st(K,1,()=>(r(h()),a(()=>S(h()))),M=>{var y;return(y=M==null?void 0:M.startWorkflowResult)==null?void 0:y.workflowId},(M,y)=>{var X=Ie(),V=G(X);or(V,()=>(r(qt),r(w()),r(xt),e(y),a(()=>qt({namespace:w(),workflowId:xt(e(y).startWorkflowResult.workflowId),runId:e(y).startWorkflowResult.runId},fetch))),null,(F,H)=>{var z=ma(),Q=l(z),Z=l(Q);dr(Z,{get status(){return r(e(H)),a(()=>e(H).status)}}),s(Q);var Y=o(Q,2),re=l(Y);{let qe=c(()=>(r(Et),e(y),r(w()),a(()=>Et({workflow:e(y).startWorkflowResult.workflowId,run:e(y).startWorkflowResult.runId,namespace:w()}))));at(re,{get href(){return e(qe)},children:(Ye,Me)=>{ue();var We=ie();T(()=>u(We,(e(y),a(()=>e(y).startWorkflowResult.workflowId)))),v(Ye,We)},$$slots:{default:!0}})}s(Y);var fe=o(Y,2),Xe=l(fe);lt(Xe,{as:"p",get dateTime(){return e(y),a(()=>e(y).actualTime)}}),s(fe),s(z),v(F,z)},F=>{var H=fa(),z=o(l(H),2),Q=l(z,!0);s(z);var Z=o(z,2),Y=l(Z);lt(Y,{as:"p",get dateTime(){return e(y),a(()=>e(y).actualTime)}}),s(Z),s(H),T(()=>u(Q,(e(y),a(()=>e(y).startWorkflowResult.workflowId)))),v(F,H)}),v(M,X)});var te=o(K,2);{var J=M=>{{let y=c(()=>(r(t),a(()=>t("schedules.recent-runs-empty-state-title"))));ir(M,{get title(){return e(y)}})}};_e(te,M=>{r(h()),a(()=>!h().length)&&M(J)})}T(M=>u(O,M),[()=>(r(t),a(()=>t("schedules.recent-runs")))]),v($,U)},$$slots:{default:!0}}),me()}const er=I=>Array.isArray(I)?I.join(", "):I;var _a=A('<li class="flex flex-wrap items-center gap-2 border-b py-2 last-of-type:border-b-0"><span class="break-all"> </span> <span class="surface-subtle select-all rounded-sm p-1 leading-4"> </span></li>'),$a=A('<ul class="w-full"></ul>');function ha(I,m){ve(m,!1);const h=N(),w=N(),x=N();var S=N();let $=B(m,"searchAttributes",8);rt(()=>r($()),()=>{p(h,Or({searchAttributes:$()}))}),rt(()=>(ht(S),e(h)),()=>{p(w,p(S,e(h)===null||e(h)===void 0?void 0:e(h).searchAttributes.indexedFields)!==null&&ht(S)!==void 0?ht(S):{})}),rt(()=>e(w),()=>{p(x,Object.keys(e(w)).length)}),tr(),$e();{let D=c(()=>(r(t),a(()=>t("events.custom-search-attributes")))),U=c(()=>(e(x),r(t),r(Qt),a(()=>`${e(x)} ${t("events.custom-search")} ${Qt(t("events.attribute"),e(x))}`))),R=c(()=>e(x)>0);nr(I,{get title(){return e(D)},get subtitle(){return e(U)},get expandable(){return e(R)},children:(k,O)=>{var ee=Ie(),K=G(ee);{var te=J=>{var M=$a();st(M,5,()=>(e(w),a(()=>Object.entries(e(w)))),ct,(y,X)=>{var V=yr(()=>Tr(e(X),2));let F=()=>e(V)[0],H=()=>e(V)[1];const z=c(()=>(r(er),H(),a(()=>er(H()))));var Q=_a(),Z=l(Q),Y=l(Z,!0);s(Z);var re=o(Z,2),fe=l(re,!0);s(re),s(Q),T(()=>{u(Y,F()),u(fe,e(z))}),v(y,Q)}),s(M),v(J,M)};_e(K,J=>{e(x)&&J(te)})}v(k,ee)},$$slots:{default:!0}})}me()}var xa=A('<div class="row svelte-1hunhgd"><!></div>'),wa=A('<h2 class="mb-4"> </h2> <!>',1);function ba(I,m){ve(m,!1);let h=B(m,"futureRuns",24,()=>[]);$e(),ut(I,{class:"w-full",children:(w,x)=>{var S=wa(),$=G(S),D=l($,!0);s($);var U=o($,2);st(U,1,()=>(r(h()),a(()=>h().slice(0,5))),ct,(R,k)=>{var O=xa(),ee=l(O);{let K=c(()=>(r(t),a(()=>({relativeLabel:t("common.from-now")}))));lt(ee,{as:"p",get dateTime(){return e(k)},get options(){return e(K)}})}s(O),v(R,O)},R=>{{let k=c(()=>(r(t),a(()=>t("schedules.upcoming-runs-empty-state-title"))));ir(R,{get title(){return e(k)}})}}),T(R=>u(D,R),[()=>(r(t),a(()=>t("schedules.upcoming-runs")))]),v(w,S)},$$slots:{default:!0}}),me()}var ka=A("<!> ",1),ya=A('<div class="button-group flex h-10 cursor-pointer flex-row gap-[1px]"><!> <!></div> <!>',1);function Ta(I,m){const h=ar(m,["children","$$slots","$$events","$$legacy"]);ve(m,!1);let w=B(m,"label",8),x=B(m,"menuLabel",8),S=B(m,"icon",8,void 0),$=B(m,"id",8),D=B(m,"disabled",8,!1),U=B(m,"position",8,"left"),R=B(m,"primaryActionDisabled",8,!1),k=B(m,"href",8,void 0),O=B(m,"menuClass",8,void 0);$e(),qr(I,{get class(){return r(h),a(()=>h.class)},children:(ee,K)=>{var te=ya(),J=G(te),M=l(J);{let V=c(()=>D()||R());wt(M,{get disabled(){return e(V)},get id(){return`${$()??""}-primary-button`},get href(){return k()},disableTracking:!0,"data-track-name":"split-button","data-track-intent":"primary",get"data-track-text"(){return w()},$$events:{click(F){Hr.call(this,m,F)}},children:(F,H)=>{var z=ka(),Q=G(z);{var Z=re=>{cr(re,{get name(){return S()}})};_e(Q,re=>{S()&&re(Z)})}var Y=o(Q);T(()=>u(Y,` ${w()??""}`)),v(F,z)},$$slots:{default:!0}})}var y=o(M,2);Er(y,{class:"max-w-fit grow-0 px-3",get id(){return`${$()??""}-menu-button`},get label(){return x()},get controls(){return`${$()??""}-menu`},variant:"primary",get disabled(){return D()},hasIndicator:!0}),s(J);var X=o(J,2);Br(X,{get id(){return`${$()??""}-menu`},get position(){return U()},get class(){return O()},children:(V,F)=>{var H=Ie(),z=G(H);rr(z,m,"default",{},null),v(V,H)},$$slots:{default:!0}}),v(ee,te)},$$slots:{default:!0}}),me()}var Pa=A("<!> <!> <!> <!>",1),Sa=A('<div class="w-full xl:w-1/2"><!></div>'),Aa=A('<h3 slot="title"> </h3>'),Ca=A('<div slot="content"><p> </p> <p class="my-4"> </p> <!></div>'),ja=A('<h3 slot="title"> </h3>'),Da=A('<div slot="content"><!></div>'),Ia=A('<h3 slot="title"> </h3>'),Ma=A('<div slot="content" class="p-0"><div class="flex flex-col gap-2 p-2"><!> <!> <!> <!> <div class="flex w-full flex-row items-center gap-2"><!> <span class="text-xs font-normal text-slate-500"> </span></div></div> <hr tabindex="-1" aria-hidden="true" class="my-4 w-full border-subtle"/> <div class="flex max-h-52 flex-col gap-2 overflow-auto"><!> <!></div></div>'),Wa=A('<h3 slot="title"> </h3>'),Ua=A('<div slot="content"><p> </p></div>'),Ra=A('<header class="flex flex-row flex-wrap justify-between gap-4"><div class="relative flex flex-col"><!> <h1 class="relative flex items-center"><span class="select-all" data-testid="schedule-name"> </span></h1> <div class="flex flex-wrap items-center gap-2 text-lg"><!> <p> </p></div> <!> <!></div> <!></header> <!> <div class="flex flex-col gap-4 pb-24"><!> <div class="flex w-full flex-col gap-2 text-lg"><div class="flex items-center gap-2"><span data-testid="workflow-count"> <!></span> <!></div> <!></div> <div class="flex flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col items-start gap-4 xl:w-2/3"><!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 xl:w-1/3"><!> <!></div></div></div> <!> <!> <!> <!>',1),La=A('<header class="mb-8"><div class="relative flex flex-col gap-1"><!> <h1 class="mt-8 select-all" data-testid="schedule-name"> </h1> <p class="text-sm"> </p></div></header> <!>',1),Oa=A('<header class="mb-8"><div class="relative flex flex-col gap-4"><!> <h1 class="select-all" data-testid="schedule-name"> </h1></div></header> <!>',1);function za(I,m){ve(m,!1);const h=()=>Ke(lr,"$page",D),w=()=>Ke(Xe,"$coreUser",D),x=()=>Ke(dt,"$loading",D),S=()=>Ke(Q,"$overlapPolicy",D),$=()=>Ke(Lr,"$workflowCount",D),[D,U]=sr(),R=N();let k=h().params.namespace,O=h().params.schedule,ee=`TemporalScheduledById="${O}"`;const K=Zr(),te={namespace:k,scheduleId:xt(O)};let J=N(tt(te)),M=N(!1),y=N(!1),X=N(!1),V=N(!1),F=N(""),H=N(""),z=N(!1),Q=Ar("Unspecified"),Z,Y,re,fe=[{description:t("schedules.trigger-unspecified-description"),label:t("schedules.trigger-unspecified-title"),value:"Unspecified"},{description:t("schedules.trigger-buffer-all-description"),label:t("schedules.trigger-buffer-all-title"),value:"BufferAll"},{description:t("schedules.trigger-allow-all-description"),label:t("schedules.trigger-allow-all-title"),value:"AllowAll"},{description:t("schedules.trigger-skip-description"),label:t("schedules.trigger-skip-title"),value:"Skip"},{description:t("schedules.trigger-buffer-one-description"),label:t("schedules.trigger-buffer-one-title"),value:"BufferOne"},{description:t("schedules.trigger-cancel-other-description"),label:t("schedules.trigger-cancel-other-title"),value:"CancelOther"},{description:t("schedules.trigger-terminate-other-description"),label:t("schedules.trigger-terminate-other-title"),value:"TerminateOther"}],Xe=Yr();const qe=async()=>{p(H,"");try{Je(dt,!0),await Xr({identity:K,namespace:k,scheduleId:O}),p(V,!1),clearTimeout(Z),Z=setTimeout(()=>{Je(dt,!1),Cr(Fe({namespace:k}))},2e3),p(F,"")}catch(L){p(H,t("schedules.delete-schedule-error",{error:L==null?void 0:L.message})),Je(dt,!1)}},Ye=async L=>{var d,ae;!((ae=(d=L==null?void 0:L.schedule)===null||d===void 0?void 0:d.state)===null||ae===void 0)&&ae.paused?await Gr({identity:K,namespace:k,scheduleId:O,reason:e(F)}):await Vr({identity:K,namespace:k,scheduleId:O,reason:e(F)}),p(J,tt(te)),p(F,""),p(M,!1)},Me=()=>{p(y,!1),Je(Q,"Unspecified")},We=async()=>{p(z,!0),await Jr({identity:K,namespace:k,scheduleId:O,overlapPolicy:S()}),clearTimeout(Y),Y=setTimeout(()=>{p(J,tt(te)),Me(),p(z,!1)},1e3)};let Te=N(!1),Be=N(ze(new Date)),Pe=N(ze(new Date)),Se=N(""),Ue=N(""),He=N(""),Ae=N(""),Ee=N(""),Ne=N("");const vt=L=>{p(Be,ze(L.detail))},P=L=>{p(Pe,ze(L.detail))},W=()=>{const L=new Date(Date.now()),d=Qr(L,1);p(Se,L.getUTCHours().toString()),p(Ue,L.getUTCMinutes().toString()),p(He,L.getUTCSeconds().toString()),p(Ae,d.getUTCHours().toString()),p(Ee,d.getUTCMinutes().toString()),p(Ne,d.getUTCSeconds().toString()),p(Be,ze(new Date)),p(Pe,e(Ae)<e(Se)?ze(Dr(new Date,1)):ze(new Date))},oe=()=>{p(X,!1),p(Te,!1),Je(Q,"Unspecified")},de=async()=>{p(z,!0);const L=Yt({date:e(Be),hour:e(Se),minute:e(Ue),second:e(He)}),d=Yt({date:e(Pe),hour:e(Ae),minute:e(Ee),second:e(Ne)});await Kr({identity:K,namespace:k,scheduleId:O,overlapPolicy:S(),startTime:L,endTime:d}),clearTimeout(re),re=setTimeout(()=>{p(J,tt(te)),oe(),p(z,!1)},1e3)},he=()=>{p(F,"")};Sr(()=>{clearTimeout(Z),clearTimeout(Y),clearTimeout(re)}),rt(()=>(w(),Bt),()=>{p(R,w().namespaceWriteDisabled(k)||!Bt())}),rt(()=>e(X),()=>{e(X)&&W()}),tr(),$e();var ne=Ie(),be=G(ne);or(be,()=>e(J),L=>{var d=Oa(),ae=G(d),xe=l(ae),ke=l(xe);{let Ce=c(()=>(r(Fe),a(()=>Fe({namespace:k}))));at(ke,{get href(){return e(Ce)},icon:"chevron-left",children:(Le,Ze)=>{ue();var we=ie();T(ye=>u(we,ye),[()=>(r(t),a(()=>t("schedules.back-to-schedules")))]),v(Le,we)},$$slots:{default:!0}})}var Re=o(ke,2),ce=l(Re,!0);s(Re),s(xe),s(ae);var Qe=o(ae,2);Jt(Qe,{}),T(()=>u(ce,O)),v(L,d)},(L,d)=>{var ae=Ie(),xe=G(ae);{var ke=ce=>{Jt(ce,{class:"my-2"})},Re=ce=>{var Qe=Ra(),Ce=G(Qe),Le=l(Ce),Ze=l(Le);{let b=c(()=>(r(Fe),a(()=>Fe({namespace:k}))));at(Ze,{get href(){return e(b)},icon:"chevron-left",children:(_,i)=>{ue();var g=ie();T(n=>u(g,n),[()=>(r(t),a(()=>t("schedules.back-to-schedules")))]),v(_,g)},$$slots:{default:!0}})}var we=o(Ze,2),ye=l(we),bt=l(ye,!0);s(ye),s(we);var Ge=o(we,2),ot=l(Ge);{let b=c(()=>(r(e(d)),a(()=>{var _;return(_=e(d))!=null&&_.schedule.state.paused?"Paused":"Running"})));dr(ot,{get status(){return e(b)}})}var kt=o(ot,2),ur=l(kt,!0);s(kt),s(Ge);var yt=o(Ge,2);{const b=i=>{ue();var g=ie("Created");v(i,g)};let _=c(()=>(r(e(d)),a(()=>{var i,g;return(g=(i=e(d))==null?void 0:i.info)==null?void 0:g.createTime})));lt(yt,{as:"p",class:"flex items-center gap-2 text-right text-sm",get dateTime(){return e(_)},leading:b,$$slots:{leading:!0}})}var vr=o(yt,2);{var mr=b=>{{const _=g=>{ue();var n=ie("Last Updated");v(g,n)};let i=c(()=>(r(e(d)),a(()=>{var g,n;return(n=(g=e(d))==null?void 0:g.info)==null?void 0:n.updateTime})));lt(b,{as:"p",class:"flex items-center gap-2 text-right text-sm",get dateTime(){return e(i)},leading:_,$$slots:{leading:!0}})}};_e(vr,b=>{r(e(d)),a(()=>{var _,i;return(i=(_=e(d))==null?void 0:_.info)==null?void 0:i.updateTime})&&b(mr)})}s(Le);var fr=o(Le,2);{let b=c(()=>(r(e(d)),r(t),a(()=>{var i,g,n;return(n=(g=(i=e(d))==null?void 0:i.schedule)==null?void 0:g.state)!=null&&n.paused?t("schedules.unpause"):t("schedules.pause")}))),_=c(()=>(r(t),a(()=>t("schedules.schedule-actions"))));Ta(fr,{position:"right",get label(){return e(b)},get menuLabel(){return e(_)},id:"schedule-actions",get disabled(){return e(R)},$$events:{click:()=>p(M,!0)},children:(i,g)=>{var n=Pa(),f=G(n);nt(f,{"data-testid":"trigger-schedule",onclick:()=>p(y,!0),children:(le,ge)=>{ue();var C=ie();T(se=>u(C,se),[()=>(r(t),a(()=>t("schedules.trigger")))]),v(le,C)},$$slots:{default:!0}});var j=o(f,2);nt(j,{"data-testid":"backfill-schedule",onclick:()=>p(X,!0),children:(le,ge)=>{ue();var C=ie();T(se=>u(C,se),[()=>(r(t),a(()=>t("schedules.backfill")))]),v(le,C)},$$slots:{default:!0}});var E=o(j,2);{let le=c(()=>(r(Nt),a(()=>Nt({namespace:k,scheduleId:O}))));nt(E,{"data-testid":"edit-schedule",get href(){return e(le)},children:(ge,C)=>{ue();var se=ie();T(et=>u(se,et),[()=>(r(t),a(()=>t("common.edit")))]),v(ge,se)},$$slots:{default:!0}})}var pe=o(E,2);nt(pe,{"data-testid":"delete-schedule",destructive:!0,onclick:()=>p(V,!0),children:(le,ge)=>{ue();var C=ie();T(se=>u(C,se),[()=>(r(t),a(()=>t("common.delete")))]),v(le,C)},$$slots:{default:!0}}),v(i,n)},$$slots:{default:!0}})}s(Ce);var Tt=o(Ce,2);jr(Tt,{});var mt=o(Tt,2),Pt=l(mt);{var pr=b=>{var _=Sa(),i=l(_);{let g=c(()=>(r(e(d)),a(()=>{var n,f;return(f=(n=e(d))==null?void 0:n.info)==null?void 0:f.invalidScheduleError})));Zt(i,{get error(){return e(g)}})}s(_),v(b,_)};_e(Pt,b=>{r(e(d)),a(()=>{var _,i;return(i=(_=e(d))==null?void 0:_.info)==null?void 0:i.invalidScheduleError})&&b(pr)})}var ft=o(Pt,2),pt=l(ft),gt=l(pt),St=l(gt),gr=o(St);Nr(gr,{key:"common.workflows-plural",get count(){return $(),a(()=>$().count)}}),s(gt);var _r=o(gt,2);wt(_r,{size:"xs",variant:"ghost",leadingIcon:"retry",$$events:{click:()=>{p(J,tt(te)),Je(Rr,Date.now())}},children:(b,_)=>{var i=Ie(),g=G(i);{var n=f=>{var j=ie();T(E=>u(j,`+${E??""}`),[()=>($(),a(()=>$().newCount.toLocaleString()))]),v(f,j)};_e(g,f=>{$(),a(()=>$().newCount>0)&&f(n)})}v(b,i)},$$slots:{default:!0}}),s(pt);var $r=o(pt,2);zr($r,{get staticQuery(){return ee}}),s(ft);var At=o(ft,2),_t=l(At),Ct=l(_t);{let b=c(()=>(r(e(d)),a(()=>{var _,i;return(i=(_=e(d))==null?void 0:_.info)==null?void 0:i.recentActions})));ga(Ct,{get namespace(){return k},get recentRuns(){return e(b)},get workflowQuery(){return ee}})}var jt=o(Ct,2);{let b=c(()=>(r(e(d)),a(()=>{var _,i;return(i=(_=e(d))==null?void 0:_.info)==null?void 0:i.futureActionTimes})));ba(jt,{get futureRuns(){return e(b)}})}var Dt=o(jt,2);{let b=c(()=>(r(e(d)),a(()=>{var n,f;return(f=(n=e(d))==null?void 0:n.schedule)==null?void 0:f.spec}))),_=c(()=>(r(e(d)),a(()=>{var n,f;return(f=(n=e(d))==null?void 0:n.schedule)==null?void 0:f.state}))),i=c(()=>(r(e(d)),a(()=>{var n,f;return(f=(n=e(d))==null?void 0:n.schedule)==null?void 0:f.policies}))),g=c(()=>(r(e(d)),a(()=>{var n,f,j;return(j=(f=(n=e(d))==null?void 0:n.schedule)==null?void 0:f.state)==null?void 0:j.notes})));na(Dt,{get spec(){return e(b)},get state(){return e(_)},get policies(){return e(i)},get notes(){return e(g)}})}var hr=o(Dt,2);{let b=c(()=>(r(e(d)),a(()=>{var _;return((_=e(d))==null?void 0:_.searchAttributes)??{}})));ha(hr,{get searchAttributes(){return e(b)}})}s(_t);var It=o(_t,2),Mt=l(It);{let b=c(()=>(r(e(d)),a(()=>{var _,i,g,n;return(n=(g=(i=(_=e(d))==null?void 0:_.schedule)==null?void 0:i.action)==null?void 0:g.startWorkflow)==null?void 0:n.input})));va(Mt,{get input(){return e(b)}})}var xr=o(Mt,2);{let b=c(()=>(r(e(d)),a(()=>{var i,g,n,f,j,E;return[...((n=(g=(i=e(d))==null?void 0:i.schedule)==null?void 0:g.spec)==null?void 0:n.structuredCalendar)??[],...((E=(j=(f=e(d))==null?void 0:f.schedule)==null?void 0:j.spec)==null?void 0:E.interval)??[]]}))),_=c(()=>(r(e(d)),a(()=>{var i,g,n;return(n=(g=(i=e(d))==null?void 0:i.schedule)==null?void 0:g.spec)==null?void 0:n.timezoneName})));ua(xr,{get frequency(){return e(b)},get timezoneName(){return e(_)}})}s(It),s(At),s(mt);var Wt=o(mt,2);{let b=c(()=>(r(e(d)),r(t),a(()=>{var g;return(g=e(d))!=null&&g.schedule.state.paused?t("schedules.unpause"):t("schedules.pause")}))),_=c(()=>(r(t),a(()=>t("common.cancel")))),i=c(()=>!e(F));it(Wt,{id:"pause-schedule-modal",confirmType:"primary",get confirmText(){return e(b)},get cancelText(){return e(_)},get confirmDisabled(){return e(i)},get open(){return e(M)},set open(g){p(M,g)},$$events:{confirmModal:()=>Ye(e(d)),cancelModal:he},$$slots:{title:(g,n)=>{var f=Aa(),j=l(f,!0);s(f),T(E=>u(j,E),[()=>(r(e(d)),r(t),a(()=>{var E;return(E=e(d))!=null&&E.schedule.state.paused?t("schedules.unpause-modal-title"):t("schedules.pause-modal-title")}))]),v(g,f)},content:(g,n)=>{var f=Ca(),j=l(f),E=l(j,!0);s(j);var pe=o(j,2),le=l(pe,!0);s(pe);var ge=o(pe,2);{let C=c(()=>(r(t),a(()=>t("common.reason")))),se=c(()=>(r(t),a(()=>t("common.reason"))));Fr(ge,{id:"pause-reason",get placeholder(){return e(C)},get label(){return e(se)},labelHidden:!0,get value(){return e(F)},set value(et){p(F,et)},$$legacy:!0})}s(f),T((C,se)=>{u(E,C),u(le,se)},[()=>(r(e(d)),r(t),a(()=>{var C;return(C=e(d))!=null&&C.schedule.state.paused?t("schedules.unpause-modal-confirmation",{schedule:O}):t("schedules.pause-modal-confirmation",{schedule:O})})),()=>(r(e(d)),r(t),a(()=>{var C;return(C=e(d))!=null&&C.schedule.state.paused?t("schedules.unpause-reason"):t("schedules.pause-reason")}))]),v(g,f)}},$$legacy:!0})}var Ut=o(Wt,2);{let b=c(()=>(r(t),a(()=>t("schedules.trigger")))),_=c(()=>(r(t),a(()=>t("common.cancel"))));it(Ut,{id:"trigger-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(b)},get cancelText(){return e(_)},get loading(){return e(z)},get open(){return e(y)},set open(i){p(y,i)},$$events:{confirmModal:()=>We(),cancelModal:Me},$$slots:{title:(i,g)=>{var n=ja(),f=l(n,!0);s(n),T(j=>u(f,j),[()=>(r(t),a(()=>t("schedules.trigger-modal-title")))]),v(i,n)},content:(i,g)=>{var n=Da(),f=l(n);Kt(f,{get group(){return Q},name:"trigger-event-id",class:"h-auto overflow-auto",children:(j,E)=>{var pe=Ie(),le=G(pe);st(le,1,()=>fe,ct,(ge,C)=>{Xt(ge,{get id(){return e(C),a(()=>e(C).value)},get value(){return e(C),a(()=>e(C).value)},get label(){return e(C),a(()=>e(C).label)},get description(){return e(C),a(()=>e(C).description)}})}),v(j,pe)},$$slots:{default:!0}}),s(n),v(i,n)}},$$legacy:!0})}var Rt=o(Ut,2);{let b=c(()=>(r(t),a(()=>t("schedules.schedule")))),_=c(()=>(r(t),a(()=>t("common.cancel"))));it(Rt,{id:"backfill-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(b)},get cancelText(){return e(_)},get loading(){return e(z)},get open(){return e(X)},set open(i){p(X,i)},$$events:{confirmModal:()=>de(),cancelModal:oe},$$slots:{title:(i,g)=>{var n=Ia(),f=l(n);s(n),T((j,E)=>u(f,`${j??""}
        ${E??""}`),[()=>(r(t),a(()=>t("schedules.schedule"))),()=>(r(t),a(()=>t("schedules.backfill")))]),v(i,n)},content:(i,g)=>{var n=Ma(),f=l(n),j=l(f);{let q=c(()=>(r(t),a(()=>t("common.start")))),Ve=c(()=>(r(t),a(()=>t("common.today")))),Oe=c(()=>(r(t),a(()=>t("common.close")))),je=c(()=>(r(t),a(()=>t("common.clear-input-button-label"))));Gt(j,{get label(){return e(q)},get selected(){return e(Be)},get todayLabel(){return e(Ve)},get closeLabel(){return e(Oe)},get clearLabel(){return e(je)},$$events:{datechange:vt}})}var E=o(j,2);Vt(E,{twelveHourClock:!1,get hour(){return e(Se)},set hour(q){p(Se,q)},get minute(){return e(Ue)},set minute(q){p(Ue,q)},get second(){return e(He)},set second(q){p(He,q)},$$legacy:!0});var pe=o(E,2);{let q=c(()=>(r(t),a(()=>t("common.end")))),Ve=c(()=>(r(t),a(()=>t("common.today")))),Oe=c(()=>(r(t),a(()=>t("common.close")))),je=c(()=>(r(t),a(()=>t("common.clear-input-button-label"))));Gt(pe,{get label(){return e(q)},get selected(){return e(Pe)},get todayLabel(){return e(Ve)},get closeLabel(){return e(Oe)},get clearLabel(){return e(je)},$$events:{datechange:P}})}var le=o(pe,2);Vt(le,{twelveHourClock:!1,get hour(){return e(Ae)},set hour(q){p(Ae,q)},get minute(){return e(Ee)},set minute(q){p(Ee,q)},get second(){return e(Ne)},set second(q){p(Ne,q)},$$legacy:!0});var ge=o(le,2),C=l(ge);cr(C,{name:"clock","aria-hidden":"true"});var se=o(C,2),et=l(se);s(se),s(ge),s(f);var Lt=o(f,4),Ot=l(Lt);Kt(Ot,{get group(){return Q},name:"backfill-event-id",class:"h-auto overflow-auto",children:(q,Ve)=>{var Oe=Ie(),je=G(Oe);st(je,1,()=>(e(Te),a(()=>fe.slice(0,e(Te)?fe.length:3))),ct,($t,De)=>{Xt($t,{get id(){return e(De),a(()=>e(De).value)},get value(){return e(De),a(()=>e(De).value)},get label(){return e(De),a(()=>e(De).label)},get description(){return e(De),a(()=>e(De).description)}})}),v(q,Oe)},$$slots:{default:!0}});var br=o(Ot,2);{var kr=q=>{wt(q,{variant:"ghost",size:"xs",$$events:{click:()=>p(Te,!0)},children:(Ve,Oe)=>{ue();var je=ie();T($t=>u(je,$t),[()=>(r(t),a(()=>t("schedules.more-options")))]),v(Ve,je)},$$slots:{default:!0}})};_e(br,q=>{e(Te)||q(kr)})}s(Lt),s(n),T(q=>u(et,`${q??""} Universal Standard Time
              (UTC)`),[()=>(r(t),a(()=>t("common.based-on-time-preface")))]),v(i,n)}},$$legacy:!0})}var wr=o(Rt,2);{let b=c(()=>(r(t),a(()=>t("common.delete")))),_=c(()=>(r(t),a(()=>t("common.cancel"))));it(wr,{id:"delete-schedule-modal",confirmType:"destructive",get confirmText(){return e(b)},get cancelText(){return e(_)},get open(){return e(V)},set open(i){p(V,i)},get error(){return e(H)},set error(i){p(H,i)},$$events:{confirmModal:qe,cancelModal:he},$$slots:{title:(i,g)=>{var n=Wa(),f=l(n,!0);s(n),T(j=>u(f,j),[()=>(r(t),a(()=>t("schedules.delete-modal-title")))]),v(i,n)},content:(i,g)=>{var n=Ua(),f=l(n),j=l(f,!0);s(f),s(n),T(E=>u(j,E),[()=>(r(t),a(()=>t("schedules.delete-modal-confirmation",{schedule:O})))]),v(i,n)}},$$legacy:!0})}T(b=>{u(bt,O),u(ur,(r(e(d)),a(()=>{var _,i,g,n,f;return(f=(n=(g=(i=(_=e(d))==null?void 0:_.schedule)==null?void 0:i.action)==null?void 0:g.startWorkflow)==null?void 0:n.workflowType)==null?void 0:f.name}))),u(St,`${b??""} `)},[()=>($(),a(()=>$().count.toLocaleString()))]),v(ce,Qe)};_e(xe,ce=>{x()?ce(ke):ce(Re,!1)})}v(L,ae)},(L,d)=>{var ae=La(),xe=G(ae),ke=l(xe),Re=l(ke);{let we=c(()=>(r(Fe),a(()=>Fe({namespace:k}))));at(Re,{get href(){return e(we)},icon:"chevron-left",children:(ye,bt)=>{ue();var Ge=ie();T(ot=>u(Ge,ot),[()=>(r(t),a(()=>t("schedules.back-to-schedules")))]),v(ye,Ge)},$$slots:{default:!0}})}var ce=o(Re,2),Qe=l(ce,!0);s(ce);var Ce=o(ce,2),Le=l(Ce,!0);s(Ce),s(ke),s(xe);var Ze=o(xe,2);{let we=c(()=>(r(e(d)),a(()=>{var ye;return(ye=e(d))==null?void 0:ye.message})));Zt(Ze,{get error(){return e(we)}})}T(()=>{u(Qe,O),u(Le,k)}),v(L,ae)}),v(I,ne),me(),U()}var Fa=A("<!> <!>",1);function Ws(I,m){ve(m,!1);const h=()=>Ke(lr,"$page",w),[w,x]=sr(),S=h().params.schedule;$e();var $=Fa(),D=G($);{let R=c(()=>`Schedule | ${S}`);Pr(D,{get title(){return e(R)},get url(){return h().url.href}})}var U=o(D,2);za(U,{}),v(I,$),me(),x()}export{Ws as component};
