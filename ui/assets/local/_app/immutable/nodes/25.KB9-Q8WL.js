import"../chunks/Bzak7iHL.js";import"../chunks/69_IOA4Y.js";import{p as ie,t as y,i as o,r as a,c as l,j as $,o as s,e as u,b as ce,f as B,g as e,n as ye,k as fe,h as Re,l as Ee,s as v,m as O,M as Er,ak as ft,a as Gt}from"../chunks/DbzSl5JP.js";import{i as ge,s as Jt}from"../chunks/0AwovCk4.js";import{p as U,l as Kt,s as st,a as ne,c as Be}from"../chunks/BV6aaRB7.js";import{p as Xt}from"../chunks/DX34oUcS.js";import{P as Nr}from"../chunks/DthXRT7N.js";import{s as c}from"../chunks/B3b0ZBK9.js";import{a as Yt}from"../chunks/DvSBBdSb.js";import{i as _e}from"../chunks/BwgIsUu1.js";import{e as Qe,i as rt}from"../chunks/DgMCLi2J.js";import{w as Qr}from"../chunks/Bq4CR0Xw.js";import{g as Vr}from"../chunks/Dtg1WC29.js";import{C as Gr}from"../chunks/D19dxLGp.js";import{A as Zt}from"../chunks/DEYh1TLQ.js";import{t}from"../chunks/BXv1jDVW.js";import{j as Jr,s as Oe,o as Kr}from"../chunks/CHqpB290.js";import{A as Xr}from"../chunks/B7uMlIQJ.js";import{s as Yr}from"../chunks/TqT1w0aw.js";import{S as Zr}from"../chunks/DDtO1NI-.js";import{I as es}from"../chunks/CvQdb5ko.js";import{s as ts}from"../chunks/BDfAQ6r3.js";import{E as er}from"../chunks/D1jnh8Fn.js";import{L as Ne}from"../chunks/C-eq39Pr.js";import{q as rs,l as qt,r as ss,w as as}from"../chunks/CBwUduGz.js";import{f as Ve,r as gt,t as ht,g as Bt}from"../chunks/ChxEr8nO.js";import{d as tr}from"../chunks/vO_crHjm.js";import{m as os,c as ls,q as Ye,x as ns}from"../chunks/DPGy7yk3.js";import{W as rr}from"../chunks/B747axJq.js";import{d as is}from"../chunks/DXLOK3Yo.js";import{p as cs}from"../chunks/756y7qLl.js";import{W as ds}from"../chunks/CpbqkeIz.js";import{B as _t}from"../chunks/DkYl1zwJ.js";import{D as Ht,T as jt}from"../chunks/BTZFWtq4.js";import{I as sr}from"../chunks/ZcSUWOp6.js";import{I as us}from"../chunks/DVB4BDWV.js";import{L as Et}from"../chunks/BXom7Buh.js";import{c as vs,d as ps,b as Ze}from"../chunks/CTUgCc7R.js";import{M as et}from"../chunks/D5Rsdg97.js";import{R as Nt,a as Qt}from"../chunks/BiCeoThc.js";import{b as ms}from"../chunks/D8435AaA.js";import{M as fs}from"../chunks/Bu0F1rwU.js";import{T as _s,b as gs}from"../chunks/AEsJ-bHN.js";import{f as je,l as tt,u as hs,p as $s,t as xs,b as ws,d as bs}from"../chunks/Da0pj2bw.js";import{c as ys}from"../chunks/qYCpBTph.js";import{g as ks}from"../chunks/L8d2uQPP.js";var Ts=y('<div><h2 class="mb-4"> </h2> <p> </p></div>');function Ps(D,d){ie(d,!1);let f=U(d,"notes",8,"");ge();var S=Ts(),_=o(S),k=o(_,!0);a(_);var h=l(_,2),I=o(h,!0);a(h),a(S),$(z=>{c(k,z),c(I,f())},[()=>t("common.notes")],s),u(D,S),ce()}var Ss=y('<li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li>'),Cs=y('<li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li>'),As=y('<li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li>'),Ds=y('<ul class="settings-list svelte-s42yf"><li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <!> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <!> <!></ul>'),Is=y("<!> <!>",1);function Ms(D,d){ie(d,!1);let f=U(d,"spec",8),S=U(d,"state",8),_=U(d,"policies",8),k=U(d,"notes",8,"");ge();var h=Is(),I=B(h);Ps(I,{get notes(){return k()}});var z=l(I,2);const V=s(()=>t("schedules.advanced-settings"));Zt(z,{get title(){return e(V)},children:(W,Z)=>{var T=Ds(),w=o(T),q=o(w),F=l(q),H=o(F,!0);a(F),a(w);var G=l(w,2),J=o(G),ee=l(J),E=o(ee,!0);a(ee),a(G);var C=l(G,2),x=o(C),L=l(x),K=o(L,!0);a(L),a(C);var N=l(C,2),Q=o(N),ae=l(Q),ke=o(ae,!0);a(ae),a(N);var Te=l(N,2);{var de=b=>{var A=Ss(),oe=o(A),te=l(oe),xe=o(te,!0);a(te),a(A),$((le,P)=>{c(oe,`${le??""} `),c(xe,P)},[()=>t("schedules.remaining-actions"),()=>{var le;return((le=S())==null?void 0:le.remainingActions)??t("common.none")}],s),u(b,A)};_e(Te,b=>{var A;(A=S())!=null&&A.limitedActions&&b(de)})}var Pe=l(Te,2),ue=o(Pe),he=l(ue),Se=o(he,!0);a(he),a(Pe);var ve=l(Pe,2),pe=o(ve),Ie=l(pe),$e=o(Ie,!0);a(Ie),a(ve);var Ue=l(ve,2);{var ze=b=>{var A=Cs(),oe=o(A),te=l(oe),xe=o(te,!0);a(te),a(A),$((le,P)=>{c(oe,`${le??""} `),c(xe,P)},[()=>t("schedules.pause-on-failure"),()=>_().pauseOnFailure?t("common.true"):t("common.false")],s),u(b,A)};_e(Ue,b=>{var A;((A=_())==null?void 0:A.pauseOnFailure)!=null&&b(ze)})}var ot=l(Ue,2);{var lt=b=>{var A=As(),oe=o(A),te=l(oe),xe=o(te,!0);a(te),a(A),$((le,P)=>{c(oe,`${le??""} `),c(xe,P)},[()=>t("schedules.keep-original-workflow-id"),()=>_().keepOriginalWorkflowId?t("common.true"):t("common.false")],s),u(b,A)};_e(ot,b=>{var A;((A=_())==null?void 0:A.keepOriginalWorkflowId)!=null&&b(lt)})}a(T),$((b,A,oe,te,xe,le,P,m,X,we,Ce,Me)=>{c(q,`${b??""} `),c(H,A),c(J,`${oe??""} `),c(E,te),c(x,`${xe??""} `),c(K,le),c(Q,`${P??""} `),c(ke,m),c(ue,`${X??""} `),c(Se,we),c(pe,`${Ce??""} `),c($e,Me)},[()=>t("schedules.start-time"),()=>{var b;return((b=f())==null?void 0:b.startTime)??t("common.none")},()=>t("schedules.end-time"),()=>{var b;return((b=f())==null?void 0:b.endTime)??t("common.none")},()=>t("schedules.jitter"),()=>{var b;return((b=f())==null?void 0:b.jitter)??t("common.none")},()=>t("schedules.exclusion-calendar"),()=>{var b,A;return((A=(b=f())==null?void 0:b.excludeCalendar)==null?void 0:A[0])??t("common.none")},()=>t("schedules.overlap-policy"),()=>{var b;return((b=_())==null?void 0:b.overlapPolicy)??t("common.none")},()=>t("schedules.catchup-window"),()=>{var b;return((b=_())==null?void 0:b.catchupWindow)!=null?Jr(_().catchupWindow.toString()):t("common.none")}],s),u(W,T)},$$slots:{default:!0}}),u(D,h),ce()}var Ws=y("<p> </p> <p> </p>",1);function Vt(D,d){ie(d,!1);let f=U(d,"error",8,"");ge(),Xr(D,{intent:"error",children:(S,_)=>{var k=Ws(),h=B(k),I=o(h,!0);a(h);var z=l(h,2),V=o(z,!0);a(z),$(W=>{c(I,W),c(V,f())},[()=>t("schedules.error-title")],s),u(S,k)},$$slots:{default:!0}}),ce()}var Rs=y("<div><!></div>");function at(D,d){const f=Kt(d,["children","$$slots","$$events","$$legacy"]);ie(d,!1);let S=U(d,"error",8,!1);ge();var _=Rs();let k;var h=o(_);Jt(h,d,"default",{},null),a(_),$(I=>k=Yr(_,1,`panel surface-primary ${f.class??""}`,"svelte-eklrpl",k,I),[()=>({error:S()})],s),u(D,_),ce()}var Us=y('<h2 class="mb-4"> </h2> <div class="pr-2"><!></div>',1);function Fs(D,d){ie(d,!0);let f=U(d,"timezoneName",3,"UTC");at(D,{children:(S,_)=>{var k=Us(),h=B(k),I=o(h,!0);a(h);var z=l(h,2),V=o(z);Zr(V,{get frequency(){return d.frequency},get timezoneName(){return f()},class:"text-base"}),a(z),$(W=>c(I,W),[()=>t("schedules.schedule-spec")]),u(S,k)},$$slots:{default:!0}}),ce()}function Ls(D,d){ie(d,!1);let f=U(d,"input",8);ge(),at(D,{children:(S,_)=>{const k=s(()=>t("schedules.schedule-input")),h=s(()=>ts(f()));es(S,{get title(){return e(k)},get content(){return e(h)}})},$$slots:{default:!0}}),ce()}var Os=y('<div class="row svelte-19syzt9"><div class="w-28"><!></div> <div class="mx-2 w-auto break-words"><!></div> <div class="ml-auto"><p> </p></div></div>'),zs=y('<div class="row svelte-19syzt9"><div class="w-28"></div> <div class="w-96"> </div> <div class="ml-auto"><p> </p></div></div>'),qs=y('<div class="flex justify-between"><h2 class="mb-4"> </h2> <!></div> <!> <!>',1);function Bs(D,d){ie(d,!1);const[f,S]=st(),_=()=>ne(ht,"$timeFormat",f),k=()=>ne(gt,"$relativeTime",f);let h=U(d,"recentRuns",24,()=>[]),I=U(d,"namespace",8),z=U(d,"workflowQuery",8);const V=W=>{var Z,T;return(T=(Z=W==null?void 0:W.sort((w,q)=>new Date(q.actualTime).getTime()-new Date(w.actualTime).getTime()))===null||Z===void 0?void 0:Z.slice(0,5))!==null&&T!==void 0?T:[]};ge(),at(D,{class:"w-full",children:(W,Z)=>{var T=qs(),w=B(T),q=o(w),F=o(q,!0);a(q);var H=l(q,2);const G=s(()=>os({namespace:I(),query:z()}));Ne(H,{get href(){return e(G)},children:(C,x)=>{ye();var L=fe();$(K=>c(L,K),[()=>t("common.view-all-runs")],s),u(C,L)},$$slots:{default:!0}}),a(w);var J=l(w,2);Qe(J,1,()=>V(h()),C=>{var x;return(x=C==null?void 0:C.startWorkflowResult)==null?void 0:x.workflowId},(C,x)=>{var L=Re(),K=B(L);Yt(K,()=>rs({namespace:I(),workflowId:tr(e(x).startWorkflowResult.workflowId),runId:e(x).startWorkflowResult.runId},fetch),null,(N,Q)=>{var ae=Os(),ke=o(ae),Te=o(ke);rr(Te,{get status(){return e(Q).status}}),a(ke);var de=l(ke,2),Pe=o(de);const ue=s(()=>ls({workflow:e(x).startWorkflowResult.workflowId,run:e(x).startWorkflowResult.runId,namespace:I()}));Ne(Pe,{get href(){return e(ue)},children:(pe,Ie)=>{ye();var $e=fe();$(()=>c($e,e(x).startWorkflowResult.workflowId)),u(pe,$e)},$$slots:{default:!0}}),a(de);var he=l(de,2),Se=o(he),ve=o(Se,!0);a(Se),a(he),a(ae),$(pe=>c(ve,pe),[()=>Ve(e(x).actualTime,_(),{relative:k()})],s),u(N,ae)},N=>{var Q=zs(),ae=l(o(Q),2),ke=o(ae,!0);a(ae);var Te=l(ae,2),de=o(Te),Pe=o(de,!0);a(de),a(Te),a(Q),$(ue=>{c(ke,e(x).startWorkflowResult.workflowId),c(Pe,ue)},[()=>Ve(e(x).actualTime,_(),{relative:k()})],s),u(N,Q)}),u(C,L)});var ee=l(J,2);{var E=C=>{const x=s(()=>t("schedules.recent-runs-empty-state-title"));er(C,{get title(){return e(x)}})};_e(ee,C=>{h().length||C(E)})}$(C=>c(F,C),[()=>t("schedules.recent-runs")],s),u(W,T)},$$slots:{default:!0}}),ce(),S()}const Hs=D=>Array.isArray(D)?D.join(", "):D;var js=y('<li class="flex flex-wrap items-center gap-2 border-b py-2 last-of-type:border-b-0"><span class="break-all"> </span> <span class="surface-subtle select-all rounded-sm p-1 leading-4"> </span></li>'),Es=y('<ul class="w-full"></ul>');function Ns(D,d){ie(d,!1);const f=O(),S=O(),_=O();var k=O();let h=U(d,"searchAttributes",8);Ee(()=>Er(h()),()=>{v(f,is({searchAttributes:h()}))}),Ee(()=>(ft(k),e(f)),()=>{v(S,v(k,e(f)===null||e(f)===void 0?void 0:e(f).searchAttributes.indexedFields)!==null&&ft(k)!==void 0?ft(k):{})}),Ee(()=>e(S),()=>{v(_,Object.keys(e(S)).length)}),Gt(),ge();const I=s(()=>t("events.custom-search-attributes")),z=s(()=>`${e(_)} ${t("events.custom-search")} ${cs(t("events.attribute"),e(_))}`),V=s(()=>e(_)>0);Zt(D,{get title(){return e(I)},get subtitle(){return e(z)},get expandable(){return e(V)},children:(W,Z)=>{var T=Re(),w=B(T);{var q=F=>{var H=Es();Qe(H,5,()=>Object.entries(e(S)),rt,(G,J)=>{let ee=()=>e(J)[0],E=()=>e(J)[1];var C=js();const x=s(()=>Hs(E()));var L=o(C),K=o(L,!0);a(L);var N=l(L,2),Q=o(N,!0);a(N),a(C),$(()=>{c(K,ee()),c(Q,e(x))}),u(G,C)}),a(H),u(F,H)};_e(w,F=>{e(_)&&F(q)})}u(W,T)},$$slots:{default:!0}}),ce()}var Qs=y('<div class="row svelte-dqszqh"><p> </p></div>'),Vs=y('<h2 class="mb-4"> </h2> <!>',1);function Gs(D,d){ie(d,!1);const[f,S]=st(),_=()=>ne(ht,"$timeFormat",f),k=()=>ne(gt,"$relativeTime",f);let h=U(d,"futureRuns",24,()=>[]);ge(),at(D,{class:"w-full",children:(I,z)=>{var V=Vs(),W=B(V),Z=o(W,!0);a(W);var T=l(W,2);Qe(T,1,()=>h().slice(0,5),rt,(w,q)=>{var F=Qs(),H=o(F),G=o(H,!0);a(H),a(F),$(J=>c(G,J),[()=>Ve(e(q),_(),{relative:k(),relativeLabel:t("common.from-now")})],s),u(w,F)},w=>{const q=s(()=>t("schedules.upcoming-runs-empty-state-title"));er(w,{get title(){return e(q)}})}),$(w=>c(Z,w),[()=>t("schedules.upcoming-runs")],s),u(I,V)},$$slots:{default:!0}}),ce(),S()}var Js=y("<!> ",1),Ks=y('<div class="button-group flex h-10 cursor-pointer flex-row gap-[1px]"><!> <!></div> <!>',1);function Xs(D,d){const f=Kt(d,["children","$$slots","$$events","$$legacy"]);ie(d,!1);let S=U(d,"label",8),_=U(d,"menuLabel",8),k=U(d,"icon",8,void 0),h=U(d,"id",8),I=U(d,"disabled",8,!1),z=U(d,"position",8,"left"),V=U(d,"primaryActionDisabled",8,!1),W=U(d,"href",8,void 0),Z=U(d,"menuClass",8,void 0);ge(),vs(D,{get class(){return f.class},children:(T,w)=>{var q=Ks(),F=B(q),H=o(F);const G=s(()=>I()||V());_t(H,{get disabled(){return e(G)},get id(){return`${h()??""}-primary-button`},get href(){return W()},disableTracking:!0,"data-track-name":"split-button","data-track-intent":"primary",get"data-track-text"(){return S()},$$events:{click(E){ms.call(this,d,E)}},children:(E,C)=>{var x=Js(),L=B(x);{var K=Q=>{sr(Q,{get name(){return k()}})};_e(L,Q=>{k()&&Q(K)})}var N=l(L);$(()=>c(N,` ${S()??""}`)),u(E,x)},$$slots:{default:!0}});var J=l(H,2);fs(J,{class:"max-w-fit grow-0 px-3",get id(){return`${h()??""}-menu-button`},get label(){return _()},get controls(){return`${h()??""}-menu`},variant:"primary",get disabled(){return I()},hasIndicator:!0}),a(F);var ee=l(F,2);ps(ee,{get id(){return`${h()??""}-menu`},get position(){return z()},get class(){return Z()},children:(E,C)=>{var x=Re(),L=B(x);Jt(L,d,"default",{},null),u(E,x)},$$slots:{default:!0}}),u(T,q)},$$slots:{default:!0}}),ce()}var Ys=y('<p class="flex items-center gap-2 text-right text-sm"> </p>'),Zs=y("<!> <!> <!> <!>",1),ea=y('<div class="w-full xl:w-1/2"><!></div>'),ta=y('<h3 slot="title"> </h3>'),ra=y('<div slot="content"><p> </p> <p class="my-4"> </p> <!></div>'),sa=y('<h3 slot="title"> </h3>'),aa=y('<div slot="content"><!></div>'),oa=y('<h3 slot="title"> </h3>'),la=y('<div slot="content" class="p-0"><div class="flex flex-col gap-2 p-2"><!> <!> <!> <!> <div class="flex w-full flex-row items-center gap-2"><!> <span class="text-xs font-normal text-slate-500"> </span></div></div> <hr tabindex="-1" aria-hidden="true" class="my-4 w-full border-subtle"> <div class="flex max-h-52 flex-col gap-2 overflow-auto"><!> <!></div></div>'),na=y('<h3 slot="title"> </h3>'),ia=y('<div slot="content"><p> </p></div>'),ca=y('<header class="flex flex-row flex-wrap justify-between gap-4"><div class="relative flex flex-col"><!> <h1 class="relative flex items-center"><span class="select-all" data-testid="schedule-name"></span></h1> <div class="flex flex-wrap items-center gap-2 text-lg"><!> <p> </p></div> <p class="flex items-center gap-2 text-right text-sm"> </p> <!></div> <!></header> <!> <div class="flex flex-col gap-4 pb-24"><!> <div class="flex w-full flex-col gap-2 text-lg"><div class="flex items-center gap-2"><span data-testid="workflow-count"> <!></span> <!></div> <!></div> <div class="flex flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col items-start gap-4 xl:w-2/3"><!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 xl:w-1/3"><!> <!></div></div></div> <!> <!> <!> <!>',1),da=y('<header class="mb-8"><div class="relative flex flex-col gap-1"><!> <h1 class="mt-8 select-all" data-testid="schedule-name"></h1> <p class="text-sm"></p></div></header> <!>',1),ua=y('<header class="mb-8"><div class="relative flex flex-col gap-4"><!> <h1 class="select-all" data-testid="schedule-name"></h1></div></header> <!>',1);function va(D,d){ie(d,!1);const[f,S]=st(),_=()=>ne(Xt,"$page",f),k=()=>ne(ae,"$coreUser",f),h=()=>ne(tt,"$loading",f),I=()=>ne(N,"$overlapPolicy",f),z=()=>ne(ht,"$timeFormat",f),V=()=>ne(gt,"$relativeTime",f),W=()=>ne(as,"$workflowCount",f),Z=O();let T=_().params.namespace,w=_().params.schedule,q=`TemporalScheduledById="${w}"`;const F=ks(),H={namespace:T,scheduleId:tr(w)};let G=O(je(H)),J=O(!1),ee=O(!1),E=O(!1),C=O(!1),x=O(""),L=O(""),K=O(!1),N=Qr("Unspecified"),Q=[{description:t("schedules.trigger-unspecified-description"),label:t("schedules.trigger-unspecified-title"),value:"Unspecified"},{description:t("schedules.trigger-buffer-all-description"),label:t("schedules.trigger-buffer-all-title"),value:"BufferAll"},{description:t("schedules.trigger-allow-all-description"),label:t("schedules.trigger-allow-all-title"),value:"AllowAll"},{description:t("schedules.trigger-skip-description"),label:t("schedules.trigger-skip-title"),value:"Skip"},{description:t("schedules.trigger-buffer-one-description"),label:t("schedules.trigger-buffer-one-title"),value:"BufferOne"},{description:t("schedules.trigger-cancel-other-description"),label:t("schedules.trigger-cancel-other-title"),value:"CancelOther"},{description:t("schedules.trigger-terminate-other-description"),label:t("schedules.trigger-terminate-other-title"),value:"TerminateOther"}],ae=ys();const ke=async()=>{v(L,"");try{Be(tt,!0),await bs({identity:F,namespace:T,scheduleId:w}),v(C,!1),setTimeout(()=>{Be(tt,!1),Vr(Ye({namespace:T}))},2e3),v(x,"")}catch(P){v(L,t("schedules.delete-schedule-error",{error:P==null?void 0:P.message})),Be(tt,!1)}},Te=async P=>{var m,X;!((X=(m=P==null?void 0:P.schedule)===null||m===void 0?void 0:m.state)===null||X===void 0)&&X.paused?await hs({identity:F,namespace:T,scheduleId:w,reason:e(x)}):await $s({identity:F,namespace:T,scheduleId:w,reason:e(x)}),v(G,je(H)),v(x,""),v(J,!1)},de=()=>{v(ee,!1),Be(N,"Unspecified")},Pe=async()=>{v(K,!0),await xs({identity:F,namespace:T,scheduleId:w,overlapPolicy:I()}),setTimeout(()=>{v(G,je(H)),de(),v(K,!1)},1e3)};let ue=O(!1),he=O(Oe(new Date)),Se=O(Oe(new Date)),ve=O(""),pe=O(""),Ie=O(""),$e=O(""),Ue=O(""),ze=O("");const ot=P=>{v(he,Oe(P.detail))},lt=P=>{v(Se,Oe(P.detail))},b=()=>{const P=new Date(Date.now()),m=gs(P,1);v(ve,P.getUTCHours().toString()),v(pe,P.getUTCMinutes().toString()),v(Ie,P.getUTCSeconds().toString()),v($e,m.getUTCHours().toString()),v(Ue,m.getUTCMinutes().toString()),v(ze,m.getUTCSeconds().toString()),v(he,Oe(new Date)),v(Se,e($e)<e(ve)?Oe(Kr(new Date,1)):Oe(new Date))},A=()=>{v(E,!1),v(ue,!1),Be(N,"Unspecified")},oe=async()=>{v(K,!0);const P=Bt({date:e(he),hour:e(ve),minute:e(pe),second:e(Ie)}),m=Bt({date:e(Se),hour:e($e),minute:e(Ue),second:e(ze)});await ws({identity:F,namespace:T,scheduleId:w,overlapPolicy:I(),startTime:P,endTime:m}),setTimeout(()=>{v(G,je(H)),A(),v(K,!1)},1e3)},te=()=>{v(x,"")};Ee(()=>(k(),qt),()=>{v(Z,k().namespaceWriteDisabled(T)||!qt())}),Ee(()=>e(E),()=>{e(E)&&b()}),Gt(),ge();var xe=Re(),le=B(xe);Yt(le,()=>e(G),P=>{var m=ua(),X=B(m),we=o(X),Ce=o(we);const Me=s(()=>Ye({namespace:T}));Ne(Ce,{get href(){return e(Me)},icon:"chevron-left",children:(Fe,qe)=>{ye();var Le=fe();$(We=>c(Le,We),[()=>t("schedules.back-to-schedules")],s),u(Fe,Le)},$$slots:{default:!0}});var be=l(Ce,2);be.textContent=w,a(we),a(X);var Ae=l(X,2);Et(Ae,{}),u(P,m)},(P,m)=>{var X=Re(),we=B(X);{var Ce=be=>{const Ae=s(()=>t("schedules.deleting"));Et(be,{get title(){return e(Ae)},class:"my-2"})},Me=be=>{var Ae=ca(),Fe=B(Ae),qe=o(Fe),Le=o(qe);const We=s(()=>Ye({namespace:T}));Ne(Le,{get href(){return e(We)},icon:"chevron-left",children:(r,i)=>{ye();var n=fe();$(p=>c(n,p),[()=>t("schedules.back-to-schedules")],s),u(r,n)},$$slots:{default:!0}});var Ge=l(Le,2),Je=o(Ge);Je.textContent=w,a(Ge);var He=l(Ge,2),$t=o(He);const ar=s(()=>{var r;return(r=e(m))!=null&&r.schedule.state.paused?"Paused":"Running"});rr($t,{get status(){return e(ar)}});var xt=l($t,2),or=o(xt,!0);a(xt),a(He);var nt=l(He,2),lr=o(nt,!0);a(nt);var nr=l(nt,2);{var ir=r=>{var i=Ys(),n=o(i,!0);a(i),$(p=>c(n,p),[()=>{var p,g;return t("common.last-updated",{updated:Ve((g=(p=e(m))==null?void 0:p.info)==null?void 0:g.updateTime,z(),{relative:V()})})}],s),u(r,i)};_e(nr,r=>{var i,n;(n=(i=e(m))==null?void 0:i.info)!=null&&n.updateTime&&r(ir)})}a(qe);var cr=l(qe,2);const dr=s(()=>{var r,i,n;return(n=(i=(r=e(m))==null?void 0:r.schedule)==null?void 0:i.state)!=null&&n.paused?t("schedules.unpause"):t("schedules.pause")}),ur=s(()=>t("schedules.schedule-actions"));Xs(cr,{position:"right",get label(){return e(dr)},get menuLabel(){return e(ur)},id:"schedule-actions",get disabled(){return e(Z)},$$events:{click:()=>v(J,!0)},children:(r,i)=>{var n=Zs(),p=B(n);Ze(p,{"data-testid":"trigger-schedule",$$events:{click:()=>v(ee,!0)},children:(re,se)=>{ye();var R=fe();$(me=>c(R,me),[()=>t("schedules.trigger")],s),u(re,R)},$$slots:{default:!0}});var g=l(p,2);Ze(g,{"data-testid":"backfill-schedule",$$events:{click:()=>v(E,!0)},children:(re,se)=>{ye();var R=fe();$(me=>c(R,me),[()=>t("schedules.backfill")],s),u(re,R)},$$slots:{default:!0}});var M=l(g,2);const Y=s(()=>ns({namespace:T,scheduleId:w}));Ze(M,{"data-testid":"edit-schedule",get href(){return e(Y)},children:(re,se)=>{ye();var R=fe();$(me=>c(R,me),[()=>t("common.edit")],s),u(re,R)},$$slots:{default:!0}});var De=l(M,2);Ze(De,{"data-testid":"delete-schedule",destructive:!0,$$events:{click:()=>v(C,!0)},children:(re,se)=>{ye();var R=fe();$(me=>c(R,me),[()=>t("common.delete")],s),u(re,R)},$$slots:{default:!0}}),u(r,n)},$$slots:{default:!0}}),a(Fe);var wt=l(Fe,2);Gr(wt,{});var it=l(wt,2),bt=o(it);{var vr=r=>{var i=ea(),n=o(i);const p=s(()=>{var g,M;return(M=(g=e(m))==null?void 0:g.info)==null?void 0:M.invalidScheduleError});Vt(n,{get error(){return e(p)}}),a(i),u(r,i)};_e(bt,r=>{var i,n;(n=(i=e(m))==null?void 0:i.info)!=null&&n.invalidScheduleError&&r(vr)})}var ct=l(bt,2),dt=o(ct),ut=o(dt),yt=o(ut),pr=l(yt);_s(pr,{key:"common.workflows-plural",get count(){return W().count}}),a(ut);var mr=l(ut,2);_t(mr,{size:"xs",variant:"ghost",leadingIcon:"retry",$$events:{click:()=>{v(G,je(H)),Be(ss,Date.now())}},children:(r,i)=>{var n=Re(),p=B(n);{var g=M=>{var Y=fe();$(De=>c(Y,`+${De??""}`),[()=>W().newCount.toLocaleString()],s),u(M,Y)};_e(p,M=>{W().newCount>0&&M(g)})}u(r,n)},$$slots:{default:!0}}),a(dt);var fr=l(dt,2);ds(fr,{staticQuery:q}),a(ct);var kt=l(ct,2),vt=o(kt),Tt=o(vt);const _r=s(()=>{var r,i;return(i=(r=e(m))==null?void 0:r.info)==null?void 0:i.recentActions});Bs(Tt,{namespace:T,get recentRuns(){return e(_r)},workflowQuery:q});var Pt=l(Tt,2);const gr=s(()=>{var r,i;return(i=(r=e(m))==null?void 0:r.info)==null?void 0:i.futureActionTimes});Gs(Pt,{get futureRuns(){return e(gr)}});var St=l(Pt,2);const hr=s(()=>{var r,i;return(i=(r=e(m))==null?void 0:r.schedule)==null?void 0:i.spec}),$r=s(()=>{var r,i;return(i=(r=e(m))==null?void 0:r.schedule)==null?void 0:i.state}),xr=s(()=>{var r,i;return(i=(r=e(m))==null?void 0:r.schedule)==null?void 0:i.policies}),wr=s(()=>{var r,i,n;return(n=(i=(r=e(m))==null?void 0:r.schedule)==null?void 0:i.state)==null?void 0:n.notes});Ms(St,{get spec(){return e(hr)},get state(){return e($r)},get policies(){return e(xr)},get notes(){return e(wr)}});var br=l(St,2);const yr=s(()=>{var r;return((r=e(m))==null?void 0:r.searchAttributes)??{}});Ns(br,{get searchAttributes(){return e(yr)}}),a(vt);var Ct=l(vt,2),At=o(Ct);const kr=s(()=>{var r,i,n,p;return(p=(n=(i=(r=e(m))==null?void 0:r.schedule)==null?void 0:i.action)==null?void 0:n.startWorkflow)==null?void 0:p.input});Ls(At,{get input(){return e(kr)}});var Tr=l(At,2);const Pr=s(()=>{var r,i,n,p,g,M;return[...((n=(i=(r=e(m))==null?void 0:r.schedule)==null?void 0:i.spec)==null?void 0:n.structuredCalendar)??[],...((M=(g=(p=e(m))==null?void 0:p.schedule)==null?void 0:g.spec)==null?void 0:M.interval)??[]]}),Sr=s(()=>{var r,i,n;return(n=(i=(r=e(m))==null?void 0:r.schedule)==null?void 0:i.spec)==null?void 0:n.timezoneName});Fs(Tr,{get frequency(){return e(Pr)},get timezoneName(){return e(Sr)}}),a(Ct),a(kt),a(it);var Dt=l(it,2);const Cr=s(()=>{var r;return(r=e(m))!=null&&r.schedule.state.paused?t("schedules.unpause"):t("schedules.pause")}),Ar=s(()=>t("common.cancel")),Dr=s(()=>!e(x));et(Dt,{id:"pause-schedule-modal",confirmType:"primary",get confirmText(){return e(Cr)},get cancelText(){return e(Ar)},get confirmDisabled(){return e(Dr)},get open(){return e(J)},set open(r){v(J,r)},$$events:{confirmModal:()=>Te(e(m)),cancelModal:te},$$slots:{title:(r,i)=>{var n=ta(),p=o(n,!0);a(n),$(g=>c(p,g),[()=>{var g;return(g=e(m))!=null&&g.schedule.state.paused?t("schedules.unpause-modal-title"):t("schedules.pause-modal-title")}],s),u(r,n)},content:(r,i)=>{var n=ra(),p=o(n),g=o(p,!0);a(p);var M=l(p,2),Y=o(M,!0);a(M);var De=l(M,2);const re=s(()=>t("common.reason")),se=s(()=>t("common.reason"));us(De,{id:"pause-reason",get placeholder(){return e(re)},get label(){return e(se)},labelHidden:!0,get value(){return e(x)},set value(R){v(x,R)},$$legacy:!0}),a(n),$((R,me)=>{c(g,R),c(Y,me)},[()=>{var R;return(R=e(m))!=null&&R.schedule.state.paused?t("schedules.unpause-modal-confirmation",{schedule:w}):t("schedules.pause-modal-confirmation",{schedule:w})},()=>{var R;return(R=e(m))!=null&&R.schedule.state.paused?t("schedules.unpause-reason"):t("schedules.pause-reason")}],s),u(r,n)}},$$legacy:!0});var It=l(Dt,2);const Ir=s(()=>t("schedules.trigger")),Mr=s(()=>t("common.cancel"));et(It,{id:"trigger-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(Ir)},get cancelText(){return e(Mr)},get loading(){return e(K)},get open(){return e(ee)},set open(r){v(ee,r)},$$events:{confirmModal:()=>Pe(),cancelModal:de},$$slots:{title:(r,i)=>{var n=sa(),p=o(n,!0);a(n),$(g=>c(p,g),[()=>t("schedules.trigger-modal-title")],s),u(r,n)},content:(r,i)=>{var n=aa(),p=o(n);Nt(p,{group:N,name:"trigger-event-id",class:"h-auto overflow-auto",children:(g,M)=>{var Y=Re(),De=B(Y);Qe(De,1,()=>Q,rt,(re,se)=>{Qt(re,{get id(){return e(se).value},get value(){return e(se).value},get label(){return e(se).label},get description(){return e(se).description}})}),u(g,Y)},$$slots:{default:!0}}),a(n),u(r,n)}},$$legacy:!0});var Mt=l(It,2);const Wr=s(()=>t("schedules.schedule")),Rr=s(()=>t("common.cancel"));et(Mt,{id:"backfill-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(Wr)},get cancelText(){return e(Rr)},get loading(){return e(K)},get open(){return e(E)},set open(r){v(E,r)},$$events:{confirmModal:()=>oe(),cancelModal:A},$$slots:{title:(r,i)=>{var n=oa(),p=o(n);a(n),$((g,M)=>c(p,`${g??""}
        ${M??""}`),[()=>t("schedules.schedule"),()=>t("schedules.backfill")],s),u(r,n)},content:(r,i)=>{var n=la(),p=o(n),g=o(p);const M=s(()=>t("common.start")),Y=s(()=>t("common.today")),De=s(()=>t("common.close")),re=s(()=>t("common.clear-input-button-label"));Ht(g,{get label(){return e(M)},get selected(){return e(he)},get todayLabel(){return e(Y)},get closeLabel(){return e(De)},get clearLabel(){return e(re)},$$events:{datechange:ot}});var se=l(g,2);jt(se,{twelveHourClock:!1,get hour(){return e(ve)},set hour(j){v(ve,j)},get minute(){return e(pe)},set minute(j){v(pe,j)},get second(){return e(Ie)},set second(j){v(Ie,j)},$$legacy:!0});var R=l(se,2);const me=s(()=>t("common.end")),Or=s(()=>t("common.today")),zr=s(()=>t("common.close")),qr=s(()=>t("common.clear-input-button-label"));Ht(R,{get label(){return e(me)},get selected(){return e(Se)},get todayLabel(){return e(Or)},get closeLabel(){return e(zr)},get clearLabel(){return e(qr)},$$events:{datechange:lt}});var Wt=l(R,2);jt(Wt,{twelveHourClock:!1,get hour(){return e($e)},set hour(j){v($e,j)},get minute(){return e(Ue)},set minute(j){v(Ue,j)},get second(){return e(ze)},set second(j){v(ze,j)},$$legacy:!0});var Rt=l(Wt,2),Ut=o(Rt);sr(Ut,{name:"clock","aria-hidden":"true"});var Ft=l(Ut,2),Br=o(Ft);a(Ft),a(Rt),a(p);var Lt=l(p,4),Ot=o(Lt);Nt(Ot,{group:N,name:"backfill-event-id",class:"h-auto overflow-auto",children:(j,zt)=>{var pt=Re(),Ke=B(pt);Qe(Ke,1,()=>Q.slice(0,e(ue)?Q.length:3),rt,(mt,Xe)=>{Qt(mt,{get id(){return e(Xe).value},get value(){return e(Xe).value},get label(){return e(Xe).label},get description(){return e(Xe).description}})}),u(j,pt)},$$slots:{default:!0}});var Hr=l(Ot,2);{var jr=j=>{_t(j,{variant:"ghost",size:"xs",$$events:{click:()=>v(ue,!0)},children:(zt,pt)=>{ye();var Ke=fe();$(mt=>c(Ke,mt),[()=>t("schedules.more-options")],s),u(zt,Ke)},$$slots:{default:!0}})};_e(Hr,j=>{e(ue)||j(jr)})}a(Lt),a(n),$(j=>c(Br,`${j??""} Universal Standard Time
              (UTC)`),[()=>t("common.based-on-time-preface")],s),u(r,n)}},$$legacy:!0});var Ur=l(Mt,2);const Fr=s(()=>t("common.delete")),Lr=s(()=>t("common.cancel"));et(Ur,{id:"delete-schedule-modal",confirmType:"destructive",get confirmText(){return e(Fr)},get cancelText(){return e(Lr)},get open(){return e(C)},set open(r){v(C,r)},get error(){return e(L)},set error(r){v(L,r)},$$events:{confirmModal:ke,cancelModal:te},$$slots:{title:(r,i)=>{var n=na(),p=o(n,!0);a(n),$(g=>c(p,g),[()=>t("schedules.delete-modal-title")],s),u(r,n)},content:(r,i)=>{var n=ia(),p=o(n),g=o(p,!0);a(p),a(n),$(M=>c(g,M),[()=>t("schedules.delete-modal-confirmation",{schedule:w})],s),u(r,n)}},$$legacy:!0}),$((r,i)=>{var n,p,g,M,Y;c(or,(Y=(M=(g=(p=(n=e(m))==null?void 0:n.schedule)==null?void 0:p.action)==null?void 0:g.startWorkflow)==null?void 0:M.workflowType)==null?void 0:Y.name),c(lr,r),c(yt,`${i??""} `)},[()=>{var r,i;return t("common.created",{created:Ve((i=(r=e(m))==null?void 0:r.info)==null?void 0:i.createTime,z(),{relative:V()})})},()=>W().count.toLocaleString()],s),u(be,Ae)};_e(we,be=>{h()?be(Ce):be(Me,!1)})}u(P,X)},(P,m)=>{var X=da(),we=B(X),Ce=o(we),Me=o(Ce);const be=s(()=>Ye({namespace:T}));Ne(Me,{get href(){return e(be)},icon:"chevron-left",children:(We,Ge)=>{ye();var Je=fe();$(He=>c(Je,He),[()=>t("schedules.back-to-schedules")],s),u(We,Je)},$$slots:{default:!0}});var Ae=l(Me,2);Ae.textContent=w;var Fe=l(Ae,2);Fe.textContent=T,a(Ce),a(we);var qe=l(we,2);const Le=s(()=>{var We;return(We=e(m))==null?void 0:We.message});Vt(qe,{get error(){return e(Le)}}),u(P,X)}),u(D,xe),ce(),S()}var pa=y("<!> <!>",1);function lo(D,d){ie(d,!1);const[f,S]=st(),_=()=>ne(Xt,"$page",f),k=_().params.schedule;ge();var h=pa(),I=B(h);Nr(I,{title:`Schedule | ${k}`,get url(){return _().url.href}});var z=l(I,2);va(z,{}),u(D,h),ce(),S()}export{lo as component};
