import"../chunks/Bzak7iHL.js";import"../chunks/69_IOA4Y.js";import{p as le,t as k,i as o,r as a,c as n,j as b,o as s,e as u,b as ne,f as H,g as e,n as ge,k as me,h as Ce,l as Oe,s as d,m as z,L as Nr,ak as ut,a as Qt}from"../chunks/kQSYtCfc.js";import{i as ie,s as Vt}from"../chunks/mtgEvp4k.js";import{p as M,l as Gt,s as Ze,a as oe,b as We}from"../chunks/BLseHJlf.js";import{p as Jt}from"../chunks/CCUe2pQz.js";import{P as Qr}from"../chunks/BW5xTiVz.js";import{s as v}from"../chunks/DFbJB1Uf.js";import{a as Kt}from"../chunks/rA5XHaV_.js";import{i as ye}from"../chunks/CpVHIMM-.js";import{e as He,i as Ye}from"../chunks/BGqzo1gH.js";import{w as Vr}from"../chunks/CJGTewo-.js";import{g as Gr}from"../chunks/DfcffXfF.js";import{C as Jr}from"../chunks/CR8bfgP5.js";import{A as Xt}from"../chunks/DNtbsfFB.js";import{t as r}from"../chunks/BXv1jDVW.js";import{A as Kr}from"../chunks/Ct3nl5pm.js";import{s as Xr}from"../chunks/BWHJ-dez.js";import{S as Yr}from"../chunks/BOcHnl2f.js";import{I as Zr}from"../chunks/yq6Qh5Of.js";import{s as es}from"../chunks/BDfAQ6r3.js";import{E as Yt}from"../chunks/BvHcuwx3.js";import{L as Be}from"../chunks/BEi1tdtZ.js";import{q as ts,l as zt,r as rs,w as ss}from"../chunks/r1zKy0qM.js";import{f as qe,r as mt,t as pt,g as Ot}from"../chunks/BD1pGni1.js";import{d as Zt}from"../chunks/vO_crHjm.js";import{m as as,c as os,q as Ge,x as ls}from"../chunks/DKzLdZAB.js";import{W as er}from"../chunks/DgxkbWg0.js";import{d as ns}from"../chunks/CmWJDfIo.js";import{p as is}from"../chunks/756y7qLl.js";import{W as cs}from"../chunks/YjpSSP8o.js";import{B as vt}from"../chunks/Csdr1G1k.js";import{D as Bt,T as Ht}from"../chunks/OPefCvK-.js";import{I as tr}from"../chunks/CMCPNPYc.js";import{I as ds}from"../chunks/DAfWSNBC.js";import{L as qt}from"../chunks/CAfBi62y.js";import{c as us,d as vs,b as Je}from"../chunks/CoGJxacb.js";import{M as Ke}from"../chunks/sJYVMbZm.js";import{R as jt,a as Et}from"../chunks/Clmulh9k.js";import{b as ms}from"../chunks/CnWnGiU3.js";import{M as ps}from"../chunks/B24m_iAD.js";import{T as fs,b as _s}from"../chunks/BZ1i6ewO.js";import{f as ze,l as Xe,u as gs,p as hs,t as $s,b as xs,d as bs}from"../chunks/gt03zDvo.js";import{c as ws}from"../chunks/BkHiEAjh.js";import{g as ys}from"../chunks/B2YFnG5f.js";import{s as Ie,o as ks}from"../chunks/D1mJS6mY.js";var Ts=k('<div><h2 class="mb-4"> </h2> <p> </p></div>');function Ps(A,c){le(c,!1);let f=M(c,"notes",8,"");ie();var T=Ts(),h=o(T),y=o(h,!0);a(h);var w=n(h,2),P=o(w,!0);a(w),a(T),b(W=>{v(y,W),v(P,f())},[()=>r("common.notes")],s),u(A,T),ne()}var Ss=k('<li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li>'),Cs=k('<ul class="settings-list svelte-s42yf"><li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <!> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li></ul>'),As=k("<!> <!>",1);function Ds(A,c){le(c,!1);let f=M(c,"spec",8),T=M(c,"state",8),h=M(c,"policies",8),y=M(c,"notes",8,"");ie();var w=As(),P=H(w);Ps(P,{get notes(){return y()}});var W=n(P,2);const V=s(()=>r("schedules.advanced-settings"));Xt(W,{get title(){return e(V)},children:(D,X)=>{var _=Cs(),$=o(_),O=o($),L=n(O),q=o(L,!0);a(L),a($);var G=n($,2),J=o(G),Z=n(J),E=o(Z,!0);a(Z),a(G);var S=n(G,2),g=o(S),F=n(g),K=o(F,!0);a(F),a(S);var N=n(S,2),Q=o(N),ae=n(Q),he=o(ae,!0);a(ae),a(N);var $e=n(N,2);{var ce=C=>{var B=Ss(),fe=o(B),ee=n(fe),Te=o(ee,!0);a(ee),a(B),b((ue,Le)=>{v(fe,`${ue??""} `),v(Te,Le)},[()=>r("schedules.remaining-actions"),()=>{var ue;return((ue=T())==null?void 0:ue.remainingActions)??r("common.none")}],s),u(C,B)};ye($e,C=>{var B;(B=T())!=null&&B.limitedActions&&C(ce)})}var ke=n($e,2),de=o(ke),pe=n(de),xe=o(pe,!0);a(pe),a(ke),a(_),b((C,B,fe,ee,Te,ue,Le,tt,rt,je)=>{v(O,`${C??""} `),v(q,B),v(J,`${fe??""} `),v(E,ee),v(g,`${Te??""} `),v(K,ue),v(Q,`${Le??""} `),v(he,tt),v(de,`${rt??""} `),v(xe,je)},[()=>r("schedules.start-time"),()=>{var C;return((C=f())==null?void 0:C.startTime)??r("common.none")},()=>r("schedules.end-time"),()=>{var C;return((C=f())==null?void 0:C.endTime)??r("common.none")},()=>r("schedules.jitter"),()=>{var C;return((C=f())==null?void 0:C.jitter)??r("common.none")},()=>r("schedules.exclusion-calendar"),()=>{var C,B;return((B=(C=f())==null?void 0:C.excludeCalendar)==null?void 0:B[0])??r("common.none")},()=>r("schedules.overlap-policy"),()=>{var C;return((C=h())==null?void 0:C.overlapPolicy)??r("common.none")}],s),u(D,_)},$$slots:{default:!0}}),u(A,w),ne()}var Ms=k("<p> </p> <p> </p>",1);function Nt(A,c){le(c,!1);let f=M(c,"error",8,"");ie(),Kr(A,{intent:"error",children:(T,h)=>{var y=Ms(),w=H(y),P=o(w,!0);a(w);var W=n(w,2),V=o(W,!0);a(W),b(D=>{v(P,D),v(V,f())},[()=>r("schedules.error-title")],s),u(T,y)},$$slots:{default:!0}}),ne()}var Is=k("<div><!></div>");function et(A,c){const f=Gt(c,["children","$$slots","$$events","$$legacy"]);le(c,!1);let T=M(c,"error",8,!1);ie();var h=Is();let y;var w=o(h);Vt(w,c,"default",{},null),a(h),b(P=>y=Xr(h,1,`panel surface-primary ${f.class??""}`,"svelte-eklrpl",y,P),[()=>({error:T()})],s),u(A,h),ne()}var Rs=k('<h2 class="mb-4"> </h2> <div class="pr-2"><!></div>',1);function Us(A,c){le(c,!1);let f=M(c,"calendar",8,void 0),T=M(c,"interval",8,void 0),h=M(c,"timezoneName",8,"UTC");ie(),et(A,{children:(y,w)=>{var P=Rs(),W=H(P),V=o(W,!0);a(W);var D=n(W,2),X=o(D);Yr(X,{get calendar(){return f()},get interval(){return T()},get timezoneName(){return h()},class:"text-base"}),a(D),b(_=>v(V,_),[()=>r("schedules.schedule-spec")],s),u(y,P)},$$slots:{default:!0}}),ne()}function Ws(A,c){le(c,!1);let f=M(c,"input",8);ie(),et(A,{children:(T,h)=>{const y=s(()=>r("schedules.schedule-input")),w=s(()=>es(f()));Zr(T,{get title(){return e(y)},get content(){return e(w)}})},$$slots:{default:!0}}),ne()}var Ls=k('<div class="row svelte-19syzt9"><div class="w-28"><!></div> <div class="mx-2 w-auto break-words"><!></div> <div class="ml-auto"><p> </p></div></div>'),Fs=k('<div class="row svelte-19syzt9"><div class="w-28"></div> <div class="w-96"> </div> <div class="ml-auto"><p> </p></div></div>'),zs=k('<div class="flex justify-between"><h2 class="mb-4"> </h2> <!></div> <!> <!>',1);function Os(A,c){le(c,!1);const[f,T]=Ze(),h=()=>oe(pt,"$timeFormat",f),y=()=>oe(mt,"$relativeTime",f);let w=M(c,"recentRuns",24,()=>[]),P=M(c,"namespace",8),W=M(c,"workflowQuery",8);const V=D=>{var X,_;return(_=(X=D==null?void 0:D.sort(($,O)=>new Date(O.actualTime).getTime()-new Date($.actualTime).getTime()))===null||X===void 0?void 0:X.slice(0,5))!==null&&_!==void 0?_:[]};ie(),et(A,{class:"w-full",children:(D,X)=>{var _=zs(),$=H(_),O=o($),L=o(O,!0);a(O);var q=n(O,2);const G=s(()=>as({namespace:P(),query:W()}));Be(q,{get href(){return e(G)},children:(S,g)=>{ge();var F=me();b(K=>v(F,K),[()=>r("common.view-all-runs")],s),u(S,F)},$$slots:{default:!0}}),a($);var J=n($,2);He(J,1,()=>V(w()),S=>{var g;return(g=S==null?void 0:S.startWorkflowResult)==null?void 0:g.workflowId},(S,g)=>{var F=Ce(),K=H(F);Kt(K,()=>ts({namespace:P(),workflowId:Zt(e(g).startWorkflowResult.workflowId),runId:e(g).startWorkflowResult.runId},fetch),null,(N,Q)=>{var ae=Ls(),he=o(ae),$e=o(he);er($e,{get status(){return e(Q).status}}),a(he);var ce=n(he,2),ke=o(ce);const de=s(()=>os({workflow:e(g).startWorkflowResult.workflowId,run:e(g).startWorkflowResult.runId,namespace:P()}));Be(ke,{get href(){return e(de)},children:(B,fe)=>{ge();var ee=me();b(()=>v(ee,e(g).startWorkflowResult.workflowId)),u(B,ee)},$$slots:{default:!0}}),a(ce);var pe=n(ce,2),xe=o(pe),C=o(xe,!0);a(xe),a(pe),a(ae),b(B=>v(C,B),[()=>qe(e(g).actualTime,h(),{relative:y()})],s),u(N,ae)},N=>{var Q=Fs(),ae=n(o(Q),2),he=o(ae,!0);a(ae);var $e=n(ae,2),ce=o($e),ke=o(ce,!0);a(ce),a($e),a(Q),b(de=>{v(he,e(g).startWorkflowResult.workflowId),v(ke,de)},[()=>qe(e(g).actualTime,h(),{relative:y()})],s),u(N,Q)}),u(S,F)});var Z=n(J,2);{var E=S=>{const g=s(()=>r("schedules.recent-runs-empty-state-title"));Yt(S,{get title(){return e(g)}})};ye(Z,S=>{w().length||S(E)})}b(S=>v(L,S),[()=>r("schedules.recent-runs")],s),u(D,_)},$$slots:{default:!0}}),ne(),T()}const Bs=A=>Array.isArray(A)?A.join(", "):A;var Hs=k('<li class="flex flex-wrap items-center gap-2 border-b py-2 last-of-type:border-b-0"><span class="break-all"> </span> <span class="surface-subtle select-all rounded-sm p-1 leading-4"> </span></li>'),qs=k('<ul class="w-full"></ul>');function js(A,c){le(c,!1);const f=z(),T=z(),h=z();var y=z();let w=M(c,"searchAttributes",8);Oe(()=>Nr(w()),()=>{d(f,ns({searchAttributes:w()}))}),Oe(()=>(ut(y),e(f)),()=>{d(T,d(y,e(f)===null||e(f)===void 0?void 0:e(f).searchAttributes.indexedFields)!==null&&ut(y)!==void 0?ut(y):{})}),Oe(()=>e(T),()=>{d(h,Object.keys(e(T)).length)}),Qt(),ie();const P=s(()=>r("events.custom-search-attributes")),W=s(()=>`${e(h)} ${r("events.custom-search")} ${is(r("events.attribute"),e(h))}`),V=s(()=>e(h)>0);Xt(A,{get title(){return e(P)},get subtitle(){return e(W)},get expandable(){return e(V)},children:(D,X)=>{var _=Ce(),$=H(_);{var O=L=>{var q=qs();He(q,5,()=>Object.entries(e(T)),Ye,(G,J)=>{let Z=()=>e(J)[0],E=()=>e(J)[1];var S=Hs();const g=s(()=>Bs(E()));var F=o(S),K=o(F,!0);a(F);var N=n(F,2),Q=o(N,!0);a(N),a(S),b(()=>{v(K,Z()),v(Q,e(g))}),u(G,S)}),a(q),u(L,q)};ye($,L=>{e(h)&&L(O)})}u(D,_)},$$slots:{default:!0}}),ne()}var Es=k('<div class="row svelte-dqszqh"><p> </p></div>'),Ns=k('<h2 class="mb-4"> </h2> <!>',1);function Qs(A,c){le(c,!1);const[f,T]=Ze(),h=()=>oe(pt,"$timeFormat",f),y=()=>oe(mt,"$relativeTime",f);let w=M(c,"futureRuns",24,()=>[]);ie(),et(A,{class:"w-full",children:(P,W)=>{var V=Ns(),D=H(V),X=o(D,!0);a(D);var _=n(D,2);He(_,1,()=>w().slice(0,5),Ye,($,O)=>{var L=Es(),q=o(L),G=o(q,!0);a(q),a(L),b(J=>v(G,J),[()=>qe(e(O),h(),{relative:y(),relativeLabel:r("common.from-now")})],s),u($,L)},$=>{const O=s(()=>r("schedules.upcoming-runs-empty-state-title"));Yt($,{get title(){return e(O)}})}),b($=>v(X,$),[()=>r("schedules.upcoming-runs")],s),u(P,V)},$$slots:{default:!0}}),ne(),T()}var Vs=k("<!> ",1),Gs=k('<div class="button-group flex h-10 cursor-pointer flex-row gap-[1px]"><!> <!></div> <!>',1);function Js(A,c){const f=Gt(c,["children","$$slots","$$events","$$legacy"]);le(c,!1);let T=M(c,"label",8),h=M(c,"menuLabel",8),y=M(c,"icon",8,void 0),w=M(c,"id",8),P=M(c,"disabled",8,!1),W=M(c,"position",8,"left"),V=M(c,"primaryActionDisabled",8,!1),D=M(c,"href",8,void 0),X=M(c,"menuClass",8,void 0);ie(),us(A,{get class(){return f.class},children:(_,$)=>{var O=Gs(),L=H(O),q=o(L);const G=s(()=>P()||V());vt(q,{get disabled(){return e(G)},get id(){return`${w()??""}-primary-button`},get href(){return D()},disableTracking:!0,"data-track-name":"split-button","data-track-intent":"primary",get"data-track-text"(){return T()},$$events:{click(E){ms.call(this,c,E)}},children:(E,S)=>{var g=Vs(),F=H(g);{var K=Q=>{tr(Q,{get name(){return y()}})};ye(F,Q=>{y()&&Q(K)})}var N=n(F);b(()=>v(N,` ${T()??""}`)),u(E,g)},$$slots:{default:!0}});var J=n(q,2);ps(J,{class:"max-w-fit grow-0 px-3",get id(){return`${w()??""}-menu-button`},get label(){return h()},get controls(){return`${w()??""}-menu`},variant:"primary",get disabled(){return P()},hasIndicator:!0}),a(L);var Z=n(L,2);vs(Z,{get id(){return`${w()??""}-menu`},get position(){return W()},get class(){return X()},children:(E,S)=>{var g=Ce(),F=H(g);Vt(F,c,"default",{},null),u(E,g)},$$slots:{default:!0}}),u(_,O)},$$slots:{default:!0}}),ne()}var Ks=k('<p class="flex items-center gap-2 text-right text-sm"> </p>'),Xs=k("<!> <!> <!> <!>",1),Ys=k('<div class="w-full xl:w-1/2"><!></div>'),Zs=k('<h3 slot="title"> </h3>'),ea=k('<div slot="content"><p> </p> <p class="my-4"> </p> <!></div>'),ta=k('<h3 slot="title"> </h3>'),ra=k('<div slot="content"><!></div>'),sa=k('<h3 slot="title"> </h3>'),aa=k('<div slot="content" class="p-0"><div class="flex flex-col gap-2 p-2"><!> <!> <!> <!> <div class="flex w-full flex-row items-center gap-2"><!> <span class="text-xs font-normal text-slate-500"> </span></div></div> <hr tabindex="-1" aria-hidden="true" class="my-4 w-full border-subtle"> <div class="flex max-h-52 flex-col gap-2 overflow-auto"><!> <!></div></div>'),oa=k('<h3 slot="title"> </h3>'),la=k('<div slot="content"><p> </p></div>'),na=k('<header class="flex flex-row flex-wrap justify-between gap-4"><div class="relative flex flex-col"><!> <h1 class="relative flex items-center"><span class="select-all" data-testid="schedule-name"></span></h1> <div class="flex flex-wrap items-center gap-2 text-lg"><!> <p> </p></div> <p class="flex items-center gap-2 text-right text-sm"> </p> <!></div> <!></header> <!> <div class="flex flex-col gap-4 pb-24"><!> <div class="flex w-full flex-col gap-2 text-lg"><div class="flex items-center gap-2"><span data-testid="workflow-count"> <!></span> <!></div> <!></div> <div class="flex flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col items-start gap-4 xl:w-2/3"><!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 xl:w-1/3"><!> <!></div></div></div> <!> <!> <!> <!>',1),ia=k('<header class="mb-8"><div class="relative flex flex-col gap-1"><!> <h1 class="mt-8 select-all" data-testid="schedule-name"></h1> <p class="text-sm"></p></div></header> <!>',1),ca=k('<header class="mb-8"><div class="relative flex flex-col gap-4"><!> <h1 class="select-all" data-testid="schedule-name"></h1></div></header> <!>',1);function da(A,c){le(c,!1);const[f,T]=Ze(),h=()=>oe(Jt,"$page",f),y=()=>oe(ae,"$coreUser",f),w=()=>oe(Xe,"$loading",f),P=()=>oe(N,"$overlapPolicy",f),W=()=>oe(pt,"$timeFormat",f),V=()=>oe(mt,"$relativeTime",f),D=()=>oe(ss,"$workflowCount",f),X=z();let _=h().params.namespace,$=h().params.schedule,O=`TemporalScheduledById="${$}"`;const L=ys(),q={namespace:_,scheduleId:Zt($)};let G=z(ze(q)),J=z(!1),Z=z(!1),E=z(!1),S=z(!1),g=z(""),F=z(""),K=z(!1),N=Vr("Unspecified"),Q=[{description:r("schedules.trigger-unspecified-description"),label:r("schedules.trigger-unspecified-title"),value:"Unspecified"},{description:r("schedules.trigger-buffer-all-description"),label:r("schedules.trigger-buffer-all-title"),value:"BufferAll"},{description:r("schedules.trigger-allow-all-description"),label:r("schedules.trigger-allow-all-title"),value:"AllowAll"},{description:r("schedules.trigger-skip-description"),label:r("schedules.trigger-skip-title"),value:"Skip"},{description:r("schedules.trigger-buffer-one-description"),label:r("schedules.trigger-buffer-one-title"),value:"BufferOne"},{description:r("schedules.trigger-cancel-other-description"),label:r("schedules.trigger-cancel-other-title"),value:"CancelOther"},{description:r("schedules.trigger-terminate-other-description"),label:r("schedules.trigger-terminate-other-title"),value:"TerminateOther"}],ae=ws();const he=async()=>{d(F,"");try{We(Xe,!0),await bs({identity:L,namespace:_,scheduleId:$}),d(S,!1),setTimeout(()=>{We(Xe,!1),Gr(Ge({namespace:_}))},2e3),d(g,"")}catch(I){d(F,r("schedules.delete-schedule-error",{error:I==null?void 0:I.message})),We(Xe,!1)}},$e=async I=>{var p,te;!((te=(p=I==null?void 0:I.schedule)===null||p===void 0?void 0:p.state)===null||te===void 0)&&te.paused?await gs({identity:L,namespace:_,scheduleId:$,reason:e(g)}):await hs({identity:L,namespace:_,scheduleId:$,reason:e(g)}),d(G,ze(q)),d(g,""),d(J,!1)},ce=()=>{d(Z,!1),We(N,"Unspecified")},ke=async()=>{d(K,!0),await $s({identity:L,namespace:_,scheduleId:$,overlapPolicy:P()}),setTimeout(()=>{d(G,ze(q)),ce(),d(K,!1)},1e3)};let de=z(!1),pe=z(Ie(new Date)),xe=z(Ie(new Date)),C=z(""),B=z(""),fe=z(""),ee=z(""),Te=z(""),ue=z("");const Le=I=>{d(pe,Ie(I.detail))},tt=I=>{d(xe,Ie(I.detail))},rt=()=>{const I=new Date(Date.now()),p=_s(I,1);d(C,I.getUTCHours().toString()),d(B,I.getUTCMinutes().toString()),d(fe,I.getUTCSeconds().toString()),d(ee,p.getUTCHours().toString()),d(Te,p.getUTCMinutes().toString()),d(ue,p.getUTCSeconds().toString()),d(pe,Ie(new Date)),d(xe,e(ee)<e(C)?Ie(ks(new Date,1)):Ie(new Date))},je=()=>{d(E,!1),d(de,!1),We(N,"Unspecified")},rr=async()=>{d(K,!0);const I=Ot({date:e(pe),hour:e(C),minute:e(B),second:e(fe)}),p=Ot({date:e(xe),hour:e(ee),minute:e(Te),second:e(ue)});await xs({identity:L,namespace:_,scheduleId:$,overlapPolicy:P(),startTime:I,endTime:p}),setTimeout(()=>{d(G,ze(q)),je(),d(K,!1)},1e3)},ft=()=>{d(g,"")};Oe(()=>(y(),zt),()=>{d(X,y().namespaceWriteDisabled(_)||!zt())}),Oe(()=>e(E),()=>{e(E)&&rt()}),Qt(),ie();var _t=Ce(),sr=H(_t);Kt(sr,()=>e(G),I=>{var p=ca(),te=H(p),Pe=o(te),Ae=o(Pe);const Re=s(()=>Ge({namespace:_}));Be(Ae,{get href(){return e(Re)},icon:"chevron-left",children:(De,Ue)=>{ge();var Me=me();b(Se=>v(Me,Se),[()=>r("schedules.back-to-schedules")],s),u(De,Me)},$$slots:{default:!0}});var _e=n(Ae,2);_e.textContent=$,a(Pe),a(te);var be=n(te,2);qt(be,{}),u(I,p)},(I,p)=>{var te=Ce(),Pe=H(te);{var Ae=_e=>{const be=s(()=>r("schedules.deleting"));qt(_e,{get title(){return e(be)},class:"my-2"})},Re=_e=>{var be=na(),De=H(be),Ue=o(De),Me=o(Ue);const Se=s(()=>Ge({namespace:_}));Be(Me,{get href(){return e(Se)},icon:"chevron-left",children:(t,i)=>{ge();var l=me();b(m=>v(l,m),[()=>r("schedules.back-to-schedules")],s),u(t,l)},$$slots:{default:!0}});var Ee=n(Me,2),Ne=o(Ee);Ne.textContent=$,a(Ee);var Fe=n(Ee,2),gt=o(Fe);const ar=s(()=>{var t;return(t=e(p))!=null&&t.schedule.state.paused?"Paused":"Running"});er(gt,{get status(){return e(ar)}});var ht=n(gt,2),or=o(ht,!0);a(ht),a(Fe);var st=n(Fe,2),lr=o(st,!0);a(st);var nr=n(st,2);{var ir=t=>{var i=Ks(),l=o(i,!0);a(i),b(m=>v(l,m),[()=>{var m,x;return r("common.last-updated",{updated:qe((x=(m=e(p))==null?void 0:m.info)==null?void 0:x.updateTime,W(),{relative:V()})})}],s),u(t,i)};ye(nr,t=>{var i,l;(l=(i=e(p))==null?void 0:i.info)!=null&&l.updateTime&&t(ir)})}a(Ue);var cr=n(Ue,2);const dr=s(()=>{var t,i,l;return(l=(i=(t=e(p))==null?void 0:t.schedule)==null?void 0:i.state)!=null&&l.paused?r("schedules.unpause"):r("schedules.pause")}),ur=s(()=>r("schedules.schedule-actions"));Js(cr,{position:"right",get label(){return e(dr)},get menuLabel(){return e(ur)},id:"schedule-actions",get disabled(){return e(X)},$$events:{click:()=>d(J,!0)},children:(t,i)=>{var l=Xs(),m=H(l);Je(m,{"data-testid":"trigger-schedule",$$events:{click:()=>d(Z,!0)},children:(re,se)=>{ge();var R=me();b(ve=>v(R,ve),[()=>r("schedules.trigger")],s),u(re,R)},$$slots:{default:!0}});var x=n(m,2);Je(x,{"data-testid":"backfill-schedule",$$events:{click:()=>d(E,!0)},children:(re,se)=>{ge();var R=me();b(ve=>v(R,ve),[()=>r("schedules.backfill")],s),u(re,R)},$$slots:{default:!0}});var U=n(x,2);const Y=s(()=>ls({namespace:_,scheduleId:$}));Je(U,{"data-testid":"edit-schedule",get href(){return e(Y)},children:(re,se)=>{ge();var R=me();b(ve=>v(R,ve),[()=>r("common.edit")],s),u(re,R)},$$slots:{default:!0}});var we=n(U,2);Je(we,{"data-testid":"delete-schedule",destructive:!0,$$events:{click:()=>d(S,!0)},children:(re,se)=>{ge();var R=me();b(ve=>v(R,ve),[()=>r("common.delete")],s),u(re,R)},$$slots:{default:!0}}),u(t,l)},$$slots:{default:!0}}),a(De);var $t=n(De,2);Jr($t,{});var at=n($t,2),xt=o(at);{var vr=t=>{var i=Ys(),l=o(i);const m=s(()=>{var x,U;return(U=(x=e(p))==null?void 0:x.info)==null?void 0:U.invalidScheduleError});Nt(l,{get error(){return e(m)}}),a(i),u(t,i)};ye(xt,t=>{var i,l;(l=(i=e(p))==null?void 0:i.info)!=null&&l.invalidScheduleError&&t(vr)})}var ot=n(xt,2),lt=o(ot),nt=o(lt),bt=o(nt),mr=n(bt);fs(mr,{key:"common.workflows-plural",get count(){return D().count}}),a(nt);var pr=n(nt,2);vt(pr,{size:"xs",variant:"ghost",leadingIcon:"retry",$$events:{click:()=>{d(G,ze(q)),We(rs,Date.now())}},children:(t,i)=>{var l=Ce(),m=H(l);{var x=U=>{var Y=me();b(we=>v(Y,`+${we??""}`),[()=>D().newCount.toLocaleString()],s),u(U,Y)};ye(m,U=>{D().newCount>0&&U(x)})}u(t,l)},$$slots:{default:!0}}),a(lt);var fr=n(lt,2);cs(fr,{staticQuery:O}),a(ot);var wt=n(ot,2),it=o(wt),yt=o(it);const _r=s(()=>{var t,i;return(i=(t=e(p))==null?void 0:t.info)==null?void 0:i.recentActions});Os(yt,{namespace:_,get recentRuns(){return e(_r)},workflowQuery:O});var kt=n(yt,2);const gr=s(()=>{var t,i;return(i=(t=e(p))==null?void 0:t.info)==null?void 0:i.futureActionTimes});Qs(kt,{get futureRuns(){return e(gr)}});var Tt=n(kt,2);const hr=s(()=>{var t,i;return(i=(t=e(p))==null?void 0:t.schedule)==null?void 0:i.spec}),$r=s(()=>{var t,i;return(i=(t=e(p))==null?void 0:t.schedule)==null?void 0:i.state}),xr=s(()=>{var t,i;return(i=(t=e(p))==null?void 0:t.schedule)==null?void 0:i.policies}),br=s(()=>{var t,i,l;return(l=(i=(t=e(p))==null?void 0:t.schedule)==null?void 0:i.state)==null?void 0:l.notes});Ds(Tt,{get spec(){return e(hr)},get state(){return e($r)},get policies(){return e(xr)},get notes(){return e(br)}});var wr=n(Tt,2);const yr=s(()=>{var t;return((t=e(p))==null?void 0:t.searchAttributes)??{}});js(wr,{get searchAttributes(){return e(yr)}}),a(it);var Pt=n(it,2),St=o(Pt);const kr=s(()=>{var t,i,l,m;return(m=(l=(i=(t=e(p))==null?void 0:t.schedule)==null?void 0:i.action)==null?void 0:l.startWorkflow)==null?void 0:m.input});Ws(St,{get input(){return e(kr)}});var Tr=n(St,2);const Pr=s(()=>{var t,i,l,m;return(m=(l=(i=(t=e(p))==null?void 0:t.schedule)==null?void 0:i.spec)==null?void 0:l.structuredCalendar)==null?void 0:m[0]}),Sr=s(()=>{var t,i,l,m;return(m=(l=(i=(t=e(p))==null?void 0:t.schedule)==null?void 0:i.spec)==null?void 0:l.interval)==null?void 0:m[0]}),Cr=s(()=>{var t,i,l;return(l=(i=(t=e(p))==null?void 0:t.schedule)==null?void 0:i.spec)==null?void 0:l.timezoneName});Us(Tr,{get calendar(){return e(Pr)},get interval(){return e(Sr)},get timezoneName(){return e(Cr)}}),a(Pt),a(wt),a(at);var Ct=n(at,2);const Ar=s(()=>{var t;return(t=e(p))!=null&&t.schedule.state.paused?r("schedules.unpause"):r("schedules.pause")}),Dr=s(()=>r("common.cancel")),Mr=s(()=>!e(g));Ke(Ct,{id:"pause-schedule-modal",confirmType:"primary",get confirmText(){return e(Ar)},get cancelText(){return e(Dr)},get confirmDisabled(){return e(Mr)},get open(){return e(J)},set open(t){d(J,t)},$$events:{confirmModal:()=>$e(e(p)),cancelModal:ft},$$slots:{title:(t,i)=>{var l=Zs(),m=o(l,!0);a(l),b(x=>v(m,x),[()=>{var x;return(x=e(p))!=null&&x.schedule.state.paused?r("schedules.unpause-modal-title"):r("schedules.pause-modal-title")}],s),u(t,l)},content:(t,i)=>{var l=ea(),m=o(l),x=o(m,!0);a(m);var U=n(m,2),Y=o(U,!0);a(U);var we=n(U,2);const re=s(()=>r("common.reason")),se=s(()=>r("common.reason"));ds(we,{id:"pause-reason",get placeholder(){return e(re)},get label(){return e(se)},labelHidden:!0,get value(){return e(g)},set value(R){d(g,R)},$$legacy:!0}),a(l),b((R,ve)=>{v(x,R),v(Y,ve)},[()=>{var R;return(R=e(p))!=null&&R.schedule.state.paused?r("schedules.unpause-modal-confirmation",{schedule:$}):r("schedules.pause-modal-confirmation",{schedule:$})},()=>{var R;return(R=e(p))!=null&&R.schedule.state.paused?r("schedules.unpause-reason"):r("schedules.pause-reason")}],s),u(t,l)}},$$legacy:!0});var At=n(Ct,2);const Ir=s(()=>r("schedules.trigger")),Rr=s(()=>r("common.cancel"));Ke(At,{id:"trigger-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(Ir)},get cancelText(){return e(Rr)},get loading(){return e(K)},get open(){return e(Z)},set open(t){d(Z,t)},$$events:{confirmModal:()=>ke(),cancelModal:ce},$$slots:{title:(t,i)=>{var l=ta(),m=o(l,!0);a(l),b(x=>v(m,x),[()=>r("schedules.trigger-modal-title")],s),u(t,l)},content:(t,i)=>{var l=ra(),m=o(l);jt(m,{group:N,name:"trigger-event-id",class:"h-auto overflow-auto",children:(x,U)=>{var Y=Ce(),we=H(Y);He(we,1,()=>Q,Ye,(re,se)=>{Et(re,{get id(){return e(se).value},get value(){return e(se).value},get label(){return e(se).label},get description(){return e(se).description}})}),u(x,Y)},$$slots:{default:!0}}),a(l),u(t,l)}},$$legacy:!0});var Dt=n(At,2);const Ur=s(()=>r("schedules.schedule")),Wr=s(()=>r("common.cancel"));Ke(Dt,{id:"backfill-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(Ur)},get cancelText(){return e(Wr)},get loading(){return e(K)},get open(){return e(E)},set open(t){d(E,t)},$$events:{confirmModal:()=>rr(),cancelModal:je},$$slots:{title:(t,i)=>{var l=sa(),m=o(l);a(l),b((x,U)=>v(m,`${x??""}
        ${U??""}`),[()=>r("schedules.schedule"),()=>r("schedules.backfill")],s),u(t,l)},content:(t,i)=>{var l=aa(),m=o(l),x=o(m);const U=s(()=>r("common.start")),Y=s(()=>r("common.today")),we=s(()=>r("common.close")),re=s(()=>r("common.clear-input-button-label"));Bt(x,{get label(){return e(U)},get selected(){return e(pe)},get todayLabel(){return e(Y)},get closeLabel(){return e(we)},get clearLabel(){return e(re)},$$events:{datechange:Le}});var se=n(x,2);Ht(se,{twelveHourClock:!1,get hour(){return e(C)},set hour(j){d(C,j)},get minute(){return e(B)},set minute(j){d(B,j)},get second(){return e(fe)},set second(j){d(fe,j)},$$legacy:!0});var R=n(se,2);const ve=s(()=>r("common.end")),Or=s(()=>r("common.today")),Br=s(()=>r("common.close")),Hr=s(()=>r("common.clear-input-button-label"));Bt(R,{get label(){return e(ve)},get selected(){return e(xe)},get todayLabel(){return e(Or)},get closeLabel(){return e(Br)},get clearLabel(){return e(Hr)},$$events:{datechange:tt}});var Mt=n(R,2);Ht(Mt,{twelveHourClock:!1,get hour(){return e(ee)},set hour(j){d(ee,j)},get minute(){return e(Te)},set minute(j){d(Te,j)},get second(){return e(ue)},set second(j){d(ue,j)},$$legacy:!0});var It=n(Mt,2),Rt=o(It);tr(Rt,{name:"clock","aria-hidden":"true"});var Ut=n(Rt,2),qr=o(Ut);a(Ut),a(It),a(m);var Wt=n(m,4),Lt=o(Wt);jt(Lt,{group:N,name:"backfill-event-id",class:"h-auto overflow-auto",children:(j,Ft)=>{var ct=Ce(),Qe=H(ct);He(Qe,1,()=>Q.slice(0,e(de)?Q.length:3),Ye,(dt,Ve)=>{Et(dt,{get id(){return e(Ve).value},get value(){return e(Ve).value},get label(){return e(Ve).label},get description(){return e(Ve).description}})}),u(j,ct)},$$slots:{default:!0}});var jr=n(Lt,2);{var Er=j=>{vt(j,{variant:"ghost",size:"xs",$$events:{click:()=>d(de,!0)},children:(Ft,ct)=>{ge();var Qe=me();b(dt=>v(Qe,dt),[()=>r("schedules.more-options")],s),u(Ft,Qe)},$$slots:{default:!0}})};ye(jr,j=>{e(de)||j(Er)})}a(Wt),a(l),b(j=>v(qr,`${j??""} Universal Standard Time
              (UTC)`),[()=>r("common.based-on-time-preface")],s),u(t,l)}},$$legacy:!0});var Lr=n(Dt,2);const Fr=s(()=>r("common.delete")),zr=s(()=>r("common.cancel"));Ke(Lr,{id:"delete-schedule-modal",confirmType:"destructive",get confirmText(){return e(Fr)},get cancelText(){return e(zr)},get open(){return e(S)},set open(t){d(S,t)},get error(){return e(F)},set error(t){d(F,t)},$$events:{confirmModal:he,cancelModal:ft},$$slots:{title:(t,i)=>{var l=oa(),m=o(l,!0);a(l),b(x=>v(m,x),[()=>r("schedules.delete-modal-title")],s),u(t,l)},content:(t,i)=>{var l=la(),m=o(l),x=o(m,!0);a(m),a(l),b(U=>v(x,U),[()=>r("schedules.delete-modal-confirmation",{schedule:$})],s),u(t,l)}},$$legacy:!0}),b((t,i)=>{var l,m,x,U,Y;v(or,(Y=(U=(x=(m=(l=e(p))==null?void 0:l.schedule)==null?void 0:m.action)==null?void 0:x.startWorkflow)==null?void 0:U.workflowType)==null?void 0:Y.name),v(lr,t),v(bt,`${i??""} `)},[()=>{var t,i;return r("common.created",{created:qe((i=(t=e(p))==null?void 0:t.info)==null?void 0:i.createTime,W(),{relative:V()})})},()=>D().count.toLocaleString()],s),u(_e,be)};ye(Pe,_e=>{w()?_e(Ae):_e(Re,!1)})}u(I,te)},(I,p)=>{var te=ia(),Pe=H(te),Ae=o(Pe),Re=o(Ae);const _e=s(()=>Ge({namespace:_}));Be(Re,{get href(){return e(_e)},icon:"chevron-left",children:(Se,Ee)=>{ge();var Ne=me();b(Fe=>v(Ne,Fe),[()=>r("schedules.back-to-schedules")],s),u(Se,Ne)},$$slots:{default:!0}});var be=n(Re,2);be.textContent=$;var De=n(be,2);De.textContent=_,a(Ae),a(Pe);var Ue=n(Pe,2);const Me=s(()=>{var Se;return(Se=e(p))==null?void 0:Se.message});Nt(Ue,{get error(){return e(Me)}}),u(I,te)}),u(A,_t),ne(),T()}var ua=k("<!> <!>",1);function ao(A,c){le(c,!1);const[f,T]=Ze(),h=()=>oe(Jt,"$page",f),y=h().params.schedule;ie();var w=ua(),P=H(w);Qr(P,{title:`Schedule | ${y}`,get url(){return h().url.href}});var W=n(P,2);da(W,{}),u(A,w),ne(),T()}export{ao as component};
