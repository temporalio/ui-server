import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as Lt,ah as Zr,ac as $,t as ce,i as L,r as V,c as B,g as v,j as oe,e as D,f as Be,b as Vt,s as xr,aC as Ca,aP as wr,h as nr,n as Je,k as $t,b3 as Oa}from"../chunks/BUtADDjV.js";import{s as ue,q as Na}from"../chunks/BIRKK4Cx.js";import{p as Ra}from"../chunks/AEi1aioX.js";import{t as O}from"../chunks/D2OY9xdY.js";import{f as Ia}from"../chunks/lVhRHvFz.js";import{S as ut}from"../chunks/S6Q2Q0ub.js";import{i as Ma}from"../chunks/V0ppeWDx.js";import{a as ja}from"../chunks/CujR_D3R.js";import{p as dt,a as Ct,s as $a,i as Fr}from"../chunks/B1GMiS9d.js";import{i as ct}from"../chunks/Cx0Hed4m.js";import{s as jr}from"../chunks/D8C9uSNL.js";import{A as kr}from"../chunks/QvA4o0bH.js";import{B as Rt}from"../chunks/Bbd55-3L.js";import{I as ha}from"../chunks/BVWW46Sb.js";import{U as ma,N as Pa,P as Za,c as Fa,d as pa,e as La,H as Va,f as Da,h as za,i as ya,j as Jt,b as Ua,g as Ba}from"../chunks/BN7DR3Et.js";import{a as Kt,d as $r,g as Ot,w as je,e as hr}from"../chunks/BEyRdwvQ.js";import{p as Nt,n as Lr}from"../chunks/GPioZwvj.js";import"../chunks/D0iwhpLH.js";import{g as qa}from"../chunks/byHaz_JD.js";import{e as Gt,i as Xt}from"../chunks/Da7lzrFF.js";import{a as Ha}from"../chunks/BS2PFHfL.js";import{B as Wa}from"../chunks/DVhdhZc5.js";import{C as ga}from"../chunks/CzlhYXuh.js";import{I as Ya}from"../chunks/BrBFT0VX.js";import{S as Ja,O as Ka}from"../chunks/SVMQjYqH.js";import{S as pt}from"../chunks/CFDPHCnR.js";class mr extends Error{constructor(e,a){super(e),this.name="DevalueError",this.path=a.join("")}}function Vr(r){return Object(r)!==r}const Ga=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xa(r){const e=Object.getPrototypeOf(r);return e===Object.prototype||e===null||Object.getPrototypeOf(e)===null||Object.getOwnPropertyNames(e).sort().join("\0")===Ga}function Qa(r){return Object.prototype.toString.call(r).slice(8,-1)}function es(r){switch(r){case'"':return'\\"';case"<":return"\\u003C";case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return r<" "?`\\u${r.charCodeAt(0).toString(16).padStart(4,"0")}`:""}}function ze(r){let e="",a=0;const t=r.length;for(let s=0;s<t;s+=1){const n=r[s],i=es(n);i&&(e+=r.slice(a,s)+i,a=s+1)}return`"${a===0?r:e+r.slice(a)}"`}function ts(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.getOwnPropertyDescriptor(r,e).enumerable)}const rs=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function Dr(r){return rs.test(r)?"."+r:"["+JSON.stringify(r)+"]"}function as(r,e){const a=[],t=new Map,s=[];if(e)for(const d of Object.getOwnPropertyNames(e))s.push({key:d,fn:e[d]});const n=[];let i=0;function u(d){if(typeof d=="function")throw new mr("Cannot stringify a function",n);if(d===void 0)return ma;if(Number.isNaN(d))return Pa;if(d===1/0)return Za;if(d===-1/0)return Fa;if(d===0&&1/d<0)return pa;if(t.has(d))return t.get(d);const y=i++;t.set(d,y);for(const{key:P,fn:z}of s){const N=z(d);if(N)return a[y]=`["${P}",${u(N)}]`,y}let m="";if(Vr(d))m=pr(d);else{const P=Qa(d);switch(P){case"Number":case"String":case"Boolean":m=`["Object",${pr(d)}]`;break;case"BigInt":m=`["BigInt",${d}]`;break;case"Date":m=`["Date","${!isNaN(d.getDate())?d.toISOString():""}"]`;break;case"URL":m=`["URL",${ze(d.toString())}]`;break;case"URLSearchParams":m=`["URLSearchParams",${ze(d.toString())}]`;break;case"RegExp":const{source:N,flags:Y}=d;m=Y?`["RegExp",${ze(N)},"${Y}"]`:`["RegExp",${ze(N)}]`;break;case"Array":m="[";for(let w=0;w<d.length;w+=1)w>0&&(m+=","),w in d?(n.push(`[${w}]`),m+=u(d[w]),n.pop()):m+=Va;m+="]";break;case"Set":m='["Set"';for(const w of d)m+=`,${u(w)}`;m+="]";break;case"Map":m='["Map"';for(const[w,Z]of d)n.push(`.get(${Vr(w)?pr(w):"..."})`),m+=`,${u(w)},${u(Z)}`,n.pop();m+="]";break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const w=d;m='["'+P+'",'+u(w.buffer);const Z=d.byteOffset,Ae=Z+d.byteLength;if(Z>0||Ae!==w.buffer.byteLength){const me=+/(\d+)/.exec(P)[1]/8;m+=`,${Z/me},${Ae/me}`}m+="]";break}case"ArrayBuffer":{m=`["ArrayBuffer","${La(d)}"]`;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":m=`["${P}",${ze(d.toString())}]`;break;default:if(!Xa(d))throw new mr("Cannot stringify arbitrary non-POJOs",n);if(ts(d).length>0)throw new mr("Cannot stringify POJOs with symbolic keys",n);if(Object.getPrototypeOf(d)===null){m='["null"';for(const w in d)n.push(Dr(w)),m+=`,${ze(w)},${u(d[w])}`,n.pop();m+="]"}else{m="{";let w=!1;for(const Z in d)w&&(m+=","),w=!0,n.push(Dr(Z)),m+=`${ze(Z)}:${u(d[Z])}`,n.pop();m+="}"}}}return a[y]=m,y}const l=u(r);return l<0?`${l}`:`[${a.join(",")}]`}function pr(r){const e=typeof r;return e==="string"?ze(r):r instanceof String?ze(r.toString()):r===void 0?ma.toString():r===0&&1/r<0?pa.toString():e==="bigint"?`["BigInt","${r}"]`:String(r)}const yr=(r,e="operation")=>{const a=`Failed to ${e}`;if(Ma(r))return{...r,name:"ApiError",userMessage:ss(r,e),isRetryable:ns(r.statusCode),isTemporary:is(r.statusCode)};if(r instanceof Error)return{...r,name:"ApiError",userMessage:`${a}: ${r.message}`,isRetryable:!1,isTemporary:!1};const t=new Error(`${a}: Unknown error`);return t.name="ApiError",t.userMessage=`${a}: An unexpected error occurred`,t.isRetryable=!1,t.isTemporary=!1,t},ss=(r,e)=>{switch(r.statusCode){case 400:return"Invalid data provided. Please check your entries and try again.";case 401:return"Authentication required. Please log in and try again.";case 403:return`Permission denied. You may not have access to perform this ${e}.`;case 404:return"Resource not found. It may have been deleted or moved.";case 409:return"Conflict detected. The resource may have been modified by another user.";case 422:return"Invalid data format. Please check your entries and try again.";case 429:return"Too many requests. Please wait a moment and try again.";case 500:case 502:case 503:case 504:return"Server error occurred. Please try again in a few moments.";default:return`Network error (${r.statusCode}): ${r.statusText}`}},ns=r=>r?[408,429,500,502,503,504].includes(r):!1,is=r=>r?[429,500,502,503,504].includes(r):!1,va={onSuccess:async r=>{console.log("Search attributes saved successfully:",r)},onCancel:()=>{console.log("Search attributes form cancelled")},async fetchAttributes(){var r;try{const e=Ra.params.namespace;if(!e)throw new Error("No namespace found in page params");const a=await Ia(e),t=Object.entries(a.customAttributes).map(([s,n])=>({name:s,type:n}));return t.length>0?t:[{name:"",type:((r=va.getSupportedTypes()[0])==null?void 0:r.value)||""}]}catch(e){throw yr(e,"load search attributes")}},async upsertAttributes(r){try{throw new Error(O("search-attributes.crud-not-implemented"))}catch(e){throw yr(e,"save search attributes")}},async deleteAttribute(r){try{throw new Error(O("search-attributes.crud-not-implemented"))}catch(e){throw yr(e,"delete search attribute")}},getSupportedTypes(){return[{label:O("search-attributes.type-keyword"),value:ut.KEYWORD},{label:O("search-attributes.type-text"),value:ut.TEXT},{label:O("search-attributes.type-int"),value:ut.INT},{label:O("search-attributes.type-double"),value:ut.DOUBLE},{label:O("search-attributes.type-bool"),value:ut.BOOL},{label:O("search-attributes.type-datetime"),value:ut.DATETIME},{label:O("search-attributes.type-keywordlist"),value:ut.KEYWORDLIST}]}};var os=ce('<p class="text-sm text-orange-600"> </p>'),us=ce("<!> ",1),cs=ce('<span class="text-gray-500 self-center text-sm"> </span>'),ds=ce('<div class="flex gap-2"><!> <!></div>'),ls=ce('<div class="text-gray-600 text-sm"><p> </p> <p> </p></div>'),fs=ce('<div class="space-y-3"><p> </p> <!> <!></div>'),hs=ce("<div><!></div>");function ms(r,e){Lt(e,!0);var a;let t=dt(e,"class",3,""),s=dt(e,"title",19,()=>O("common.error-occurred")),n=Zr(0),i=Zr(!1);const u=$(()=>(a=e.retryConfig===null||e.retryConfig===void 0?void 0:e.retryConfig.maxRetries)!==null&&a!==void 0?a:3),l=async()=>{if(!(!e.retryConfig||v(n)>=v(u))){xr(i,!0),Ca(n);try{await e.retryConfig.onRetry()}catch(m){console.error("Retry failed:",m)}finally{xr(i,!1)}}};var d=hs(),y=L(d);kr(y,{intent:"error",get title(){return s()},children:(m,P)=>{var z=fs(),N=L(z),Y=L(N,!0);V(N);var w=B(N,2);{var Z=q=>{var H=os(),pe=L(H,!0);V(H),oe(Se=>ue(pe,Se),[()=>O("common.temporary-error")]),D(q,H)};ct(w,q=>{e.error.isTemporary&&q(Z)})}var Ae=B(w,2);{var me=q=>{var H=ds(),pe=L(H);Rt(pe,{variant:"secondary",size:"sm",get disabled(){return v(i)},$$events:{click:l},children:(ye,ge)=>{var be=us(),Ee=Be(be);ha(Ee,{name:"retry"});var G=B(Ee);oe(U=>ue(G,` ${U??""}`),[()=>v(i)?O("common.retrying"):O("common.try-again")]),D(ye,be)},$$slots:{default:!0}});var Se=B(pe,2);{var _e=ye=>{var ge=cs(),be=L(ge,!0);V(ge),oe(Ee=>ue(be,Ee),[()=>O("common.retry-attempt",{current:v(n)+1,total:v(u)+1})]),D(ye,ge)};ct(Se,ye=>{v(n)>0&&ye(_e)})}V(H),D(q,H)},F=(q,H)=>{{var pe=Se=>{var _e=ls(),ye=L(_e),ge=L(ye,!0);V(ye);var be=B(ye,2),Ee=L(be,!0);V(be),V(_e),oe((G,U)=>{ue(ge,G),ue(Ee,U)},[()=>O("common.max-retries-exceeded",{attempts:v(u)+1}),()=>O("common.retry-support-message")]),D(Se,_e)};ct(q,Se=>{e.retryConfig&&v(n)>=v(u)&&Se(pe)},H)}};ct(Ae,q=>{e.error.isRetryable&&e.retryConfig&&v(n)<v(u)?q(me):q(F,!1)})}V(z),oe(q=>ue(Y,q),[()=>e.error.userMessage||O("common.unexpected-error")]),D(m,z)},$$slots:{default:!0}}),V(d),oe(()=>jr(d,1,`space-y-6 ${t()??""}`)),D(r,d),Vt()}function Tr(r,e,a){return r[e]=a,"skip"}function ps(r,e){return e.value!==void 0&&typeof e.value!="object"&&e.path.length<r.length}function We(r,e,a={}){a.modifier||(a.modifier=s=>ps(e,s)?void 0:s.value);const t=Ve(r,e,a.modifier);if(t)return a.value===void 0||a.value(t.value)?t:void 0}function Ve(r,e,a){if(!e.length)return;const t=[e[0]];let s=r;for(;s&&t.length<e.length;){const i=t[t.length-1],u=a?a({parent:s,key:String(i),value:s[i],path:t.map(l=>String(l)),isLeaf:!1,set:l=>Tr(s,i,l)}):s[i];if(u===void 0)return;s=u,t.push(e[t.length])}if(!s)return;const n=e[e.length-1];return{parent:s,key:String(n),value:s[n],path:e.map(i=>String(i)),isLeaf:!0,set:i=>Tr(s,n,i)}}function Ue(r,e,a=[]){for(const t in r){const s=r[t],n=s===null||typeof s!="object",i={parent:r,key:t,value:s,path:a.concat([t]),isLeaf:n,set:l=>Tr(r,t,l)},u=e(i);if(u==="abort")return u;if(u==="skip")continue;if(!n){const l=Ue(s,e,i.path);if(l==="abort")return l}}}function ys(r,e){return r===e||r.size===e.size&&[...r].every(a=>e.has(a))}function zr(r,e){const a=new Map;function t(u,l){return u instanceof Date&&l instanceof Date&&u.getTime()!==l.getTime()||u instanceof Set&&l instanceof Set&&!ys(u,l)||u instanceof File&&l instanceof File&&u!==l}function s(u){return u instanceof Date||u instanceof Set||u instanceof File}function n(u,l){const d=l?Ve(l,u.path):void 0;function y(){return a.set(u.path.join(" "),u.path),"skip"}if(s(u.value)&&(!s(d==null?void 0:d.value)||t(u.value,d.value)))return y();u.isLeaf&&(!d||u.value!==d.value)&&y()}Ue(r,u=>n(u,e)),Ue(e,u=>n(u,r));const i=Array.from(a.values());return i.sort((u,l)=>u.length-l.length),i}function Fe(r,e,a){const t=typeof a=="function";for(const s of e){const n=Ve(r,s,({parent:i,key:u,value:l})=>((l===void 0||typeof l!="object")&&(i[u]={}),i[u]));n&&(n.parent[n.key]=t?a(s,n):a)}}function _t(r){return r.toString().split(/[[\].]+/).filter(e=>e)}function It(r){return r.reduce((e,a)=>{const t=String(a);return typeof a=="number"||/^\d+$/.test(t)?e+=`[${t}]`:e?e+=`.${t}`:e+=t,e},"")}function Mt(r){const e={}.toString.call(r).slice(8,-1);if(e=="Set")return new Set([...r].map(a=>Mt(a)));if(e=="Map")return new Map([...r].map(a=>[Mt(a[0]),Mt(a[1])]));if(e=="Date")return new Date(r.getTime());if(e=="RegExp")return RegExp(r.source,r.flags);if(e=="Array"||e=="Object"){const a=e=="Object"?Object.create(Object.getPrototypeOf(r)):[];for(const t in r)a[t]=Mt(r[t]);return a}return r}function Te(r){return r&&typeof r=="object"?Mt(r):r}class ie extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ie.prototype)}}function gs(r,e){var s;const a={};function t(n){if("_errors"in a||(a._errors=[]),!Array.isArray(a._errors))if(typeof a._errors=="string")a._errors=[a._errors];else throw new ie("Form-level error was not an array.");a._errors.push(n.message)}for(const n of r){if(!n.path||n.path.length==1&&!n.path[0]){t(n);continue}const u=!/^\d$/.test(String(n.path[n.path.length-1]))&&((s=We(e,n.path.filter(m=>/\D/.test(String(m)))))==null?void 0:s.value),l=Ve(a,n.path,({value:m,parent:P,key:z})=>(m===void 0&&(P[z]={}),P[z]));if(!l){t(n);continue}const{parent:d,key:y}=l;u?(y in d||(d[y]={}),"_errors"in d[y]?d[y]._errors.push(n.message):d[y]._errors=[n.message]):y in d?d[y].push(n.message):d[y]=[n.message]}return a}function Ur(r,e,a){return a?r:(Ue(e,t=>{Array.isArray(t.value)&&t.set(void 0)}),Ue(r,t=>{!Array.isArray(t.value)&&t.value!==void 0||Fe(e,[t.path],t.value)}),e)}function vs(r){return _a(r,[])}function _a(r,e){return Object.entries(r).filter(([,t])=>t!==void 0).flatMap(([t,s])=>{if(Array.isArray(s)&&s.length>0){const n=e.concat([t]);return{path:It(n),messages:s}}else return _a(r[t],e.concat([t]))})}function Br(r){r.flashMessage&&Ar(r)&&(document.cookie=`flash=; Max-Age=0; Path=${r.flashMessage.cookiePath??"/"};`)}function Ar(r){return r.flashMessage?r.syncFlashMessage:!1}function Sr(r){const e=JSON.parse(r);return e.data&&(e.data=Da(e.data,za.decoders)),e}function gr(r){return HTMLElement.prototype.cloneNode.call(r)}function _s(r,e=()=>{}){const a=async({action:s,result:n,reset:i=!0,invalidateAll:u=!0})=>{n.type==="success"&&(i&&HTMLFormElement.prototype.reset.call(r),u&&await ya()),(location.origin+location.pathname===s.origin+s.pathname||n.type==="redirect"||n.type==="error")&&await Jt(n)};async function t(s){var Y,w,Z,Ae,me;if(((Y=s.submitter)!=null&&Y.hasAttribute("formmethod")?s.submitter.formMethod:gr(r).method)!=="post")return;s.preventDefault();const i=new URL((w=s.submitter)!=null&&w.hasAttribute("formaction")?s.submitter.formAction:gr(r).action),u=(Z=s.submitter)!=null&&Z.hasAttribute("formenctype")?s.submitter.formEnctype:gr(r).enctype,l=new FormData(r),d=(Ae=s.submitter)==null?void 0:Ae.getAttribute("name");d&&l.append(d,((me=s.submitter)==null?void 0:me.getAttribute("value"))??"");const y=new AbortController;let m=!1;const z=await e({action:i,cancel:()=>m=!0,controller:y,formData:l,formElement:r,submitter:s.submitter})??a;if(m)return;let N;try{const F=new Headers({accept:"application/json","x-sveltekit-action":"true"});u!=="multipart/form-data"&&F.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(u)?u:"application/x-www-form-urlencoded");const q=u==="multipart/form-data"?l:new URLSearchParams(l),H=await fetch(i,{method:"POST",headers:F,cache:"no-store",body:q,signal:y.signal});N=Sr(await H.text()),N.type==="error"&&(N.status=H.status)}catch(F){if((F==null?void 0:F.name)==="AbortError")return;N={type:"error",error:F}}await z({action:i,formData:l,formElement:r,update:F=>a({action:i,result:N,reset:F==null?void 0:F.reset,invalidateAll:F==null?void 0:F.invalidateAll}),result:N})}return HTMLFormElement.prototype.addEventListener.call(r,"submit",t),{destroy(){HTMLFormElement.prototype.removeEventListener.call(r,"submit",t)}}}const ba="noCustomValidity";async function qr(r,e){"setCustomValidity"in r&&r.setCustomValidity(""),!(ba in r.dataset)&&xa(r,e)}function bs(r,e){for(const a of r.querySelectorAll("input,select,textarea,button")){if("dataset"in a&&ba in a.dataset||!a.name)continue;const t=Ve(e,_t(a.name)),s=t&&typeof t.value=="object"&&"_errors"in t.value?t.value._errors:t==null?void 0:t.value;if(xa(a,s),s)return}}function xa(r,e){if(!("setCustomValidity"in r))return;const a=e&&e.length?e.join(`
`):"";r.setCustomValidity(a),a&&r.reportValidity()}const xs=(r,e=0)=>{const a=r.getBoundingClientRect();return a.top>=e&&a.left>=0&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&a.right<=(window.innerWidth||document.documentElement.clientWidth)},ws=(r,e=1.125,a="smooth")=>{const n=r.getBoundingClientRect().top+window.pageYOffset-window.innerHeight/(2*e);window.scrollTo({left:0,top:n,behavior:a})},ks=["checkbox","radio","range","file"];function Hr(r){const e=!!r&&(r instanceof HTMLSelectElement||r instanceof HTMLInputElement&&ks.includes(r.type)),a=!!r&&r instanceof HTMLSelectElement&&r.multiple,t=!!r&&r instanceof HTMLInputElement&&r.type=="file";return{immediate:e,multiple:a,file:t}}var he;(function(r){r[r.Idle=0]="Idle",r[r.Submitting=1]="Submitting",r[r.Delayed=2]="Delayed",r[r.Timeout=3]="Timeout"})(he||(he={}));const Ts=new Set;function As(r,e,a){let t=he.Idle,s,n;const i=Ts;function u(){l(),y(t!=he.Delayed?he.Submitting:he.Delayed),s=window.setTimeout(()=>{s&&t==he.Submitting&&y(he.Delayed)},a.delayMs),n=window.setTimeout(()=>{n&&t==he.Delayed&&y(he.Timeout)},a.timeoutMs),i.add(l)}function l(){clearTimeout(s),clearTimeout(n),s=n=0,i.delete(l),y(he.Idle)}function d(){i.forEach(w=>w()),i.clear()}function y(w){t=w,e.submitting.set(t>=he.Submitting),e.delayed.set(t>=he.Delayed),e.timeout.set(t>=he.Timeout)}const m=r;function P(w){const Z=w.target;a.selectErrorText&&Z.select()}function z(){a.selectErrorText&&m.querySelectorAll("input").forEach(w=>{w.addEventListener("invalid",P)})}function N(){a.selectErrorText&&m.querySelectorAll("input").forEach(w=>w.removeEventListener("invalid",P))}const Y=r;{z();const w=Z=>{Z.clearAll?d():l(),Z.cancelled||setTimeout(()=>Er(Y,a),1)};return Kt(()=>{N(),w({cancelled:!0})}),{submitting(){u()},completed:w,scrollToFirstError(){setTimeout(()=>Er(Y,a),1)},isSubmitting:()=>t===he.Submitting||t===he.Delayed}}}const Er=async(r,e)=>{if(e.scrollToError=="off")return;const a=e.errorSelector;if(!a)return;await wr();let t;if(t=r.querySelector(a),!t)return;t=t.querySelector(a)??t;const s=e.stickyNavbar?document.querySelector(e.stickyNavbar):null;typeof e.scrollToError!="string"?t.scrollIntoView(e.scrollToError):xs(t,(s==null?void 0:s.offsetHeight)??0)||ws(t,void 0,e.scrollToError);function n(u){return typeof e.autoFocusOnError=="boolean"?e.autoFocusOnError:!/iPhone|iPad|iPod|Android/i.test(u)}if(!n(navigator.userAgent))return;let i;if(i=t,["INPUT","SELECT","BUTTON","TEXTAREA"].includes(i.tagName)||(i=i.querySelector('input:not([type="hidden"]):not(.flatpickr-input), select, textarea')),i)try{i.focus({preventScroll:!0}),e.selectErrorText&&i.tagName=="INPUT"&&i.select()}catch{}};function Qt(r,e,a){const t=Ve(r,e,({parent:s,key:n,value:i})=>(i===void 0&&(s[n]=/\D/.test(n)?{}:[]),s[n]));if(t){const s=a(t.value);t.parent[t.key]=s}return r}function Ss(r,e,a){const t=r.form,s=_t(e),n=$r(t,i=>{const u=Ve(i,s);return u==null?void 0:u.value});return{subscribe(...i){const u=n.subscribe(...i);return()=>u()},update(i,u){t.update(l=>Qt(l,s,i),u??a)},set(i,u){t.update(l=>Qt(l,s,()=>i),u??a)}}}function Es(r,e){const a="form"in r;if(!a&&(e==null?void 0:e.taint)!==void 0)throw new ie("If options.taint is set, the whole superForm object must be used as a proxy.");return a}function Wt(r,e,a){const t=_t(e);if(Es(r,a))return Ss(r,e,a);const s=$r(r,n=>{const i=Ve(n,t);return i==null?void 0:i.value});return{subscribe(...n){const i=s.subscribe(...n);return()=>i()},update(n){r.update(i=>Qt(i,t,n))},set(n){r.update(i=>Qt(i,t,()=>n))}}}function Cr(r){let e={};const a=Array.isArray(r);for(const[t,s]of Object.entries(r))!s||typeof s!="object"||(a?e={...e,...Cr(s)}:e[t]=Cr(s));return e}const Yt=new WeakMap,yt=new WeakMap,wa=r=>{throw r.result.error},Cs={applyAction:!0,invalidateAll:!0,resetForm:!0,autoFocusOnError:"detect",scrollToError:"smooth",errorSelector:'[aria-invalid="true"],[data-invalid]',selectErrorText:!1,stickyNavbar:void 0,taintedMessage:!1,onSubmit:void 0,onResult:void 0,onUpdate:void 0,onUpdated:void 0,onError:wa,dataType:"form",validators:void 0,customValidity:!1,clearOnSubmit:"message",delayMs:500,timeoutMs:8e3,multipleSubmits:"prevent",SPA:void 0,validationMethod:"auto"};function Os(r){return`Duplicate form id's found: "${r}". Multiple forms will receive the same data. Use the id option to differentiate between them, or if this is intended, set the warnings.duplicateId option to false in superForm to disable this warning. More information: https://superforms.rocks/concepts/multiple-forms`}let ka=!1;try{SUPERFORMS_LEGACY&&(ka=!0)}catch{}let gt=!1;try{globalThis.STORIES&&(gt=!0)}catch{}function Ns(r,e){var xe;let a,t=e??{},s;{if((t.legacy??ka)&&(t.resetForm===void 0&&(t.resetForm=!1),t.taintedMessage===void 0&&(t.taintedMessage=!0)),gt&&t.applyAction===void 0&&(t.applyAction=!1),typeof t.SPA=="string"&&(t.invalidateAll===void 0&&(t.invalidateAll=!1),t.applyAction===void 0&&(t.applyAction=!1)),s=t.validators,t={...Cs,...t},(t.SPA===!0||typeof t.SPA=="object")&&t.validators===void 0&&console.warn("No validators set for superForm in SPA mode. Add a validation adapter to the validators option, or set it to false to disable this warning."),!r)throw new ie("No form data sent to superForm. Make sure the output from superValidate is used (usually data.form) and that it's not null or undefined. Alternatively, an object with default values for the form can also be used, but then constraints won't be available.");d(r)===!1&&(r={id:t.id??Math.random().toString(36).slice(2,10),valid:!1,posted:!1,errors:{},data:r,shape:Cr(r)}),r=r;const o=r.id=t.id??r.id,c=Ot(Nt)??(gt?{}:void 0);if(((xe=t.warnings)==null?void 0:xe.duplicateId)!==!1)if(!Yt.has(c))Yt.set(c,new Set([o]));else{const f=Yt.get(c);f!=null&&f.has(o)?console.warn(Os(o)):f==null||f.add(o)}if(yt.has(r)||yt.set(r,r),a=yt.get(r),r=Te(a),Kt(()=>{var f;Ut(),or(),cr();for(const p of Object.values(fe))p.length=0;(f=Yt.get(c))==null||f.delete(o)}),t.dataType!=="json"){const f=(p,b)=>{if(!(!b||typeof b!="object")){if(Array.isArray(b))b.length>0&&f(p,b[0]);else if(!(b instanceof Date)&&!(b instanceof File)&&!(b instanceof FileList))throw new ie(`Object found in form field "${p}". Set the dataType option to "json" and add use:enhance to use nested data structures. More information: https://superforms.rocks/concepts/nested-data`)}};for(const[p,b]of Object.entries(r.data))f(p,b)}}const n={formId:r.id,form:Te(r.data),constraints:r.constraints??{},posted:r.posted,errors:Te(r.errors),message:Te(r.message),tainted:void 0,valid:r.valid,submitting:!1,shape:r.shape},i=n,u=je(t.id??r.id);function l(o){return Object.values(o).filter(f=>d(f)!==!1)}function d(o){return!o||typeof o!="object"||!("valid"in o&&"errors"in o&&typeof o.valid=="boolean")?!1:"id"in o&&typeof o.id=="string"?o.id:!1}const y=je(r.data),m={subscribe:y.subscribe,set:(o,c={})=>{const f=Te(o);return St(f,c.taint??!0),y.set(f)},update:(o,c={})=>y.update(f=>{const p=o(f);return St(p,c.taint??!0),p})};function P(){return t.SPA===!0||typeof t.SPA=="object"}function z(o){var c;return o>400?o:(typeof t.SPA=="boolean"||typeof t.SPA=="string"||(c=t.SPA)==null?void 0:c.failStatus)||o}async function N(o={}){const c=o.formData??i.form;let f={},p;const b=o.adapter??t.validators;if(typeof b=="object"){if(b!=s&&!("jsonSchema"in b))throw new ie('Client validation adapter found in options.validators. A full adapter must be used when changing validators dynamically, for example "zod" instead of "zodClient".');if(p=await b.validate(c),!p.success)f=gs(p.issues,b.shape??i.shape??{});else if(o.recheckValidData!==!1)return N({...o,recheckValidData:!1})}else p={success:!0,data:{}};const A={...i.form,...c,...p.success?p.data:{}};return{valid:p.success,posted:!1,errors:f,data:A,constraints:i.constraints,message:void 0,id:i.formId,shape:i.shape}}function Y(o){if(!t.onChange||!o.paths.length||o.type=="blur")return;let c;const f=o.paths.map(It);o.type&&o.paths.length==1&&o.formElement&&o.target instanceof Element?c={path:f[0],paths:f,formElement:o.formElement,target:o.target,set(p,b,A){Wt({form:m},p,A).set(b)},get(p){return Ot(Wt(m,p))}}:c={paths:f,target:void 0,set(p,b,A){Wt({form:m},p,A).set(b)},get(p){return Ot(Wt(m,p))}},t.onChange(c)}async function w(o,c=!1,f){o&&(t.validators=="clear"&&G.update(A=>(Fe(A,o.paths,void 0),A)),setTimeout(()=>Y(o)));let p=!1;if(c||(t.validationMethod=="onsubmit"||t.validationMethod=="submit-only"||t.validationMethod=="onblur"&&(o==null?void 0:o.type)=="input"||t.validationMethod=="oninput"&&(o==null?void 0:o.type)=="blur")&&(p=!0),p||!o||!t.validators||t.validators=="clear"){if(o!=null&&o.paths){const A=(o==null?void 0:o.formElement)??at();A&&Z(A)}return}const b=await N({adapter:f});return b.valid&&(o.immediate||o.type!="input")&&m.set(b.data,{taint:"ignore"}),await wr(),Ae(b.errors,o,c),b}function Z(o){const c=new Map;if(t.customValidity&&o)for(const f of o.querySelectorAll("[name]")){if(typeof f.name!="string"||!f.name.length)continue;const p="validationMessage"in f?String(f.validationMessage):"";c.set(f.name,{el:f,message:p}),qr(f,void 0)}return c}async function Ae(o,c,f){const{type:p,immediate:b,multiple:A,paths:we}=c,He=i.errors,st={};let ne=new Map;const te=c.formElement??at();te&&(ne=Z(te)),Ue(o,W=>{if(!Array.isArray(W.value))return;const re=[...W.path];re[re.length-1]=="_errors"&&re.pop();const mt=re.join(".");function ke(){if(Fe(st,[W.path],W.value),t.customValidity&&nt&&ne.has(mt)){const{el:ve,message:it}=ne.get(mt);it!=W.value&&(setTimeout(()=>qr(ve,W.value)),ne.clear())}}if(f)return ke();const qt=W.path[W.path.length-1]=="_errors",nt=W.value&&we.some(ve=>qt?re&&ve&&re.length>0&&re[0]==ve[0]:mt==ve.join("."));if(nt&&t.validationMethod=="oninput"||b&&!A&&nt)return ke();if(A){const ve=We(Ot(G),W.path.slice(0,-1));if(ve!=null&&ve.value&&typeof(ve==null?void 0:ve.value)=="object"){for(const it of Object.values(ve.value))if(Array.isArray(it))return ke()}}const De=We(He,W.path);if(De&&De.key in De.parent)return ke();if(qt){if(t.validationMethod=="oninput"||p=="blur"&&At(It(W.path.slice(0,-1))))return ke()}else if(p=="blur"&&nt)return ke()}),G.set(st)}function me(o,c={}){return c.keepFiles&&Ue(i.form,f=>{if(!(f.parent instanceof FileList)&&(f.value instanceof File||f.value instanceof FileList)){const p=We(o,f.path);(!p||!(p.key in p.parent))&&Fe(o,[f.path],f.value)}}),m.set(o,c)}function F(o,c){return o&&c&&t.resetForm&&(t.resetForm===!0||t.resetForm())}function q(o=!0){let c=i.form,f=i.tainted;if(o){const p=Ie(i.form);c=p.data;const b=p.paths;b.length&&(f=Te(f)??{},Fe(f,b,!1))}return{valid:i.valid,posted:i.posted,errors:i.errors,data:c,constraints:i.constraints,message:i.message,id:i.formId,tainted:f,shape:i.shape}}async function H(o,c){o.valid&&c&&F(o.valid,c)?pe({message:o.message,posted:!0}):ht({form:o,untaint:c,keepFiles:!0,pessimisticUpdate:t.invalidateAll=="force"||t.invalidateAll=="pessimistic"}),fe.onUpdated.length&&await wr();for(const f of fe.onUpdated)f({form:o})}function pe(o={}){o.newState&&(a.data={...a.data,...o.newState});const c=Te(a);c.data={...c.data,...o.data},o.id!==void 0&&(c.id=o.id),ht({form:c,untaint:!0,message:o.message,keepFiles:!1,posted:o.posted,resetted:!0})}async function Se(o){if(o.type=="error")throw new ie(`ActionResult of type "${o.type}" cannot be passed to update function.`);if(o.type=="redirect"){F(!0,!0)&&pe({posted:!0});return}if(typeof o.data!="object")throw new ie("Non-object validation data returned from ActionResult.");const c=l(o.data);if(!c.length)throw new ie("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const f of c)f.id===i.formId&&await H(f,o.status>=200&&o.status<300)}const _e=je(n.message),ye=je(n.constraints),ge=je(n.posted),be=je(n.shape),Ee=je(r.errors),G={subscribe:Ee.subscribe,set(o,c){return Ee.set(Ur(o,i.errors,c==null?void 0:c.force))},update(o,c){return Ee.update(f=>Ur(o(f),i.errors,c==null?void 0:c.force))},clear:()=>G.set({})};let U=null;function ir(o){var c;U&&o&&Object.keys(o).length==1&&((c=o.paths)!=null&&c.length)&&U.target&&U.target instanceof HTMLInputElement&&U.target.type.toLowerCase()=="file"?U.paths=o.paths:U=o,setTimeout(()=>{w(U)},0)}function Dt(o,c,f,p,b){U===null&&(U={paths:[]}),U.type=o,U.immediate=c,U.multiple=f,U.formElement=p,U.target=b}function Tt(){return(U==null?void 0:U.paths)??[]}function or(){U=null}const ee={defaultMessage:"Leave page? Changes that you made may not be saved.",state:je(),message:t.taintedMessage,clean:Te(r.data),forceRedirection:!1};function se(){return t.taintedMessage&&!i.submitting&&!ee.forceRedirection&&tt()}function Ce(o){if(!se())return;o.preventDefault(),o.returnValue="";const{taintedMessage:c}=t,p=typeof c=="function"||c===!0?ee.defaultMessage:c;return(o||window.event).returnValue=p||ee.defaultMessage,p}async function $e(o){if(!se())return;const{taintedMessage:c}=t,f=typeof c=="function";if(f&&o.cancel(),o.type==="leave")return;const p=f||c===!0?ee.defaultMessage:c;let b;try{b=f?await c(o):window.confirm(p||ee.defaultMessage)}catch{b=!1}if(b&&o.to)try{ee.forceRedirection=!0,await Ba(o.to.url,{...o.to.params});return}finally{ee.forceRedirection=!1}else!b&&!f&&o.cancel()}function Pe(){t.taintedMessage=ee.message}function et(){return ee.state}function At(o){if(!i.tainted)return!1;if(!o)return!!i.tainted;const c=We(i.tainted,_t(o));return!!c&&c.key in c.parent}function tt(o){if(!arguments.length)return ft(i.tainted);if(typeof o=="boolean")return o;if(typeof o=="object")return ft(o);if(!i.tainted||o===void 0)return!1;const c=We(i.tainted,_t(o));return ft(c==null?void 0:c.value)}function ft(o){if(!o)return!1;if(typeof o=="object"){for(const c of Object.values(o))if(ft(c))return!0}return o===!0}function St(o,c){if(c=="ignore")return;const f=zr(o,i.form),p=zr(o,ee.clean).map(b=>b.join());f.length&&(ee.state.update(b=>(b||(b={}),Fe(b,f,(A,we)=>{if(!p.includes(A.join()))return;const He=Ve(o,A),st=Ve(ee.clean,A);return He&&st&&He.value===st.value?void 0:c===!0?!0:c==="untaint"?void 0:we.value}),b)),ir({paths:f})),(c=="untaint-all"||c=="untaint-form")&&ee.state.set(void 0)}function zt(o,c){ee.state.set(o),c&&(ee.clean=c)}const Et=je(!1),Ze=je(!1),Oe=je(!1),de=[ee.state.subscribe(o=>n.tainted=Te(o)),m.subscribe(o=>n.form=Te(o)),G.subscribe(o=>n.errors=Te(o)),u.subscribe(o=>n.formId=o),ye.subscribe(o=>n.constraints=o),ge.subscribe(o=>n.posted=o),_e.subscribe(o=>n.message=o),Et.subscribe(o=>n.submitting=o),be.subscribe(o=>n.shape=o)];function rt(o){de.push(o)}function Ut(){de.forEach(o=>o())}let le;function at(){return le}function ur(o){le=document.createElement("form"),le.method="POST",le.action=o,X(le),document.body.appendChild(le)}function Bt(o){le&&(le.action=o)}function cr(){le!=null&&le.parentElement&&le.remove(),le=void 0}const dr=$r(G,o=>o?vs(o):[]);t.taintedMessage=void 0;function ht(o){const c=o.form,f=o.message??c.message;if((o.untaint||o.resetted)&&zt(typeof o.untaint=="boolean"?void 0:o.untaint,c.data),o.pessimisticUpdate||me(c.data,{taint:"ignore",keepFiles:o.keepFiles}),_e.set(f),o.resetted?G.update(()=>({}),{force:!0}):G.set(c.errors),u.set(c.id),ge.set(o.posted??c.posted),c.constraints&&ye.set(c.constraints),c.shape&&be.set(c.shape),n.valid=c.valid,t.flashMessage&&Ar(t)){const p=t.flashMessage.module.getFlash(Nt);f&&Ot(p)===void 0&&p.set(f)}}const fe={onSubmit:t.onSubmit?[t.onSubmit]:[],onResult:t.onResult?[t.onResult]:[],onUpdate:t.onUpdate?[t.onUpdate]:[],onUpdated:t.onUpdated?[t.onUpdated]:[],onError:t.onError?[t.onError]:[]};window.addEventListener("beforeunload",Ce),Kt(()=>{window.removeEventListener("beforeunload",Ce)}),Ua($e),rt(Nt.subscribe(async o=>{gt&&o===void 0&&(o={status:200});const c=o.status>=200&&o.status<300;if(t.applyAction&&o.form&&typeof o.form=="object"){const f=o.form;if(f.type==="error")return;for(const p of l(f)){const b=yt.has(p);p.id!==i.formId||b||(yt.set(p,p),await H(p,c))}}else if(t.applyAction!=="never"&&o.data&&typeof o.data=="object")for(const f of l(o.data)){const p=yt.has(f);if(f.id!==i.formId||p)continue;(t.invalidateAll==="force"||t.invalidateAll==="pessimistic")&&(a.data=f.data);const b=F(f.valid,!0);ht({form:f,untaint:c,keepFiles:!b,resetted:b})}})),typeof t.SPA=="string"&&ur(t.SPA);function X(o,c){if(t.SPA!==void 0&&o.method=="get"&&(o.method="post"),typeof t.SPA=="string"?t.SPA.length&&o.action==document.location.href&&(o.action=t.SPA):le=o,c){if(c.onError){if(t.onError==="apply")throw new ie('options.onError is set to "apply", cannot add any onError events.');if(c.onError==="apply")throw new ie('Cannot add "apply" as onError event in use:enhance.');fe.onError.push(c.onError)}c.onResult&&fe.onResult.push(c.onResult),c.onSubmit&&fe.onSubmit.push(c.onSubmit),c.onUpdate&&fe.onUpdate.push(c.onUpdate),c.onUpdated&&fe.onUpdated.push(c.onUpdated)}Pe();let f;async function p(ne){const te=Hr(ne.target);te.immediate&&!te.file&&await new Promise(W=>setTimeout(W,0)),f=Tt(),Dt("input",te.immediate,te.multiple,o,ne.target??void 0)}async function b(ne){if(i.submitting||!f||Tt()!=f)return;const te=Hr(ne.target);te.immediate&&!te.file&&await new Promise(W=>setTimeout(W,0)),f!==void 0&&(w({paths:f,immediate:te.multiple,multiple:te.multiple,type:"blur",formElement:o,target:ne.target??void 0}),f=void 0)}o.addEventListener("focusout",b),o.addEventListener("input",p),Kt(()=>{o.removeEventListener("focusout",b),o.removeEventListener("input",p)});const A=As(o,{submitting:Et,delayed:Ze,timeout:Oe},t);let we,He;const st=_s(o,async ne=>{let te,W=t.validators;const re={...ne,jsonData(E){if(t.dataType!=="json")throw new ie("options.dataType must be set to 'json' to use jsonData.");te=E},validators(E){W=E},customRequest(E){He=E}},mt=re.cancel;let ke=!1;function lr(E){const S={...E,posted:!0},M=S.valid?200:z(400),ae={form:S},J=S.valid?{type:"success",status:M,data:ae}:{type:"failure",status:M,data:ae};setTimeout(()=>it({result:J}),0)}function qt(){switch(t.clearOnSubmit){case"errors-and-message":G.clear(),_e.set(void 0);break;case"errors":G.clear();break;case"message":_e.set(void 0);break}}async function nt(E,S){var M;if(E.status=S,t.onError!=="apply"){const ae={result:E,message:_e,form:r};for(const J of fe.onError)J!=="apply"&&(J!=wa||!((M=t.flashMessage)!=null&&M.onError))&&await J(ae)}t.flashMessage&&t.flashMessage.onError&&await t.flashMessage.onError({result:E,flashMessage:t.flashMessage.module.getFlash(Nt)}),t.applyAction&&(t.onError=="apply"?await Jt(E):await Jt({type:"failure",status:z(E.status),data:E}))}function De(E={resetTimers:!0}){return ke=!0,E.resetTimers&&A.isSubmitting()&&A.completed({cancelled:ke}),mt()}if(re.cancel=De,A.isSubmitting()&&t.multipleSubmits=="prevent")De({resetTimers:!1});else{A.isSubmitting()&&t.multipleSubmits=="abort"&&we&&we.abort(),A.submitting(),we=re.controller;for(const E of fe.onSubmit)try{await E(re)}catch(S){De(),nt({type:"error",error:S},500)}}if(ke&&t.flashMessage&&Br(t),!ke){const E=!P()&&(o.noValidate||(re.submitter instanceof HTMLButtonElement||re.submitter instanceof HTMLInputElement)&&re.submitter.formNoValidate);let S;const M=async()=>await N({adapter:W});if(qt(),E||(S=await M(),S.valid||(De({resetTimers:!1}),lr(S))),!ke){t.flashMessage&&(t.clearOnSubmit=="errors-and-message"||t.clearOnSubmit=="message")&&Ar(t)&&t.flashMessage.module.getFlash(Nt).set(void 0);const ae="formData"in re?re.formData:re.data;if(f=void 0,P())S||(S=await M()),De({resetTimers:!1}),lr(S);else if(t.dataType==="json"){S||(S=await M());const J=Te(te??S.data);Ue(J,j=>{if(j.value instanceof File){const Q="__superform_file_"+It(j.path);return ae.append(Q,j.value),j.set(void 0)}else if(Array.isArray(j.value)&&j.value.length&&j.value.every(Q=>Q instanceof File)){const Q="__superform_files_"+It(j.path);for(const Ne of j.value)ae.append(Q,Ne);return j.set(void 0)}}),Object.keys(J).forEach(j=>{typeof ae.get(j)=="string"&&ae.delete(j)});const ot=t.transport?Object.fromEntries(Object.entries(t.transport).map(([j,Q])=>[j,Q.encode])):void 0,Ht=ve(as(J,ot),t.jsonChunkSize??5e5);for(const j of Ht)ae.append("__superform_json",j)}if(!ae.has("__superform_id")){const J=i.formId;J!==void 0&&ae.set("__superform_id",J)}typeof t.SPA=="string"&&Bt(t.SPA)}}function ve(E,S){const M=Math.ceil(E.length/S),ae=new Array(M);for(let J=0,ot=0;J<M;++J,ot+=S)ae[J]=E.substring(ot,ot+S);return ae}async function it(E){let S=!1;we=null;let M="type"in E.result&&"status"in E.result?E.result:{type:"error",status:z(parseInt(String(E.result.status))||500),error:E.result.error instanceof Error?E.result.error:E.result};const ae=()=>S=!0,J={result:M,formEl:o,formElement:o,cancel:ae},ot=gt||!P()?()=>{}:Lr.subscribe(j=>{var Q,Ne;!j||((Q=j.from)==null?void 0:Q.route.id)===((Ne=j.to)==null?void 0:Ne.route.id)||ae()});function Ht(j,Q,Ne){Q.result={type:"error",error:j,status:z(Ne)}}for(const j of fe.onResult)try{await j(J)}catch(Q){Ht(Q,J,Math.max(M.status??500,400))}if(M=J.result,!S){if((M.type==="success"||M.type==="failure")&&M.data){const j=l(M.data);if(!j.length)throw new ie("No form data returned from ActionResult. Make sure you return { form } in the form actions.");for(const Q of j){if(Q.id!==i.formId)continue;const Ne={form:Q,formEl:o,formElement:o,cancel:()=>S=!0,result:M};for(const fr of fe.onUpdate)try{await fr(Ne)}catch(Ea){Ht(Ea,Ne,Math.max(M.status??500,400))}M=Ne.result,S||(t.customValidity&&bs(o,Ne.form.errors),F(Ne.form.valid,M.type=="success")&&Ne.formElement.querySelectorAll('input[type="file"]').forEach(fr=>fr.value=""))}}S||(M.type!=="error"?(M.type==="success"&&t.invalidateAll&&await ya(),t.applyAction?await Jt(M):await Se(M)):await nt(M,Math.max(M.status??500,400)))}if(S&&t.flashMessage&&Br(t),S||M.type!="redirect")A.completed({cancelled:S});else if(gt)A.completed({cancelled:S,clearAll:!0});else{const j=Lr.subscribe(Q=>{Q||(setTimeout(()=>{try{j&&j()}catch{}}),A.isSubmitting()&&A.completed({cancelled:S,clearAll:!0}))})}ot()}if(!ke&&He){mt();const E=await He(ne);let S;E instanceof Response?S=Sr(await E.text()):E instanceof XMLHttpRequest?S=Sr(E.responseText):S=E,S.type==="error"&&(S.status=E.status),it({result:S})}return it});return{destroy:()=>{for(const[ne,te]of Object.entries(fe))fe[ne]=te.filter(W=>W===t[ne]);st.destroy()}}}function Ie(o){const c=[];if(Ue(o,p=>{if(p.value instanceof File)return c.push(p.path),"skip";if(Array.isArray(p.value)&&p.value.length&&p.value.every(b=>b instanceof File))return c.push(p.path),"skip"}),!c.length)return{data:o,paths:c};const f=Te(o);return Fe(f,c,p=>{var b;return(b=We(a.data,p))==null?void 0:b.value}),{data:f,paths:c}}return{form:m,formId:u,errors:G,message:_e,constraints:ye,tainted:et(),submitting:hr(Et),delayed:hr(Ze),timeout:hr(Oe),options:t,capture:q,restore:o=>{ht({form:o,untaint:o.tainted??!0})},async validate(o,c={}){if(!t.validators)throw new ie("options.validators must be set to use the validate method.");c.update===void 0&&(c.update=!0),c.taint===void 0&&(c.taint=!1),typeof c.errors=="string"&&(c.errors=[c.errors]);let f;const p=_t(o);"value"in c?c.update===!0||c.update==="value"?(m.update(we=>(Fe(we,[p],c.value),we),{taint:c.taint}),f=i.form):(f=Te(i.form),Fe(f,[p],c.value)):f=i.form;const b=await N({formData:f}),A=We(b.errors,p);return A&&A.value&&c.errors&&(A.value=c.errors),(c.update===!0||c.update=="errors")&&G.update(we=>(Fe(we,[p],A==null?void 0:A.value),we)),A==null?void 0:A.value},async validateForm(o={}){if(!t.validators&&!o.schema)throw new ie("options.validators or the schema option must be set to use the validateForm method.");const c=o.update?await w({paths:[]},!0,o.schema):N({adapter:o.schema}),f=at();return o.update&&f&&setTimeout(()=>{f&&Er(f,{...t,scrollToError:o.focusOnError===!1?"off":t.scrollToError})},1),c||N({adapter:o.schema})},allErrors:dr,posted:ge,reset(o){return pe({message:o!=null&&o.keepMessage?i.message:void 0,data:o==null?void 0:o.data,id:o==null?void 0:o.id,newState:o==null?void 0:o.newState})},submit(o){const c=at()?at():o&&o instanceof HTMLElement?o.closest("form"):void 0;if(!c)throw new ie("use:enhance must be added to the form to use submit, or pass a HTMLElement inside the form (or the form itself) as an argument.");if(!c.requestSubmit)return c.submit();const f=o&&(o instanceof HTMLButtonElement&&o.type=="submit"||o instanceof HTMLInputElement&&["submit","image"].includes(o.type));c.requestSubmit(f?o:void 0)},isTainted:tt,enhance:X}}let Rs=!1;try{SUPERFORMS_LEGACY&&(Rs=!0)}catch{}var vr,Wr;function Is(){if(Wr)return vr;Wr=1;function r(a){return typeof a!="object"&&typeof a!="function"||a===null}function e(){this.childBranches=new WeakMap,this.primitiveKeys=new Map,this.hasValue=!1,this.value=void 0}return e.prototype.has=function(t){var s=r(t)?this.primitiveKeys.get(t):t;return s?this.childBranches.has(s):!1},e.prototype.get=function(t){var s=r(t)?this.primitiveKeys.get(t):t;return s?this.childBranches.get(s):void 0},e.prototype.resolveBranch=function(t){if(this.has(t))return this.get(t);var s=new e,n=this.createKey(t);return this.childBranches.set(n,s),s},e.prototype.setValue=function(t){return this.hasValue=!0,this.value=t},e.prototype.createKey=function(t){if(r(t)){var s={};return this.primitiveKeys.set(t,s),s}return t},e.prototype.clear=function(){if(arguments.length===0)this.childBranches=new WeakMap,this.primitiveKeys.clear(),this.hasValue=!1,this.value=void 0;else if(arguments.length===1){var t=arguments[0];if(r(t)){var s=this.primitiveKeys.get(t);s&&(this.childBranches.delete(s),this.primitiveKeys.delete(t))}else this.childBranches.delete(t)}else{var n=arguments[0];if(this.has(n)){var i=this.get(n);i.clear.apply(i,Array.prototype.slice.call(arguments,1))}}},vr=function(t){var s=new e;function n(){var i=Array.prototype.slice.call(arguments),u=i.reduce(function(y,m){return y.resolveBranch(m)},s);if(u.hasValue)return u.value;var l=t.apply(null,i);return u.setValue(l)}return n.clear=s.clear.bind(s),n},vr}var _r,Yr;function Ms(){return Yr||(Yr=1,_r=Is()),_r}var js=Ms();const $s=qa(js),Ps=$s;var I;(function(r){r.assertEqual=s=>{};function e(s){}r.assertIs=e;function a(s){throw new Error}r.assertNever=a,r.arrayToEnum=s=>{const n={};for(const i of s)n[i]=i;return n},r.getValidEnumValues=s=>{const n=r.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),i={};for(const u of n)i[u]=s[u];return r.objectValues(i)},r.objectValues=s=>r.objectKeys(s).map(function(n){return s[n]}),r.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const n=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&n.push(i);return n},r.find=(s,n)=>{for(const i of s)if(n(i))return i},r.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function t(s,n=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(n)}r.joinValues=t,r.jsonStringifyReplacer=(s,n)=>typeof n=="bigint"?n.toString():n})(I||(I={}));var Jr;(function(r){r.mergeShapes=(e,a)=>({...e,...a})})(Jr||(Jr={}));const _=I.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ye=r=>{switch(typeof r){case"undefined":return _.undefined;case"string":return _.string;case"number":return Number.isNaN(r)?_.nan:_.number;case"boolean":return _.boolean;case"function":return _.function;case"bigint":return _.bigint;case"symbol":return _.symbol;case"object":return Array.isArray(r)?_.array:r===null?_.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?_.promise:typeof Map<"u"&&r instanceof Map?_.map:typeof Set<"u"&&r instanceof Set?_.set:typeof Date<"u"&&r instanceof Date?_.date:_.object;default:return _.unknown}},h=I.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class qe extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=t=>{this.issues=[...this.issues,t]},this.addIssues=(t=[])=>{this.issues=[...this.issues,...t]};const a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=e}format(e){const a=e||function(n){return n.message},t={_errors:[]},s=n=>{for(const i of n.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)t._errors.push(a(i));else{let u=t,l=0;for(;l<i.path.length;){const d=i.path[l];l===i.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(a(i))):u[d]=u[d]||{_errors:[]},u=u[d],l++}}};return s(this),t}static assert(e){if(!(e instanceof qe))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,I.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=a=>a.message){const a={},t=[];for(const s of this.issues)s.path.length>0?(a[s.path[0]]=a[s.path[0]]||[],a[s.path[0]].push(e(s))):t.push(e(s));return{formErrors:t,fieldErrors:a}}get formErrors(){return this.flatten()}}qe.create=r=>new qe(r);const Or=(r,e)=>{let a;switch(r.code){case h.invalid_type:r.received===_.undefined?a="Required":a=`Expected ${r.expected}, received ${r.received}`;break;case h.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(r.expected,I.jsonStringifyReplacer)}`;break;case h.unrecognized_keys:a=`Unrecognized key(s) in object: ${I.joinValues(r.keys,", ")}`;break;case h.invalid_union:a="Invalid input";break;case h.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${I.joinValues(r.options)}`;break;case h.invalid_enum_value:a=`Invalid enum value. Expected ${I.joinValues(r.options)}, received '${r.received}'`;break;case h.invalid_arguments:a="Invalid function arguments";break;case h.invalid_return_type:a="Invalid function return type";break;case h.invalid_date:a="Invalid date";break;case h.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(a=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?a=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?a=`Invalid input: must end with "${r.validation.endsWith}"`:I.assertNever(r.validation):r.validation!=="regex"?a=`Invalid ${r.validation}`:a="Invalid";break;case h.too_small:r.type==="array"?a=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?a=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?a=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?a=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:a="Invalid input";break;case h.too_big:r.type==="array"?a=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?a=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?a=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?a=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?a=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:a="Invalid input";break;case h.custom:a="Invalid input";break;case h.invalid_intersection_types:a="Intersection results could not be merged";break;case h.not_multiple_of:a=`Number must be a multiple of ${r.multipleOf}`;break;case h.not_finite:a="Number must be finite";break;default:a=e.defaultError,I.assertNever(r)}return{message:a}};let Zs=Or;function Fs(){return Zs}const Ls=r=>{const{data:e,path:a,errorMaps:t,issueData:s}=r,n=[...a,...s.path||[]],i={...s,path:n};if(s.message!==void 0)return{...s,path:n,message:s.message};let u="";const l=t.filter(d=>!!d).slice().reverse();for(const d of l)u=d(i,{data:e,defaultError:u}).message;return{...s,path:n,message:u}};function g(r,e){const a=Fs(),t=Ls({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,a,a===Or?void 0:Or].filter(s=>!!s)});r.common.issues.push(t)}class Re{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,a){const t=[];for(const s of a){if(s.status==="aborted")return k;s.status==="dirty"&&e.dirty(),t.push(s.value)}return{status:e.value,value:t}}static async mergeObjectAsync(e,a){const t=[];for(const s of a){const n=await s.key,i=await s.value;t.push({key:n,value:i})}return Re.mergeObjectSync(e,t)}static mergeObjectSync(e,a){const t={};for(const s of a){const{key:n,value:i}=s;if(n.status==="aborted"||i.status==="aborted")return k;n.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),n.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(t[n.value]=i.value)}return{status:e.value,value:t}}}const k=Object.freeze({status:"aborted"}),jt=r=>({status:"dirty",value:r}),Me=r=>({status:"valid",value:r}),Kr=r=>r.status==="aborted",Gr=r=>r.status==="dirty",bt=r=>r.status==="valid",er=r=>typeof Promise<"u"&&r instanceof Promise;var x;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(x||(x={}));class Xe{constructor(e,a,t,s){this._cachedPath=[],this.parent=e,this.data=a,this._path=t,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Xr=(r,e)=>{if(bt(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const a=new qe(r.common.issues);return this._error=a,this._error}}};function C(r){if(!r)return{};const{errorMap:e,invalid_type_error:a,required_error:t,description:s}=r;if(e&&(a||t))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(i,u)=>{const{message:l}=r;return i.code==="invalid_enum_value"?{message:l??u.defaultError}:typeof u.data>"u"?{message:l??t??u.defaultError}:i.code!=="invalid_type"?{message:u.defaultError}:{message:l??a??u.defaultError}},description:s}}class R{get description(){return this._def.description}_getType(e){return Ye(e.data)}_getOrReturnCtx(e,a){return a||{common:e.parent.common,data:e.data,parsedType:Ye(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Re,ctx:{common:e.parent.common,data:e.data,parsedType:Ye(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const a=this._parse(e);if(er(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(e){const a=this._parse(e);return Promise.resolve(a)}parse(e,a){const t=this.safeParse(e,a);if(t.success)return t.data;throw t.error}safeParse(e,a){const t={common:{issues:[],async:(a==null?void 0:a.async)??!1,contextualErrorMap:a==null?void 0:a.errorMap},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ye(e)},s=this._parseSync({data:e,path:t.path,parent:t});return Xr(t,s)}"~validate"(e){var t,s;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ye(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:a});return bt(n)?{value:n.value}:{issues:a.common.issues}}catch(n){(s=(t=n==null?void 0:n.message)==null?void 0:t.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(n=>bt(n)?{value:n.value}:{issues:a.common.issues})}async parseAsync(e,a){const t=await this.safeParseAsync(e,a);if(t.success)return t.data;throw t.error}async safeParseAsync(e,a){const t={common:{issues:[],contextualErrorMap:a==null?void 0:a.errorMap,async:!0},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ye(e)},s=this._parse({data:e,path:t.path,parent:t}),n=await(er(s)?s:Promise.resolve(s));return Xr(t,n)}refine(e,a){const t=s=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(s):a;return this._refinement((s,n)=>{const i=e(s),u=()=>n.addIssue({code:h.custom,...t(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(u(),!1)):i?!0:(u(),!1)})}refinement(e,a){return this._refinement((t,s)=>e(t)?!0:(s.addIssue(typeof a=="function"?a(t,s):a),!1))}_refinement(e){return new wt({schema:this,typeName:T.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return Ge.create(this,this._def)}nullable(){return kt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Le.create(this)}promise(){return sr.create(this,this._def)}or(e){return rr.create([this,e],this._def)}and(e){return ar.create(this,e,this._def)}transform(e){return new wt({...C(this._def),schema:this,typeName:T.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const a=typeof e=="function"?e:()=>e;return new Rr({...C(this._def),innerType:this,defaultValue:a,typeName:T.ZodDefault})}brand(){return new cn({typeName:T.ZodBranded,type:this,...C(this._def)})}catch(e){const a=typeof e=="function"?e:()=>e;return new Ir({...C(this._def),innerType:this,catchValue:a,typeName:T.ZodCatch})}describe(e){const a=this.constructor;return new a({...this._def,description:e})}pipe(e){return Pr.create(this,e)}readonly(){return Mr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Vs=/^c[^\s-]{8,}$/i,Ds=/^[0-9a-z]+$/,zs=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Us=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Bs=/^[a-z0-9_-]{21}$/i,qs=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Hs=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ws=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ys="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let br;const Js=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ks=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Gs=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Xs=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Qs=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,en=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ta="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",tn=new RegExp(`^${Ta}$`);function Aa(r){let e="[0-5]\\d";r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`);const a=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${a}`}function rn(r){return new RegExp(`^${Aa(r)}$`)}function an(r){let e=`${Ta}T${Aa(r)}`;const a=[];return a.push(r.local?"Z?":"Z"),r.offset&&a.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${a.join("|")})`,new RegExp(`^${e}$`)}function sn(r,e){return!!((e==="v4"||!e)&&Js.test(r)||(e==="v6"||!e)&&Gs.test(r))}function nn(r,e){if(!qs.test(r))return!1;try{const[a]=r.split("."),t=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),s=JSON.parse(atob(t));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function on(r,e){return!!((e==="v4"||!e)&&Ks.test(r)||(e==="v6"||!e)&&Xs.test(r))}class Ke extends R{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_.string){const n=this._getOrReturnCtx(e);return g(n,{code:h.invalid_type,expected:_.string,received:n.parsedType}),k}const t=new Re;let s;for(const n of this._def.checks)if(n.kind==="min")e.data.length<n.value&&(s=this._getOrReturnCtx(e,s),g(s,{code:h.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),t.dirty());else if(n.kind==="max")e.data.length>n.value&&(s=this._getOrReturnCtx(e,s),g(s,{code:h.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),t.dirty());else if(n.kind==="length"){const i=e.data.length>n.value,u=e.data.length<n.value;(i||u)&&(s=this._getOrReturnCtx(e,s),i?g(s,{code:h.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):u&&g(s,{code:h.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),t.dirty())}else if(n.kind==="email")Ws.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"email",code:h.invalid_string,message:n.message}),t.dirty());else if(n.kind==="emoji")br||(br=new RegExp(Ys,"u")),br.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"emoji",code:h.invalid_string,message:n.message}),t.dirty());else if(n.kind==="uuid")Us.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"uuid",code:h.invalid_string,message:n.message}),t.dirty());else if(n.kind==="nanoid")Bs.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"nanoid",code:h.invalid_string,message:n.message}),t.dirty());else if(n.kind==="cuid")Vs.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"cuid",code:h.invalid_string,message:n.message}),t.dirty());else if(n.kind==="cuid2")Ds.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"cuid2",code:h.invalid_string,message:n.message}),t.dirty());else if(n.kind==="ulid")zs.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"ulid",code:h.invalid_string,message:n.message}),t.dirty());else if(n.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),g(s,{validation:"url",code:h.invalid_string,message:n.message}),t.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"regex",code:h.invalid_string,message:n.message}),t.dirty())):n.kind==="trim"?e.data=e.data.trim():n.kind==="includes"?e.data.includes(n.value,n.position)||(s=this._getOrReturnCtx(e,s),g(s,{code:h.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),t.dirty()):n.kind==="toLowerCase"?e.data=e.data.toLowerCase():n.kind==="toUpperCase"?e.data=e.data.toUpperCase():n.kind==="startsWith"?e.data.startsWith(n.value)||(s=this._getOrReturnCtx(e,s),g(s,{code:h.invalid_string,validation:{startsWith:n.value},message:n.message}),t.dirty()):n.kind==="endsWith"?e.data.endsWith(n.value)||(s=this._getOrReturnCtx(e,s),g(s,{code:h.invalid_string,validation:{endsWith:n.value},message:n.message}),t.dirty()):n.kind==="datetime"?an(n).test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{code:h.invalid_string,validation:"datetime",message:n.message}),t.dirty()):n.kind==="date"?tn.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{code:h.invalid_string,validation:"date",message:n.message}),t.dirty()):n.kind==="time"?rn(n).test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{code:h.invalid_string,validation:"time",message:n.message}),t.dirty()):n.kind==="duration"?Hs.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"duration",code:h.invalid_string,message:n.message}),t.dirty()):n.kind==="ip"?sn(e.data,n.version)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"ip",code:h.invalid_string,message:n.message}),t.dirty()):n.kind==="jwt"?nn(e.data,n.alg)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"jwt",code:h.invalid_string,message:n.message}),t.dirty()):n.kind==="cidr"?on(e.data,n.version)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"cidr",code:h.invalid_string,message:n.message}),t.dirty()):n.kind==="base64"?Qs.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"base64",code:h.invalid_string,message:n.message}),t.dirty()):n.kind==="base64url"?en.test(e.data)||(s=this._getOrReturnCtx(e,s),g(s,{validation:"base64url",code:h.invalid_string,message:n.message}),t.dirty()):I.assertNever(n);return{status:t.value,value:e.data}}_regex(e,a,t){return this.refinement(s=>e.test(s),{validation:a,code:h.invalid_string,...x.errToObj(t)})}_addCheck(e){return new Ke({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...x.errToObj(e)})}url(e){return this._addCheck({kind:"url",...x.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...x.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...x.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...x.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...x.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...x.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...x.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...x.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...x.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...x.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...x.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...x.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...x.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...x.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...x.errToObj(e)})}regex(e,a){return this._addCheck({kind:"regex",regex:e,...x.errToObj(a)})}includes(e,a){return this._addCheck({kind:"includes",value:e,position:a==null?void 0:a.position,...x.errToObj(a==null?void 0:a.message)})}startsWith(e,a){return this._addCheck({kind:"startsWith",value:e,...x.errToObj(a)})}endsWith(e,a){return this._addCheck({kind:"endsWith",value:e,...x.errToObj(a)})}min(e,a){return this._addCheck({kind:"min",value:e,...x.errToObj(a)})}max(e,a){return this._addCheck({kind:"max",value:e,...x.errToObj(a)})}length(e,a){return this._addCheck({kind:"length",value:e,...x.errToObj(a)})}nonempty(e){return this.min(1,x.errToObj(e))}trim(){return new Ke({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ke({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ke({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxLength(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}}Ke.create=r=>new Ke({checks:[],typeName:T.ZodString,coerce:(r==null?void 0:r.coerce)??!1,...C(r)});function un(r,e){const a=(r.toString().split(".")[1]||"").length,t=(e.toString().split(".")[1]||"").length,s=a>t?a:t,n=Number.parseInt(r.toFixed(s).replace(".","")),i=Number.parseInt(e.toFixed(s).replace(".",""));return n%i/10**s}class Pt extends R{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_.number){const n=this._getOrReturnCtx(e);return g(n,{code:h.invalid_type,expected:_.number,received:n.parsedType}),k}let t;const s=new Re;for(const n of this._def.checks)n.kind==="int"?I.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),g(t,{code:h.invalid_type,expected:"integer",received:"float",message:n.message}),s.dirty()):n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),g(t,{code:h.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),s.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),g(t,{code:h.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),s.dirty()):n.kind==="multipleOf"?un(e.data,n.value)!==0&&(t=this._getOrReturnCtx(e,t),g(t,{code:h.not_multiple_of,multipleOf:n.value,message:n.message}),s.dirty()):n.kind==="finite"?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),g(t,{code:h.not_finite,message:n.message}),s.dirty()):I.assertNever(n);return{status:s.value,value:e.data}}gte(e,a){return this.setLimit("min",e,!0,x.toString(a))}gt(e,a){return this.setLimit("min",e,!1,x.toString(a))}lte(e,a){return this.setLimit("max",e,!0,x.toString(a))}lt(e,a){return this.setLimit("max",e,!1,x.toString(a))}setLimit(e,a,t,s){return new Pt({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:t,message:x.toString(s)}]})}_addCheck(e){return new Pt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:x.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:x.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(a)})}finite(e){return this._addCheck({kind:"finite",message:x.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:x.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:x.toString(e)})}get minValue(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&I.isInteger(e.value))}get isFinite(){let e=null,a=null;for(const t of this._def.checks){if(t.kind==="finite"||t.kind==="int"||t.kind==="multipleOf")return!0;t.kind==="min"?(a===null||t.value>a)&&(a=t.value):t.kind==="max"&&(e===null||t.value<e)&&(e=t.value)}return Number.isFinite(a)&&Number.isFinite(e)}}Pt.create=r=>new Pt({checks:[],typeName:T.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...C(r)});class Zt extends R{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==_.bigint)return this._getInvalidInput(e);let t;const s=new Re;for(const n of this._def.checks)n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),g(t,{code:h.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),s.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),g(t,{code:h.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),s.dirty()):n.kind==="multipleOf"?e.data%n.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),g(t,{code:h.not_multiple_of,multipleOf:n.value,message:n.message}),s.dirty()):I.assertNever(n);return{status:s.value,value:e.data}}_getInvalidInput(e){const a=this._getOrReturnCtx(e);return g(a,{code:h.invalid_type,expected:_.bigint,received:a.parsedType}),k}gte(e,a){return this.setLimit("min",e,!0,x.toString(a))}gt(e,a){return this.setLimit("min",e,!1,x.toString(a))}lte(e,a){return this.setLimit("max",e,!0,x.toString(a))}lt(e,a){return this.setLimit("max",e,!1,x.toString(a))}setLimit(e,a,t,s){return new Zt({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:t,message:x.toString(s)}]})}_addCheck(e){return new Zt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:x.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(a)})}get minValue(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}}Zt.create=r=>new Zt({checks:[],typeName:T.ZodBigInt,coerce:(r==null?void 0:r.coerce)??!1,...C(r)});class Qr extends R{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==_.boolean){const t=this._getOrReturnCtx(e);return g(t,{code:h.invalid_type,expected:_.boolean,received:t.parsedType}),k}return Me(e.data)}}Qr.create=r=>new Qr({typeName:T.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...C(r)});class tr extends R{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_.date){const n=this._getOrReturnCtx(e);return g(n,{code:h.invalid_type,expected:_.date,received:n.parsedType}),k}if(Number.isNaN(e.data.getTime())){const n=this._getOrReturnCtx(e);return g(n,{code:h.invalid_date}),k}const t=new Re;let s;for(const n of this._def.checks)n.kind==="min"?e.data.getTime()<n.value&&(s=this._getOrReturnCtx(e,s),g(s,{code:h.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),t.dirty()):n.kind==="max"?e.data.getTime()>n.value&&(s=this._getOrReturnCtx(e,s),g(s,{code:h.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),t.dirty()):I.assertNever(n);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new tr({...this._def,checks:[...this._def.checks,e]})}min(e,a){return this._addCheck({kind:"min",value:e.getTime(),message:x.toString(a)})}max(e,a){return this._addCheck({kind:"max",value:e.getTime(),message:x.toString(a)})}get minDate(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e!=null?new Date(e):null}}tr.create=r=>new tr({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:T.ZodDate,...C(r)});class ea extends R{_parse(e){if(this._getType(e)!==_.symbol){const t=this._getOrReturnCtx(e);return g(t,{code:h.invalid_type,expected:_.symbol,received:t.parsedType}),k}return Me(e.data)}}ea.create=r=>new ea({typeName:T.ZodSymbol,...C(r)});class ta extends R{_parse(e){if(this._getType(e)!==_.undefined){const t=this._getOrReturnCtx(e);return g(t,{code:h.invalid_type,expected:_.undefined,received:t.parsedType}),k}return Me(e.data)}}ta.create=r=>new ta({typeName:T.ZodUndefined,...C(r)});class ra extends R{_parse(e){if(this._getType(e)!==_.null){const t=this._getOrReturnCtx(e);return g(t,{code:h.invalid_type,expected:_.null,received:t.parsedType}),k}return Me(e.data)}}ra.create=r=>new ra({typeName:T.ZodNull,...C(r)});class aa extends R{constructor(){super(...arguments),this._any=!0}_parse(e){return Me(e.data)}}aa.create=r=>new aa({typeName:T.ZodAny,...C(r)});class sa extends R{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Me(e.data)}}sa.create=r=>new sa({typeName:T.ZodUnknown,...C(r)});class Qe extends R{_parse(e){const a=this._getOrReturnCtx(e);return g(a,{code:h.invalid_type,expected:_.never,received:a.parsedType}),k}}Qe.create=r=>new Qe({typeName:T.ZodNever,...C(r)});class na extends R{_parse(e){if(this._getType(e)!==_.undefined){const t=this._getOrReturnCtx(e);return g(t,{code:h.invalid_type,expected:_.void,received:t.parsedType}),k}return Me(e.data)}}na.create=r=>new na({typeName:T.ZodVoid,...C(r)});class Le extends R{_parse(e){const{ctx:a,status:t}=this._processInputParams(e),s=this._def;if(a.parsedType!==_.array)return g(a,{code:h.invalid_type,expected:_.array,received:a.parsedType}),k;if(s.exactLength!==null){const i=a.data.length>s.exactLength.value,u=a.data.length<s.exactLength.value;(i||u)&&(g(a,{code:i?h.too_big:h.too_small,minimum:u?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),t.dirty())}if(s.minLength!==null&&a.data.length<s.minLength.value&&(g(a,{code:h.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),t.dirty()),s.maxLength!==null&&a.data.length>s.maxLength.value&&(g(a,{code:h.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),t.dirty()),a.common.async)return Promise.all([...a.data].map((i,u)=>s.type._parseAsync(new Xe(a,i,a.path,u)))).then(i=>Re.mergeArray(t,i));const n=[...a.data].map((i,u)=>s.type._parseSync(new Xe(a,i,a.path,u)));return Re.mergeArray(t,n)}get element(){return this._def.type}min(e,a){return new Le({...this._def,minLength:{value:e,message:x.toString(a)}})}max(e,a){return new Le({...this._def,maxLength:{value:e,message:x.toString(a)}})}length(e,a){return new Le({...this._def,exactLength:{value:e,message:x.toString(a)}})}nonempty(e){return this.min(1,e)}}Le.create=(r,e)=>new Le({type:r,minLength:null,maxLength:null,exactLength:null,typeName:T.ZodArray,...C(e)});function vt(r){if(r instanceof K){const e={};for(const a in r.shape){const t=r.shape[a];e[a]=Ge.create(vt(t))}return new K({...r._def,shape:()=>e})}else return r instanceof Le?new Le({...r._def,type:vt(r.element)}):r instanceof Ge?Ge.create(vt(r.unwrap())):r instanceof kt?kt.create(vt(r.unwrap())):r instanceof lt?lt.create(r.items.map(e=>vt(e))):r}class K extends R{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),a=I.objectKeys(e);return this._cached={shape:e,keys:a},this._cached}_parse(e){if(this._getType(e)!==_.object){const d=this._getOrReturnCtx(e);return g(d,{code:h.invalid_type,expected:_.object,received:d.parsedType}),k}const{status:t,ctx:s}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),u=[];if(!(this._def.catchall instanceof Qe&&this._def.unknownKeys==="strip"))for(const d in s.data)i.includes(d)||u.push(d);const l=[];for(const d of i){const y=n[d],m=s.data[d];l.push({key:{status:"valid",value:d},value:y._parse(new Xe(s,m,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Qe){const d=this._def.unknownKeys;if(d==="passthrough")for(const y of u)l.push({key:{status:"valid",value:y},value:{status:"valid",value:s.data[y]}});else if(d==="strict")u.length>0&&(g(s,{code:h.unrecognized_keys,keys:u}),t.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const y of u){const m=s.data[y];l.push({key:{status:"valid",value:y},value:d._parse(new Xe(s,m,s.path,y)),alwaysSet:y in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const y of l){const m=await y.key,P=await y.value;d.push({key:m,value:P,alwaysSet:y.alwaysSet})}return d}).then(d=>Re.mergeObjectSync(t,d)):Re.mergeObjectSync(t,l)}get shape(){return this._def.shape()}strict(e){return x.errToObj,new K({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(a,t)=>{var n,i;const s=((i=(n=this._def).errorMap)==null?void 0:i.call(n,a,t).message)??t.defaultError;return a.code==="unrecognized_keys"?{message:x.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new K({...this._def,unknownKeys:"strip"})}passthrough(){return new K({...this._def,unknownKeys:"passthrough"})}extend(e){return new K({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new K({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:T.ZodObject})}setKey(e,a){return this.augment({[e]:a})}catchall(e){return new K({...this._def,catchall:e})}pick(e){const a={};for(const t of I.objectKeys(e))e[t]&&this.shape[t]&&(a[t]=this.shape[t]);return new K({...this._def,shape:()=>a})}omit(e){const a={};for(const t of I.objectKeys(this.shape))e[t]||(a[t]=this.shape[t]);return new K({...this._def,shape:()=>a})}deepPartial(){return vt(this)}partial(e){const a={};for(const t of I.objectKeys(this.shape)){const s=this.shape[t];e&&!e[t]?a[t]=s:a[t]=s.optional()}return new K({...this._def,shape:()=>a})}required(e){const a={};for(const t of I.objectKeys(this.shape))if(e&&!e[t])a[t]=this.shape[t];else{let n=this.shape[t];for(;n instanceof Ge;)n=n._def.innerType;a[t]=n}return new K({...this._def,shape:()=>a})}keyof(){return Sa(I.objectKeys(this.shape))}}K.create=(r,e)=>new K({shape:()=>r,unknownKeys:"strip",catchall:Qe.create(),typeName:T.ZodObject,...C(e)});K.strictCreate=(r,e)=>new K({shape:()=>r,unknownKeys:"strict",catchall:Qe.create(),typeName:T.ZodObject,...C(e)});K.lazycreate=(r,e)=>new K({shape:r,unknownKeys:"strip",catchall:Qe.create(),typeName:T.ZodObject,...C(e)});class rr extends R{_parse(e){const{ctx:a}=this._processInputParams(e),t=this._def.options;function s(n){for(const u of n)if(u.result.status==="valid")return u.result;for(const u of n)if(u.result.status==="dirty")return a.common.issues.push(...u.ctx.common.issues),u.result;const i=n.map(u=>new qe(u.ctx.common.issues));return g(a,{code:h.invalid_union,unionErrors:i}),k}if(a.common.async)return Promise.all(t.map(async n=>{const i={...a,common:{...a.common,issues:[]},parent:null};return{result:await n._parseAsync({data:a.data,path:a.path,parent:i}),ctx:i}})).then(s);{let n;const i=[];for(const l of t){const d={...a,common:{...a.common,issues:[]},parent:null},y=l._parseSync({data:a.data,path:a.path,parent:d});if(y.status==="valid")return y;y.status==="dirty"&&!n&&(n={result:y,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(n)return a.common.issues.push(...n.ctx.common.issues),n.result;const u=i.map(l=>new qe(l));return g(a,{code:h.invalid_union,unionErrors:u}),k}}get options(){return this._def.options}}rr.create=(r,e)=>new rr({options:r,typeName:T.ZodUnion,...C(e)});function Nr(r,e){const a=Ye(r),t=Ye(e);if(r===e)return{valid:!0,data:r};if(a===_.object&&t===_.object){const s=I.objectKeys(e),n=I.objectKeys(r).filter(u=>s.indexOf(u)!==-1),i={...r,...e};for(const u of n){const l=Nr(r[u],e[u]);if(!l.valid)return{valid:!1};i[u]=l.data}return{valid:!0,data:i}}else if(a===_.array&&t===_.array){if(r.length!==e.length)return{valid:!1};const s=[];for(let n=0;n<r.length;n++){const i=r[n],u=e[n],l=Nr(i,u);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return a===_.date&&t===_.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class ar extends R{_parse(e){const{status:a,ctx:t}=this._processInputParams(e),s=(n,i)=>{if(Kr(n)||Kr(i))return k;const u=Nr(n.value,i.value);return u.valid?((Gr(n)||Gr(i))&&a.dirty(),{status:a.value,value:u.data}):(g(t,{code:h.invalid_intersection_types}),k)};return t.common.async?Promise.all([this._def.left._parseAsync({data:t.data,path:t.path,parent:t}),this._def.right._parseAsync({data:t.data,path:t.path,parent:t})]).then(([n,i])=>s(n,i)):s(this._def.left._parseSync({data:t.data,path:t.path,parent:t}),this._def.right._parseSync({data:t.data,path:t.path,parent:t}))}}ar.create=(r,e,a)=>new ar({left:r,right:e,typeName:T.ZodIntersection,...C(a)});class lt extends R{_parse(e){const{status:a,ctx:t}=this._processInputParams(e);if(t.parsedType!==_.array)return g(t,{code:h.invalid_type,expected:_.array,received:t.parsedType}),k;if(t.data.length<this._def.items.length)return g(t,{code:h.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),k;!this._def.rest&&t.data.length>this._def.items.length&&(g(t,{code:h.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.dirty());const n=[...t.data].map((i,u)=>{const l=this._def.items[u]||this._def.rest;return l?l._parse(new Xe(t,i,t.path,u)):null}).filter(i=>!!i);return t.common.async?Promise.all(n).then(i=>Re.mergeArray(a,i)):Re.mergeArray(a,n)}get items(){return this._def.items}rest(e){return new lt({...this._def,rest:e})}}lt.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new lt({items:r,typeName:T.ZodTuple,rest:null,...C(e)})};class ia extends R{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:a,ctx:t}=this._processInputParams(e);if(t.parsedType!==_.map)return g(t,{code:h.invalid_type,expected:_.map,received:t.parsedType}),k;const s=this._def.keyType,n=this._def.valueType,i=[...t.data.entries()].map(([u,l],d)=>({key:s._parse(new Xe(t,u,t.path,[d,"key"])),value:n._parse(new Xe(t,l,t.path,[d,"value"]))}));if(t.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const l of i){const d=await l.key,y=await l.value;if(d.status==="aborted"||y.status==="aborted")return k;(d.status==="dirty"||y.status==="dirty")&&a.dirty(),u.set(d.value,y.value)}return{status:a.value,value:u}})}else{const u=new Map;for(const l of i){const d=l.key,y=l.value;if(d.status==="aborted"||y.status==="aborted")return k;(d.status==="dirty"||y.status==="dirty")&&a.dirty(),u.set(d.value,y.value)}return{status:a.value,value:u}}}}ia.create=(r,e,a)=>new ia({valueType:e,keyType:r,typeName:T.ZodMap,...C(a)});class Ft extends R{_parse(e){const{status:a,ctx:t}=this._processInputParams(e);if(t.parsedType!==_.set)return g(t,{code:h.invalid_type,expected:_.set,received:t.parsedType}),k;const s=this._def;s.minSize!==null&&t.data.size<s.minSize.value&&(g(t,{code:h.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),a.dirty()),s.maxSize!==null&&t.data.size>s.maxSize.value&&(g(t,{code:h.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),a.dirty());const n=this._def.valueType;function i(l){const d=new Set;for(const y of l){if(y.status==="aborted")return k;y.status==="dirty"&&a.dirty(),d.add(y.value)}return{status:a.value,value:d}}const u=[...t.data.values()].map((l,d)=>n._parse(new Xe(t,l,t.path,d)));return t.common.async?Promise.all(u).then(l=>i(l)):i(u)}min(e,a){return new Ft({...this._def,minSize:{value:e,message:x.toString(a)}})}max(e,a){return new Ft({...this._def,maxSize:{value:e,message:x.toString(a)}})}size(e,a){return this.min(e,a).max(e,a)}nonempty(e){return this.min(1,e)}}Ft.create=(r,e)=>new Ft({valueType:r,minSize:null,maxSize:null,typeName:T.ZodSet,...C(e)});class oa extends R{get schema(){return this._def.getter()}_parse(e){const{ctx:a}=this._processInputParams(e);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}}oa.create=(r,e)=>new oa({getter:r,typeName:T.ZodLazy,...C(e)});class ua extends R{_parse(e){if(e.data!==this._def.value){const a=this._getOrReturnCtx(e);return g(a,{received:a.data,code:h.invalid_literal,expected:this._def.value}),k}return{status:"valid",value:e.data}}get value(){return this._def.value}}ua.create=(r,e)=>new ua({value:r,typeName:T.ZodLiteral,...C(e)});function Sa(r,e){return new xt({values:r,typeName:T.ZodEnum,...C(e)})}class xt extends R{_parse(e){if(typeof e.data!="string"){const a=this._getOrReturnCtx(e),t=this._def.values;return g(a,{expected:I.joinValues(t),received:a.parsedType,code:h.invalid_type}),k}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const a=this._getOrReturnCtx(e),t=this._def.values;return g(a,{received:a.data,code:h.invalid_enum_value,options:t}),k}return Me(e.data)}get options(){return this._def.values}get enum(){const e={};for(const a of this._def.values)e[a]=a;return e}get Values(){const e={};for(const a of this._def.values)e[a]=a;return e}get Enum(){const e={};for(const a of this._def.values)e[a]=a;return e}extract(e,a=this._def){return xt.create(e,{...this._def,...a})}exclude(e,a=this._def){return xt.create(this.options.filter(t=>!e.includes(t)),{...this._def,...a})}}xt.create=Sa;class ca extends R{_parse(e){const a=I.getValidEnumValues(this._def.values),t=this._getOrReturnCtx(e);if(t.parsedType!==_.string&&t.parsedType!==_.number){const s=I.objectValues(a);return g(t,{expected:I.joinValues(s),received:t.parsedType,code:h.invalid_type}),k}if(this._cache||(this._cache=new Set(I.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=I.objectValues(a);return g(t,{received:t.data,code:h.invalid_enum_value,options:s}),k}return Me(e.data)}get enum(){return this._def.values}}ca.create=(r,e)=>new ca({values:r,typeName:T.ZodNativeEnum,...C(e)});class sr extends R{unwrap(){return this._def.type}_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==_.promise&&a.common.async===!1)return g(a,{code:h.invalid_type,expected:_.promise,received:a.parsedType}),k;const t=a.parsedType===_.promise?a.data:Promise.resolve(a.data);return Me(t.then(s=>this._def.type.parseAsync(s,{path:a.path,errorMap:a.common.contextualErrorMap})))}}sr.create=(r,e)=>new sr({type:r,typeName:T.ZodPromise,...C(e)});class wt extends R{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===T.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:a,ctx:t}=this._processInputParams(e),s=this._def.effect||null,n={addIssue:i=>{g(t,i),i.fatal?a.abort():a.dirty()},get path(){return t.path}};if(n.addIssue=n.addIssue.bind(n),s.type==="preprocess"){const i=s.transform(t.data,n);if(t.common.async)return Promise.resolve(i).then(async u=>{if(a.value==="aborted")return k;const l=await this._def.schema._parseAsync({data:u,path:t.path,parent:t});return l.status==="aborted"?k:l.status==="dirty"||a.value==="dirty"?jt(l.value):l});{if(a.value==="aborted")return k;const u=this._def.schema._parseSync({data:i,path:t.path,parent:t});return u.status==="aborted"?k:u.status==="dirty"||a.value==="dirty"?jt(u.value):u}}if(s.type==="refinement"){const i=u=>{const l=s.refinement(u,n);if(t.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(t.common.async===!1){const u=this._def.schema._parseSync({data:t.data,path:t.path,parent:t});return u.status==="aborted"?k:(u.status==="dirty"&&a.dirty(),i(u.value),{status:a.value,value:u.value})}else return this._def.schema._parseAsync({data:t.data,path:t.path,parent:t}).then(u=>u.status==="aborted"?k:(u.status==="dirty"&&a.dirty(),i(u.value).then(()=>({status:a.value,value:u.value}))))}if(s.type==="transform")if(t.common.async===!1){const i=this._def.schema._parseSync({data:t.data,path:t.path,parent:t});if(!bt(i))return k;const u=s.transform(i.value,n);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:u}}else return this._def.schema._parseAsync({data:t.data,path:t.path,parent:t}).then(i=>bt(i)?Promise.resolve(s.transform(i.value,n)).then(u=>({status:a.value,value:u})):k);I.assertNever(s)}}wt.create=(r,e,a)=>new wt({schema:r,typeName:T.ZodEffects,effect:e,...C(a)});wt.createWithPreprocess=(r,e,a)=>new wt({schema:e,effect:{type:"preprocess",transform:r},typeName:T.ZodEffects,...C(a)});class Ge extends R{_parse(e){return this._getType(e)===_.undefined?Me(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ge.create=(r,e)=>new Ge({innerType:r,typeName:T.ZodOptional,...C(e)});class kt extends R{_parse(e){return this._getType(e)===_.null?Me(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}kt.create=(r,e)=>new kt({innerType:r,typeName:T.ZodNullable,...C(e)});class Rr extends R{_parse(e){const{ctx:a}=this._processInputParams(e);let t=a.data;return a.parsedType===_.undefined&&(t=this._def.defaultValue()),this._def.innerType._parse({data:t,path:a.path,parent:a})}removeDefault(){return this._def.innerType}}Rr.create=(r,e)=>new Rr({innerType:r,typeName:T.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...C(e)});class Ir extends R{_parse(e){const{ctx:a}=this._processInputParams(e),t={...a,common:{...a.common,issues:[]}},s=this._def.innerType._parse({data:t.data,path:t.path,parent:{...t}});return er(s)?s.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new qe(t.common.issues)},input:t.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new qe(t.common.issues)},input:t.data})}}removeCatch(){return this._def.innerType}}Ir.create=(r,e)=>new Ir({innerType:r,typeName:T.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...C(e)});class da extends R{_parse(e){if(this._getType(e)!==_.nan){const t=this._getOrReturnCtx(e);return g(t,{code:h.invalid_type,expected:_.nan,received:t.parsedType}),k}return{status:"valid",value:e.data}}}da.create=r=>new da({typeName:T.ZodNaN,...C(r)});class cn extends R{_parse(e){const{ctx:a}=this._processInputParams(e),t=a.data;return this._def.type._parse({data:t,path:a.path,parent:a})}unwrap(){return this._def.type}}class Pr extends R{_parse(e){const{status:a,ctx:t}=this._processInputParams(e);if(t.common.async)return(async()=>{const n=await this._def.in._parseAsync({data:t.data,path:t.path,parent:t});return n.status==="aborted"?k:n.status==="dirty"?(a.dirty(),jt(n.value)):this._def.out._parseAsync({data:n.value,path:t.path,parent:t})})();{const s=this._def.in._parseSync({data:t.data,path:t.path,parent:t});return s.status==="aborted"?k:s.status==="dirty"?(a.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:t.path,parent:t})}}static create(e,a){return new Pr({in:e,out:a,typeName:T.ZodPipeline})}}class Mr extends R{_parse(e){const a=this._def.innerType._parse(e),t=s=>(bt(s)&&(s.value=Object.freeze(s.value)),s);return er(a)?a.then(s=>t(s)):t(a)}unwrap(){return this._def.innerType}}Mr.create=(r,e)=>new Mr({innerType:r,typeName:T.ZodReadonly,...C(e)});var T;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(T||(T={}));const dn=Ke.create;Qe.create;const ln=Le.create,la=K.create;rr.create;ar.create;lt.create;const fn=xt.create;sr.create;Ge.create;kt.create;new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");async function hn(r,e,a){const t=await r.safeParseAsync(e,{errorMap:a});return t.success?{data:t.data,success:!0}:{issues:t.error.issues.map(({message:s,path:n})=>({message:s,path:n})),success:!1}}function mn(r,e){return{superFormValidationLibrary:"zod",validate:async a=>hn(r,a,e==null?void 0:e.errorMap)}}const pn=Ps(mn),yn=(r,e)=>[...r,{name:"",type:e}],gn=(r,e)=>r.filter((a,t)=>t!==e),vn=r=>la({attributes:ln(la({name:dn().min(1,O("search-attributes.validation-name-required")),type:fn(r)})).refine(e=>{const a=e.map(t=>t.name);return a.length===new Set(a).size},{message:O("search-attributes.validation-names-unique"),path:["attributes"]})}),_n=(r,e)=>{var u;const a=r.getSupportedTypes(),t=a.map(l=>l.value),s=((u=a[0])==null?void 0:u.value)||"",n=vn(t),i=Ns({attributes:e},{SPA:!0,dataType:"json",validators:pn(n),resetForm:!1,onUpdate:async({form:l})=>{if(l.valid)try{return await r.upsertAttributes(l.data.attributes),await r.onSuccess(l.data.attributes),O("search-attributes.save-success")}catch(d){const m=d.userMessage||O("search-attributes.save-error");throw new Error(m)}},onError:async({result:l})=>{console.error("Form submission error:",l);const{message:d}=i;d.update(()=>{var y;return{intent:"error",text:((y=l.error)==null?void 0:y.message)||O("search-attributes.save-error-generic"),title:O("search-attributes.error-title")}})}});return{superFormInstance:i,supportedTypes:a,defaultType:s}},fa=async r=>r.fetchAttributes(),bn=(r,e,a,t)=>({addAttribute:()=>{r.update(s=>({...s,attributes:yn(s.attributes,e)}))},removeAttribute:s=>{r.update(n=>({...n,attributes:gn(n.attributes,s)}))},handleCancel:()=>{t(),a()}});var xn=ce("<p> </p>"),wn=ce("<!> <!>",1);function kn(r,e){Lt(e,!0);let a=dt(e,"errorsTitle",3,"Validation Error");var t=wn(),s=Be(t);{var n=l=>{kr(l,{intent:"error",get title(){return a()},children:(d,y)=>{var m=nr(),P=Be(m);Gt(P,17,()=>e.errors,Xt,(z,N)=>{var Y=xn(),w=L(Y,!0);V(Y),oe(()=>ue(w,v(N))),D(z,Y)}),D(d,m)},$$slots:{default:!0}})};ct(s,l=>{e.errors&&e.errors.length>0&&l(n)})}var i=B(s,2);{var u=l=>{kr(l,{get intent(){return e.value.intent},get title(){return e.value.title},children:(d,y)=>{Je();var m=$t();oe(()=>ue(m,e.value.text)),D(d,m)},$$slots:{default:!0}})};ct(i,l=>{e.value&&l(u)})}D(r,t),Vt()}function Tn(r,e){let a=dt(e,"class",3,"");var t=nr(),s=Be(t);{var n=i=>{Wa(i,{get class(){return`absolute right-0 top-0 origin-bottom-left translate-x-[10px] translate-y-[-10px] ${a()??""}`},type:"count",children:(u,l)=>{Je();var d=$t();oe(()=>ue(d,e.count)),D(u,d)},$$slots:{default:!0}})};ct(s,i=>{e.show&&e.count>0&&i(n)})}D(r,t)}var An=ce('<div class="grid grid-cols-[1fr_140px_40px] items-start gap-3"><!> <!> <!></div>'),Sn=ce('<div class="text-gray-700 grid grid-cols-[1fr_140px_40px] gap-3 border-b border-subtle pb-2 text-sm font-medium"><div> </div> <div> </div> <div></div></div> <!> <div class="border-t border-subtle pt-4"><!></div>',1),En=ce(" <!>",1),Cn=ce('<div><form class="space-y-4"><!> <!> <div class="flex gap-3 pt-4"><!> <!></div></form></div>');function On(r,e){Lt(e,!0);const[a,t]=$a(),s=()=>Ct(v(me),"$tainted",a),n=()=>Ct(v(N),"$form",a),i=()=>Ct(v(Y),"$errors",a),u=()=>Ct(v(w),"$submitting",a),l=()=>Ct(v(Z),"$message",a);let d=dt(e,"class",3,"");const y=$(()=>_n(e.adapter,e.initialAttributes)),m=$(()=>v(y).superFormInstance),P=$(()=>v(y).supportedTypes),z=$(()=>v(y).defaultType),N=$(()=>v(m).form),Y=$(()=>v(m).errors),w=$(()=>v(m).submitting),Z=$(()=>v(m).message),Ae=$(()=>v(m).enhance),me=$(()=>v(m).tainted),F=$(()=>v(m).isTainted),q=$(()=>v(m).reset),H=$(()=>bn(v(N),v(z),e.adapter.onCancel||(()=>{}),v(q))),pe=$(()=>v(H).addAttribute),Se=$(()=>v(H).removeAttribute),_e=$(()=>v(H).handleCancel),ye=$(()=>Object.values(s().attributes||{}).filter(se=>Object.values(se).some(Ce=>Ce===!0)).length);var ge=Cn(),be=L(ge),Ee=L(be);ga(Ee,{class:"space-y-3",children:(se,Ce)=>{var $e=Sn(),Pe=Be($e),et=L(Pe),At=L(et,!0);V(et);var tt=B(et,2),ft=L(tt,!0);V(tt),Je(2),V(Pe);var St=B(Pe,2);Gt(St,1,()=>n().attributes,Xt,(Ze,Oe,de)=>{var rt=An(),Ut=L(rt);const le=$(()=>O("search-attributes.attribute-label",{index:de+1})),at=$(()=>{var X,Ie,xe;return!!((xe=(Ie=(X=i().attributes)==null?void 0:X[de])==null?void 0:Ie.name)!=null&&xe[0])}),ur=$(()=>{var X,Ie,xe;return(xe=(Ie=(X=i().attributes)==null?void 0:X[de])==null?void 0:Ie.name)==null?void 0:xe[0]});Ya(Ut,{id:`attributes-${de}`,get label(){return v(le)},labelHidden:!0,name:`attributes.${de}.name`,placeholder:"",get error(){return v(at)},get hintText(){return v(ur)},get disabled(){return u()},get value(){return v(Oe).name},set value(X){v(Oe).name=X,Fr(a,"$form")}});var Bt=B(Ut,2);const cr=$(()=>O("search-attributes.type-label",{index:de+1})),dr=$(()=>O("search-attributes.select-type-placeholder")),ht=$(()=>{var X,Ie,xe;return(xe=(Ie=(X=i().attributes)==null?void 0:X[de])==null?void 0:Ie.type)==null?void 0:xe[0]});Ja(Bt,{id:`attributes-${de}-type`,get label(){return v(cr)},labelHidden:!0,name:`attributes.${de}.type`,get placeholder(){return v(dr)},get error(){return v(ht)},get disabled(){return u()},get value(){return v(Oe).type},set value(X){v(Oe).type=X,Fr(a,"$form")},children:(X,Ie)=>{var xe=nr(),o=Be(xe);Gt(o,17,()=>v(P),Xt,(c,f)=>{Ka(c,{get value(){return v(f).value},children:(p,b)=>{Je();var A=$t();oe(()=>ue(A,v(f).label)),D(p,A)},$$slots:{default:!0}})}),D(X,xe)},$$slots:{default:!0}});var fe=B(Bt,2);Rt(fe,{variant:"ghost",size:"sm",get disabled(){return u()},class:"h-10 w-10 p-0",$$events:{click:()=>v(Se)(de)},children:(X,Ie)=>{ha(X,{name:"trash"})},$$slots:{default:!0}}),V(rt),D(Ze,rt)});var zt=B(St,2),Et=L(zt);Rt(Et,{variant:"secondary",size:"sm",get disabled(){return u()},$$events:{click(...Ze){var Oe;(Oe=v(pe))==null||Oe.apply(this,Ze)}},children:(Ze,Oe)=>{Je();var de=$t();oe(rt=>ue(de,rt),[()=>O("search-attributes.add-attribute-button")]),D(Ze,de)},$$slots:{default:!0}}),V(zt),oe((Ze,Oe)=>{ue(At,Ze),ue(ft,Oe)},[()=>O("search-attributes.column-attribute"),()=>O("search-attributes.column-type")]),D(se,$e)},$$slots:{default:!0}});var G=B(Ee,2);const U=$(()=>{var se;return(se=i().attributes)==null?void 0:se.attributes}),ir=$(()=>O("search-attributes.validation-error-title"));kn(G,{get value(){return l()},get errors(){return v(U)},get errorsTitle(){return v(ir)}});var Dt=B(G,2),Tt=L(Dt);const or=$(()=>u()||n().attributes.length===0);Rt(Tt,{type:"submit",variant:"primary",get disabled(){return v(or)},class:"relative",children:(se,Ce)=>{Je();var $e=En(),Pe=Be($e),et=B(Pe);const At=$(()=>v(F)(s()));Tn(et,{get show(){return v(At)},get count(){return v(ye)}}),oe(tt=>ue(Pe,`${tt??""} `),[()=>u()?O("search-attributes.saving-button"):O("search-attributes.save-button")]),D(se,$e)},$$slots:{default:!0}});var ee=B(Tt,2);Rt(ee,{type:"button",variant:"secondary",get disabled(){return u()},$$events:{click(...se){var Ce;(Ce=v(_e))==null||Ce.apply(this,se)}},children:(se,Ce)=>{Je();var $e=$t();oe(Pe=>ue($e,Pe),[()=>O("search-attributes.cancel-button")]),D(se,$e)},$$slots:{default:!0}}),V(Dt),V(be),Ha(be,se=>{var Ce;return(Ce=v(Ae))==null?void 0:Ce(se)}),V(ge),oe(()=>jr(ge,1,`space-y-6 ${d()??""}`)),D(r,ge),Vt(),t()}var Nn=ce('<div class="grid grid-cols-[1fr_140px_40px] items-start gap-3"><!> <!> <!></div>'),Rn=ce('<div class="text-gray-700 grid grid-cols-[1fr_140px_40px] gap-3 border-b border-subtle pb-2 text-sm font-medium"><div> </div> <div> </div> <div></div></div> <!> <div class="border-t border-subtle pt-4"><!></div>',1),In=ce('<div><!> <div class="flex gap-3 pt-4"><!> <!></div></div>');function Mn(r,e){Lt(e,!0);let a=dt(e,"class",3,"");var t=In(),s=L(t);ga(s,{class:"space-y-3",children:(l,d)=>{var y=Rn(),m=Be(y),P=L(m),z=L(P,!0);V(P);var N=B(P,2),Y=L(N,!0);V(N),Je(2),V(m);var w=B(m,2);Gt(w,16,()=>Array.from({length:3}),Xt,(me,F)=>{var q=Nn(),H=L(q);pt(H,{class:"h-10 w-full rounded"});var pe=B(H,2);pt(pe,{class:"h-10 w-full rounded"});var Se=B(pe,2);pt(Se,{class:"h-10 w-10 rounded"}),V(q),D(me,q)});var Z=B(w,2),Ae=L(Z);pt(Ae,{class:"h-10 w-64 rounded"}),V(Z),oe((me,F)=>{ue(z,me),ue(Y,F)},[()=>O("search-attributes.column-attribute"),()=>O("search-attributes.column-type")]),D(l,y)},$$slots:{default:!0}});var n=B(s,2),i=L(n);pt(i,{class:"h-10 w-16 rounded"});var u=B(i,2);pt(u,{class:"h-10 w-16 rounded"}),V(n),V(t),oe(()=>jr(t,1,`space-y-6 ${a()??""}`)),D(r,t),Vt()}function jn(r,e){Lt(e,!0);let a=dt(e,"class",3,""),t=$(()=>fa(e.adapter));const s=async()=>{xr(t,fa(e.adapter),!0)};var n=nr(),i=Be(n);ja(i,()=>v(t),u=>{Mn(u,{get class(){return a()}})},(u,l)=>{On(u,{get class(){return a()},get adapter(){return e.adapter},get initialAttributes(){return v(l)}})},(u,l)=>{const d=$(()=>O("search-attributes.load-error-title"));ms(u,{get class(){return a()},get error(){return v(l)},retryConfig:{onRetry:s},get title(){return v(d)}})}),D(r,n),Vt()}var $n=ce('<div class="space-y-6"><div><h1 class="text-2xl font-bold">Custom Search Attributes</h1> <p class="text-gray-600 mt-2">Manage custom search attributes for this namespace.</p></div> <!></div>');function di(r){var e=$n();Na(t=>{Oa.title="Custom Search Attributes"});var a=B(L(e),2);jn(a,{adapter:va}),V(e),D(r,e)}export{di as component};
