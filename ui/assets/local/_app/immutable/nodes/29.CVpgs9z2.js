import{f as ve}from"../chunks/CHL-tOk9.js";import"../chunks/CWj6FrbW.js";import{p as Z,l as ae,s as K,m as oe,g as e,a as fe,f as B,j as x,o as O,h as f,n as N,k as ce,t as D,I as M,M as Q,e as h,r as b,b as ee,i as J,c as q,q as he,v as r}from"../chunks/B6CF0p-B.js";import{s as L,e as ge}from"../chunks/BSSJzwu8.js";import{i as U}from"../chunks/DVfqY6Lp.js";import{p as V}from"../chunks/BlpOiTbA.js";import{P as _e}from"../chunks/D-4C8DtU.js";import"../chunks/69_IOA4Y.js";import{t as se,a as be,f as ye}from"../chunks/DRO9Fqoc.js";import{p as $e}from"../chunks/Bfc47y5P.js";import{i as we}from"../chunks/BC0HqUZ9.js";import{a as le,s as ke,b as j}from"../chunks/BrOjBIf0.js";import{p as xe}from"../chunks/Cz9LCJT7.js";import{B as ue}from"../chunks/RaugSqEI.js";import{I as Se}from"../chunks/BmrYUP7q.js";import{t}from"../chunks/DEjs8ZrU.js";import{w as ie}from"../chunks/BEkbQnRa.js";import{c as Ie}from"../chunks/Cpz1pHG5.js";import{s as Te}from"../chunks/DWmkfC13.js";import{h as Ae,r as Le,i as Pe}from"../chunks/DV633ESJ.js";import{a as Ee}from"../chunks/Da4OYn-K.js";import{M as R}from"../chunks/Bq_UPUwW.js";import{u as We}from"../chunks/CH_nwUAc.js";import{C as X}from"../chunks/Bv9Mn5q8.js";import{L as qe}from"../chunks/1tHRNSDi.js";import{k as Be}from"../chunks/CmR3ARMz.js";import{e as Y,i as ne}from"../chunks/DNXtLIpi.js";import{e as Ce,T as Fe}from"../chunks/B3nUm7xS.js";import{T as Me}from"../chunks/DvWDH8Yz.js";import{I as Qe}from"../chunks/CsmBsHFA.js";import{A as De}from"../chunks/CpDJYXfL.js";import{T as Oe}from"../chunks/C82XNxlY.js";import{D as Ue}from"../chunks/CWivh4wZ.js";const je=async function({params:C}){var s,E,T,W,n,m,v,p;const o=await ve(C.namespace),d=(T=(E=(s=o.config)==null?void 0:s.historyArchivalUri)==null?void 0:E.toLowerCase())==null?void 0:T.startsWith("s3://"),S=(m=(n=(W=o.config)==null?void 0:W.historyArchivalUri)==null?void 0:n.toLowerCase())==null?void 0:m.startsWith("gs://"),I=!d&&!S,P=((v=o==null?void 0:o.config)==null?void 0:v.historyArchivalState)==="Enabled",g=((p=o==null?void 0:o.config)==null?void 0:p.visibilityArchivalState)==="Enabled";return{namespace:o,archivalEnabled:P,visibilityArchivalEnabled:g,archivalQueryingSupported:I}},Wt=Object.freeze(Object.defineProperty({__proto__:null,load:je},Symbol.toStringTag,{value:"Module"}));var Ne=B('<div class="w-full"><form class="flex gap-0" role="search"><!> <!></form></div>');function ze(C,o){Z(o,!1);const d=()=>le(xe,"$page",I),S=()=>le(Te,"$searchAttributes",I),[I,P]=ke(),g=oe();let s=oe("");function E(c){K(s,c)}const T=()=>{if(!e(s))j(ie,[]),j(Ae,"");else try{j(ie,Ee(e(s),S()))}catch(c){console.error(c)}e(s)&&e(s)===e(g)?j(Le,Date.now()):We({url:d().url,parameter:"query",value:e(s),allowEmpty:!0,clearParameters:[Ie]})};function W(){T()}ae(()=>d(),()=>{K(g,d().url.searchParams.get("query"))}),ae(()=>e(g),()=>{E(e(g))}),fe(),we();var n=Ne(),m=x(n),v=x(m);{let c=O(()=>(Q(t),M(()=>t("workflows.search-placeholder")))),l=O(()=>(Q(t),M(()=>t("workflows.search-placeholder")))),a=O(()=>(Q(t),M(()=>t("common.clear-input-button-label")))),i=O(()=>(e(s),Q(R),M(()=>!e(s)||e(s).length<R)));Se(v,{id:"manual-search",type:"search",get label(){return e(c)},labelHidden:!0,get placeholder(){return e(l)},icon:"search",class:"grow lg:w-3/4 [&_*]:border-r-0",clearable:!0,get clearButtonLabel(){return e(a)},get maxLength(){return R},get hideCount(){return e(i)},get value(){return e(s)},set value(u){K(s,u)},$$events:{clear:W},$$legacy:!0})}var p=f(v,2);ue(p,{"data-testid":"manual-search-button",variant:"primary",type:"submit",children:(c,l)=>{N();var a=ce();D(i=>L(a,i),[()=>(Q(t),M(()=>t("common.search")))]),h(c,a)},$$slots:{default:!0}}),b(m),b(n),ge("submit",m,$e(T)),se(1,m,()=>be,()=>({x:-100,duration:150})),se(1,n,()=>ye),h(C,n),ee(),P()}var Ge=B('<tr data-testid="workflows-summary-configurable-table-row" class="dense"></tr>'),He=B('<tr slot="headers"></tr>');function Ke(C,o){Z(o,!0);const d=r(()=>V.params.namespace),S=r(()=>V.url.searchParams.get("query")),I=r(()=>()=>Pe(e(d),e(S))),P=r(()=>Ue);var g=J(),s=q(g);Be(s,()=>[e(d),e(S)],E=>{{let T=r(()=>t("common.workflows")),W=r(()=>t("common.per-page")),n=r(()=>t("common.next")),m=r(()=>t("common.previous")),v=r(()=>t("workflows.empty-state-title"));De(E,{get onFetch(){return e(I)},get"aria-label"(){return e(T)},get pageSizeSelectLabel(){return e(W)},get nextButtonLabel(){return e(n)},get previousButtonLabel(){return e(m)},get emptyStateMessage(){return e(v)},children:he,$$slots:{default:(p,c)=>{const l=r(()=>c.visibleItems);var a=J(),i=q(a);Y(i,17,()=>e(l),u=>u.id+u.runId,(u,_)=>{var y=Ge();Y(y,21,()=>e(P),ne,(w,F)=>{Fe(w,{get workflow(){return e(_)},get column(){return e(F)},archival:!0})}),b(y),h(u,y)}),h(p,a)},headers:(p,c)=>{var l=He();Y(l,21,()=>e(P),ne,(a,i)=>{Me(a,{get column(){return e(i)}})}),b(l),h(p,l)},"actions-end-additional":(p,c)=>{const l=r(()=>c.visibleItems),a=r(()=>c.page);{let i=r(()=>t("common.download-json"));Oe(p,{get text(){return e(i)},top:!0,children:(u,_)=>{ue(u,{"data-testid":"export-history-button",size:"xs",variant:"ghost",$$events:{click:()=>Ce(e(l),e(a))},children:(y,w)=>{Qe(y,{name:"download"})},$$slots:{default:!0}})},$$slots:{default:!0}})}}}})}}),h(C,g),ee()}var Re=B('<h1 data-testid="archived-enabled-title"> </h1> <!> <!> <!>',1),Xe=B('<h1 data-testid="visibility-disabled-title"> </h1> <p> <a class="text-blue-700 underline" href="https://docs.temporal.io/clusters#archival" target="_blank" rel="noreferrer"> </a>:</p> <!>',1),Ye=B('<p> <a class="text-blue-700 underline" href="https://docs.temporal.io/clusters#archival" target="_blank" rel="noreferrer"> </a>:</p> <!>',1),Je=B('<h1 data-testid="archived-disabled-title"> </h1> <p> </p> <!> <!>',1),Ve=B("<!> <!>",1);function qt(C,o){Z(o,!0);const d=r(()=>o.data.namespace.namespaceInfo.name),S=r(()=>o.data.archivalEnabled),I=r(()=>o.data.visibilityArchivalEnabled),P=r(()=>o.data.archivalQueryingSupported);var g=Ve(),s=q(g);{let n=r(()=>`${t("workflows.archival")} | ${e(d)}`);_e(s,{get title(){return e(n)},get url(){return V.url.href}})}var E=f(s,2);{var T=n=>{var m=Re(),v=q(m),p=x(v,!0);b(v);var c=f(v,2);{var l=u=>{qe(u,{newTab:!0,href:"https://docs.temporal.io/list-filter",children:(_,y)=>{N();var w=ce("List Filter Documentation");h(_,w)},$$slots:{default:!0}})};U(c,u=>{e(P)&&u(l)})}var a=f(c,2);ze(a,{});var i=f(a,2);Ke(i,{}),D(u=>L(p,u),[()=>t("workflows.archived-workflows")]),h(n,m)},W=n=>{var m=J(),v=q(m);{var p=l=>{var a=Xe(),i=q(a),u=x(i,!0);b(i);var _=f(i,2),y=x(_,!0),w=f(y),F=x(w,!0);b(w),N(),b(_);var z=f(_,2);{let $=r(()=>`temporal operator namespace update --visibility-archival-state enabled ${e(d)}`),k=r(()=>t("common.copy-icon-title")),A=r(()=>t("common.copy-success-icon-title"));X(z,{get content(){return e($)},language:"text",inline:!0,get copyIconTitle(){return e(k)},get copySuccessIconTitle(){return e(A)}})}D(($,k,A)=>{L(u,$),L(y,k),L(F,A)},[()=>t("workflows.visibility-disabled-archival"),()=>t("workflows.archival-link-preface"),()=>t("workflows.archival-link")]),h(l,a)},c=l=>{var a=Je(),i=q(a),u=x(i,!0);b(i);var _=f(i,2),y=x(_);b(_);var w=f(_,2);{let $=r(()=>`temporal operator namespace update --history-archival-state enabled ${e(d)}`),k=r(()=>t("common.copy-icon-title")),A=r(()=>t("common.copy-success-icon-title"));X(w,{get content(){return e($)},language:"text",inline:!0,get copyIconTitle(){return e(k)},get copySuccessIconTitle(){return e(A)}})}var F=f(w,2);{var z=$=>{var k=Ye(),A=q(k),te=x(A,!0),re=f(te),me=x(re,!0);b(re),N(),b(A);var pe=f(A,2);{let G=r(()=>`temporal operator namespace update --visibility-archival-state enabled ${e(d)}`),H=r(()=>t("common.copy-icon-title")),de=r(()=>t("common.copy-success-icon-title"));X(pe,{get content(){return e(G)},language:"text",inline:!0,get copyIconTitle(){return e(H)},get copySuccessIconTitle(){return e(de)}})}D((G,H)=>{L(te,G),L(me,H)},[()=>t("workflows.archival-link-preface"),()=>t("workflows.archival-link")]),h($,k)};U(F,$=>{e(I)||$(z)})}D(($,k)=>{L(u,$),L(y,`${k??""}:`)},[()=>t("workflows.archival-disabled-title"),()=>t("workflows.archival-disabled-details")]),h(l,a)};U(v,l=>{e(S)?l(p):l(c,!1)},!0)}h(n,m)};U(E,n=>{e(S)&&e(I)?n(T):n(W,!1)})}h(C,g),ee()}export{qt as component,Wt as universal};
