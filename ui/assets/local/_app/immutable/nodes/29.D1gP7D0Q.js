import{f as fe}from"../chunks/CrETvl9u.js";import"../chunks/CWj6FrbW.js";import{p as ee,l as oe,s as K,m as se,g as e,a as ve,f as B,j as x,o as O,h as v,n as N,k as ce,t as D,I as M,M as Q,e as h,r as b,b as te,i as V,c as q,q as he,v as r}from"../chunks/DPYmeJXN.js";import{s as L,e as ge}from"../chunks/DtOlEDQN.js";import{i as U}from"../chunks/DqIiO-ir.js";import{p as Z}from"../chunks/EVVWzxIs.js";import{P as _e}from"../chunks/DiTxmex0.js";import"../chunks/69_IOA4Y.js";import{t as le,a as be,f as we}from"../chunks/DEtyaa-H.js";import{p as ye}from"../chunks/Bfc47y5P.js";import{i as $e}from"../chunks/VvTteBni.js";import{a as ie,s as ke,b as j}from"../chunks/BkgVXhYA.js";import{p as xe}from"../chunks/CC1B7aGJ.js";import{B as me}from"../chunks/B0BOtbkl.js";import{I as Se}from"../chunks/BJ9ENsaH.js";import{t}from"../chunks/DEjs8ZrU.js";import{w as ne}from"../chunks/Bk0Aq_-o.js";import{c as Ie}from"../chunks/DDCHKJfQ.js";import{s as Te}from"../chunks/B5ksBF2i.js";import{h as Ae,r as Le,i as Pe}from"../chunks/DCtXCuou.js";import{a as Ee}from"../chunks/BR-VEDDR.js";import{M as R}from"../chunks/CZVvVxFg.js";import{u as We}from"../chunks/D79OlhRW.js";import{C as X}from"../chunks/CdNStY9Z.js";import{L as qe}from"../chunks/BYTvtcID.js";import{k as Be}from"../chunks/DlFjb5xL.js";import{e as Y,i as J}from"../chunks/4Pdp5Dra.js";import{e as Ce,T as Fe}from"../chunks/D65a2v4n.js";import{T as Me}from"../chunks/BpWUmDnd.js";import{I as Qe}from"../chunks/iShetGdB.js";import{A as De}from"../chunks/8KD3hYOc.js";import{T as Oe}from"../chunks/BrtxlTkV.js";import{D as Ue}from"../chunks/fnzkjXni.js";const je=async function({params:C}){var s,E,T,W,n,m,f,p;const o=await fe(C.namespace),d=(T=(E=(s=o.config)==null?void 0:s.historyArchivalUri)==null?void 0:E.toLowerCase())==null?void 0:T.startsWith("s3://"),S=(m=(n=(W=o.config)==null?void 0:W.historyArchivalUri)==null?void 0:n.toLowerCase())==null?void 0:m.startsWith("gs://"),I=!d&&!S,P=((f=o==null?void 0:o.config)==null?void 0:f.historyArchivalState)==="Enabled",g=((p=o==null?void 0:o.config)==null?void 0:p.visibilityArchivalState)==="Enabled";return{namespace:o,archivalEnabled:P,visibilityArchivalEnabled:g,archivalQueryingSupported:I}},Wt=Object.freeze(Object.defineProperty({__proto__:null,load:je},Symbol.toStringTag,{value:"Module"}));var Ne=B('<div class="w-full"><form class="flex gap-0" role="search"><!> <!></form></div>');function ze(C,o){ee(o,!1);const d=()=>ie(xe,"$page",I),S=()=>ie(Te,"$searchAttributes",I),[I,P]=ke(),g=se();let s=se("");function E(c){K(s,c)}const T=()=>{if(!e(s))j(ne,[]),j(Ae,"");else try{j(ne,Ee(e(s),S()))}catch(c){console.error(c)}e(s)&&e(s)===e(g)?j(Le,Date.now()):We({url:d().url,parameter:"query",value:e(s),allowEmpty:!0,clearParameters:[Ie]})};function W(){T()}oe(()=>d(),()=>{K(g,d().url.searchParams.get("query"))}),oe(()=>e(g),()=>{E(e(g))}),ve(),$e();var n=Ne(),m=x(n),f=x(m);{let c=O(()=>(Q(t),M(()=>t("workflows.search-placeholder")))),l=O(()=>(Q(t),M(()=>t("workflows.search-placeholder")))),a=O(()=>(Q(t),M(()=>t("common.clear-input-button-label")))),i=O(()=>(e(s),Q(R),M(()=>!e(s)||e(s).length<R)));Se(f,{id:"manual-search",type:"search",get label(){return e(c)},labelHidden:!0,get placeholder(){return e(l)},icon:"search",class:"grow lg:w-3/4 [&_*]:border-r-0",clearable:!0,get clearButtonLabel(){return e(a)},get maxLength(){return R},get hideCount(){return e(i)},get value(){return e(s)},set value(u){K(s,u)},$$events:{clear:W},$$legacy:!0})}var p=v(f,2);me(p,{"data-testid":"manual-search-button",variant:"primary",type:"submit",children:(c,l)=>{N();var a=ce();D(i=>L(a,i),[()=>(Q(t),M(()=>t("common.search")))]),h(c,a)},$$slots:{default:!0}}),b(m),b(n),ge("submit",m,ye(T)),le(1,m,()=>be,()=>({x:-100,duration:150})),le(1,n,()=>we),h(C,n),te(),P()}var Ge=B('<tr data-testid="workflows-summary-configurable-table-row" class="dense"></tr>'),He=B('<tr slot="headers"></tr>');function Ke(C,o){ee(o,!0);const d=r(()=>Z.params.namespace),S=r(()=>Z.url.searchParams.get("query")),I=r(()=>()=>Pe(e(d),e(S))),P=r(()=>Ue);var g=V(),s=q(g);Be(s,()=>[e(d),e(S)],E=>{{let T=r(()=>t("common.workflows")),W=r(()=>t("common.per-page")),n=r(()=>t("common.next")),m=r(()=>t("common.previous")),f=r(()=>t("workflows.empty-state-title"));De(E,{get onFetch(){return e(I)},get"aria-label"(){return e(T)},get pageSizeSelectLabel(){return e(W)},get nextButtonLabel(){return e(n)},get previousButtonLabel(){return e(m)},get emptyStateMessage(){return e(f)},children:he,$$slots:{default:(p,c)=>{const l=r(()=>c.visibleItems);var a=V(),i=q(a);Y(i,17,()=>e(l),J,(u,_)=>{var w=Ge();Y(w,21,()=>e(P),J,($,F)=>{Fe($,{get workflow(){return e(_)},get column(){return e(F)},archival:!0})}),b(w),h(u,w)}),h(p,a)},headers:(p,c)=>{var l=He();Y(l,21,()=>e(P),J,(a,i)=>{Me(a,{get column(){return e(i)}})}),b(l),h(p,l)},"actions-end-additional":(p,c)=>{const l=r(()=>c.visibleItems),a=r(()=>c.page);{let i=r(()=>t("common.download-json"));Oe(p,{get text(){return e(i)},top:!0,children:(u,_)=>{me(u,{"data-testid":"export-history-button",size:"xs",variant:"ghost",$$events:{click:()=>Ce(e(l),e(a))},children:(w,$)=>{Qe(w,{name:"download"})},$$slots:{default:!0}})},$$slots:{default:!0}})}}}})}}),h(C,g),te()}var Re=B('<h1 data-testid="archived-enabled-title"> </h1> <!> <!> <!>',1),Xe=B('<h1 data-testid="visibility-disabled-title"> </h1> <p> <a class="text-blue-700 underline" href="https://docs.temporal.io/clusters#archival" target="_blank" rel="noreferrer"> </a>:</p> <!>',1),Ye=B('<p> <a class="text-blue-700 underline" href="https://docs.temporal.io/clusters#archival" target="_blank" rel="noreferrer"> </a>:</p> <!>',1),Je=B('<h1 data-testid="archived-disabled-title"> </h1> <p> </p> <!> <!>',1),Ve=B("<!> <!>",1);function qt(C,o){ee(o,!0);const d=r(()=>o.data.namespace.namespaceInfo.name),S=r(()=>o.data.archivalEnabled),I=r(()=>o.data.visibilityArchivalEnabled),P=r(()=>o.data.archivalQueryingSupported);var g=Ve(),s=q(g);{let n=r(()=>`${t("workflows.archival")} | ${e(d)}`);_e(s,{get title(){return e(n)},get url(){return Z.url.href}})}var E=v(s,2);{var T=n=>{var m=Re(),f=q(m),p=x(f,!0);b(f);var c=v(f,2);{var l=u=>{qe(u,{newTab:!0,href:"https://docs.temporal.io/list-filter",children:(_,w)=>{N();var $=ce("List Filter Documentation");h(_,$)},$$slots:{default:!0}})};U(c,u=>{e(P)&&u(l)})}var a=v(c,2);ze(a,{});var i=v(a,2);Ke(i,{}),D(u=>L(p,u),[()=>t("workflows.archived-workflows")]),h(n,m)},W=n=>{var m=V(),f=q(m);{var p=l=>{var a=Xe(),i=q(a),u=x(i,!0);b(i);var _=v(i,2),w=x(_,!0),$=v(w),F=x($,!0);b($),N(),b(_);var z=v(_,2);{let y=r(()=>`temporal operator namespace update --visibility-archival-state enabled ${e(d)}`),k=r(()=>t("common.copy-icon-title")),A=r(()=>t("common.copy-success-icon-title"));X(z,{get content(){return e(y)},language:"text",inline:!0,get copyIconTitle(){return e(k)},get copySuccessIconTitle(){return e(A)}})}D((y,k,A)=>{L(u,y),L(w,k),L(F,A)},[()=>t("workflows.visibility-disabled-archival"),()=>t("workflows.archival-link-preface"),()=>t("workflows.archival-link")]),h(l,a)},c=l=>{var a=Je(),i=q(a),u=x(i,!0);b(i);var _=v(i,2),w=x(_);b(_);var $=v(_,2);{let y=r(()=>`temporal operator namespace update --history-archival-state enabled ${e(d)}`),k=r(()=>t("common.copy-icon-title")),A=r(()=>t("common.copy-success-icon-title"));X($,{get content(){return e(y)},language:"text",inline:!0,get copyIconTitle(){return e(k)},get copySuccessIconTitle(){return e(A)}})}var F=v($,2);{var z=y=>{var k=Ye(),A=q(k),re=x(A,!0),ae=v(re),ue=x(ae,!0);b(ae),N(),b(A);var pe=v(A,2);{let G=r(()=>`temporal operator namespace update --visibility-archival-state enabled ${e(d)}`),H=r(()=>t("common.copy-icon-title")),de=r(()=>t("common.copy-success-icon-title"));X(pe,{get content(){return e(G)},language:"text",inline:!0,get copyIconTitle(){return e(H)},get copySuccessIconTitle(){return e(de)}})}D((G,H)=>{L(re,G),L(ue,H)},[()=>t("workflows.archival-link-preface"),()=>t("workflows.archival-link")]),h(y,k)};U(F,y=>{e(I)||y(z)})}D((y,k)=>{L(u,y),L(w,`${k??""}:`)},[()=>t("workflows.archival-disabled-title"),()=>t("workflows.archival-disabled-details")]),h(l,a)};U(f,l=>{e(S)?l(p):l(c,!1)},!0)}h(n,m)};U(E,n=>{e(S)&&e(I)?n(T):n(W,!1)})}h(C,g),te()}export{qt as component,Wt as universal};
