import{f as me}from"../chunks/B3Naum_I.js";import"../chunks/CWj6FrbW.js";import{p as R,l as V,s as j,m as Z,g as e,a as ue,f as E,j as k,o as M,h as g,n as Q,k as se,t as F,K as B,O as C,e as y,r as $,b as X,i as ee,c as q,q as pe,v as r}from"../chunks/DZ1-1a5q.js";import{s as T,e as de}from"../chunks/DxwvfIkW.js";import{i as N}from"../chunks/DnKg3jxh.js";import{p as H}from"../chunks/DE54uinE.js";import{P as fe}from"../chunks/BvHFjIFb.js";import"../chunks/69_IOA4Y.js";import{t as te,a as ve,f as he}from"../chunks/DWtHxl-H.js";import{p as ge}from"../chunks/Bfc47y5P.js";import{i as _e}from"../chunks/Bby3K3wO.js";import{a as re,s as be,b as O}from"../chunks/TaaIktnz.js";import{p as $e}from"../chunks/P-60DauF.js";import{B as le}from"../chunks/50GSh07Q.js";import{I as ye}from"../chunks/P56KsJHZ.js";import{t}from"../chunks/DEjs8ZrU.js";import{w as ae}from"../chunks/JlE54h4V.js";import{c as we}from"../chunks/D4oZ1vFI.js";import{s as ke}from"../chunks/DaA9kdqt.js";import{h as xe,r as Se,i as Ie}from"../chunks/CpHp7-gC.js";import{a as Te}from"../chunks/XD9ZVoE4.js";import{M as z}from"../chunks/Cy0A1TgT.js";import{a as Ae}from"../chunks/C2P_Lhbj.js";import{C as K}from"../chunks/DRZCEzQy.js";import{L as Le}from"../chunks/DIRNUFUF.js";import{k as Pe}from"../chunks/DhxkE7tO.js";import{e as G,i as oe}from"../chunks/DGhzC9On.js";import{e as Ee,T as We}from"../chunks/BEM680x-.js";import{T as qe}from"../chunks/CO7SHWE2.js";import{I as Be}from"../chunks/BwERH40W.js";import{A as Ce}from"../chunks/B3BwVNtY.js";import{T as Fe}from"../chunks/DM1_LFNw.js";import{D as Me}from"../chunks/DCAH77JV.js";const Oe=async function({params:W}){var i,L,I,P,w,o,p,a;const l=await me(W.namespace),v=(I=(L=(i=l.config)==null?void 0:i.historyArchivalUri)==null?void 0:L.toLowerCase())==null?void 0:I.startsWith("s3://"),x=(o=(w=(P=l.config)==null?void 0:P.historyArchivalUri)==null?void 0:w.toLowerCase())==null?void 0:o.startsWith("gs://"),S=!v&&!x,A=((p=l==null?void 0:l.config)==null?void 0:p.historyArchivalState)==="Enabled",_=((a=l==null?void 0:l.config)==null?void 0:a.visibilityArchivalState)==="Enabled";return{namespace:l,archivalEnabled:A,visibilityArchivalEnabled:_,archivalQueryingSupported:S}},At=Object.freeze(Object.defineProperty({__proto__:null,load:Oe},Symbol.toStringTag,{value:"Module"}));var Qe=E('<div class="w-full"><form class="flex gap-0" role="search"><!> <!></form></div>');function De(W,l){R(l,!1);const v=()=>re($e,"$page",S),x=()=>re(ke,"$searchAttributes",S),[S,A]=be(),_=Z();let i=Z("");function L(n){j(i,n)}const I=()=>{if(!e(i))O(ae,[]),O(xe,"");else try{O(ae,Te(e(i),x()))}catch(n){console.error(n)}e(i)&&e(i)===e(_)?O(Se,Date.now()):Ae({url:v().url,parameter:"query",value:e(i),allowEmpty:!0,clearParameters:[we]})};function P(){I()}V(()=>v(),()=>{j(_,v().url.searchParams.get("query"))}),V(()=>e(_),()=>{L(e(_))}),ue(),_e();var w=Qe(),o=k(w),p=k(o);{let n=M(()=>(C(t),B(()=>t("workflows.search-placeholder")))),s=M(()=>(C(t),B(()=>t("workflows.search-placeholder")))),m=M(()=>(C(t),B(()=>t("common.clear-input-button-label")))),u=M(()=>(e(i),C(z),B(()=>!e(i)||e(i).length<z)));ye(p,{id:"manual-search",type:"search",get label(){return e(n)},labelHidden:!0,get placeholder(){return e(s)},icon:"search",class:"grow lg:w-3/4 [&_*]:border-r-0",clearable:!0,get clearButtonLabel(){return e(m)},get maxLength(){return z},get hideCount(){return e(u)},get value(){return e(i)},set value(d){j(i,d)},$$events:{clear:P},$$legacy:!0})}var a=g(p,2);le(a,{"data-testid":"manual-search-button",variant:"primary",type:"submit",children:(n,s)=>{Q();var m=se();F(u=>T(m,u),[()=>(C(t),B(()=>t("common.search")))]),y(n,m)},$$slots:{default:!0}}),$(o),$(w),de("submit",o,ge(I)),te(1,o,()=>ve,()=>({x:-100,duration:150})),te(1,w,()=>he),y(W,w),X(),A()}var Ue=E('<tr data-testid="workflows-summary-configurable-table-row" class="dense"></tr>'),je=E('<tr slot="headers"></tr>');function Ne(W,l){R(l,!0);const v=r(()=>H.params.namespace),x=r(()=>H.url.searchParams.get("query")),S=r(()=>()=>Ie(e(v),e(x))),A=r(()=>Me);var _=ee(),i=q(_);Pe(i,()=>[e(v),e(x)],L=>{{let I=r(()=>t("common.workflows")),P=r(()=>t("common.per-page")),w=r(()=>t("common.next")),o=r(()=>t("common.previous")),p=r(()=>t("workflows.empty-state-title"));Ce(L,{get onFetch(){return e(S)},get"aria-label"(){return e(I)},get pageSizeSelectLabel(){return e(P)},get nextButtonLabel(){return e(w)},get previousButtonLabel(){return e(o)},get emptyStateMessage(){return e(p)},children:pe,$$slots:{default:(a,n)=>{const s=r(()=>n.visibleItems);var m=ee(),u=q(m);G(u,17,()=>e(s),d=>`${d.id}:${d.runId}`,(d,b)=>{var c=Ue();G(c,21,()=>e(A),oe,(f,h)=>{We(f,{get workflow(){return e(b)},get column(){return e(h)},archival:!0})}),$(c),y(d,c)}),y(a,m)},headers:(a,n)=>{var s=je();G(s,21,()=>e(A),oe,(m,u)=>{qe(m,{get column(){return e(u)}})}),$(s),y(a,s)},"actions-end-additional":(a,n)=>{const s=r(()=>n.visibleItems),m=r(()=>n.page);{let u=r(()=>t("common.download-json"));Fe(a,{get text(){return e(u)},top:!0,children:(d,b)=>{le(d,{"data-testid":"export-history-button",size:"xs",variant:"ghost",$$events:{click:()=>Ee(e(s),e(m))},children:(c,f)=>{Be(c,{name:"download"})},$$slots:{default:!0}})},$$slots:{default:!0}})}}}})}}),y(W,_),X()}var ze=E('<h1 data-testid="archived-enabled-title"> </h1> <!> <!> <!>',1),Ke=E('<h1 data-testid="visibility-disabled-title"> </h1> <p> <a class="text-blue-700 underline" href="https://docs.temporal.io/clusters#archival" target="_blank" rel="noreferrer"> </a>:</p> <!>',1),Ge=E('<p> <a class="text-blue-700 underline" href="https://docs.temporal.io/clusters#archival" target="_blank" rel="noreferrer"> </a>:</p> <!>',1),He=E('<h1 data-testid="archived-disabled-title"> </h1> <p> </p> <!> <!>',1),Re=E("<!> <!>",1);function Lt(W,l){R(l,!0);const v=r(()=>l.data.namespace.namespaceInfo.name),x=r(()=>l.data.archivalEnabled),S=r(()=>l.data.visibilityArchivalEnabled),A=r(()=>l.data.archivalQueryingSupported);var _=Re(),i=q(_);{let o=r(()=>`${t("workflows.archival")} | ${e(v)}`);fe(i,{get title(){return e(o)},get url(){return H.url.href}})}var L=g(i,2);{var I=o=>{var p=ze(),a=q(p),n=k(a,!0);$(a);var s=g(a,2);{var m=b=>{Le(b,{newTab:!0,href:"https://docs.temporal.io/list-filter",children:(c,f)=>{Q();var h=se("List Filter Documentation");y(c,h)},$$slots:{default:!0}})};N(s,b=>{e(A)&&b(m)})}var u=g(s,2);De(u,{});var d=g(u,2);Ne(d,{}),F(b=>T(n,b),[()=>t("workflows.archived-workflows")]),y(o,p)},P=o=>{var p=Ke(),a=q(p),n=k(a,!0);$(a);var s=g(a,2),m=k(s,!0),u=g(m),d=k(u,!0);$(u),Q(),$(s);var b=g(s,2);{let c=r(()=>`temporal operator namespace update --visibility-archival-state enabled ${e(v)}`),f=r(()=>t("common.copy-icon-title")),h=r(()=>t("common.copy-success-icon-title"));K(b,{get content(){return e(c)},language:"text",inline:!0,get copyIconTitle(){return e(f)},get copySuccessIconTitle(){return e(h)}})}F((c,f,h)=>{T(n,c),T(m,f),T(d,h)},[()=>t("workflows.visibility-disabled-archival"),()=>t("workflows.archival-link-preface"),()=>t("workflows.archival-link")]),y(o,p)},w=o=>{var p=He(),a=q(p),n=k(a,!0);$(a);var s=g(a,2),m=k(s);$(s);var u=g(s,2);{let c=r(()=>`temporal operator namespace update --history-archival-state enabled ${e(v)}`),f=r(()=>t("common.copy-icon-title")),h=r(()=>t("common.copy-success-icon-title"));K(u,{get content(){return e(c)},language:"text",inline:!0,get copyIconTitle(){return e(f)},get copySuccessIconTitle(){return e(h)}})}var d=g(u,2);{var b=c=>{var f=Ge(),h=q(f),Y=k(h,!0),J=g(Y),ie=k(J,!0);$(J),Q(),$(h);var ne=g(h,2);{let D=r(()=>`temporal operator namespace update --visibility-archival-state enabled ${e(v)}`),U=r(()=>t("common.copy-icon-title")),ce=r(()=>t("common.copy-success-icon-title"));K(ne,{get content(){return e(D)},language:"text",inline:!0,get copyIconTitle(){return e(U)},get copySuccessIconTitle(){return e(ce)}})}F((D,U)=>{T(Y,D),T(ie,U)},[()=>t("workflows.archival-link-preface"),()=>t("workflows.archival-link")]),y(c,f)};N(d,c=>{e(S)||c(b)})}F((c,f)=>{T(n,c),T(m,`${f??""}:`)},[()=>t("workflows.archival-disabled-title"),()=>t("workflows.archival-disabled-details")]),y(o,p)};N(L,o=>{e(x)&&e(S)?o(I):e(x)?o(P,1):o(w,!1)})}y(W,_),X()}export{Lt as component,At as universal};
