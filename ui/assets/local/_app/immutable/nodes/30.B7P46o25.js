import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as xe,f as v,i as ae,c as R,g as e,e as r,r as s,b as he,j as i,n as O,k as oe,t as B,u as o,h as x,q as De,al as Se,s as be}from"../chunks/yn9lut7I.js";import{i as Ie}from"../chunks/Bk16Yghv.js";import{s as Ve,a as we}from"../chunks/C6jR5PNA.js";import{p as Te}from"../chunks/DrlVMCUD.js";import{P as Be}from"../chunks/DUSMGXax.js";import{s as C}from"../chunks/B95CcGmx.js";import{i as g}from"../chunks/Bw1cG9kR.js";import{k as Ce}from"../chunks/CfWyzvfP.js";import{e as ge,i as ke}from"../chunks/B0gjW5Lu.js";import{p as Le}from"../chunks/BFNyQgpR.js";import{T as fe}from"../chunks/CyeuWbsh.js";import{L as _e}from"../chunks/BexB2rPN.js";import{t as a}from"../chunks/DEjs8ZrU.js";import{g as Pe}from"../chunks/CT3a8W8Y.js";import{j as Fe,o as We}from"../chunks/CJY1oWUS.js";import{D as ye}from"../chunks/D-qeEgPU.js";import{A as Ae}from"../chunks/DbXm5z4s.js";import{B as Ee}from"../chunks/TpdbhCNd.js";import{E as je}from"../chunks/CCu90O8D.js";import{A as qe}from"../chunks/DLTPQVwi.js";import{f as Me}from"../chunks/BuDKCXHh.js";var ze=v('<td class="py-1 text-left"><!></td>'),Ne=v('<div class="flex items-center gap-2"> <!></div>'),Qe=v('<div class="flex items-center gap-2"> <!></div>'),Re=v('<td class="whitespace-pre-line break-words py-1 text-left"><div class="flex flex-col gap-1"><!> <!> <div class="flex items-center gap-2"> <!></div></div></td>'),Ge=v("<p>-</p>"),He=v('<td class="truncate py-1 text-left"><div class="flex flex-col gap-1"><!> <!> <!></div></td>'),Je=v('<td class="w-24 truncate py-1"><!></td>'),Ke=v("<tr></tr>");function Oe(U,t){xe(t,!0);const b=()=>we(Te,"$page",G),[G,X]=Ve();var k,P,V,Y,w,T,Z,$,ee,te;const j=o(()=>(P=(k=t.deployment===null||t.deployment===void 0?void 0:t.deployment.latestVersionSummary)===null||k===void 0?void 0:k.deploymentVersion)===null||P===void 0?void 0:P.buildId),p=o(()=>((Y=(V=t.deployment===null||t.deployment===void 0?void 0:t.deployment.rampingVersionSummary)===null||V===void 0?void 0:V.deploymentVersion)===null||Y===void 0?void 0:Y.buildId)||Pe((w=t.deployment===null||t.deployment===void 0?void 0:t.deployment.routingConfig)===null||w===void 0?void 0:w.rampingVersion)),L=o(()=>((T=t.deployment===null||t.deployment===void 0?void 0:t.deployment.rampingVersionSummary)===null||T===void 0?void 0:T.createTime)||((Z=t.deployment===null||t.deployment===void 0?void 0:t.deployment.routingConfig)===null||Z===void 0?void 0:Z.rampingVersionChangedTime)),l=o(()=>((ee=($=t.deployment===null||t.deployment===void 0?void 0:t.deployment.currentVersionSummary)===null||$===void 0?void 0:$.deploymentVersion)===null||ee===void 0?void 0:ee.buildId)||Pe((te=t.deployment===null||t.deployment===void 0?void 0:t.deployment.routingConfig)===null||te===void 0?void 0:te.currentVersion)),u=o(()=>e(j)!==e(p)&&e(j)!==e(l)),c=o(()=>e(l)!=="__unversioned__"),h=o(()=>e(c)?e(l):a("deployments.unversioned"));var d=Ke();ge(d,21,()=>t.columns,({label:_})=>_,(_,ne)=>{let F=()=>e(ne).label;var W=ae(),le=R(W);{var se=H=>{var J=ze(),ve=i(J);{let pe=o(()=>Fe({namespace:b().params.namespace,deployment:t.deployment.name}));_e(ve,{get href(){return e(pe)},children:(ue,q)=>{O();var D=oe();B(()=>C(D,t.deployment.name)),r(ue,D)},$$slots:{default:!0}})}s(J),r(H,J)},ie=H=>{var J=ae(),ve=R(J);{var pe=q=>{var D=Re(),de=i(D),me=i(de);{var ce=m=>{var f=Ne(),I=i(f),K=x(I);{let n=o(()=>a("deployments.latest"));ye(K,{status:"Latest",get label(){return e(n)}})}s(f),B(()=>C(I,`${e(j)??""} `)),r(m,f)};g(me,m=>{e(j)&&e(u)&&m(ce)})}var S=x(me,2);{var A=m=>{var f=Qe(),I=i(f),K=x(I);{var n=y=>{{let Q=o(()=>a("deployments.ramping-percentage",{percentage:t.deployment.routingConfig.rampingVersionPercentage}));ye(y,{status:"Ramping",get label(){return e(Q)}})}};g(K,y=>{var Q,re;(re=(Q=t.deployment)==null?void 0:Q.routingConfig)!=null&&re.rampingVersionPercentage&&y(n)})}s(f),B(()=>C(I,`${e(p)??""} `)),r(m,f)};g(S,m=>{e(p)&&m(A)})}var M=x(S,2),z=i(M),N=x(z);{var E=m=>{{let f=o(()=>a("deployments.current"));ye(m,{status:"Current",get label(){return e(f)}})}};g(N,m=>{e(c)&&m(E)})}s(M),s(de),s(D),B(()=>C(z,`${e(h)??""} `)),r(q,D)},ue=q=>{var D=ae(),de=R(D);{var me=S=>{var A=He(),M=i(A),z=i(M);{var N=n=>{fe(n,{as:"p",get dateTime(){return t.deployment.latestVersionSummary.createTime}})};g(z,n=>{var y;e(j)&&e(u)&&((y=t.deployment.latestVersionSummary)!=null&&y.createTime)&&n(N)})}var E=x(z,2);{var m=n=>{fe(n,{as:"p",get dateTime(){return e(L)}})};g(E,n=>{e(p)&&e(L)&&n(m)})}var f=x(E,2);{var I=n=>{{let y=o(()=>{var Q,re;return((re=(Q=t.deployment)==null?void 0:Q.currentVersionSummary)==null?void 0:re.createTime)||t.deployment.createTime});fe(n,{as:"p",get dateTime(){return e(y)}})}},K=n=>{var y=Ge();r(n,y)};g(f,n=>{e(c)?n(I):n(K,!1)})}s(M),s(A),r(S,A)},ce=S=>{var A=ae(),M=R(A);{var z=N=>{var E=Je(),m=i(E);{let f=o(()=>We({namespace:b().params.namespace,query:`TemporalWorkerDeployment="${t.deployment.name}"`}));_e(m,{icon:"external-link",get href(){return e(f)},children:(I,K)=>{O();var n=oe();B(y=>C(n,y),[()=>a("deployments.go-to-workflows")]),r(I,n)},$$slots:{default:!0}})}s(E),r(N,E)};g(M,N=>{F()===a("deployments.actions")&&N(z)},!0)}r(S,A)};g(de,S=>{F()===a("deployments.deployed")?S(me):S(ce,!1)},!0)}r(q,D)};g(ve,q=>{F()===a("deployments.build-id")?q(pe):q(ue,!1)},!0)}r(H,J)};g(le,H=>{F()===a("deployments.name")?H(se):H(ie,!1)})}r(_,W)}),s(d),r(U,d),he(),X()}var Ue=v('<caption class="sr-only" slot="caption"> </caption>'),Xe=v('<div class="flex flex-col gap-4" slot="header"><div class="flex flex-wrap items-center gap-2"><h1> </h1> <!></div></div>'),Ye=v("<th> </th>"),Ze=v('<tr slot="headers" class="text-left"></tr>'),$e=v('<p class="text-center">Enable Worker Deployments to manage your workers more effectively. <!>.</p> <!>',1),et=v('<div class="flex flex-col gap-4"><!></div>');function tt(U,t){xe(t,!0);let b=Se("");const G=o(()=>Le.params.namespace),X=o(()=>()=>(be(b,""),Me(e(G),"",k))),k=w=>{var T;be(b,((T=w==null?void 0:w.body)===null||T===void 0?void 0:T.message)||a("deployments.error-message-fetching"),!0)},P=[{label:a("deployments.name")},{label:a("deployments.build-id")},{label:a("deployments.deployed")},{label:a("deployments.actions")}];var V=et(),Y=i(V);Ce(Y,()=>[e(G)],w=>{{let T=o(()=>a("deployments.deployments")),Z=o(()=>a("common.per-page")),$=o(()=>a("common.next")),ee=o(()=>a("common.previous")),te=o(()=>a("deployments.empty-state-title")),j=o(()=>a("deployments.error-message-fetching"));qe(w,{get onFetch(){return e(X)},onError:k,get"aria-label"(){return e(T)},get pageSizeSelectLabel(){return e(Z)},get nextButtonLabel(){return e($)},get previousButtonLabel(){return e(ee)},get emptyStateMessage(){return e(te)},get errorMessage(){return e(j)},children:De,$$slots:{default:(p,L)=>{const l=o(()=>L.visibleItems);var u=ae(),c=R(u);ge(c,17,()=>e(l),ke,(h,d)=>{Oe(h,{get deployment(){return e(d)},get columns(){return P}})}),r(p,u)},caption:(p,L)=>{var l=Ue(),u=i(l,!0);s(l),B(c=>C(u,c),[()=>a("deployments.deployments")]),r(p,l)},header:(p,L)=>{var l=Xe(),u=i(l),c=i(u),h=i(c,!0);s(c);var d=x(c,2);Ee(d,{class:"shrink-0",children:(_,ne)=>{O();var F=oe("Public Preview");r(_,F)},$$slots:{default:!0}}),s(u),s(l),B(_=>C(h,_),[()=>a("deployments.worker-deployments")]),r(p,l)},headers:(p,L)=>{var l=Ze();ge(l,21,()=>P,ke,(u,c)=>{let h=()=>e(c).label;var d=Ye(),_=i(d,!0);s(d),B(()=>C(_,h())),r(u,d)}),s(l),r(p,l)},empty:(p,L)=>{{let l=o(()=>a("deployments.empty-state-title"));je(p,{get title(){return e(l)},class:"px-4",children:(u,c)=>{var h=$e(),d=R(h),_=x(i(d));_e(_,{href:"https://docs.temporal.io/worker-deployments",newTab:!0,children:(W,le)=>{O();var se=oe("Learn more");r(W,se)},$$slots:{default:!0}}),O(),s(d);var ne=x(d,2);{var F=W=>{Ae(W,{intent:"warning",icon:"warning",class:"px-12",children:(le,se)=>{O();var ie=oe();B(()=>C(ie,e(b))),r(le,ie)},$$slots:{default:!0}})};g(ne,W=>{e(b)&&W(F)})}r(u,h)},$$slots:{default:!0}})}}}})}}),s(V),r(U,V),he()}var rt=v("<!> <!>",1);function Tt(U,t){xe(t,!1);const b=()=>we(Te,"$page",G),[G,X]=Ve();Ie();var k=rt(),P=R(k);Be(P,{title:"Deployments",get url(){return b().url.href}});var V=x(P,2);tt(V,{}),r(U,k),he(),X()}export{Tt as component};
