import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as he,f as m,i as ne,c as E,g as e,e as r,r as l,b as xe,j as d,n as X,k as le,t as B,u as o,h as _,q as De,al as Se,s as be}from"../chunks/yn9lut7I.js";import{i as Ie}from"../chunks/Bk16Yghv.js";import{s as Pe,a as we}from"../chunks/C6jR5PNA.js";import{p as Te}from"../chunks/Qoo6im7o.js";import{P as Be}from"../chunks/DUSMGXax.js";import{s as C}from"../chunks/B95CcGmx.js";import{i as g}from"../chunks/Bw1cG9kR.js";import{k as Ce}from"../chunks/CfWyzvfP.js";import{e as ge,i as ke}from"../chunks/B0gjW5Lu.js";import{p as Le}from"../chunks/B-nzi3Wo.js";import{T as fe}from"../chunks/Dwyz3ESx.js";import{L as _e}from"../chunks/SFBgZfCS.js";import{t as a}from"../chunks/DEjs8ZrU.js";import{g as Ve}from"../chunks/CT3a8W8Y.js";import{j as Fe,o as We}from"../chunks/BKT9gvQj.js";import{D as ye}from"../chunks/D-qeEgPU.js";import{A as Ae}from"../chunks/DbXm5z4s.js";import{B as Ee}from"../chunks/TpdbhCNd.js";import{E as je}from"../chunks/CCu90O8D.js";import{A as qe}from"../chunks/C1hHRgl6.js";import{f as Me}from"../chunks/C_Cq2mtL.js";var ze=m('<td class="py-1 text-left"><!></td>'),Ne=m('<div class="flex items-center gap-2"> <!></div>'),Qe=m('<div class="flex items-center gap-2"> <!></div>'),Re=m('<td class="whitespace-pre-line break-words py-1 text-left"><div class="flex flex-col gap-1"><!> <!> <div class="flex items-center gap-2"> <!></div></div></td>'),Ge=m("<p>-</p>"),He=m('<td class="truncate py-1 text-left"><div class="flex flex-col gap-1"><!> <!> <!></div></td>'),Je=m('<td class="w-24 truncate py-1"><!></td>'),Ke=m("<tr></tr>");function Oe(Y,t){he(t,!0);const k=()=>we(Te,"$page",G),[G,Z]=Pe();var V,P,L,j,q,$,ee,te,v,b;const w=o(()=>(P=(V=t.deployment===null||t.deployment===void 0?void 0:t.deployment.latestVersionSummary)===null||V===void 0?void 0:V.deploymentVersion)===null||P===void 0?void 0:P.buildId),H=o(()=>((j=(L=t.deployment===null||t.deployment===void 0?void 0:t.deployment.rampingVersionSummary)===null||L===void 0?void 0:L.deploymentVersion)===null||j===void 0?void 0:j.buildId)||Ve((q=t.deployment===null||t.deployment===void 0?void 0:t.deployment.routingConfig)===null||q===void 0?void 0:q.rampingVersion)),se=o(()=>(($=t.deployment===null||t.deployment===void 0?void 0:t.deployment.rampingVersionSummary)===null||$===void 0?void 0:$.createTime)||((ee=t.deployment===null||t.deployment===void 0?void 0:t.deployment.routingConfig)===null||ee===void 0?void 0:ee.rampingVersionChangedTime)),re=o(()=>((v=(te=t.deployment===null||t.deployment===void 0?void 0:t.deployment.currentVersionSummary)===null||te===void 0?void 0:te.deploymentVersion)===null||v===void 0?void 0:v.buildId)||Ve((b=t.deployment===null||t.deployment===void 0?void 0:t.deployment.routingConfig)===null||b===void 0?void 0:b.currentVersion)),ie=o(()=>e(w)!==e(H)&&e(w)!==e(re)),h=o(()=>e(re)!=="__unversioned__"),J=o(()=>e(h)?e(re):a("deployments.unversioned"));var s=Ke();ge(s,21,()=>t.columns,({label:u})=>u,(u,F)=>{let x=()=>e(F).label;var c=ne(),ae=E(c);{var ve=f=>{var T=ze(),K=d(T);{let O=o(()=>Fe({namespace:k().params.namespace,deployment:t.deployment.name}));_e(K,{get href(){return e(O)},children:(ue,M)=>{X();var D=le();B(()=>C(D,t.deployment.name)),r(ue,D)},$$slots:{default:!0}})}l(T),r(f,T)},pe=f=>{var T=ne(),K=E(T);{var O=M=>{var D=Re(),de=d(D),me=d(de);{var ce=i=>{var p=Ne(),I=d(p),U=_(I);{let n=o(()=>a("deployments.latest"));ye(U,{status:"Latest",get label(){return e(n)}})}l(p),B(()=>C(I,`${e(w)??""} `)),r(i,p)};g(me,i=>{e(w)&&e(ie)&&i(ce)})}var S=_(me,2);{var W=i=>{var p=Qe(),I=d(p),U=_(I);{var n=y=>{{let R=o(()=>a("deployments.ramping-percentage",{percentage:t.deployment.routingConfig.rampingVersionPercentage}));ye(y,{status:"Ramping",get label(){return e(R)}})}};g(U,y=>{var R,oe;(oe=(R=t.deployment)==null?void 0:R.routingConfig)!=null&&oe.rampingVersionPercentage&&y(n)})}l(p),B(()=>C(I,`${e(H)??""} `)),r(i,p)};g(S,i=>{e(H)&&i(W)})}var z=_(S,2),N=d(z),Q=_(N);{var A=i=>{{let p=o(()=>a("deployments.current"));ye(i,{status:"Current",get label(){return e(p)}})}};g(Q,i=>{e(h)&&i(A)})}l(z),l(de),l(D),B(()=>C(N,`${e(J)??""} `)),r(M,D)},ue=M=>{var D=ne(),de=E(D);{var me=S=>{var W=He(),z=d(W),N=d(z);{var Q=n=>{fe(n,{as:"p",get dateTime(){return t.deployment.latestVersionSummary.createTime}})};g(N,n=>{var y;e(w)&&e(ie)&&((y=t.deployment.latestVersionSummary)!=null&&y.createTime)&&n(Q)})}var A=_(N,2);{var i=n=>{fe(n,{as:"p",get dateTime(){return e(se)}})};g(A,n=>{e(H)&&e(se)&&n(i)})}var p=_(A,2);{var I=n=>{{let y=o(()=>{var R,oe;return((oe=(R=t.deployment)==null?void 0:R.currentVersionSummary)==null?void 0:oe.createTime)||t.deployment.createTime});fe(n,{as:"p",get dateTime(){return e(y)}})}},U=n=>{var y=Ge();r(n,y)};g(p,n=>{e(h)?n(I):n(U,!1)})}l(z),l(W),r(S,W)},ce=S=>{var W=ne(),z=E(W);{var N=Q=>{var A=Je(),i=d(A);{let p=o(()=>We({namespace:k().params.namespace,query:`TemporalWorkerDeployment="${t.deployment.name}"`}));_e(i,{icon:"external-link",get href(){return e(p)},children:(I,U)=>{X();var n=le();B(y=>C(n,y),[()=>a("deployments.go-to-workflows")]),r(I,n)},$$slots:{default:!0}})}l(A),r(Q,A)};g(z,Q=>{x()===a("deployments.actions")&&Q(N)},!0)}r(S,W)};g(de,S=>{x()===a("deployments.deployed")?S(me):S(ce,!1)},!0)}r(M,D)};g(K,M=>{x()===a("deployments.build-id")?M(O):M(ue,!1)},!0)}r(f,T)};g(ae,f=>{x()===a("deployments.name")?f(ve):f(pe,!1)})}r(u,c)}),l(s),r(Y,s),xe(),Z()}var Ue=m('<caption class="sr-only" slot="caption"> </caption>'),Xe=m("<th> </th>"),Ye=m('<tr slot="headers" class="text-left"></tr>'),Ze=m('<p class="text-center">Enable Worker Deployments to manage your workers more effectively. <!>.</p> <!>',1),$e=m('<div class="flex flex-wrap items-center gap-2"><h1> </h1> <!></div> <!>',1);function et(Y,t){he(t,!0);let k=Se("");const G=o(()=>Le.params.namespace),Z=o(()=>()=>(be(k,""),Me(e(G),"",V))),V=v=>{var b;be(k,((b=v==null?void 0:v.body)===null||b===void 0?void 0:b.message)||a("deployments.error-message-fetching"),!0)},P=[{label:a("deployments.name")},{label:a("deployments.build-id")},{label:a("deployments.deployed")},{label:a("deployments.actions")}];var L=$e(),j=E(L),q=d(j),$=d(q,!0);l(q);var ee=_(q,2);Ee(ee,{class:"shrink-0",children:(v,b)=>{X();var w=le("Public Preview");r(v,w)},$$slots:{default:!0}}),l(j);var te=_(j,2);Ce(te,()=>[e(G)],v=>{{let b=o(()=>a("deployments.deployments")),w=o(()=>a("common.per-page")),H=o(()=>a("common.next")),se=o(()=>a("common.previous")),re=o(()=>a("deployments.empty-state-title")),ie=o(()=>a("deployments.error-message-fetching"));qe(v,{get onFetch(){return e(Z)},onError:V,get"aria-label"(){return e(b)},get pageSizeSelectLabel(){return e(w)},get nextButtonLabel(){return e(H)},get previousButtonLabel(){return e(se)},get emptyStateMessage(){return e(re)},get errorMessage(){return e(ie)},children:De,$$slots:{default:(h,J)=>{const s=o(()=>J.visibleItems);var u=ne(),F=E(u);ge(F,17,()=>e(s),ke,(x,c)=>{Oe(x,{get deployment(){return e(c)},get columns(){return P}})}),r(h,u)},caption:(h,J)=>{var s=Ue(),u=d(s,!0);l(s),B(F=>C(u,F),[()=>a("deployments.deployments")]),r(h,s)},headers:(h,J)=>{var s=Ye();ge(s,21,()=>P,ke,(u,F)=>{let x=()=>e(F).label;var c=Xe(),ae=d(c,!0);l(c),B(()=>C(ae,x())),r(u,c)}),l(s),r(h,s)},empty:(h,J)=>{{let s=o(()=>a("deployments.empty-state-title"));je(h,{get title(){return e(s)},class:"px-4",children:(u,F)=>{var x=Ze(),c=E(x),ae=_(d(c));_e(ae,{href:"https://docs.temporal.io/worker-deployments",newTab:!0,children:(f,T)=>{X();var K=le("Learn more");r(f,K)},$$slots:{default:!0}}),X(),l(c);var ve=_(c,2);{var pe=f=>{Ae(f,{intent:"warning",icon:"warning",class:"px-12",children:(T,K)=>{X();var O=le();B(()=>C(O,e(k))),r(T,O)},$$slots:{default:!0}})};g(ve,f=>{e(k)&&f(pe)})}r(u,x)},$$slots:{default:!0}})}}}})}}),B(v=>C($,v),[()=>a("deployments.worker-deployments")]),r(Y,L),xe()}var tt=m("<!> <!>",1);function wt(Y,t){he(t,!1);const k=()=>we(Te,"$page",G),[G,Z]=Pe();Ie();var V=tt(),P=E(V);Be(P,{title:"Deployments",get url(){return k().url.href}});var L=_(P,2);et(L,{}),r(Y,V),xe(),Z()}export{wt as component};
