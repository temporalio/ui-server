import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as pe,f as c,i as U,c as u,g as e,e as o,r as s,b as ue,j as l,t as L,u as r,h as b,n as de,k as ve,q as ke,o as Se}from"../chunks/CckrFwdx.js";import{i as Ve}from"../chunks/ebNgFJjp.js";import{s as ye,a as be}from"../chunks/BioCYJcK.js";import{p as he}from"../chunks/Co9pqzXw.js";import{P as Ie}from"../chunks/CuqmI6m2.js";import{s as S}from"../chunks/_IQD3yTx.js";import{a as Te}from"../chunks/BAVlD7Ho.js";import{e as ce,i as ge}from"../chunks/BTEtt5uP.js";import{p as le}from"../chunks/BhGQmvqi.js";import{i as H}from"../chunks/CoMawi-e.js";import{T as me}from"../chunks/CQySA5La.js";import{L as xe}from"../chunks/DEHKhfBl.js";import{t as a}from"../chunks/DEjs8ZrU.js";import{i as Q,g as Pe,a as Be,b as Ne}from"../chunks/CT3a8W8Y.js";import{o as we,p as Ce}from"../chunks/36bPZuyF.js";import{f as _e}from"../chunks/DNNVWk-J.js";import{D as Fe}from"../chunks/yPeaf03U.js";import{B as Le}from"../chunks/Cx8SgSt0.js";import{I as We}from"../chunks/POwFeHBs.js";import{T as qe}from"../chunks/bAuutSbF.js";import{P as je}from"../chunks/BqKZix1W.js";import{a as Ee}from"../chunks/NC25bRLP.js";import{d as Re}from"../chunks/vO_crHjm.js";var He=c('<td class="text-left"> </td>'),Qe=c("Since <!>",1),Ue=c("Since <!>",1),ze=c('<td class="text-left"><div class="flex items-center gap-2"><!> <!></div></td>'),Ae=c('<td class="w-24 whitespace-pre-line break-words"><!></td>'),Ge=c("<tr></tr>");function Je(z,t){pe(t,!0);const V=()=>be(he,"$page",h),[h,A]=ye();var I,x,f,w;const T=r(()=>(I=t.routingConfig.currentDeploymentVersion)===null||I===void 0?void 0:I.deploymentName),Z=r(()=>(x=t.routingConfig.currentDeploymentVersion)===null||x===void 0?void 0:x.buildId),G=r(()=>(f=t.routingConfig.rampingDeploymentVersion)===null||f===void 0?void 0:f.deploymentName),$=r(()=>(w=t.routingConfig.rampingDeploymentVersion)===null||w===void 0?void 0:w.buildId),J=r(()=>Q(t.version)?t.version.deploymentVersion.deploymentName:Be(t.version.version)),K=r(()=>Q(t.version)?t.version.deploymentVersion.buildId:Pe(t.version.version)),W=r(()=>e(J)===e(T)&&e(K)===e(Z)),P=r(()=>e(J)===e(G)&&e(K)===e($)),q=r(()=>Q(t.version)?t.version.status:t.version.drainageStatus),ee=r(()=>Q(t.version)?"WorkerDeploymentVersionStatus":"VersionDrainageStatus"),te=r(()=>e(W)?a("deployments.current"):e(P)?a("deployments.ramping"):e(q)?_e(e(q),e(ee)):a("common.inactive")),oe=r(()=>e(W)?a("deployments.current"):e(P)?a("deployments.ramping-percentage",{percentage:t.routingConfig.rampingVersionPercentage}):e(q)?_e(e(q),e(ee)):a("common.inactive"));var m=Ge();ce(m,21,()=>t.columns,({label:g})=>g,(g,B)=>{let d=()=>e(B).label;var j=U(),ne=u(j);{var _=n=>{var i=He(),y=l(i,!0);s(i),L(()=>S(y,e(K))),o(n,i)},M=n=>{var i=U(),y=u(i);{var O=D=>{var E=ze(),re=l(E),ae=l(re);Fe(ae,{get status(){return e(te)},get label(){return e(oe)}});var se=b(ae,2);{var k=v=>{var p=Qe(),C=b(u(p));me(C,{get dateTime(){return t.version.currentSinceTime}}),o(v,p)},R=v=>{var p=U(),C=u(p);{var X=Y=>{var F=Ue(),ie=b(u(F));me(ie,{get dateTime(){return t.version.rampingSinceTime}}),o(Y,F)};H(C,Y=>{var F;e(P)&&Q(t.version)&&((F=t.version)!=null&&F.rampingSinceTime)&&Y(X)},!0)}o(v,p)};H(se,v=>{var p;e(W)&&Q(t.version)&&((p=t.version)!=null&&p.currentSinceTime)?v(k):v(R,!1)})}s(re),s(E),o(D,E)},N=D=>{var E=U(),re=u(E);{var ae=k=>{{let R=r(()=>{var v;return(v=t.version)==null?void 0:v.createTime});me(k,{as:"td",class:"whitespace-pre-line break-words text-left",get dateTime(){return e(R)}})}},se=k=>{var R=U(),v=u(R);{var p=C=>{var X=Ae(),Y=l(X);{let F=r(()=>we({namespace:V().params.namespace,query:`TemporalWorkerDeploymentVersion="${Ne(t.version)}"`}));xe(Y,{icon:"external-link",get href(){return e(F)},children:(ie,$e)=>{de();var fe=ve();L(De=>S(fe,De),[()=>a("deployments.go-to-workflows")]),o(ie,fe)},$$slots:{default:!0}})}s(X),o(C,X)};H(v,C=>{d()===a("deployments.actions")&&C(p)},!0)}o(k,R)};H(re,k=>{d()===a("deployments.deployed")?k(ae):k(se,!1)},!0)}o(D,E)};H(y,D=>{d()===a("deployments.status")?D(O):D(N,!1)},!0)}o(n,i)};H(ne,n=>{d()===a("deployments.build-id")?n(_):n(M,!1)})}o(g,j)}),s(m),o(z,m),ue(),A()}var Ke=c('<caption class="sr-only" slot="caption"> </caption>'),Me=c("<th> </th>"),Oe=c('<tr slot="headers"></tr>'),Xe=c('<header class="flex flex-row flex-wrap justify-between gap-8 border-b border-subtle px-4 pb-4 pt-8 md:pt-20 xl:px-8"><div class="relative flex w-full flex-col gap-4"><div class="flex items-center gap-2"><!> <!> </div> <div class="flex w-full items-center justify-between"><h1> </h1> <!></div></div></header> <div class="p-8"><!></div>',1);function Ye(z,t){pe(t,!0);const V=r(()=>le.params.namespace),h=r(()=>le.params.deployment),A=r(()=>({namespace:e(V),deploymentName:Re(e(h))})),I=r(()=>we({namespace:le.params.namespace,query:`TemporalWorkerDeployment="${e(h)}"`})),x=r(()=>Ee(e(A))),f=[{label:a("deployments.build-id")},{label:a("deployments.status")},{label:a("deployments.deployed")},{label:a("deployments.actions")}];var w=Xe(),T=u(w),Z=l(T),G=l(Z),$=l(G);{let m=r(()=>Ce({namespace:e(V)}));xe($,{get href(){return e(m)},icon:"chevron-left",children:(g,B)=>{de();var d=ve();L(j=>S(d,j),[()=>a("deployments.back-to-deployments")]),o(g,d)},$$slots:{default:!0}})}var J=b($,2);We(J,{name:"chevron-left"});var K=b(J);s(G);var W=b(G,2),P=l(W),q=l(P,!0);s(P);var ee=b(P,2);Le(ee,{get href(){return e(I)},children:(m,g)=>{de();var B=ve();L(d=>S(B,d),[()=>a("deployments.go-to-workflows")]),o(m,B)},$$slots:{default:!0}}),s(W),s(Z),s(T);var te=b(T,2),oe=l(te);Te(oe,()=>e(x),m=>{qe(m,{rows:15})},(m,g)=>{{let B=r(()=>a("deployments.deployments")),d=r(()=>a("common.per-page")),j=r(()=>a("common.next-page")),ne=r(()=>a("common.previous-page"));je(m,{get"aria-label"(){return e(B)},get perPageLabel(){return e(d)},get nextPageButtonLabel(){return e(j)},get previousPageButtonLabel(){return e(ne)},pageButtonLabel:_=>a("common.go-to-page",{page:_}),get items(){return e(g).workerDeploymentInfo.versionSummaries},children:ke,$$slots:{default:(_,M)=>{const n=r(()=>M.visibleItems);var i=U(),y=u(i);ce(y,17,()=>e(n),ge,(O,N)=>{Je(O,{get routingConfig(){return e(g).workerDeploymentInfo.routingConfig},get version(){return e(N)},get columns(){return f}})}),o(_,i)},caption:(_,M)=>{var n=Ke(),i=l(n,!0);s(n),L(y=>S(i,y),[()=>a("deployments.deployments")]),o(_,n)},headers:(_,M)=>{var n=Oe();ce(n,21,()=>f,ge,(i,y)=>{let O=()=>e(y).label;var N=Me(),D=l(N,!0);s(N),L(()=>S(D,O())),o(i,N)}),s(n),o(_,n)}}})}}),s(te),L(()=>{S(K,` ${e(h)??""}`),S(q,e(h))}),o(z,w),ue()}var Ze=c("<!> <!>",1);function St(z,t){pe(t,!1);const V=()=>be(he,"$page",h),[h,A]=ye(),I=V().params.deployment;Ve();var x=Ze(),f=u(x);{let T=Se(()=>`Deployment | ${I}`);Ie(f,{get title(){return e(T)},get url(){return V().url.href}})}var w=b(f,2);Ye(w,{}),o(z,x),ue(),A()}export{St as component};
