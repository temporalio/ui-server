import"../chunks/Bzak7iHL.js";import"../chunks/69_IOA4Y.js";import{p as Ce,O as St,l as Te,a as $t,t as T,i as m,c as u,r as v,e as s,b as Ie,g as e,o as re,s as c,m as ve,M as vt,f as te,j as ae,ah as ye,ai as hr,u as l,aI as ht,n as me,k as pe,af as ta,h as Be,N as ra,K as Ke,ak as Ct,q as Lr}from"../chunks/DOHD4F2H.js";import{i as ut,s as It,t as mt,a as ba}from"../chunks/DX2YhGcN.js";import{p as ie,s as Ae,d as aa,a as p,c as S,m as Ve,e as yt,l as Mr,b as xa}from"../chunks/CgvkIcHY.js";import{p as Xt}from"../chunks/CIz588da.js";import{P as ya}from"../chunks/DF9GLY19.js";import{s as ne,e as Ht,q as ka,d as Ta}from"../chunks/iKtCZmbp.js";import{i as ee}from"../chunks/4jpKiR-7.js";import{a as At,d as oa,s as pt,c as kt}from"../chunks/BhNSfKsb.js";import{d as zt,w as Le,o as na}from"../chunks/BsnfN2fh.js";import{p as ke}from"../chunks/CTT-1s0x.js";import{M as ar}from"../chunks/De_MTP-8.js";import{t as i}from"../chunks/BXv1jDVW.js";import{T as dt,b as Ca,c as Ia}from"../chunks/CBC8ua9K.js";import{A as it}from"../chunks/TBME1SPK.js";import{b as Sa,c as Pa,e as Wa}from"../chunks/ORT8jMb_.js";import{t as $r}from"../chunks/CqzjqsBr.js";import{g as Ot,A as br,r as Qt,B as Va,w as xr,C as Da,n as ja,e as Ea}from"../chunks/Dwno4EKd.js";import{g as yr}from"../chunks/CCd1CAmv.js";import{i as kr}from"../chunks/DV_FlHO5.js";import{I as _t}from"../chunks/DvzjPhrS.js";import{R as qa,a as rr}from"../chunks/DIDS0FPN.js";import{a as Aa,w as Oa,b as Fa,T as La,C as Ma}from"../chunks/zyXnhEVq.js";import{d as Qa,c as nr,i as Jt,k as Ba,j as Na,h as Ra,e as Mt,l as Ua,a as za,b as Ha,C as Ka}from"../chunks/Cd3PnvZE.js";import{B as De}from"../chunks/BT9Zq29O.js";import{I as Vt}from"../chunks/DfISgQpk.js";import{T as Kt}from"../chunks/B_4T2BRM.js";import{a as Xa,g as sa}from"../chunks/CM1kQ1SO.js";import{e as ct,i as gt}from"../chunks/h55qdt6V.js";import{w as et}from"../chunks/D_rYoQnp.js";import{u as Ut,e as Bt,a as Tr}from"../chunks/yhHzyjLB.js";import{a as Ya,s as Gt,b as Zt,c as er,e as sr,d as lr,h as ir,j as cr,k as Qr,T as Ja,l as Br,t as la,m as Nr,n as Rr,f as ia,o as Ga,p as Ur,r as Za}from"../chunks/BDFbSVAj.js";import{D as dr,T as ur}from"../chunks/BtN1YO0b.js";import{C as eo}from"../chunks/DPbpt87D.js";import{M as Cr}from"../chunks/rYApD45a.js";import{c as Ir,d as Sr,b as tr}from"../chunks/DzcPu88b.js";import{S as zr,O as vr}from"../chunks/B2H4pNtO.js";import{T as Hr,a as fr}from"../chunks/BZ_4WRwi.js";import{e as Kr,j as Xr}from"../chunks/BDfAQ6r3.js";import{s as Yr,t as to}from"../chunks/D1mJS6mY.js";import{W as ro}from"../chunks/BLj37aqX.js";import{C as Pr}from"../chunks/0CIrvv84.js";import{S as qt}from"../chunks/S6Q2Q0ub.js";import{M as gr,i as ao,m as ca}from"../chunks/993UqjsS.js";import{d as oo,s as Wr}from"../chunks/C3UEgiin.js";import{t as Tt,s as Wt,f as no}from"../chunks/VuWJBAT-.js";import{c as wr}from"../chunks/CyjWABYi.js";import{u as _r}from"../chunks/CjLvKF1H.js";import{W as so}from"../chunks/Cr6MPFXA.js";import{k as lo}from"../chunks/CcfqsO14.js";import{A as io}from"../chunks/CK5Z_5Ma.js";import{L as Jr}from"../chunks/Dqip_SBq.js";import{u as co}from"../chunks/Dtsvi0xK.js";import{A as uo}from"../chunks/C5n-_kep.js";import{c as vo,e as fo}from"../chunks/BYh92ap_.js";import{e as mo,T as Gr}from"../chunks/DegDvaFh.js";import{T as po}from"../chunks/DTIYfzFc.js";import{s as da,i as Vr}from"../chunks/BSjQHQ5S.js";import{t as Dr,s as go}from"../chunks/y6BynjLq.js";import{c as wo}from"../chunks/DOn_qA8-.js";import{w as ua}from"../chunks/CGZ5_N1A.js";import{A as va}from"../chunks/CPDB8Lf9.js";import{a as _o}from"../chunks/ccbAug2b.js";import{p as ho}from"../chunks/BiwUG45a.js";import{s as jr}from"../chunks/wzfd2ij_.js";import{c as $o}from"../chunks/tJ49ORiz.js";import{l as bo}from"../chunks/Dk_FBisY.js";const xo=!1,Dl=Object.freeze(Object.defineProperty({__proto__:null,ssr:xo},Symbol.toStringTag,{value:"Module"}));var yo=T('<p class="mb-2"><!></p> <div class="surface-subtle mb-2 overflow-scroll whitespace-nowrap border border-subtle p-2"><code data-testid="batch-action-workflows-query"> </code></div> <span class="text-xs"><!></span>',1),ko=T("<p><!></p>"),To=T('<div class="mb-4 flex flex-col gap-4"><!> <!> <!> <!></div>');function Er(q,t){Ce(t,!1);const[n,L]=Ae(),a=()=>p(x,"$allSelected",n),_=()=>p(Ot,"$workflowsQuery",n),w=()=>p(e(f),"$operableWorkflowsCount",n),D=ve(),f=ve();let k=ie(t,"action",8),C=ie(t,"reason",12),o=ie(t,"jobId",12),y=ie(t,"reasonPlaceholder",8),A=ie(t,"jobIdPlaceholder",8),P=ie(t,"jobIdValid",12);const{allSelected:x,terminableWorkflows:M,cancelableWorkflows:O,selectedWorkflows:Y}=St(Dt),z=V=>{switch(V){case it.Cancel:return i("common.cancel");case it.Terminate:return i("workflows.terminate");case it.Reset:return i("workflows.reset")}},j=V=>zt([O,M,Y],([R,N,se])=>{switch(V){case it.Cancel:return R.length;case it.Terminate:return N.length;case it.Reset:return se.length}}),r=V=>{P(/^[\w.~-]*$/.test(V.target.value))};Te(()=>vt(k()),()=>{c(D,z(k()))}),Te(()=>vt(k()),()=>{aa(c(f,j(k())),"$operableWorkflowsCount",n)}),$t(),ut();var F=To(),I=m(F);{var h=V=>{var R=yo(),N=te(R),se=m(N);const le=re(()=>({action:e(D)}));dt(se,{key:"workflows.batch-operation-confirmation-all",get replace(){return e(le)}}),v(N);var B=u(N,2),oe=m(B),Q=m(oe,!0);v(oe),v(B);var X=u(B,2),U=m(X);const ce=re(()=>({action:e(D)}));dt(U,{key:"workflows.batch-operation-count-disclaimer",get replace(){return e(ce)}}),v(X),ae(()=>ne(Q,_())),s(V,R)},d=V=>{var R=ko(),N=m(R);{var se=B=>{dt(B,{key:"workflows.batch-reset-confirmation",get count(){return w()}})},le=B=>{const oe=re(()=>({action:e(D)}));dt(B,{key:"workflows.batch-confirmation",get replace(){return e(oe)},get count(){return w()}})};ee(N,B=>{k()===it.Reset?B(se):B(le,!1)})}v(R),s(V,R)};ee(I,V=>{a()?V(h):V(d,!1)})}var K=u(I,2);const b=re(()=>i("common.reason")),H=re(()=>i("workflows.batch-operation-confirmation-input-hint",{placeholder:y()}));_t(K,{get id(){return`bulk-action-reason-${k()??""}`},get label(){return e(b)},get hintText(){return e(H)},get placeholder(){return y()},get value(){return C()},set value(V){C(V)},$$legacy:!0});var W=u(K,2);const Z=re(()=>i("common.job-id")),J=re(()=>P()?i("batch.job-id-input-hint"):i("batch.job-id-input-error"));_t(W,{id:"batch-operation-job-id",get label(){return e(Z)},get hintText(){return e(J)},get placeholder(){return A()},get valid(){return P()},get value(){return o()},set value(V){o(V)},$$events:{input:r},$$legacy:!0});var E=u(W,2);It(E,t,"default",{},null),v(F),s(q,F),Ie(),L()}var Co=T('<h3 slot="title"><!></h3>');function Io(q,t){Ce(t,!1);const[n,L]=Ae(),a=()=>p(A,"$reason",n),_=()=>p(x,"$jobId",n),w=()=>p(M,"$jobIdValid",n),D=()=>p(z,"$allSelected",n),f=()=>p(Ot,"$workflowsQuery",n),k=()=>p(j,"$cancelableWorkflows",n);let C=ie(t,"namespace",8),o=ie(t,"open",12);const y=yr(),A=Le(""),P=br(it.Cancel,y),x=Le(""),M=Le(!0);let O=ve(crypto.randomUUID()),Y=ve("");const{allSelected:z,cancelableWorkflows:j}=St(Dt),r=()=>{S(A,""),S(x,""),S(M,!0),c(O,crypto.randomUUID())},F=async()=>{c(Y,"");const d={namespace:C(),reason:a()?`${a()} ${P}`:P,jobId:_()||e(O),...D()?{query:f()}:{workflows:k()}};try{await Sa(d),o(!1),r(),$r.push({message:i("workflows.batch-cancel-all-success"),id:"batch-cancel-success-toast"})}catch(K){c(Y,kr(K)?K.message:i("common.unknown-error"))}};Te(()=>vt(o()),()=>{o()&&r()}),$t(),ut();const I=re(()=>i("common.cancel")),h=re(()=>i("common.confirm"));ar(q,{id:"batch-cancel-confirmation-modal","data-testid":"batch-cancel-confirmation",confirmType:"destructive",get cancelText(){return e(I)},confirmDisabled:!M,get confirmText(){return e(h)},get open(){return o()},set open(d){o(d)},get error(){return e(Y)},set error(d){c(Y,d)},$$events:{confirmModal:F},$$slots:{title:(d,K)=>{var b=Co(),H=m(b);dt(H,{key:"workflows.batch-cancel-modal-title"}),v(b),s(d,b)},content:(d,K)=>{Er(d,{get jobIdPlaceholder(){return e(O)},reasonPlaceholder:P,get action(){return it.Cancel},get reason(){return Ve(),a()},set reason(b){S(A,b)},get jobId(){return Ve(),_()},set jobId(b){S(x,b)},get jobIdValid(){return Ve(),w()},set jobIdValid(b){S(M,b)},$$legacy:!0})}},$$legacy:!0}),Ie(),L()}var So=T('<h3 slot="title"><!></h3>'),Po=T("<!> <!>",1);function Wo(q,t){Ce(t,!1);const[n,L]=Ae(),a=()=>p(O,"$reason",n),_=()=>p(z,"$jobId",n),w=()=>p(j,"$jobIdValid",n),D=()=>p(e(x),"$resetType",n),f=()=>p(r,"$allSelected",n),k=()=>p(Ot,"$workflowsQuery",n),C=()=>p(F,"$selectedWorkflows",n);let o=ie(t,"namespace",8),y=ie(t,"open",12,!1),A=ve(""),P=ve(crypto.randomUUID()),x=ve(Le("first"));const M=yr(),O=Le(""),Y=br(it.Reset,M),z=Le(""),j=Le(!0),{allSelected:r,selectedWorkflows:F}=St(Dt),I=()=>{S(O,""),S(z,""),S(j,!0),c(P,crypto.randomUUID())},h=async()=>{c(A,"");const b={namespace:o(),reason:a()?`${a()} ${Y}`:Y,jobId:_()||e(P),resetType:D(),...f()?{query:k()}:{workflows:C()}};try{await Pa(b),y(!1),I(),$r.push({message:i("workflows.batch-reset-all-success"),id:"batch-reset-success-toast"})}catch(H){c(A,kr(H)?H.message:i("common.unknown-error"))}};Te(()=>vt(y()),()=>{y()&&I()}),$t(),ut();const d=re(()=>i("common.cancel")),K=re(()=>i("workflows.reset"));ar(q,{get cancelText(){return e(d)},get confirmText(){return e(K)},id:"batch-reset-confirmation-modal",confirmType:"destructive",get error(){return e(A)},set error(b){c(A,b)},get open(){return y()},set open(b){y(b)},$$events:{confirmModal:h},$$slots:{title:(b,H)=>{var W=So(),Z=m(W);dt(Z,{key:"workflows.batch-reset-modal-title"}),v(W),s(b,W)},content:(b,H)=>{Er(b,{get jobIdPlaceholder(){return e(P)},reasonPlaceholder:Y,get action(){return it.Reset},get reason(){return Ve(),a()},set reason(W){S(O,W)},get jobId(){return Ve(),_()},set jobId(W){S(z,W)},get jobIdValid(){return Ve(),w()},set jobIdValid(W){S(j,W)},children:(W,Z)=>{const J=re(()=>i("workflows.reset-event-radio-group-description"));qa(W,{get description(){return e(J)},name:"reset-event",get group(){return e(x)},set group(E){aa(c(x,E),"$resetType",n)},children:(E,V)=>{var R=Po(),N=te(R);rr(N,{id:"reset-event-first",value:"first",label:"First Workflow task"});var se=u(N,2);rr(se,{id:"reset-event-last",value:"last",label:"Last Workflow task"}),s(E,R)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})}},$$legacy:!0}),Ie(),L()}var Vo=T('<h3 slot="title"><!></h3>');function Do(q,t){Ce(t,!1);const[n,L]=Ae(),a=()=>p(A,"$reason",n),_=()=>p(x,"$jobId",n),w=()=>p(M,"$jobIdValid",n),D=()=>p(z,"$allSelected",n),f=()=>p(Ot,"$workflowsQuery",n),k=()=>p(j,"$terminableWorkflows",n);let C=ie(t,"namespace",8),o=ie(t,"open",12);const y=yr(),A=Le(""),P=br(it.Terminate,y),x=Le(""),M=Le(!0);let O=ve(crypto.randomUUID()),Y=ve("");const{allSelected:z,terminableWorkflows:j}=St(Dt),r=()=>{S(A,""),S(x,""),S(M,!0),c(O,crypto.randomUUID())},F=async()=>{c(Y,"");try{const d={namespace:C(),reason:a()?`${a()} ${P}`:P,jobId:_()||e(O),...D()?{query:f()}:{workflows:k()}};await Wa(d),o(!1),r(),$r.push({message:i("workflows.batch-terminate-all-success"),id:"batch-terminate-success-toast"})}catch(d){c(Y,kr(d)?d.message:i("common.unknown-error"))}};Te(()=>vt(o()),()=>{o()&&r()}),$t(),ut();const I=re(()=>i("common.cancel")),h=re(()=>i("workflows.terminate"));ar(q,{id:"batch-terminate-confirmation-modal","data-testid":"batch-terminate-confirmation",confirmType:"destructive",get cancelText(){return e(I)},confirmDisabled:!M,get confirmText(){return e(h)},get open(){return o()},set open(d){o(d)},get error(){return e(Y)},set error(d){c(Y,d)},$$events:{confirmModal:F},$$slots:{title:(d,K)=>{var b=Vo(),H=m(b);dt(H,{key:"workflows.batch-terminate-modal-title"}),v(b),s(d,b)},content:(d,K)=>{Er(d,{reasonPlaceholder:P,get jobIdPlaceholder(){return e(O)},get action(){return it.Terminate},get reason(){return Ve(),a()},set reason(b){S(A,b)},get jobId(){return Ve(),_()},set jobId(b){S(x,b)},get jobIdValid(){return Ve(),w()},set jobIdValid(b){S(M,b)},$$legacy:!0})}},$$legacy:!0}),Ie(),L()}var jo=T(' <span class="max-w-[160px] truncate pl-1 text-brand lg:max-w-full"> </span>',1),Eo=T('<div class="space-y-3"><!> <!></div>'),qo=T('<div class="flex flex-col gap-2"><!> <!></div> <div class="flex flex-col gap-2"><!> <!></div>',1),Ao=T('<div class="flex flex-col"><!> <div class="ml-6 flex gap-2 pt-2"><!> <!></div></div> <div class="flex flex-col gap-2"><!> <div class="ml-6 flex flex-col gap-2"><!> <!></div></div>',1),Oo=T('<div class="space-y-3 lg:min-w-[360px]"><!> <!> <p class="flex items-center justify-end gap-1 text-sm text-secondary"><!> </p></div>'),Fo=T('<div class="space-y-3"><!> <!></div>'),Lo=T('<div class="space-y-2"><!> <!></div>'),Mo=T("<!> <!>",1),Qo=T('<div class="space-y-2"><!></div>'),Bo=T("<!> <!>",1),No=T('<div class="space-y-2"><!> <!></div>'),Ro=T('<form><div class="space-y-4"><div class="flex items-center justify-between"><h3 class="text-sm font-medium"> </h3></div> <!> <div class="flex justify-end gap-2"><!> <!></div></div></form>'),Uo=T("<!> <!>",1);function zo(q,t){Ce(t,!0);const[n,L]=Ae(),a=()=>p(la,"$timeFormat",n),_=()=>p(j,"$open",n),w=()=>p(Nr,"$startDate",n),D=()=>p(er,"$startHour",n),f=()=>p(Zt,"$startMinute",n),k=()=>p(Gt,"$startSecond",n),C=()=>p(Rr,"$endDate",n),o=()=>p(ir,"$endHour",n),y=()=>p(lr,"$endMinute",n),A=()=>p(sr,"$endSecond",n),P=()=>p(cr,"$timeFormatType",n),x=()=>p(Qr,"$relativeTimeDuration",n),M=()=>p(Br,"$relativeTimeUnit",n),O=(Q,X=ta)=>{Hr(Q,{children:(U,ce)=>{var Pe=Be(),Se=te(Pe);ct(Se,17,X,gt,(Xe,we)=>{const je=l(()=>e(r).conditional===e(we).value);fr(Xe,{variant:"secondary",get active(){return e(je)},size:"xs",$$events:{click:()=>{Kr(e(we).value)?e(r).value=null:e(h)&&(e(r).value=t.filter.value),e(r).conditional=e(we).value}},children:(Oe,tt)=>{me();var ot=pe();ae(()=>ne(ot,e(we).label)),s(Oe,ot)},$$slots:{default:!0}})}),s(U,Pe)},$$slots:{default:!0}})};let Y=ie(t,"index",3,0),z=ie(t,"openIndex",3,null);const j=Le(!1);let r=ye(hr({...t.filter}));const F=l(()=>`dropdown-filter-chip-${t.filter.attribute}-${Y()}`);let I=l(()=>Qa(e(r).value));const h=l(()=>Kr(e(r).conditional)),d=l(()=>e(r).conditional==="BETWEEN"),K=l(()=>Ya(a())),b=[{value:"is",label:i("common.is-null")},{value:"is not",label:i("common.is-not-null")}],H=[{value:"=",label:i("common.equal-to"),id:"equal-to"},{value:"!=",label:i("common.not-equal-to"),id:"not-equal-to"},{value:"STARTS_WITH",label:i("common.starts-with"),id:"starts-with"},...b],W=[{value:"<=",label:i("common.before")},{value:"BETWEEN",label:i("common.between")},{value:">=",label:i("common.after")},...b],Z=[{value:">",label:">",id:"greater-than"},{value:">=",label:">=",id:"greater-than-equal"},{value:"=",label:"=",id:"equal-to"},{value:"!=",label:"!=",id:"not-equal-to"},{value:"<=",label:"<=",id:"less-than-equal"},{value:"<",label:"<",id:"less-than"},...b],J=[{value:"in",label:"In"},{value:"=",label:i("common.equal-to")},{value:"!=",label:i("common.not-equal-to")},...b];function E(Q){const{attribute:X,conditional:U}=Q;if(Jt(Q)){if(Q.customDate)return`${X} Between`;const ce=U==="<"?i("common.before").toLowerCase():U===">"?i("common.after").toLowerCase():U;return`${X} ${ce}`}if(nr(Q)){const ce=U==="STARTS_WITH"?i("common.starts-with").toLowerCase():U;return`${X} ${ce}`}return`${X} ${U}`}function V(Q){const{value:X}=Q;return Mt(Q)?X:e(h)?"null":Jt(Q)?Q.customDate?X.split("BETWEEN")[1]:ia(X,a(),{relative:!0,abbrFormat:!0}):nr(Q)?`"${X}"`:X}function R(Q){Q.preventDefault(),Xr(e(r).conditional)?e(r).value=`(${e(I).map(X=>`"${X}"`).join(", ")})`:Jt(e(r))&&oe(),t.onUpdate(e(r)),S(j,!1)}function N(Q){return Q?isNaN(Number(Q))||isNaN(parseFloat(Q)):!1}const se=Q=>{S(Nr,Yr(Q.detail)),S(er,""),S(Zt,""),S(Gt,"")},le=Q=>{S(Rr,Yr(Q.detail)),S(ir,""),S(lr,""),S(sr,"")},B=(Q,X)=>{let U=new Date(Q);return X.hour&&(U=Ca(U,parseInt(X.hour))),X.minute&&(U=za(U,parseInt(X.minute))),X.second&&(U=Ha(U,parseInt(X.second))),U},oe=()=>{if(!e(h))if(P()==="relative"&&!e(d)){if(!x())return;e(r).value=to(`${x()} ${M()}`),e(r).customDate=!1}else{let Q=B(w(),{hour:D(),minute:f(),second:k()}),X=B(C(),{hour:o(),minute:y(),second:A()});const U=Ga(a()),ce=Ur.zonedTimeToUtc(Q,U).toISOString(),Pe=Ur.zonedTimeToUtc(X,U).toISOString(),Se=e(d)?`BETWEEN "${ce}" AND "${Pe}"`:ce;e(r).value=Se,e(d)?(e(r).customDate=!0,e(r).conditional="BETWEEN"):e(r).customDate=!1}};ht(()=>{z()===Y()&&S(j,!0)}),ht(()=>{_()||c(r,{...t.filter},!0)}),Ir(q,{open:j,children:(Q,X)=>{var U=Uo(),ce=te(U);Cr(ce,{size:"xs",get controls(){return e(F)},hasIndicator:!0,class:"bg-secondary",children:(Se,Xe)=>{me();var we=jo(),je=te(we,!0),Oe=u(je),tt=m(Oe,!0);v(Oe),ae((ot,Pt)=>{ne(je,ot),ne(tt,Pt)},[()=>E(e(r)),()=>V(e(r))]),s(Se,we)},$$slots:{default:!0}});var Pe=u(ce,2);Sr(Pe,{get id(){return e(F)},class:"max-h-fit w-64 p-4 lg:max-w-fit",children:(Se,Xe)=>{var we=Ro(),je=m(we),Oe=m(je),tt=m(Oe),ot=m(tt);v(tt),v(Oe);var Pt=u(Oe,2);{var Ft=Je=>{var Ge=Eo(),rt=m(Ge);O(rt,()=>H);var bt=u(rt,2);const nt=l(()=>`${e(F)}-text`);_t(bt,{get id(){return e(nt)},label:"Value",placeholder:"Enter value...",get disabled(){return e(h)},get value(){return e(r).value},set value(g){e(r).value=g}}),v(Ge),s(Je,Ge)},Lt=(Je,Ge)=>{{var rt=nt=>{var g=Oo(),$=m(g);O($,()=>W);var ue=u($,2);{var Me=xe=>{var Re=qo(),Qe=te(Re),Ue=m(Qe);const de=l(()=>i("common.start")),fe=l(()=>new Date(w())),ge=l(()=>i("common.today")),Ee=l(()=>i("common.close")),$e=l(()=>i("common.clear-input-button-label"));dr(Ue,{get label(){return e(de)},get selected(){return e(fe)},get todayLabel(){return e(ge)},get closeLabel(){return e(Ee)},get clearLabel(){return e($e)},$$events:{datechange:se}});var ze=u(Ue,2);ur(ze,{twelveHourClock:!1,get hour(){return Ve(),D()},set hour(Ze){S(er,Ze)},get minute(){return Ve(),f()},set minute(Ze){S(Zt,Ze)},get second(){return Ve(),k()},set second(Ze){S(Gt,Ze)}}),v(Qe);var st=u(Qe,2),We=m(st);const be=l(()=>i("common.end")),Fe=l(()=>new Date(C())),qe=l(()=>i("common.today")),lt=l(()=>i("common.close")),Ye=l(()=>i("common.clear-input-button-label"));dr(We,{get label(){return e(be)},get selected(){return e(Fe)},get todayLabel(){return e(qe)},get closeLabel(){return e(lt)},get clearLabel(){return e(Ye)},$$events:{datechange:le}});var at=u(We,2);ur(at,{twelveHourClock:!1,get hour(){return Ve(),o()},set hour(Ze){S(ir,Ze)},get minute(){return Ve(),y()},set minute(Ze){S(lr,Ze)},get second(){return Ve(),A()},set second(Ze){S(sr,Ze)}}),v(st),s(xe,Re)},Ne=xe=>{var Re=Ao(),Qe=te(Re),Ue=m(Qe);const de=l(()=>i("common.relative"));rr(Ue,{get label(){return e(de)},id:"relative-time",value:"relative",name:"time-filter-type",group:cr,get disabled(){return e(h)}});var fe=u(Ue,2),ge=m(fe);const Ee=l(()=>i("common.relative")),$e=l(()=>N(x())),ze=l(()=>P()!=="relative"||e(h));_t(ge,{get label(){return e(Ee)},labelHidden:!0,id:"relative-datetime-input",placeholder:"00",get error(){return e($e)},class:"h-10",get disabled(){return e(ze)},get value(){return Ve(),x()},set value(ft){S(Qr,ft)}});var st=u(ge,2);const We=l(()=>i("common.time-unit")),be=l(()=>P()!=="relative"||e(h));zr(st,{id:"relative-datetime-unit-input",get label(){return e(We)},labelHidden:!0,get disabled(){return e(be)},get value(){return Ve(),M()},set value(ft){S(Br,ft)},children:(ft,gs)=>{var Ar=Be(),wa=te(Ar);ct(wa,17,()=>Ja,gt,(_a,Or)=>{vr(_a,{get value(){return e(Or)},children:(ha,ws)=>{me();var Fr=pe();ae($a=>ne(Fr,`${e(Or)??""} ${$a??""}`),[()=>i("common.ago")]),s(ha,Fr)},$$slots:{default:!0}})}),s(ft,Ar)},$$slots:{default:!0}}),v(fe),v(Qe);var Fe=u(Qe,2),qe=m(Fe);const lt=l(()=>i("common.absolute"));rr(qe,{get label(){return e(lt)},id:"absolute-time",value:"absolute",name:"time-filter-type",group:cr,get disabled(){return e(h)}});var Ye=u(qe,2),at=m(Ye);const Ze=l(()=>new Date(w())),or=l(()=>i("common.today")),xt=l(()=>i("common.close")),He=l(()=>i("common.clear-input-button-label")),Rt=l(()=>P()!=="absolute"||e(h));dr(at,{label:"",labelHidden:!0,get selected(){return e(Ze)},get todayLabel(){return e(or)},get closeLabel(){return e(xt)},get clearLabel(){return e(He)},get disabled(){return e(Rt)},$$events:{datechange:se}});var Yt=u(at,2);const ga=l(()=>P()!=="absolute");ur(Yt,{twelveHourClock:!1,get disabled(){return e(ga)},get hour(){return Ve(),D()},set hour(ft){S(er,ft)},get minute(){return Ve(),f()},set minute(ft){S(Zt,ft)},get second(){return Ve(),k()},set second(ft){S(Gt,ft)}}),v(Ye),v(Fe),s(xe,Re)};ee(ue,xe=>{e(d)?xe(Me):xe(Ne,!1)})}var G=u(ue,2),_e=m(G);Vt(_e,{name:"clock","aria-hidden":"true"});var he=u(_e);v(G),v(g),ae(xe=>ne(he,` ${xe??""}
              ${e(K)??""}`),[()=>i("common.based-on-time-preface")]),s(nt,g)},bt=(nt,g)=>{{var $=Me=>{var Ne=Fo(),G=m(Ne);O(G,()=>Z);var _e=u(G,2);const he=l(()=>`${e(F)}-number`),xe=l(()=>Na(e(r))?i("workflows.duration-filter-placeholder"):i("common.number-input-placeholder"));_t(_e,{get id(){return e(he)},label:"Value",get placeholder(){return e(xe)},get disabled(){return e(h)},get value(){return e(r).value},set value(Re){e(r).value=Re}}),v(Ne),s(Me,Ne)},ue=(Me,Ne)=>{{var G=he=>{var xe=Lo(),Re=m(xe);O(Re,()=>J);var Qe=u(Re,2);{var Ue=fe=>{const ge=l(()=>i("common.enter")),Ee=l(()=>e(r).attribute);eo(fe,{get label(){return e(r).attribute},labelHidden:!0,id:"list-filter",class:"w-full",removeChipButtonLabel:$e=>i("workflows.remove-keyword-label",{keyword:$e}),get placeholder(){return`${e(ge)??""} ${e(Ee)??""}`},external:!0,get chips(){return e(I)},set chips($e){c(I,$e,!0)}})},de=fe=>{const ge=l(()=>`${i("common.enter")} ${e(r).attribute}`);_t(fe,{get label(){return e(r).attribute},labelHidden:!0,id:"list-filter",type:"search",get placeholder(){return e(ge)},class:"w-full",get disabled(){return e(h)},get value(){return e(r).value},set value(Ee){e(r).value=Ee}})};ee(Qe,fe=>{Xr(e(r).conditional)?fe(Ue):fe(de,!1)})}v(xe),s(he,xe)},_e=(he,xe)=>{{var Re=Ue=>{var de=Qo(),fe=m(de);Hr(fe,{children:(ge,Ee)=>{var $e=Mo(),ze=te($e);const st=l(()=>e(r).value==="true"?"primary":"secondary"),We=l(()=>e(r).value==="true");fr(ze,{get variant(){return e(st)},get active(){return e(We)},size:"xs",$$events:{click:()=>{e(r).conditional="=",e(r).value="true"}},children:(lt,Ye)=>{me();var at=pe("True");s(lt,at)},$$slots:{default:!0}});var be=u(ze,2);const Fe=l(()=>e(r).value==="false"?"primary":"secondary"),qe=l(()=>e(r).value==="false");fr(be,{get variant(){return e(Fe)},get active(){return e(qe)},size:"xs",$$events:{click:()=>{e(r).conditional="=",e(r).value="false"}},children:(lt,Ye)=>{me();var at=pe("False");s(lt,at)},$$slots:{default:!0}}),s(ge,$e)},$$slots:{default:!0}}),v(de),s(Ue,de)},Qe=Ue=>{var de=No(),fe=m(de);const ge=l(()=>`${e(F)}-generic`);_t(fe,{get id(){return e(ge)},label:"Value",placeholder:"Enter value...",get value(){return e(r).value},set value(ze){e(r).value=ze}});var Ee=u(fe,2);const $e=l(()=>`${e(F)}-cond`);zr(Ee,{get id(){return e($e)},label:"Condition",get value(){return e(r).conditional},set value(ze){e(r).conditional=ze},children:(ze,st)=>{var We=Bo(),be=te(We);vr(be,{value:"=",children:(qe,lt)=>{me();var Ye=pe();ae(at=>ne(Ye,at),[()=>i("common.equal-to")]),s(qe,Ye)},$$slots:{default:!0}});var Fe=u(be,2);vr(Fe,{value:"!=",children:(qe,lt)=>{me();var Ye=pe();ae(at=>ne(Ye,at),[()=>i("common.not-equal-to")]),s(qe,Ye)},$$slots:{default:!0}}),s(ze,We)},$$slots:{default:!0}}),v(de),s(Ue,de)};ee(he,Ue=>{Ua(e(r))?Ue(Re):Ue(Qe,!1)},xe)}};ee(Me,he=>{Ra(e(r))?he(G):he(_e,!1)},Ne)}};ee(nt,Me=>{Ba(e(r))?Me($):Me(ue,!1)},g)}};ee(Je,nt=>{Jt(e(r))?nt(rt):nt(bt,!1)},Ge)}};ee(Pt,Je=>{nr(e(r))?Je(Ft):Je(Lt,!1)})}var jt=u(Pt,2),Et=m(jt);De(Et,{trailingIcon:"trash",variant:"secondary",size:"xs","data-testid":"remove-filter-button",type:"button",$$events:{click(...Je){var Ge;(Ge=t.onRemove)==null||Ge.apply(this,Je)}},children:(Je,Ge)=>{me();var rt=pe("Remove");s(Je,rt)},$$slots:{default:!0}});var Nt=u(Et,2);De(Nt,{variant:"primary",size:"xs","data-testid":"apply-filter-button",type:"submit",children:(Je,Ge)=>{me();var rt=pe("Apply");s(Je,rt)},$$slots:{default:!0}}),v(jt),v(je),v(we),ae(()=>ne(ot,`Filter by ${t.filter.attribute??""}`)),Ht("submit",we,R),s(Se,we)},$$slots:{default:!0}}),s(Q,U)},$$slots:{default:!0}}),Ie(),L()}var Ho=T('ExecutionStatus =<span class="pl-1 text-brand"> </span>',1),Ko=T('<div class="space-y-2"><div class="flex items-center justify-between"><h3 class="text-sm font-medium">Filter by Execution Status</h3></div> <!></div>'),Xo=T("<!> <!>",1);function Yo(q,t){Ce(t,!0);const[n,L]=Ae(),a=()=>p(D,"$open",n);let _=ie(t,"index",3,0),w=ie(t,"openIndex",3,null);const D=Le(!1);let f=ye(hr([...t.filters]));const k=l(()=>"dropdown-filter-chip-execution-status");function C(o){if(e(f).find(y=>y.value===o)){c(f,e(f).filter(y=>y.value!==o),!0),t.onUpdate(e(f));return}if(o==="All"){c(f,[],!0),t.onUpdate(e(f));return}e(f).length===1&&e(f)[0].value===""?c(f,[{attribute:"ExecutionStatus",operator:"",parenthesis:"",type:"Keyword",value:o,conditional:"="}],!0):c(f,[...e(f),{attribute:"ExecutionStatus",operator:"",parenthesis:e(f).length?")":"",type:"Keyword",value:o,conditional:"="}],!0),e(f).length>1&&(e(f)[0].parenthesis="(",e(f)[e(f).length-2].operator="OR"),t.onUpdate(e(f))}ht(()=>{w()===_()&&S(D,!0)}),ht(()=>{a()||c(f,[...t.filters],!0)}),Ir(q,{open:D,children:(o,y)=>{var A=Xo(),P=te(A);Cr(P,{size:"xs",get controls(){return e(k)},hasIndicator:!0,class:"bg-secondary",children:(M,O)=>{me();var Y=Ho(),z=u(te(Y)),j=m(z,!0);v(z),ae(r=>ne(j,r),[()=>t.filters.map(r=>r.value).join(", ")]),s(M,Y)},$$slots:{default:!0}});var x=u(P,2);Sr(x,{get id(){return e(k)},class:"max-h-fit w-80 max-w-fit p-4",keepOpen:!0,children:(M,O)=>{var Y=Ko(),z=u(m(Y),2);ct(z,16,()=>Ia,j=>j,(j,r)=>{const F=l(()=>e(f).some(h=>h.value===r)||e(f).length===1&&!e(f)[0].value&&r==="All"),I=l(()=>`status-dropdown-filter-chip-${r}`);tr(j,{get"data-testid"(){return e(I)},$$events:{click:()=>C(r)},children:(h,d)=>{var K=Be(),b=te(K);{var H=Z=>{dt(Z,{key:"workflows.all-statuses"})},W=Z=>{ro(Z,{get status(){return r}})};ee(b,Z=>{r==="All"?Z(H):Z(W,!1)})}s(h,K)},$$slots:{default:!0,leading:(h,d)=>{Pr(h,{slot:"leading",get checked(){return e(F)},get label(){return r},labelHidden:!0,$$events:{click:()=>C(r)}})}}})}),v(Y),s(M,Y)},$$slots:{default:!0}}),s(o,A)},$$slots:{default:!0}}),Ie(),L()}var Jo=T('<div class="flex flex-wrap items-center gap-2"><!> <!></div>');function Go(q,t){Ce(t,!0);const[n,L]=Ae(),a=()=>p(et,"$workflowFilters",n),_=()=>p(f,"$activeQueryIndex",n),w=()=>p(k,"$chipOpenIndex",n),{filter:D,activeQueryIndex:f,chipOpenIndex:k}=St(qr);let C=ye(10);const o=l(()=>a().findIndex(I=>Mt(I))),y=l(()=>a().slice(0,e(C))),A=l(()=>a().filter(I=>I.attribute==="ExecutionStatus")),P=l(()=>a().filter(I=>!Mt(I))),x=l(()=>e(C)<a().length);function M(I,h){const d=[...a()];d[I]=h,S(et,d),Ut(ke.url,a())}function O(I,h){if(h.length===0)S(et,e(P)),Ut(ke.url,a());else{const d=[...a()];d.splice(I,e(A).length,...h),S(et,d),Ut(ke.url,a())}}function Y(I){const h=[...a()];if(h.splice(I,1),S(et,h),Ut(ke.url,a()),I===a().length&&a().length>0){const d=a()[a().length-1];d&&(d.operator="")}I===_()?(S(f,null),S(D,Bt())):I<_()&&S(f,_()-1)}function z(){e(x)&&c(C,e(C)+10)}var j=Be(),r=te(j);{var F=I=>{var h=Jo(),d=m(h);ct(d,19,()=>e(y),(H,W)=>H.attribute+"-"+W,(H,W,Z)=>{var J=Be(),E=te(J);{var V=N=>{Yo(N,{get filters(){return e(A)},get index(){return e(Z)},get openIndex(){return w()},onUpdate:se=>O(e(Z),se)})},R=(N,se)=>{{var le=B=>{zo(B,{get filter(){return e(W)},get index(){return e(Z)},get openIndex(){return w()},onUpdate:oe=>M(e(Z),oe),onRemove:()=>Y(e(Z))})};ee(N,B=>{!Mt(e(W))&&e(W).attribute&&B(le)},se)}};ee(E,N=>{Mt(e(W))&&e(Z)===e(o)?N(V):N(R,!1)})}s(H,J)});var K=u(d,2);{var b=H=>{De(H,{variant:"secondary",size:"xs",$$events:{click:z},children:(W,Z)=>{me();var J=pe();ae(E=>ne(J,E),[()=>i("common.view-more")]),s(W,J)},$$slots:{default:!0}})};ee(K,H=>{e(x)&&H(b)})}v(h),s(I,h)};ee(r,I=>{e(y).length>0&&I(F)})}s(q,j),Ie(),L()}var Zo=T('<div><p class="leading-3"> </p> <small class="text-secondary"> </small></div>'),en=T('<!> <hr class="border-subtle"> <!>',1),tn=T("<!> <!>",1),rn=T("<!> <!>",1);function an(q,t){Ce(t,!0);const[n,L]=Ae(),a=()=>p(et,"$workflowFilters",n),_=()=>p(k,"$activeQueryIndex",n),w=l(()=>ke.url.searchParams.get("query"));let D=ye("");const{filter:f,activeQueryIndex:k,handleSubmit:C}=St(qr),o=Le(!1),y=j=>{switch(j){case qt.BOOL:return"=";case qt.DATETIME:return">=";case qt.INT:return"=";case qt.DOUBLE:return"=";case qt.KEYWORDLIST:return"in";case qt.KEYWORD:return"=";case qt.TEXT:return"=";default:return"="}};function A(j,r){c(D,""),f.set({...Bt(),attribute:j,conditional:y(r),type:r}),C(),S(o,!1)}const P=l(()=>e(D)?t.options.filter(j=>j.value.toLowerCase().includes(e(D).toLowerCase())):t.options);function x(){S(et,[]),Ut(ke.url,a(),!0),S(k,null),S(f,Bt())}var M=rn(),O=te(M);Ir(O,{open:o,children:(j,r)=>{var F=tn(),I=te(F);const h=l(()=>{var K;return _()!==null||((K=e(w))==null?void 0:K.length)>=gr});Cr(I,{id:"search-attribute-filter-button",controls:"search-attribute-menu",leadingIcon:"add",variant:"secondary","data-testid":"add-filter-button",get disabled(){return e(h)},class:"text-nowrap",size:"xs",$$events:{click:()=>c(D,"")},children:(K,b)=>{me();var H=pe("Add Filter");s(K,H)},$$slots:{default:!0}});var d=u(I,2);Sr(d,{id:"search-attribute-menu",children:(K,b)=>{var H=en(),W=te(H);tr(W,{class:"p-0",hoverable:!1,$$events:{click:()=>{var J;(J=document.getElementById("filter-search"))==null||J.focus()}},children:(J,E)=>{const V=l(()=>i("common.search")),R=l(()=>i("common.search"));_t(J,{get label(){return e(V)},labelHidden:!0,id:"filter-search",noBorder:!0,icon:"search",get placeholder(){return e(R)},class:"w-full min-w-[300px]",get value(){return e(D)},set value(N){c(D,N,!0)}})},$$slots:{default:!0}});var Z=u(W,4);ct(Z,17,()=>e(P),gt,(J,E)=>{let V=()=>e(E).value,R=()=>e(E).label,N=()=>e(E).type;const se=l(()=>V()==="ExecutionStatus"&&!!a().find(le=>Mt(le)));tr(J,{get disabled(){return e(se)},$$events:{click:()=>{A(V(),N())}},children:(le,B)=>{var oe=Zo(),Q=m(oe),X=m(Q,!0);v(Q);var U=u(Q,2),ce=m(U,!0);v(U),v(oe),ae(()=>{ne(X,R()),ne(ce,N())}),s(le,oe)},$$slots:{default:!0}})},J=>{tr(J,{class:"whitespace-nowrap",disabled:!0,children:(E,V)=>{me();var R=pe();ae(N=>ne(R,N),[()=>i("common.no-results")]),s(E,R)},$$slots:{default:!0}})}),s(K,H)},$$slots:{default:!0}}),s(j,F)},$$slots:{default:!0}});var Y=u(O,2);{var z=j=>{De(j,{variant:"ghost",size:"xs","data-testid":"clear-all-filters-button",$$events:{click:x},children:(r,F)=>{me();var I=pe();ae(h=>ne(I,h),[()=>i("common.clear-all")]),s(r,I)},$$slots:{default:!0}})};ee(Y,j=>{a().length>0&&j(z)})}s(q,M),Ie(),L()}const qr="filter-context";var on=T('<div class="flex shrink flex-wrap items-center justify-start gap-2"><!> <!></div>');function nn(q,t){Ce(t,!0);const[n,L]=Ae(),a=()=>p(oo,"$sortedSearchAttributeOptions",n),_=()=>p(k,"$activeQueryIndex",n),w=()=>p(et,"$workflowFilters",n),D=()=>p(f,"$filter",n),f=Le(Bt()),k=Le(null),C=Le(""),o=Le(null),y=l(a);Xa(()=>{o.set(null)}),ra(qr,{filter:f,activeQueryIndex:k,handleSubmit:A,focusedElementId:C,resetFilter:P,chipOpenIndex:o});function A(){if(_()!==null)yt(et,Ke(w)[_()]=D(),Ke(w)),S(k,null);else{const Y=w().length;S(et,[...w(),D()]),o.set(Y)}f.set(Bt())}function P(){k.set(null),f.set(Bt())}var x=on(),M=m(x);Go(M,{});var O=u(M,2);an(O,{get options(){return e(y)}}),v(x),s(q,x),Ie(),L()}var sn=T('<div class="w-full border border-t-0 border-subtle"><form class="flex gap-0" role="search"><!> <!></form></div>');function ln(q,t){Ce(t,!0);const[n,L]=Ae(),a=()=>p(Wr,"$searchAttributes",n);let _=ye("");const w=l(()=>ke.url.searchParams.get("query"));function D(z){c(_,z,!0)}ht(()=>{D(e(w))});const f=()=>{if(!e(_))S(et,[]),S(Ot,"");else try{S(et,Tr(e(_),a()))}catch(z){console.error(z)}e(_)&&e(_)===e(w)?S(Qt,Date.now()):_r({url:ke.url,parameter:"query",value:e(_),allowEmpty:!0,clearParameters:[wr]})};function k(){f()}var C=sn(),o=m(C),y=m(o);const A=l(()=>i("workflows.search-placeholder")),P=l(()=>i("workflows.search-placeholder")),x=l(()=>i("common.copy-icon-title")),M=l(()=>i("common.clear-input-button-label")),O=l(()=>!e(_)||e(_).length<gr);_t(y,{id:"query",type:"search",get label(){return e(A)},labelHidden:!0,get placeholder(){return e(P)},icon:"search",class:"grow  [&_*]:border-0",inputContainerClass:"surface-information !border-r border-subtle",clearable:!0,get copyButtonLabel(){return e(x)},get clearButtonLabel(){return e(M)},maxLength:gr,get hideCount(){return e(O)},"data-testid":"manual-search-input",get value(){return e(_)},set value(z){c(_,z,!0)},$$events:{clear:k}});var Y=u(y,2);De(Y,{"data-testid":"manual-search-button",variant:"ghost",type:"submit",children:(z,j)=>{me();var r=pe();ae(F=>ne(r,F),[()=>i("common.search")]),s(z,r)},$$slots:{default:!0}}),v(o),v(C),Ht("submit",o,f),Tt(3,o,()=>Wt),Tt(1,C,()=>no),s(q,C),Ie(),L()}var cn=T('<div class="flex items-center gap-1"><!></div>'),dn=T('<div><div class="flex w-full flex-wrap items-center justify-between gap-2 border border-subtle bg-primary p-1.5"><div class="flex grow items-center justify-start gap-4 px-2"><!> <!></div> <!></div> <!></div>');function un(q){const t=o=>{var y=cn(),A=m(y);const P=l(()=>e(n)?"Hide raw query":"View raw query");Kt(A,{get text(){return e(P)},left:!0,children:(x,M)=>{De(x,{variant:"ghost",size:"xs",leadingIcon:"json",get active(){return e(n)},"data-testid":"toggle-manual-query",$$events:{click:()=>c(n,!e(n))}})},$$slots:{default:!0}}),v(y),s(o,y)};let n=ye(!1);var L=dn(),a=m(L),_=m(a),w=m(_);Vt(w,{name:"filter-lines",class:"text-primary-text h-4 w-4 shrink-0"});var D=u(w,2);nn(D,{}),v(_);var f=u(_,2);t(f),v(a);var k=u(a,2);{var C=o=>{ln(o,{})};ee(k,o=>{e(n)&&o(C)})}v(L),s(q,L)}function vn(q,t){Ce(t,!1);const[n,L]=Ae();let a=ie(t,"count",8,0);ut(),De(q,{size:"xs",variant:"ghost",leadingIcon:"retry",$$events:{click:()=>S(Qt,Date.now())},children:(_,w)=>{var D=Be(),f=te(D);{var k=o=>{var y=pe();ae(A=>ne(y,`+${A??""}`),[()=>a().toLocaleString()],re),s(o,y)},C=(o,y)=>{{var A=P=>{var x=pe();ae(M=>ne(x,M),[()=>a().toLocaleString()],re),s(P,x)};ee(o,P=>{a()<0&&P(A)},y)}};ee(f,o=>{a()>0?o(k):o(C,!1)})}s(_,D)},$$slots:{default:!0}}),Ie(),L()}const Zr=""+new URL("../assets/empty-state-dark_2x.BtTCLk6j.png",import.meta.url).href,mr=""+new URL("../assets/empty-state-light_2x.BAwLJnNu.png",import.meta.url).href;var fn=T('<link rel="preload" as="image"> <link rel="preload" as="image">',1),mn=T("<p> </p> <p> </p>",1),pn=T("<li><!></li>"),gn=T('<!> <p> <!>.</p> <ul class="flex flex-col gap-2"></ul>',1),wn=T('<div class="w-full overflow-hidden xl:flex xl:h-full xl:flex-row" aria-live="polite"><div class="surface-primary flex w-auto min-w-[280px] flex-col gap-4 p-8 xl:min-w-[520px] xl:flex-1"><h2><!></h2> <!></div> <div class="bg-[#DDD6FE] bg-contain bg-no-repeat xl:flex xl:h-full xl:max-w-[1050px] xl:flex-1 xl:items-stretch xl:justify-center"><img alt="" class="max-h-full max-w-full object-contain xl:hidden"></div></div>');function _n(q,t){Ce(t,!1);const[n,L]=Ae(),a=()=>p(Xt,"$page",n),_=()=>p(co,"$useDarkMode",n),w=()=>p(Va,"$workflowError",n),D=ve(),f=ve(),k=["samples-go","samples-java","samples-typescript","samples-python","samples-dotnet","samples-php"];Te(()=>a(),()=>{c(D,a().url.searchParams.get("query"))}),Te(()=>(_(),mr),()=>{c(f,_()?Zr:mr)}),$t(),ut();var C=wn();ka(r=>{var F=fn(),I=te(F);At(I,"href",Zr);var h=u(I,2);At(h,"href",mr),s(r,F)});var o=m(C),y=m(o),A=m(y);{var P=r=>{var F=pe();ae(I=>ne(F,I),[()=>i("workflows.workflow-query-empty-state-title")],re),s(r,F)},x=r=>{var F=pe();ae(I=>ne(F,I),[()=>i("workflows.workflow-empty-state-title")],re),s(r,F)};ee(A,r=>{e(D)?r(P):r(x,!1)})}v(y);var M=u(y,2);{var O=r=>{const F=re(()=>i("workflows.workflow-query-error-state"));io(r,{intent:"warning",icon:"warning",get title(){return e(F)},style:"overflow-wrap: anywhere",children:(I,h)=>{me();var d=pe();ae(()=>ne(d,w())),s(I,d)},$$slots:{default:!0}})},Y=(r,F)=>{{var I=d=>{var K=mn(),b=te(K),H=m(b,!0);v(b);var W=u(b,2),Z=m(W,!0);v(W),ae((J,E)=>{ne(H,J),ne(Z,E)},[()=>i("workflows.workflow-query-empty-state-preface"),()=>i("workflows.workflow-query-empty-state-postface")],re),s(d,K)},h=d=>{var K=gn(),b=te(K);It(b,t,"cloud",{},null);var H=u(b,2),W=m(H),Z=u(W);Jr(Z,{newTab:!0,href:"https://github.com/temporalio",children:(E,V)=>{me();var R=pe("github.com/temporalio");s(E,R)},$$slots:{default:!0}}),me(),v(H);var J=u(H,2);ct(J,5,()=>k,gt,(E,V)=>{var R=pn(),N=m(R);Jr(N,{icon:"github",newTab:!0,get href(){return`https://github.com/temporalio/${e(V)??""}`},children:(se,le)=>{me();var B=pe();ae(()=>ne(B,e(V))),s(se,B)},$$slots:{default:!0}}),v(R),s(E,R)}),v(J),ae(E=>ne(W,`${E??""} `),[()=>i("workflows.workflow-empty-state-description")],re),s(d,K)};ee(r,d=>{e(D)?d(I):d(h,!1)},F)}};ee(M,r=>{w()?r(O):r(Y,!1)})}v(o);var z=u(o,2),j=m(z);v(z),v(C),ae(()=>{oa(z,`background-image: url(${e(f)??""});`),At(j,"src",e(f))}),s(q,C),Ie(),L()}const hn=["workflowCancelDisabled","workflowTerminateDisabled"],$n=q=>q.disableWriteActions||q.batchActionsDisabled?!1:hn.some(t=>!q[t]),fa=zt([Dr,da,go,Vr],([q,t,n,L])=>(L?!0:ao(q,"1.18.0"))&&t&&$n(n));var bn=T('<span class="font-medium"><!></span>'),xn=T('<span> <button data-testid="select-all-workflows" class="cursor-pointer underline"><!></button> </span>'),yn=T('<span class="font-medium"><!></span> <!>',1),kn=T('<!> <div class="ml-4 inline-flex gap-2"><!> <!> <!></div>',1);function Tn(q,t){Ce(t,!1);const[n,L]=Ae(),a=()=>p(Y,"$selectedWorkflows",n),_=()=>p(Xt,"$page",n),w=()=>p(d,"$coreUser",n),D=()=>p(Vr,"$isCloud",n),f=()=>p(Dr,"$temporalVersion",n),k=()=>p(z,"$allSelected",n),C=()=>p(xr,"$workflowCount",n),o=()=>p(Ot,"$workflowsQuery",n),y=()=>p(r,"$cancelableWorkflows",n),A=ve(),P=ve(),x=ve();var M=ve();let O=ie(t,"workflows",8);const{selectedWorkflows:Y,allSelected:z,handleSelectAll:j,cancelableWorkflows:r,openBatchCancelConfirmationModal:F,openBatchTerminateConfirmationModal:I,openBatchResetConfirmationModal:h}=St(Dt);let d=wo(),K=ve();Te(()=>(Ct(M),a()),()=>{c(K,c(M,a()===null||a()===void 0?void 0:a().length)!==null&&Ct(M)!==void 0?Ct(M):0)}),Te(()=>(_(),w()),()=>{c(A,Aa(_().data.settings,w(),_().params.namespace))}),Te(()=>(_(),w()),()=>{c(P,Oa(_().data.settings,w(),_().params.namespace))}),Te(()=>(_(),w(),D(),f()),()=>{c(x,Fa(_().data.settings,w(),_().params.namespace)&&D()?!0:ca("1.23.0",f()))}),$t(),ut();var b=kn(),H=te(b);{var W=B=>{var oe=bn(),Q=m(oe);dt(Q,{key:"workflows.all-selected",get count(){return C().count}}),v(oe),s(B,oe)},Z=B=>{var oe=yn(),Q=te(oe),X=m(Q);dt(X,{key:"workflows.n-selected",get count(){return e(K)}}),v(Q);var U=u(Q,2);{var ce=Pe=>{var Se=xn(),Xe=m(Se),we=u(Xe),je=m(we);dt(je,{key:"workflows.select-all",get count(){return C().count}}),v(we);var Oe=u(we);v(Se),ae((tt,ot)=>{ne(Xe,`(${tt??""} `),ne(Oe,` ${ot??""})`)},[()=>i("workflows.select-all-leading"),()=>i("workflows.select-all-trailing")],re),Ht("click",we,()=>j(O())),s(Pe,Se)};ee(U,Pe=>{o()&&Pe(ce)})}s(B,oe)};ee(H,B=>{k()?B(W):B(Z,!1)})}var J=u(H,2),E=m(J);{var V=B=>{const oe=re(()=>!y().length);De(B,{size:"xs",variant:"ghost",class:"focus-visible:border-table","data-testid":"bulk-cancel-button",get disabled(){return e(oe)},$$events:{click:F},children:(Q,X)=>{me();var U=pe();ae(ce=>ne(U,ce),[()=>i("workflows.request-cancellation")],re),s(Q,U)},$$slots:{default:!0}})};ee(E,B=>{e(P)&&B(V)})}var R=u(E,2);{var N=B=>{De(B,{size:"xs",variant:"ghost",class:"focus-visible:border-table","data-testid":"bulk-reset-button",$$events:{click:h},children:(oe,Q)=>{me();var X=pe();ae(U=>ne(X,U),[()=>i("workflows.reset")],re),s(oe,X)},$$slots:{default:!0}})};ee(R,B=>{e(x)&&B(N)})}var se=u(R,2);{var le=B=>{De(B,{size:"xs",variant:"destructive",class:"focus-visible:border-table","data-testid":"bulk-terminate-button",$$events:{click:I},children:(oe,Q)=>{me();var X=pe();ae(U=>ne(X,U),[()=>i("workflows.terminate")],re),s(oe,X)},$$slots:{default:!0}})};ee(se,B=>{e(A)&&B(le)})}v(J),s(q,b),Ie(),L()}var Cn=T('<th class="batch-actions-checkbox-table-cell svelte-zmv232"><!></th>'),In=T('<th class="batch-actions-table-cell svelte-zmv232"><!></th>'),Sn=T('<tr><!><th class="w-6"></th><!></tr>');function Pn(q,t){Ce(t,!1);const[n,L]=Ae(),a=()=>p(P,"$selectedWorkflows",n),_=()=>p(fa,"$supportsBulkActions",n),w=()=>p(x,"$pageSelected",n),D=()=>p(M,"$batchActionsVisible",n),f=ve(),k=ve();let C=ie(t,"workflows",8),o=ie(t,"empty",8),y=ie(t,"columnsCount",8);const{handleSelectPage:A,selectedWorkflows:P,pageSelected:x,batchActionsVisible:M}=St(Dt),O=h=>{const{checked:d}=h.detail;A(d,C())};Te(()=>(a(),vt(C())),()=>{c(f,a().length>0&&a().length<C().length)}),Te(()=>i,()=>{c(k,i("workflows.select-all-workflows"))}),$t(),ut();var Y=Sn(),z=m(Y);{var j=h=>{var d=Cn(),K=m(d);Pr(K,{get label(){return e(k)},labelHidden:!0,id:"select-visible-workflows","data-testid":"batch-actions-checkbox",get indeterminate(){return e(f)},get checked(){return Ve(),w()},set checked(b){S(x,b)},$$events:{change:O},$$legacy:!0}),v(d),s(h,d)};ee(z,h=>{!o()&&_()&&h(j)})}var r=u(z,2);{var F=h=>{var d=In(),K=m(d);Tn(K,{get workflows(){return C()}}),v(d),ae(()=>At(d,"colspan",y())),s(h,d)},I=h=>{var d=Be(),K=te(d);It(K,t,"default",{},null),s(h,d)};ee(r,h=>{_()&&D()?h(F):h(I,!1)})}v(Y),s(q,Y),Ie(),L()}function Wn(q,t){Ce(t,!1);const[n,L]=Ae(),a=()=>p(Vr,"$isCloud",n),_=()=>p(Dr,"$temporalVersion",n);let w=ie(t,"minimumVersion",8);ut();var D=Be(),f=te(D);{var k=o=>{var y=Be(),A=te(y);It(A,t,"default",{},null),s(o,y)},C=o=>{var y=Be(),A=te(y);It(A,t,"fallback",{},null),s(o,y)};ee(f,o=>{a()||ca(w(),_())?o(k):o(C,!1)})}s(q,D),Ie(),L()}function Vn(q,t){const n=Mr(t,["children","$$slots","$$events","$$legacy"]),L=Mr(n,["namespace","workflowId","taskQueue","workflowType"]);Ce(t,!1);const a=ve();let _=ie(t,"namespace",8),w=ie(t,"workflowId",8),D=ie(t,"taskQueue",8),f=ie(t,"workflowType",8);Te(()=>(vt(_()),vt(w()),vt(D()),vt(f())),()=>{c(a,va({namespace:_(),workflowId:w(),taskQueue:D(),workflowType:f()}))}),$t(),ut();const k=re(()=>i("workflows.start-workflow-like-this-one"));Kt(q,{get text(){return e(k)},topLeft:!0,children:(C,o)=>{De(C,xa({size:"xs",variant:"ghost",class:"start-button",leadingIcon:"lightning-bolt"},()=>L,{$$events:{click:()=>sa(e(a))}}))},$$slots:{default:!0}}),Ie()}var Dn=T('<td class="relative"><!></td> <td><!> <!></td>',1),jn=T("<td></td>"),En=T('<tr data-testid="workflows-summary-configurable-table-row"><!><!></tr>');function ea(q,t){Ce(t,!1);const[n,L]=Ae(),a=()=>p(Xt,"$page",n),_=()=>p(fa,"$supportsBulkActions",n),w=()=>p(Y,"$selectedWorkflows",n),D=()=>p(O,"$allSelected",n),f=ve(),k=ve(),C=ve(),o=ve();let y=ie(t,"workflow",8,void 0),A=ie(t,"empty",8,!1),P=ie(t,"viewChildren",8,()=>{}),x=ie(t,"childCount",8,void 0),M=ie(t,"child",8,!1);const{allSelected:O,selectedWorkflows:Y}=St(Dt);Te(()=>(e(f),a()),()=>{(d=>c(f,d.namespace))(a().params)}),Te(()=>a(),()=>{c(k,a().url.searchParams.get("query")==="`ParentWorkflowId` is null")}),Te(()=>vt(y()),()=>{c(C,i("workflows.select-workflow",{workflow:y()===null||y()===void 0?void 0:y().id}))}),Te(()=>vt(x()),()=>{c(o,x()!==void 0)}),$t(),ut();var z=En();let j;var r=m(z);{var F=d=>{var K=Dn(),b=te(K),H=m(b);Pr(H,{get label(){return e(C)},labelHidden:!0,get value(){return y()},get disabled(){return D()},get"aria-label"(){return e(C)},get group(){return Ve(),w()},set group(V){S(Y,V)},$$legacy:!0}),v(b);var W=u(b,2),Z=m(W);{var J=V=>{Vn(V,{get namespace(){return e(f)},get workflowId(){return y().id},get taskQueue(){return y().taskQueue},get workflowType(){return y().name}})};ee(Z,V=>{ua(a())||V(J)})}var E=u(Z,2);Wn(E,{minimumVersion:"1.23.0",children:(V,R)=>{var N=Be(),se=te(N);{var le=B=>{const oe=re(()=>e(o)?"primary":"ghost");De(B,{size:"xs",get variant(){return e(oe)},$$events:{click:()=>P()(y())},children:(Q,X)=>{const U=re(()=>e(o)?i("workflows.children",{count:x()}):i("workflows.show-children"));Kt(Q,{get text(){return e(U)},topLeft:!0,children:(ce,Pe)=>{Vt(ce,{name:"relationship",class:"scale-80"})},$$slots:{default:!0}})},$$slots:{default:!0}})};ee(se,B=>{e(k)&&!M()&&B(le)})}s(V,N)},$$slots:{default:!0}}),v(W),ae(()=>pt(W,1,`cursor-point relative flex items-center justify-center gap-0.5 py-0.5 ${(e(k)||M()?"w-auto":"w-6")??""}`)),s(d,K)},I=d=>{var K=jn();s(d,K)};ee(r,d=>{!A()&&_()?d(F):d(I,!1)})}var h=u(r);It(h,t,"default",{},null),v(z),ae(d=>j=pt(z,1,"dense svelte-1j41e4d",null,j,d),[()=>({empty:A(),child:M()})],re),s(q,z),Ie(),L()}var qn=T("<!> <!>",1),An=T('<caption class="sr-only" slot="caption"> </caption>'),On=T("<!> <!>",1);function Fn(q,t){Ce(t,!1);const[n,L]=Ae(),a=()=>p(Xt,"$page",n),_=()=>p(vo,"$configurableTableColumns",n),w=()=>p(Qt,"$refresh",n),D=()=>p(xr,"$workflowCount",n),f=ve(),k=ve(),C=ve(),o=ve(),y=ve();var A=ve(),P=ve();let x=ie(t,"onClickConfigure",8),M=ve([]);const O=()=>{c(M,[])},Y=async r=>{if(e(o)(r))c(M,e(M).filter(F=>F.workflowId!==r.id&&F.runId!==r.runId));else{const F=await ja(e(f),r.id,r.runId);c(M,[{workflowId:r.id,runId:r.runId,children:F},...e(M)])}};Te(()=>(e(f),a()),()=>{(r=>c(f,r.namespace))(a().params)}),Te(()=>(Ct(P),Ct(A),_(),e(f)),()=>{c(k,c(P,c(A,_()===null||_()===void 0?void 0:_()[e(f)])===null||Ct(A)===void 0?void 0:Ct(A).workflows)!==null&&Ct(P)!==void 0?Ct(P):[])}),Te(()=>a(),()=>{c(C,a().url.searchParams.get("query"))}),Te(()=>(w(),e(C)),()=>{w(),e(C),O()}),Te(()=>e(M),()=>{c(o,r=>e(M).find(F=>F.workflowId===r.id&&F.runId===r.runId))}),Te(()=>(e(f),e(C)),()=>{c(y,()=>Da(e(f),e(C)))}),$t(),ut();var z=Be(),j=te(z);lo(j,()=>[e(f),e(C),w()],r=>{const F=re(()=>i("common.workflows")),I=re(()=>i("common.per-page")),h=re(()=>i("common.next")),d=re(()=>i("common.previous")),K=re(()=>i("workflows.empty-state-title"));uo(r,{get total(){return D().count},get onFetch(){return e(y)},get"aria-label"(){return e(F)},get pageSizeSelectLabel(){return e(I)},get nextButtonLabel(){return e(h)},get previousButtonLabel(){return e(d)},get emptyStateMessage(){return e(K)},maxHeight:"var(--panel-h)",children:Lr,$$slots:{default:(b,H)=>{const W=re(()=>H.visibleItems);var Z=Be(),J=te(Z);ct(J,1,()=>e(W),gt,(E,V)=>{var R=qn(),N=te(R);const se=re(()=>{var oe;return(oe=e(o)(e(V)))==null?void 0:oe.children.length});ea(N,{get workflow(){return e(V)},viewChildren:Y,get childCount(){return e(se)},children:(oe,Q)=>{var X=Be(),U=te(X);ct(U,1,()=>e(k),gt,(ce,Pe)=>{Gr(ce,{get workflow(){return e(V)},get column(){return e(Pe)}})}),s(oe,X)},$$slots:{default:!0}});var le=u(N,2);{var B=oe=>{var Q=Be(),X=te(Q);ct(X,1,()=>e(o)(e(V)).children,gt,(U,ce)=>{ea(U,{get workflow(){return e(ce)},child:!0,children:(Pe,Se)=>{var Xe=Be(),we=te(Xe);ct(we,1,()=>e(k),gt,(je,Oe)=>{Gr(je,{get workflow(){return e(ce)},get column(){return e(Oe)}})}),s(Pe,Xe)},$$slots:{default:!0}})}),s(oe,Q)};ee(le,oe=>{e(o)(e(V))&&oe(B)})}s(E,R)}),s(b,Z)},caption:(b,H)=>{var W=An(),Z=m(W,!0);v(W),ae(J=>ne(Z,J),[()=>i("common.workflows")],re),s(b,W)},headers:(b,H)=>{const W=re(()=>e(Z).length===0),Z=re(()=>H.visibleItems);Pn(b,{get columnsCount(){return e(k).length},get empty(){return e(W)},slot:"headers",get workflows(){return e(Z)},children:Lr,$$slots:{default:(J,E)=>{var V=Be(),R=te(V);ct(R,1,()=>e(k),gt,(N,se)=>{po(N,{get column(){return e(se)}})}),s(J,V)}}})},empty:(b,H)=>{_n(b,{$$slots:{cloud:(W,Z)=>{var J=Be(),E=te(J);It(E,t,"cloud",{},null),s(W,J)}}})},"actions-end-additional":(b,H)=>{const W=re(()=>H.visibleItems),Z=re(()=>H.page);var J=On(),E=te(J);const V=re(()=>i("common.download-json"));Kt(E,{get text(){return e(V)},top:!0,children:(N,se)=>{De(N,{"data-testid":"export-history-button",size:"xs",variant:"ghost",$$events:{click:()=>mo(e(W),e(Z))},children:(le,B)=>{Vt(le,{name:"download"})},$$slots:{default:!0}})},$$slots:{default:!0}});var R=u(E,2);Kt(R,{text:"Configure Columns",top:!0,children:(N,se)=>{De(N,{"data-testid":"workflows-summary-table-configuration-button",size:"xs",variant:"ghost",$$events:{click(...le){var B;(B=x())==null||B.apply(this,le)}},children:(le,B)=>{Vt(le,{name:"settings"})},$$slots:{default:!0}})},$$slots:{default:!0}}),s(b,J)}}})}),s(q,z),Ie(),L()}const Ln=()=>{const q=new Date;return q.setHours(0,0,0,0),q.toISOString()},Mn=()=>{const q=new Date;return q.setHours(q.getHours()-1),q.setSeconds(0,0),q.toISOString()},pr=[{id:"all",name:"All Workflows",query:"",icon:"workflow",type:"system"},{id:"child-workflows",name:"Parent Workflows",query:"`ParentWorkflowId` is null",icon:"relationship",type:"system"},{id:"running",name:"Running",query:'`ExecutionStatus`="Running"',icon:"heartbeat",type:"system"},{id:"today",name:"Today",query:`StartTime >= "${Ln()}"`,icon:"calendar",type:"system"},{id:"last-hour",name:"Last Hour",query:`StartTime >= "${Mn()}"`,icon:"clock",type:"system"}],ma=20,wt=ho("saved-workflow-queries",{},!0);var Qn=T('<h3 slot="title"> </h3>'),Bn=T('<div class="flex items-center justify-start gap-2"><!></div>'),Nn=T('<div class="flex h-full flex-1 flex-col gap-1" slot="content"><!> <!></div>'),Rn=T("<!> Delete this Saved View",1);function pa(q,t){Ce(t,!0);const[n,L]=Ae(),a=()=>p(wt,"$savedWorkflowQueries",n);var _,w;let D=ie(t,"open",15),f=ie(t,"id",3,"view-modal"),k=ye(""),C=ye(!1);const o=l(()=>ke.url.searchParams.get("query")),y=l(()=>ke.params.namespace),A=l(()=>((_=a()===null||a()===void 0?void 0:a()[e(y)])===null||_===void 0?void 0:_.length)>=ma);let P=ye(!1);ht(()=>{var E;D()&&!e(P)&&(c(k,(E=t.view===null||t.view===void 0?void 0:t.view.name)!==null&&E!==void 0?E:"",!0),c(C,!1)),c(P,D(),!0)});const x=()=>{D(!1),c(k,"")},M=/^[A-Za-z0-9 _.-]+$/,O=/^[.-]/,Y=/[.-]$/,z=l(()=>((a()===null||a()===void 0?void 0:a()[e(y)])||[]).filter(E=>E.type==="user")),j=l(()=>(w=e(k)===null||e(k)===void 0?void 0:e(k).trim())!==null&&w!==void 0?w:""),r=l(()=>e(j).length>0&&M.test(e(j))),F=l(()=>e(r)&&!O.test(e(j))&&!Y.test(e(j))),I=l(()=>e(z).some(E=>E.name.toLowerCase()===e(j).toLowerCase()&&E.id!==(t.view===null||t.view===void 0?void 0:t.view.id))),h=l(()=>e(F)&&!e(I)),d=l(()=>()=>e(j)?M.test(e(j))?O.test(e(j))||Y.test(e(j))?"Name cannot start or end with hyphens (-) or periods (.)":e(I)?"Name must be unique":"":"Use only letters, numbers, spaces, hyphens (-), underscores (_), and periods (.)":"Name is required"),K=E=>{if(E.preventDefault(),!!e(h)){if(t.view&&t.onSaveView){const V={...t.view,name:e(j),query:e(o),type:"user"};t.onSaveView(V),x();return}if(t.onCreateView){const V={id:Date.now().toString(),name:e(j),query:e(o),type:"user"};t.onCreateView(V),x()}}},b=E=>{var V,R;if(E.preventDefault(),!e(h)||!t.onCreateView)return;const N=e(j),se=(R=(V=t.view===null||t.view===void 0?void 0:t.view.name)===null||V===void 0?void 0:V.trim())!==null&&R!==void 0?R:"";let le=N===se?`${N}-copy`:N,B=2;const oe=X=>e(z).some(U=>U.name.toLowerCase()===X.toLowerCase());for(;oe(le);)le=`${N}-copy-${B++}`;const Q={id:Date.now().toString(),name:le,query:e(o),type:"user"};t.onCreateView(Q),x()},H=()=>{t.onDeleteView(t.view),x()},W=l(()=>i("common.save")),Z=l(()=>i("common.close")),J=l(()=>!e(h)||!t.view&&e(A));ar(q,{get id(){return f()},get confirmText(){return e(W)},get cancelText(){return e(Z)},get confirmDisabled(){return e(J)},get open(){return D()},set open(E){D(E)},$$events:{cancelModal:x,confirmModal:K},$$slots:{title:(E,V)=>{var R=Qn(),N=m(R,!0);v(R),ae(()=>ne(N,t.view?"Edit View":"Save as New View")),s(E,R)},content:(E,V)=>{var R=Nn(),N=m(R);const se=l(()=>!e(C)||e(h)),le=l(()=>e(C)&&!e(h)?e(d)():""),B=l(()=>e(C)&&!e(h)),oe=l(()=>`${f()}-input`);_t(N,{id:"view-name",label:"Name",required:!0,maxLength:255,get valid(){return e(se)},get hintText(){return e(le)},get error(){return e(B)},placeholder:"Name of view",class:"w-full",get"data-testid"(){return e(oe)},get value(){return e(k)},set value(U){c(k,U,!0)},$$events:{input:()=>c(C,!0)}});var Q=u(N,2);{var X=U=>{var ce=Bn(),Pe=m(ce);const Se=l(()=>!e(h)||e(A));De(Pe,{variant:"secondary",get disabled(){return e(Se)},"data-testid":"create-as-new-button",size:"sm",$$events:{click:b},children:(Xe,we)=>{me();var je=pe();ae(()=>ne(je,e(k)===t.view.name?"Create Copy":"Create New")),s(Xe,je)},$$slots:{default:!0}}),v(ce),s(U,ce)};ee(Q,U=>{t.view&&U(X)})}v(R),s(E,R)},footer:(E,V)=>{const R=l(()=>t.onDeleteView?"":"invisible");De(E,{variant:"ghost",slot:"footer",get class(){return`flex items-center gap-1 text-sm underline ${e(R)??""}`},$$events:{click:H},children:(N,se)=>{var le=Rn(),B=te(le);Vt(B,{name:"trash"}),me(),s(N,le)},$$slots:{default:!0}})}}}),Ie(),L()}function Un(q,t){Ce(t,!0);let n=ie(t,"open",15);pa(q,{id:"edit-view-modal",get view(){return t.view},get onSaveView(){return t.onSaveView},get onCreateView(){return t.onCreateView},get onDeleteView(){return t.onDeleteView},get open(){return n()},set open(L){n(L)}}),Ie()}function zn(q,t){Ce(t,!0);let n=ie(t,"open",15);pa(q,{id:"save-view-modal",get onCreateView(){return t.onCreateView},get open(){return n()},set open(L){n(L)}}),Ie()}const Hn=(q,t,n)=>{if(!e(t))return;const L=q.currentTarget;n(L)};var Kn=T('<span class="surface-information right-2 top-2 hidden rounded-sm px-2 py-0.5 text-xs font-medium italic text-primary lg:static lg:ml-auto lg:block"> </span>'),Xn=T('<span class="surface-danger right-2 top-2 hidden rounded-sm px-2 py-0.5 text-xs font-medium italic text-primary lg:static lg:ml-auto lg:block"> </span>'),Yn=T('<span class="hidden truncate text-left text-sm font-normal lg:inline-block"> </span> <!> <!>',1),Jn=T("<!> <!>",1),Gn=T("<span>Share</span>"),Zn=T("<div><!> <!> <!></div>"),es=T("<span>New</span><span>Save as New</span>",1),ts=T('<div class="flex items-center gap-1 overflow-hidden pt-0.5"><!></div>'),rs=T('<div class="w-full" role="menuitem" tabindex="-1"><!> <!></div>'),as=T('<p class="hidden whitespace-nowrap text-xs font-medium leading-3 lg:block lg:text-sm">Saved Views</p>'),os=(q,t)=>S(jr,!t()),ns=T('<p class="hidden whitespace-nowrap text-xs font-medium leading-3 lg:block lg:text-sm">Custom Views <span> </span></p>'),ss=T('<div class="text-center"><div class="space-y-1"></div></div>'),ls=T("<p>No Views</p>"),is=T('<div class="pointer-events-none z-[9999] inline-block select-none rounded-md bg-slate-800 p-2 text-xs text-slate-50 opacity-95" role="tooltip"> </div>'),cs=T('<div style="will-change: width"><div class="flex items-center justify-center gap-2 border-b border-subtle px-2 py-[.35rem] text-center lg:justify-start lg:py-[.47rem]"><div><!> <p class="block text-xs font-medium leading-3 lg:hidden">Saved Views</p> <button class="hidden rounded-sm p-0.5 hover:bg-secondary lg:inline-flex"><!></button></div></div> <div class="space-y-2 p-1.5"><div class="pb-2 text-center"><div class="space-y-1"></div></div> <!> <div class="border-t border-subtle"></div> <!> <!> <!></div></div> <!> <!> <!>',1);function ds(q,t){Ce(t,!0);const[n,L]=Ae(),a=()=>p(wt,"$savedWorkflowQueries",n),_=()=>p(Wr,"$searchAttributes",n),w=()=>p(jr,"$savedQueryNavOpen",n),D=()=>p(K,"$copied",n),f=(g,$=ta)=>{var ue=rs();ue.__mousemove=[Hn,E,se];var Me=m(ue);const Ne=l(()=>$().type==="system"?$().id:$().name.toLowerCase().replace(/\s+/g,"-")),G=l(()=>$().type==="system"?"system-query-button":"user-query-button"),_e=l(()=>mt("flex w-full justify-start",$().class||"")),he=l(()=>{var de;return(de=$())==null?void 0:de.active}),xe=l(()=>{var de;return(de=$())==null?void 0:de.disabled});De(Me,{variant:"ghost",get"data-testid"(){return e(Ne)},get"data-track-name"(){return e(G)},"data-track-intent":"action",get"data-track-text"(){return $().name},get class(){return e(_e)},get active(){return e(he)},get disabled(){return e(xe)},size:"sm",$$events:{click:()=>h($())},children:(de,fe)=>{var ge=Jn(),Ee=te(ge);const $e=l(()=>{var be;return((be=$())==null?void 0:be.icon)||"bookmark"}),ze=l(()=>mt("h-4 w-4 flex-shrink-0  transition-colors duration-200",w()?"lg:hidden":""));Vt(Ee,{get name(){return e($e)},get class(){return e(ze)}});var st=u(Ee,2);{var We=be=>{var Fe=Yn(),qe=te(Fe),lt=m(qe,!0);v(qe);var Ye=u(qe,2);{var at=xt=>{var He=Kn(),Rt=m(He,!0);v(He),ae(()=>{At(He,"data-testid",$().badge),ne(Rt,$().badge||"")}),Tt(1,He,()=>Wt),s(xt,He)};ee(Ye,xt=>{var He;(He=$())!=null&&He.badge&&xt(at)})}var Ze=u(Ye,2);{var or=xt=>{var He=Xn(),Rt=m(He,!0);v(He),ae(()=>{var Yt;return ne(Rt,((Yt=$())==null?void 0:Yt.count)||"")}),Tt(1,He,()=>Wt),s(xt,He)};ee(Ze,xt=>{var He;(He=$())!=null&&He.count&&xt(or)})}ae(()=>ne(lt,$().name)),Tt(1,qe,()=>Wt),s(be,Fe)};ee(st,be=>{w()&&be(We)})}s(de,ge)},$$slots:{default:!0}});var Re=u(Me,2);{var Qe=de=>{var fe=Zn(),ge=m(fe);{var Ee=We=>{De(We,{size:"xs",class:"w-full",variant:"primary","data-testid":"save-view-button","data-track-name":"save-view-button","data-track-intent":"action","data-track-text":"save",$$events:{click:()=>{W({...$(),query:e(x)})}},children:(be,Fe)=>{me();var qe=pe("Save");s(be,qe)},$$slots:{default:!0}})};ee(ge,We=>{var be;$().id===((be=e(o))==null?void 0:be.id)&&$().query!==e(x)&&We(Ee)})}var $e=u(ge,2);De($e,{size:"xs",class:"w-full",variant:"secondary","data-testid":"edit-view-button","data-track-name":"edit-view-button","data-track-intent":"action","data-track-text":"edit",$$events:{click:()=>{c(A,!0)}},children:(We,be)=>{me();var Fe=pe("Edit");s(We,Fe)},$$slots:{default:!0}});var ze=u($e,2);const st=l(()=>D()?"checkmark":"copy");De(ze,{get leadingIcon(){return e(st)},size:"xs",class:"w-full opacity-80",variant:"ghost","data-testid":"share-view-button","data-track-name":"share-view-button","data-track-intent":"action","data-track-text":"share",$$events:{click:b},children:(We,be)=>{var Fe=Gn();ae(qe=>pt(Fe,1,qe),[()=>kt(mt("hidden",w()&&"lg:inline"))]),s(We,Fe)},$$slots:{default:!0}}),v(fe),ae(We=>pt(fe,1,We),[()=>kt(mt("flex flex-col items-center gap-1 pt-0.5 transition-all",w()&&"lg:flex-row"))]),Tt(1,fe,()=>Wt),s(de,fe)},Ue=(de,fe)=>{{var ge=Ee=>{var $e=ts(),ze=m($e);De(ze,{size:"xs",class:"w-full break-all transition-all",variant:"secondary",get disabled(){return e(Y)},"data-testid":"create-view-button","data-track-name":"create-view-button","data-track-intent":"action","data-track-text":"create",$$events:{click:()=>{c(y,!0)}},children:(st,We)=>{var be=es(),Fe=te(be),qe=u(Fe);ae((lt,Ye)=>{pt(Fe,1,lt),pt(qe,1,Ye)},[()=>kt(mt("inline lg:hidden",!w()&&"lg:inline")),()=>kt(mt("hidden",w()&&"lg:inline"))]),s(st,be)},$$slots:{default:!0}}),v($e),Tt(3,$e,()=>Wt),s(Ee,$e)};ee(de,Ee=>{var $e;e(I)&&(($e=$())==null?void 0:$e.id)==="unsaved"&&Ee(ge)},fe)}};ee(Re,de=>{var fe,ge;((fe=e(o))==null?void 0:fe.id)===((ge=$())==null?void 0:ge.id)&&$().type==="user"?de(Qe):de(Ue,!1)})}v(ue),Ht("mouseenter",ue,de=>le(de,$().name)),Ht("mouseleave",ue,B),s(g,ue)};var k,C;let o=ye(void 0),y=ye(!1),A=ye(!1),P=ye(void 0);const x=l(()=>ke.url.searchParams.get("query")||""),M=ke.url.searchParams.get("savedQuery"),O=l(()=>ke.params.namespace),Y=l(()=>((k=a()===null||a()===void 0?void 0:a()[e(O)])===null||k===void 0?void 0:k.length)>=ma),z=l(()=>((C=a()===null||a()===void 0?void 0:a()[e(O)])===null||C===void 0?void 0:C.sort((g,$)=>g.name.localeCompare($.name)))||[]),j=l(()=>e(x)&&pr.find(g=>g.query===e(x))||!e(x)&&pr.find(g=>g.id==="all")),r=l(()=>e(x)&&e(z).find(g=>g.query===e(x))),F=l(()=>({id:"unsaved",name:"New View",query:e(x),icon:"bookmark",badge:"Unsaved",type:"system",active:!0})),I=l(()=>e(x)&&(e(o)===null||e(o)===void 0?void 0:e(o).id)==="unsaved");na(()=>{if(M){const g={name:M,query:e(x),id:Date.now().toString(),type:"user"};a()[e(O)]||yt(wt,Ke(a)[e(O)]=[],Ke(a)),e(Y)||yt(wt,Ke(a)[e(O)]=[...a()[e(O)],g],Ke(a)),c(o,g,!0);const $=new URL(ke.url);$.searchParams.delete("savedQuery"),sa($)}else e(r)?c(o,e(r),!0):e(j)?c(o,e(j),!0):e(x)&&c(o,e(F),!0)}),ht(()=>{if(e(P)!==void 0){e(x)===e(P)&&c(P,void 0);return}if(!e(x)&&(e(o)===null||e(o)===void 0?void 0:e(o).type)==="user"){c(o,void 0);return}(e(o)===null||e(o)===void 0?void 0:e(o).type)==="system"&&e(x)&&e(o).query!==e(x)&&(e(r)?c(o,e(r),!0):e(j)?c(o,e(j),!0):c(o,e(F),!0))});const h=g=>{g.id!==(e(o)===null||e(o)===void 0?void 0:e(o).id)&&(c(o,g,!0),c(P,g.query||"",!0),g.query&&S(et,Tr(g.query,_())),_r({url:ke.url,parameter:"query",value:g.query,allowEmpty:!0,clearParameters:[wr]}))},{copy:d,copied:K}=$o(),b=g=>{const $=new URL(ke.url.href)+"&savedQuery="+encodeURIComponent(e(o).name);d(g,$)},H=g=>{a()[e(O)]||yt(wt,Ke(a)[e(O)]=[],Ke(a)),yt(wt,Ke(a)[e(O)]=[...a()[e(O)],g],Ke(a)),c(o,g,!0)},W=g=>{a()[e(O)]||yt(wt,Ke(a)[e(O)]=[],Ke(a)),g.id===(e(o)===null||e(o)===void 0?void 0:e(o).id)?yt(wt,Ke(a)[e(O)]=a()[e(O)].map($=>$.id===g.id?g:$),Ke(a)):yt(wt,Ke(a)[e(O)]=[...a()[e(O)],g],Ke(a)),c(o,g,!0)},Z=g=>{yt(wt,Ke(a)[e(O)]=a()[e(O)].filter($=>($==null?void 0:$.id)!==g.id),Ke(a)),S(et,[]),c(o,void 0),_r({url:ke.url,parameter:"query",value:"",allowEmpty:!0,clearParameters:[wr]})};function J(g,$=document.body){const ue=typeof $=="string"?document.querySelector($):$;return ue&&ue.appendChild(g),{destroy(){g.parentNode&&g.parentNode.removeChild(g)}}}let E=ye(!1),V=ye(void 0),R=ye(0),N=ye(0);const se=g=>{const $=g.getBoundingClientRect();c(R,Math.round($.right+8),!0),c(N,Math.round($.top+16),!0)},le=(g,$)=>{if(w())return;const ue=g.currentTarget;c(V,$,!0),se(ue),c(E,!0)},B=()=>{c(E,!1)};var oe=cs(),Q=te(oe),X=m(Q),U=m(X),ce=m(U);{var Pe=g=>{var $=as();Tt(1,$,()=>Wt),s(g,$)};ee(ce,g=>{w()&&g(Pe)})}var Se=u(ce,4);Se.__click=[os,w];var Xe=m(Se);const we=l(()=>w()?"chevron-left":"chevron-right");Vt(Xe,{get name(){return e(we)}}),v(Se),v(U),v(X);var je=u(X,2),Oe=m(je),tt=m(Oe);ct(tt,21,()=>pr,gt,(g,$)=>{var ue=re(()=>({...e($),active:e(x)===e($).query}));f(g,()=>e(ue))}),v(tt),v(Oe);var ot=u(Oe,2);{var Pt=g=>{var $=ns(),ue=u(m($)),Me=m(ue);v(ue),v($),ae(Ne=>{pt(ue,1,Ne),ne(Me,`${e(z).length??""} / 20`)},[()=>kt(mt("text-xs text-secondary",w()?"lg:inline":"lg:hidden"))]),Tt(1,$,()=>Wt),s(g,$)};ee(ot,g=>{w()&&g(Pt)})}var Ft=u(ot,4);{var Lt=g=>{f(g,()=>e(F))};ee(Ft,g=>{e(I)&&g(Lt)})}var jt=u(Ft,2);{var Et=g=>{var $=ss(),ue=m($);ct(ue,21,()=>e(z),gt,(Me,Ne)=>{var G=re(()=>{var _e,he;return{...e(Ne),active:e(Ne).id===((_e=e(o))==null?void 0:_e.id),badge:e(Ne).id===((he=e(o))==null?void 0:he.id)&&e(Ne).query!==e(x)?"Unsaved":void 0}});f(Me,()=>e(G))}),v(ue),v($),s(g,$)};ee(jt,g=>{e(z).length>0&&g(Et)})}var Nt=u(jt,2);{var Je=g=>{var $=ls();ae(ue=>pt($,1,ue),[()=>kt(mt(" pl-1 text-center text-secondary lg:pl-4 lg:text-left",!w()&&"lg:pl-1 lg:text-center"))]),s(g,$)};ee(Nt,g=>{e(z).length===0&&!e(I)&&g(Je)})}v(je),v(Q);var Ge=u(Q,2);zn(Ge,{onCreateView:H,get open(){return e(y)},set open(g){c(y,g,!0)}});var rt=u(Ge,2);Un(rt,{get view(){return e(o)},onSaveView:W,onCreateView:H,onDeleteView:Z,get open(){return e(A)},set open(g){c(A,g,!0)}});var bt=u(rt,2);{var nt=g=>{var $=is(),ue=m($,!0);v($),_o($,Me=>J==null?void 0:J(Me)),ae(()=>{oa($,`position: fixed; top: ${e(N)}px; left: ${e(R)}px; transform: translateY(-50%); max-width: 280px;`),ne(ue,e(V))}),s(g,$)};ee(bt,g=>{e(E)&&e(V)&&g(nt)})}ae((g,$)=>{pt(Q,1,g),pt(U,1,$),At(Se,"aria-label",w()?"Collapse saved views":"Expand saved views"),At(Se,"title",w()?"Collapse":"Expand")},[()=>kt(mt("surface-primary relative h-[var(--panel-h)] h-auto max-h-[var(--panel-h)] min-h-[var(--panel-h)] w-[var(--panel-collapsed-w)] min-w-[var(--panel-collapsed-w)] max-w-[var(--panel-collapsed-w)] overflow-auto border border-r-0 border-subtle shadow-sm transition-all duration-300 ease-in-out",w()?"lg:w-[var(--panel-expanded-w)] lg:min-w-[var(--panel-expanded-w)] lg:max-w-[var(--panel-expanded-w)]":"lg:w-[var(--panel-collapsed-w)] lg:min-w-[var(--panel-collapsed-w)] lg:max-w-[var(--panel-collapsed-w)]")),()=>kt(mt("flex w-full items-center justify-between",w()?"lg:justify-between":"lg:justify-center"))]),s(q,oe),Ie(),L()}Ta(["mousemove","click"]);const Dt="BATCH_OPERATION_CONTEXT";var us=T('<span data-testid="workflow-count"> </span> <!>',1),vs=T('<div class="flex items-center gap-4"><!> <!></div>'),fs=T('<!> <!> <!> <!> <!> <header class="flex flex-col gap-2"><div class="flex flex-col justify-between gap-2 md:flex-row"><div class="flex flex-row flex-wrap items-start gap-2"><div><h1 class="flex items-center gap-2 leading-7" data-cy="workflows-title"><!></h1> <p class="text-xs text-secondary"> </p></div> <!> <!></div> <!></div></header> <!> <div class="flex overflow-auto"><!> <div><!></div></div> <!>',1);function ms(q,t){const n=ba(t);Ce(t,!0);const[L,a]=Ae(),_=()=>p(la,"$timeFormat",L),w=()=>p(Za,"$relativeTime",L),D=()=>p(Wr,"$searchAttributes",L),f=()=>p(Qt,"$refresh",L),k=()=>p(W,"$selectedWorkflows",L),C=()=>p(da,"$supportsAdvancedVisibility",L),o=()=>p(xr,"$workflowCount",L),y=()=>p(jr,"$savedQueryNavOpen",L),A=l(()=>ke.url.searchParams.get("query")),P=l(()=>ke.params.namespace),x=l(()=>ke.url.searchParams.get("per-page")),M=l(()=>ke.url.searchParams.toString());let O=ye(hr(new Date));const Y=l(()=>ia(e(O),_(),{relative:w()})),z=l(()=>fo(e(P),ke.data.settings));na(()=>{S(bo,ke.params.namespace),e(A)&&S(et,Tr(e(A),D()))}),ht(()=>{S(Ot,e(A))}),ht(()=>{S(Ea,e(M))}),ht(()=>{e(P),e(A),e(x),f(),j()});const j=()=>{S(b,!1),S(H,!1),S(W,[])};let r=ye(!1),F=ye(!1),I=ye(!1),h=ye(!1),d=ye(!1),K=ye(!1);const b=Le(!1),H=Le(!1),W=Le([]),Z=zt(W,G=>G.length>0),J=l(()=>!ua(ke)),E=zt(W,G=>G.filter(_e=>_e.canBeTerminated)),V=zt(W,G=>G.filter(_e=>_e.status==="Running"));ra(Dt,{allSelected:b,pageSelected:H,terminableWorkflows:E,cancelableWorkflows:V,selectedWorkflows:W,batchActionsVisible:Z,openBatchCancelConfirmationModal:()=>{k().length>1?c(I,!0):c(K,!0)},openBatchTerminateConfirmationModal:()=>{k().length>1?c(F,!0):c(d,!0)},openBatchResetConfirmationModal:()=>{c(h,!0)},handleSelectAll:G=>{b.set(!0),W.set([...G])},handleSelectPage:(G,_e)=>{H.set(G),b&&b.set(!1),G?W.set([..._e]):W.set([])}});const oe=()=>{c(r,!0)};var Q=fs(),X=te(Q);Do(X,{get namespace(){return e(P)},get open(){return e(F)},set open(G){c(F,G,!0)}});var U=u(X,2);Io(U,{get namespace(){return e(P)},get open(){return e(I)},set open(G){c(I,G,!0)}});var ce=u(U,2);Wo(ce,{get namespace(){return e(P)},get open(){return e(h)},set open(G){c(h,G,!0)}});var Pe=u(ce,2);La(Pe,{refresh:Qt,get namespace(){return e(P)},get workflow(){return k()[0]},get open(){return e(d)},set open(G){c(d,G,!0)}});var Se=u(Pe,2);Ma(Se,{refresh:Qt,get namespace(){return e(P)},get workflow(){return k()[0]},get open(){return e(K)},set open(G){c(K,G,!0)}});var Xe=u(Se,2),we=m(Xe),je=m(we),Oe=m(je),tt=m(Oe),ot=m(tt);{var Pt=G=>{var _e=us(),he=te(_e),xe=m(he,!0);v(he);var Re=u(he,2);dt(Re,{key:"common.workflows-plural",get count(){return o().count}}),ae(Qe=>ne(xe,Qe),[()=>o().count.toLocaleString()]),s(G,_e)},Ft=G=>{dt(G,{key:"workflows.recent-workflows"})};ee(ot,G=>{C()?G(Pt):G(Ft,!1)})}v(tt);var Lt=u(tt,2),jt=m(Lt,!0);v(Lt),v(Oe);var Et=u(Oe,2);vn(Et,{get count(){return o().newCount}});var Nt=u(Et,2);so(Nt,{get refreshTime(){return e(O)},set refreshTime(G){c(O,G,!0)}}),v(je);var Je=u(je,2);{var Ge=G=>{var _e=vs(),he=m(_e);It(he,t,"header-actions",{},null);var xe=u(he,2);{var Re=Qe=>{const Ue=l(()=>va({namespace:e(P)}));De(Qe,{leadingIcon:"lightning-bolt",get href(){return e(Ue)},children:(de,fe)=>{me();var ge=pe();ae(Ee=>ne(ge,Ee),[()=>i("workflows.start-workflow")]),s(de,ge)},$$slots:{default:!0}})};ee(xe,Qe=>{e(J)&&Qe(Re)})}v(_e),s(G,_e)};ee(Je,G=>{(n["header-actions"]||e(J))&&G(Ge)})}v(we),v(Xe);var rt=u(Xe,2);un(rt);var bt=u(rt,2),nt=m(bt);ds(nt,{});var g=u(nt,2),$=m(g);Fn($,{onClickConfigure:oe,$$slots:{cloud:(G,_e)=>{var he=Be(),xe=te(he);It(xe,t,"cloud",{},null),s(G,he)}}}),v(g),v(bt);var ue=u(bt,2);const Me=l(()=>i("common.columns")),Ne=l(()=>i("common.workflows-table"));Ka(ue,{get availableColumns(){return e(z)},get type(){return e(Me)},get title(){return e(Ne)},get open(){return e(r)},set open(G){c(r,G,!0)}}),ae(G=>{ne(jt,e(Y)),pt(g,1,G)},[()=>kt(mt("flex w-[calc(100%-var(--panel-collapsed-w))] shrink flex-col transition-all lg:w-[calc(100%-var(--panel-expanded-w))]",!y()&&"lg:w-[calc(100%-var(--panel-collapsed-w))]"))]),s(q,Q),Ie(),a()}var ps=T("<!> <!>",1);function jl(q,t){Ce(t,!1);const[n,L]=Ae(),a=()=>p(Xt,"$page",n);ut();var _=ps(),w=te(_);const D=re(()=>`Workflows | ${a().params.namespace}`);ya(w,{get title(){return e(D)},get url(){return a().url.href}});var f=u(w,2);ms(f,{}),s(q,_),Ie(),L()}export{jl as component,Dl as universal};
