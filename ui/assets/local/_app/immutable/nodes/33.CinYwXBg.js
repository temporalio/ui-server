import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as ie,ae as Ae,l as O,a as _e,t as F,h as M,c as W,r as A,d as i,b as de,g as e,j as u,s as l,m as k,ac as he,f as Y,i as ae,aE as ge,e as $e,k as ye,n as Te,o as lt,ad as Vt}from"../chunks/CtXwlho8.js";import{i as ue}from"../chunks/D4D3ThYu.js";import{s as we,d as $t,a as s,b as z,m as be}from"../chunks/CI9zuxJp.js";import{p as De}from"../chunks/CsiAh9KY.js";import{P as Bt}from"../chunks/BYpUB0sF.js";import{s as le,q as Mt,e as Dt}from"../chunks/BXc8M6y4.js";import{i as ee}from"../chunks/yjFgoZ2z.js";import{s as Se,a as qt}from"../chunks/CykH9iyL.js";import{d as ze,w as pe,o as Rt}from"../chunks/BBGlwGsK.js";import{p as X,l as ct,s as Lt}from"../chunks/DdhuX4yd.js";import{M as Ge}from"../chunks/8VonA-pd.js";import{t as m}from"../chunks/D2OY9xdY.js";import{T as ke}from"../chunks/BzDsXp5j.js";import{A as me}from"../chunks/TBME1SPK.js";import{b as Ot,c as Ut,e as zt}from"../chunks/B6JxqapB.js";import{t as Ye}from"../chunks/C7ldE0Xz.js";import{l as qe,x as Ze,r as Me,y as Et,w as et,z as Qt,q as gt,o as Ft,g as Nt}from"../chunks/Ch_-w4Z7.js";import{g as tt}from"../chunks/AlMSaZnh.js";import{i as ot}from"../chunks/V0ppeWDx.js";import{I as it}from"../chunks/B1g-hmy8.js";import{R as Ht,a as dt}from"../chunks/IUfGj65Y.js";import{w as Jt,a as Xt,b as Kt,T as Gt,C as Yt}from"../chunks/BOY0Cddj.js";import{S as Zt,w as eo,I as to,C as oo}from"../chunks/dS0OfEf_.js";import{W as ro,e as ao,T as ut}from"../chunks/xvA7PXN0.js";import{B as xe}from"../chunks/BTBm4n-Z.js";import{T as Ee}from"../chunks/DHeHXQSq.js";import{w as Xe,g as ft,h as so}from"../chunks/LO8Lyp7-.js";import{W as no}from"../chunks/C6Ozz6BO.js";import{k as lo}from"../chunks/CmcpgAEn.js";import{e as Ve,i as Be}from"../chunks/DN_bdWMP.js";import{a as Qe,d as co,s as mt}from"../chunks/CiDpyPci.js";import{A as io}from"../chunks/Cb-Z4thM.js";import{L as pt}from"../chunks/CTQwXfXH.js";import{u as uo}from"../chunks/CQZVsHBp.js";import{I as Ke}from"../chunks/Cey4-U3a.js";import{A as fo}from"../chunks/CukqcaEA.js";import{c as mo,b as po}from"../chunks/C6fWBsy_.js";import{T as wo}from"../chunks/DkDDB1xl.js";import{C as ht}from"../chunks/Dl4Or9k2.js";import{i as vo,m as $o}from"../chunks/DAkGzw3a.js";import{s as kt,i as bt}from"../chunks/BgV3x4xD.js";import{t as _t,s as go}from"../chunks/CJ0l5vYm.js";import{c as ho}from"../chunks/BoPhJLUE.js";import{w as yt}from"../chunks/B8d0Y1PO.js";import{g as ko}from"../chunks/BzwigIpU.js";import{z as xt}from"../chunks/D8gwv9_s.js";import{l as bo}from"../chunks/CmHH8kHN.js";import{s as _o}from"../chunks/C5JMgcdy.js";import{a as yo}from"../chunks/R4I5fFxM.js";const xo=!1,fa=Object.freeze(Object.defineProperty({__proto__:null,ssr:xo},Symbol.toStringTag,{value:"Module"}));var Io=F('<p class="mb-2"><!></p> <div class="surface-subtle mb-2 overflow-scroll whitespace-nowrap border border-subtle p-2"><code data-testid="batch-action-workflows-query"> </code></div> <span class="text-xs"><!></span>',1),Co=F("<p><!></p>"),Wo=F('<div class="mb-4 flex flex-col gap-4"><!> <!> <!> <!></div>');function rt(q,r){ie(r,!1);const[t,V]=we(),f=()=>s(I,"$allSelected",t),n=()=>s(qe,"$workflowsQuery",t),P=()=>s(e(j),"$operableWorkflowsCount",t),$=k(),j=k();let b=X(r,"action",8),T=X(r,"reason",12),p=X(r,"jobId",12),w=X(r,"reasonPlaceholder",8),c=X(r,"jobIdPlaceholder",8),x=X(r,"jobIdValid",12);const{allSelected:I,terminableWorkflows:_,cancelableWorkflows:N,selectedWorkflows:D}=Ae(je),E=h=>{switch(h){case me.Cancel:return m("common.cancel");case me.Terminate:return m("workflows.terminate");case me.Reset:return m("workflows.reset")}},Z=h=>ze([N,_,D],([H,Q,te])=>{switch(h){case me.Cancel:return H.length;case me.Terminate:return Q.length;case me.Reset:return te.length}}),d=h=>{x(/^[\w.~-]*$/.test(h.target.value))};O(()=>he(b()),()=>{l($,E(b()))}),O(()=>he(b()),()=>{$t(l(j,Z(b())),"$operableWorkflowsCount",t)}),_e(),ue();var y=Wo(),R=M(y);{var S=h=>{var H=Io(),Q=Y(H),te=M(Q);const se=u(()=>({action:e($)}));ke(te,{key:"workflows.batch-operation-confirmation-all",get replace(){return e(se)}}),A(Q);var v=W(Q,2),U=M(v),oe=M(U,!0);A(U),A(v);var re=W(v,2),ne=M(re);const ce=u(()=>({action:e($)}));ke(ne,{key:"workflows.batch-operation-count-disclaimer",get replace(){return e(ce)}}),A(re),ae(()=>le(oe,n())),i(h,H)},o=h=>{var H=Co(),Q=M(H);{var te=v=>{ke(v,{key:"workflows.batch-reset-confirmation",get count(){return P()}})},se=v=>{const U=u(()=>({action:e($)}));ke(v,{key:"workflows.batch-confirmation",get replace(){return e(U)},get count(){return P()}})};ee(Q,v=>{b()===me.Reset?v(te):v(se,!1)})}A(H),i(h,H)};ee(R,h=>{f()?h(S):h(o,!1)})}var g=W(R,2);const a=u(()=>m("common.reason")),L=u(()=>m("workflows.batch-operation-confirmation-input-hint",{placeholder:w()}));it(g,{get id(){return`bulk-action-reason-${b()??""}`},get label(){return e(a)},get hintText(){return e(L)},get placeholder(){return w()},get value(){return T()},set value(h){T(h)},$$legacy:!0});var C=W(g,2);const G=u(()=>m("common.job-id")),K=u(()=>x()?m("batch.job-id-input-hint"):m("batch.job-id-input-error"));it(C,{id:"batch-operation-job-id",get label(){return e(G)},get hintText(){return e(K)},get placeholder(){return c()},get valid(){return x()},get value(){return p()},set value(h){p(h)},$$events:{input:d},$$legacy:!0});var J=W(C,2);Se(J,r,"default",{},null),A(y),i(q,y),de(),V()}var Po=F('<h3 slot="title"><!></h3>');function To(q,r){ie(r,!1);const[t,V]=we(),f=()=>s(c,"$reason",t),n=()=>s(I,"$jobId",t),P=()=>s(_,"$jobIdValid",t),$=()=>s(E,"$allSelected",t),j=()=>s(qe,"$workflowsQuery",t),b=()=>s(Z,"$cancelableWorkflows",t);let T=X(r,"namespace",8),p=X(r,"open",12);const w=tt(),c=pe(""),x=Ze(me.Cancel,w),I=pe(""),_=pe(!0);let N=k(crypto.randomUUID()),D=k("");const{allSelected:E,cancelableWorkflows:Z}=Ae(je),d=()=>{z(c,""),z(I,""),z(_,!0),l(N,crypto.randomUUID())},y=async()=>{l(D,"");const o={namespace:T(),reason:f()?`${f()} ${x}`:x,jobId:n()||e(N),...$()?{query:j()}:{workflows:b()}};try{await Ot(o),p(!1),d(),Ye.push({message:m("workflows.batch-cancel-all-success"),id:"batch-cancel-success-toast"})}catch(g){l(D,ot(g)?g.message:m("common.unknown-error"))}};O(()=>he(p()),()=>{p()&&d()}),_e(),ue();const R=u(()=>m("common.cancel")),S=u(()=>m("common.confirm"));Ge(q,{id:"batch-cancel-confirmation-modal","data-testid":"batch-cancel-confirmation",confirmType:"destructive",get cancelText(){return e(R)},confirmDisabled:!_,get confirmText(){return e(S)},get open(){return p()},set open(o){p(o)},get error(){return e(D)},set error(o){l(D,o)},$$events:{confirmModal:y},$$slots:{title:(o,g)=>{var a=Po(),L=M(a);ke(L,{key:"workflows.batch-cancel-modal-title"}),A(a),i(o,a)},content:(o,g)=>{rt(o,{get jobIdPlaceholder(){return e(N)},reasonPlaceholder:x,get action(){return me.Cancel},get reason(){return be(),f()},set reason(a){z(c,a)},get jobId(){return be(),n()},set jobId(a){z(I,a)},get jobIdValid(){return be(),P()},set jobIdValid(a){z(_,a)},$$legacy:!0})}},$$legacy:!0}),de(),V()}var jo=F('<h3 slot="title"><!></h3>'),So=F("<!> <!>",1);function Ao(q,r){ie(r,!1);const[t,V]=we(),f=()=>s(N,"$reason",t),n=()=>s(E,"$jobId",t),P=()=>s(Z,"$jobIdValid",t),$=()=>s(e(I),"$resetType",t),j=()=>s(d,"$allSelected",t),b=()=>s(qe,"$workflowsQuery",t),T=()=>s(y,"$selectedWorkflows",t);let p=X(r,"namespace",8),w=X(r,"open",12,!1),c=k(""),x=k(crypto.randomUUID()),I=k(pe("first"));const _=tt(),N=pe(""),D=Ze(me.Reset,_),E=pe(""),Z=pe(!0),{allSelected:d,selectedWorkflows:y}=Ae(je),R=()=>{z(N,""),z(E,""),z(Z,!0),l(x,crypto.randomUUID())},S=async()=>{l(c,"");const a={namespace:p(),reason:f()?`${f()} ${D}`:D,jobId:n()||e(x),resetType:$(),...j()?{query:b()}:{workflows:T()}};try{await Ut(a),w(!1),R(),Ye.push({message:m("workflows.batch-reset-all-success"),id:"batch-reset-success-toast"})}catch(L){l(c,ot(L)?L.message:m("common.unknown-error"))}};O(()=>he(w()),()=>{w()&&R()}),_e(),ue();const o=u(()=>m("common.cancel")),g=u(()=>m("workflows.reset"));Ge(q,{get cancelText(){return e(o)},get confirmText(){return e(g)},id:"batch-reset-confirmation-modal",confirmType:"destructive",get error(){return e(c)},set error(a){l(c,a)},get open(){return w()},set open(a){w(a)},$$events:{confirmModal:S},$$slots:{title:(a,L)=>{var C=jo(),G=M(C);ke(G,{key:"workflows.batch-reset-modal-title"}),A(C),i(a,C)},content:(a,L)=>{rt(a,{get jobIdPlaceholder(){return e(x)},reasonPlaceholder:D,get action(){return me.Reset},get reason(){return be(),f()},set reason(C){z(N,C)},get jobId(){return be(),n()},set jobId(C){z(E,C)},get jobIdValid(){return be(),P()},set jobIdValid(C){z(Z,C)},children:(C,G)=>{const K=u(()=>m("workflows.reset-event-radio-group-description"));Ht(C,{get description(){return e(K)},name:"reset-event",get group(){return e(I)},set group(J){$t(l(I,J),"$resetType",t)},children:(J,h)=>{var H=So(),Q=Y(H);dt(Q,{id:"reset-event-first",value:"first",label:"First Workflow task"});var te=W(Q,2);dt(te,{id:"reset-event-last",value:"last",label:"Last Workflow task"}),i(J,H)},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0},$$legacy:!0})}},$$legacy:!0}),de(),V()}var Vo=F('<h3 slot="title"><!></h3>');function Bo(q,r){ie(r,!1);const[t,V]=we(),f=()=>s(c,"$reason",t),n=()=>s(I,"$jobId",t),P=()=>s(_,"$jobIdValid",t),$=()=>s(E,"$allSelected",t),j=()=>s(qe,"$workflowsQuery",t),b=()=>s(Z,"$terminableWorkflows",t);let T=X(r,"namespace",8),p=X(r,"open",12);const w=tt(),c=pe(""),x=Ze(me.Terminate,w),I=pe(""),_=pe(!0);let N=k(crypto.randomUUID()),D=k("");const{allSelected:E,terminableWorkflows:Z}=Ae(je),d=()=>{z(c,""),z(I,""),z(_,!0),l(N,crypto.randomUUID())},y=async()=>{l(D,"");try{const o={namespace:T(),reason:f()?`${f()} ${x}`:x,jobId:n()||e(N),...$()?{query:j()}:{workflows:b()}};await zt(o),p(!1),d(),Ye.push({message:m("workflows.batch-terminate-all-success"),id:"batch-terminate-success-toast"})}catch(o){l(D,ot(o)?o.message:m("common.unknown-error"))}};O(()=>he(p()),()=>{p()&&d()}),_e(),ue();const R=u(()=>m("common.cancel")),S=u(()=>m("workflows.terminate"));Ge(q,{id:"batch-terminate-confirmation-modal","data-testid":"batch-terminate-confirmation",confirmType:"destructive",get cancelText(){return e(R)},confirmDisabled:!_,get confirmText(){return e(S)},get open(){return p()},set open(o){p(o)},get error(){return e(D)},set error(o){l(D,o)},$$events:{confirmModal:y},$$slots:{title:(o,g)=>{var a=Vo(),L=M(a);ke(L,{key:"workflows.batch-terminate-modal-title"}),A(a),i(o,a)},content:(o,g)=>{rt(o,{reasonPlaceholder:x,get jobIdPlaceholder(){return e(N)},get action(){return me.Terminate},get reason(){return be(),f()},set reason(a){z(c,a)},get jobId(){return be(),n()},set jobId(a){z(I,a)},get jobIdValid(){return be(),P()},set jobIdValid(a){z(_,a)},$$legacy:!0})}},$$legacy:!0}),de(),V()}var Mo=F('<div class="flex w-full items-start gap-1"><!> <!></div>');function Do(q,r){ie(r,!1);const[t,V]=we(),f=()=>s(ft,"$searchInputViewOpen",t),n=()=>s(Xe,"$workflowFilters",t),P=k();var $=k();O(()=>ge($),()=>{l(P,eo.match(l($,window==null?void 0:window.location)===null||ge($)===void 0?void 0:ge($).pathname))}),_e(),ue();var j=Mo(),b=M(j);{var T=c=>{const x=u(()=>m("workflows.close-search-input"));Ee(c,{get text(){return e(x)},topLeft:!0,children:(I,_)=>{xe(I,{"data-testid":"manual-search-toggle",id:"close-search-input",variant:"ghost",class:"mt-1",leadingIcon:"filter",size:"xs",$$events:{click:()=>z(ft,!1)}})},$$slots:{default:!0}})};ee(b,c=>{f()&&e(P)&&c(T)})}var p=W(b,2);const w=u(()=>!f());Zt(p,{get showFilter(){return e(w)},refresh:()=>{z(Me,Date.now())},get filters(){return be(),n()},set filters(c){z(Xe,c)},children:(c,x)=>{var I=$e(),_=Y(I);{var N=D=>{ro(D,{})};ee(_,D=>{f()&&D(N)})}i(c,I)},$$slots:{default:!0},$$legacy:!0}),A(j),i(q,j),de(),V()}function qo(q,r){ie(r,!1);const[t,V]=we();let f=X(r,"count",8,0);ue(),xe(q,{size:"xs",variant:"ghost",leadingIcon:"retry",$$events:{click:()=>z(Me,Date.now())},children:(n,P)=>{var $=$e(),j=Y($);{var b=p=>{var w=ye();ae(c=>le(w,`+${c??""}`),[()=>f().toLocaleString()],u),i(p,w)},T=(p,w)=>{{var c=x=>{var I=ye();ae(_=>le(I,_),[()=>f().toLocaleString()],u),i(x,I)};ee(p,x=>{f()<0&&x(c)},w)}};ee(j,p=>{f()>0?p(b):p(T,!1)})}i(n,$)},$$slots:{default:!0}}),de(),V()}const wt=""+new URL("../assets/empty-state-dark_2x.BtTCLk6j.png",import.meta.url).href,Je=""+new URL("../assets/empty-state-light_2x.BAwLJnNu.png",import.meta.url).href;var Ro=F('<link rel="preload" as="image"> <link rel="preload" as="image">',1),Lo=F("<p> </p> <p> </p>",1),Oo=F("<li><!></li>"),Uo=F('<!> <p> <!>.</p> <ul class="flex flex-col gap-2"></ul>',1),zo=F('<div class="h-auto w-full overflow-hidden xl:flex xl:min-h-[480px] xl:flex-row" aria-live="polite"><div class="surface-primary flex w-auto min-w-[280px] flex-col gap-4 p-8 xl:min-w-[520px] xl:flex-1"><h2><!></h2> <!></div> <div class="bg-[#DDD6FE] bg-contain bg-no-repeat xl:flex xl:min-h-full xl:max-w-[1050px] xl:flex-1 xl:items-stretch xl:justify-center"><img alt="" class="max-h-full max-w-full object-contain xl:hidden"></div></div>');function Eo(q,r){ie(r,!1);const[t,V]=we(),f=()=>s(De,"$page",t),n=()=>s(uo,"$useDarkMode",t),P=()=>s(Et,"$workflowError",t),$=k(),j=k(),b=["samples-go","samples-java","samples-typescript","samples-python","samples-dotnet","samples-php"];O(()=>f(),()=>{l($,f().url.searchParams.get("query"))}),O(()=>(n(),Je),()=>{l(j,n()?wt:Je)}),_e(),ue();var T=zo();Mt(d=>{var y=Ro(),R=Y(y);Qe(R,"href",wt);var S=W(R,2);Qe(S,"href",Je),i(d,y)});var p=M(T),w=M(p),c=M(w);{var x=d=>{var y=ye();ae(R=>le(y,R),[()=>m("workflows.workflow-query-empty-state-title")],u),i(d,y)},I=d=>{var y=ye();ae(R=>le(y,R),[()=>m("workflows.workflow-empty-state-title")],u),i(d,y)};ee(c,d=>{e($)?d(x):d(I,!1)})}A(w);var _=W(w,2);{var N=d=>{const y=u(()=>m("workflows.workflow-query-error-state"));io(d,{intent:"warning",icon:"warning",get title(){return e(y)},style:"overflow-wrap: anywhere",children:(R,S)=>{Te();var o=ye();ae(()=>le(o,P())),i(R,o)},$$slots:{default:!0}})},D=(d,y)=>{{var R=o=>{var g=Lo(),a=Y(g),L=M(a,!0);A(a);var C=W(a,2),G=M(C,!0);A(C),ae((K,J)=>{le(L,K),le(G,J)},[()=>m("workflows.workflow-query-empty-state-preface"),()=>m("workflows.workflow-query-empty-state-postface")],u),i(o,g)},S=o=>{var g=Uo(),a=Y(g);Se(a,r,"cloud",{},null);var L=W(a,2),C=M(L),G=W(C);pt(G,{newTab:!0,href:"https://github.com/temporalio",children:(J,h)=>{Te();var H=ye("github.com/temporalio");i(J,H)},$$slots:{default:!0}}),Te(),A(L);var K=W(L,2);Ve(K,5,()=>b,Be,(J,h)=>{var H=Oo(),Q=M(H);pt(Q,{icon:"github",newTab:!0,get href(){return`https://github.com/temporalio/${e(h)??""}`},children:(te,se)=>{Te();var v=ye();ae(()=>le(v,e(h))),i(te,v)},$$slots:{default:!0}}),A(H),i(J,H)}),A(K),ae(J=>le(C,`${J??""} `),[()=>m("workflows.workflow-empty-state-description")],u),i(o,g)};ee(d,o=>{e($)?o(R):o(S,!1)},y)}};ee(_,d=>{P()?d(N):d(D,!1)})}A(p);var E=W(p,2),Z=M(E);A(E),A(T),ae(()=>{co(E,`background-image: url(${e(j)??""});`),Qe(Z,"src",e(j))}),i(q,T),de(),V()}const Qo=["workflowCancelDisabled","workflowTerminateDisabled"],Fo=q=>q.disableWriteActions||q.batchActionsDisabled?!1:Qo.some(r=>!q[r]),It=ze([_t,kt,go,bt],([q,r,t,V])=>(V?!0:vo(q,"1.18.0"))&&r&&Fo(t));var No=F('<span class="font-medium"><!></span>'),Ho=F('<span> <button data-testid="select-all-workflows" class="cursor-pointer underline"><!></button> </span>'),Jo=F('<span class="font-medium"><!></span> <!>',1),Xo=F('<!> <div class="ml-4 inline-flex gap-2"><!> <!> <!></div>',1);function Ko(q,r){ie(r,!1);const[t,V]=we(),f=()=>s(D,"$selectedWorkflows",t),n=()=>s(De,"$page",t),P=()=>s(o,"$coreUser",t),$=()=>s(bt,"$isCloud",t),j=()=>s(_t,"$temporalVersion",t),b=()=>s(E,"$allSelected",t),T=()=>s(et,"$workflowCount",t),p=()=>s(qe,"$workflowsQuery",t),w=()=>s(d,"$cancelableWorkflows",t),c=k(),x=k(),I=k();var _=k();let N=X(r,"workflows",8);const{selectedWorkflows:D,allSelected:E,handleSelectAll:Z,cancelableWorkflows:d,openBatchCancelConfirmationModal:y,openBatchTerminateConfirmationModal:R,openBatchResetConfirmationModal:S}=Ae(je);let o=ho(),g=k();O(()=>(ge(_),f()),()=>{l(g,l(_,f()===null||f()===void 0?void 0:f().length)!==null&&ge(_)!==void 0?ge(_):0)}),O(()=>(n(),P()),()=>{l(c,Jt(n().data.settings,P(),n().params.namespace))}),O(()=>(n(),P()),()=>{l(x,Xt(n().data.settings,P(),n().params.namespace))}),O(()=>(n(),P(),$(),j()),()=>{l(I,Kt(n().data.settings,P(),n().params.namespace)&&$()?!0:$o("1.23.0",j()))}),_e(),ue();var a=Xo(),L=Y(a);{var C=v=>{var U=No(),oe=M(U);ke(oe,{key:"workflows.all-selected",get count(){return T().count}}),A(U),i(v,U)},G=v=>{var U=Jo(),oe=Y(U),re=M(oe);ke(re,{key:"workflows.n-selected",get count(){return e(g)}}),A(oe);var ne=W(oe,2);{var ce=ve=>{var Ce=Ho(),We=M(Ce),Pe=W(We),Re=M(Pe);ke(Re,{key:"workflows.select-all",get count(){return T().count}}),A(Pe);var Le=W(Pe);A(Ce),ae((Fe,Ne)=>{le(We,`(${Fe??""} `),le(Le,` ${Ne??""})`)},[()=>m("workflows.select-all-leading"),()=>m("workflows.select-all-trailing")],u),Dt("click",Pe,()=>Z(N())),i(ve,Ce)};ee(ne,ve=>{p()&&ve(ce)})}i(v,U)};ee(L,v=>{b()?v(C):v(G,!1)})}var K=W(L,2),J=M(K);{var h=v=>{const U=u(()=>!w().length);xe(v,{size:"xs",variant:"ghost",class:"focus-visible:border-table","data-testid":"bulk-cancel-button",get disabled(){return e(U)},$$events:{click:y},children:(oe,re)=>{Te();var ne=ye();ae(ce=>le(ne,ce),[()=>m("workflows.request-cancellation")],u),i(oe,ne)},$$slots:{default:!0}})};ee(J,v=>{e(x)&&v(h)})}var H=W(J,2);{var Q=v=>{xe(v,{size:"xs",variant:"ghost",class:"focus-visible:border-table","data-testid":"bulk-reset-button",$$events:{click:S},children:(U,oe)=>{Te();var re=ye();ae(ne=>le(re,ne),[()=>m("workflows.reset")],u),i(U,re)},$$slots:{default:!0}})};ee(H,v=>{e(I)&&v(Q)})}var te=W(H,2);{var se=v=>{xe(v,{size:"xs",variant:"destructive",class:"focus-visible:border-table","data-testid":"bulk-terminate-button",$$events:{click:R},children:(U,oe)=>{Te();var re=ye();ae(ne=>le(re,ne),[()=>m("workflows.terminate")],u),i(U,re)},$$slots:{default:!0}})};ee(te,v=>{e(c)&&v(se)})}A(K),i(q,a),de(),V()}var Go=F('<th class="batch-actions-checkbox-table-cell svelte-zmv232"><!></th>'),Yo=F('<th class="batch-actions-table-cell svelte-zmv232"><!></th>'),Zo=F('<tr><!><th class="w-6"></th><!></tr>');function er(q,r){ie(r,!1);const[t,V]=we(),f=()=>s(x,"$selectedWorkflows",t),n=()=>s(It,"$supportsBulkActions",t),P=()=>s(I,"$pageSelected",t),$=()=>s(_,"$batchActionsVisible",t),j=k(),b=k();let T=X(r,"workflows",8),p=X(r,"empty",8),w=X(r,"columnsCount",8);const{handleSelectPage:c,selectedWorkflows:x,pageSelected:I,batchActionsVisible:_}=Ae(je),N=S=>{const{checked:o}=S.detail;c(o,T())};O(()=>(f(),he(T())),()=>{l(j,f().length>0&&f().length<T().length)}),O(()=>m,()=>{l(b,m("workflows.select-all-workflows"))}),_e(),ue();var D=Zo(),E=M(D);{var Z=S=>{var o=Go(),g=M(o);ht(g,{get label(){return e(b)},labelHidden:!0,id:"select-visible-workflows","data-testid":"batch-actions-checkbox",get indeterminate(){return e(j)},get checked(){return be(),P()},set checked(a){z(I,a)},$$events:{change:N},$$legacy:!0}),A(o),i(S,o)};ee(E,S=>{!p()&&n()&&S(Z)})}var d=W(E,2);{var y=S=>{var o=Yo(),g=M(o);Ko(g,{get workflows(){return T()}}),A(o),ae(()=>Qe(o,"colspan",w())),i(S,o)},R=S=>{var o=$e(),g=Y(o);Se(g,r,"default",{},null),i(S,o)};ee(d,S=>{n()&&$()?S(y):S(R,!1)})}A(D),i(q,D),de(),V()}function tr(q,r){const t=ct(r,["children","$$slots","$$events","$$legacy"]),V=ct(t,["namespace","workflowId","taskQueue","workflowType"]);ie(r,!1);const f=k();let n=X(r,"namespace",8),P=X(r,"workflowId",8),$=X(r,"taskQueue",8),j=X(r,"workflowType",8);O(()=>(he(n()),he(P()),he($()),he(j())),()=>{l(f,xt({namespace:n(),workflowId:P(),taskQueue:$(),workflowType:j()}))}),_e(),ue();const b=u(()=>m("workflows.start-workflow-like-this-one"));Ee(q,{get text(){return e(b)},topLeft:!0,children:(T,p)=>{xe(T,Lt({size:"xs",variant:"ghost",class:"start-button",leadingIcon:"lightning-bolt"},()=>V,{$$events:{click:()=>ko(e(f))}}))},$$slots:{default:!0}}),de()}var or=F('<td class="relative"><!></td> <td><!> <!></td>',1),rr=F("<td></td>"),ar=F('<tr data-testid="workflows-summary-configurable-table-row"><!><!></tr>');function vt(q,r){ie(r,!1);const[t,V]=we(),f=()=>s(De,"$page",t),n=()=>s(It,"$supportsBulkActions",t),P=()=>s(D,"$selectedWorkflows",t),$=()=>s(N,"$allSelected",t),j=()=>s(so,"$hideChildWorkflows",t),b=k(),T=k(),p=k();let w=X(r,"workflow",8,void 0),c=X(r,"empty",8,!1),x=X(r,"viewChildren",8,()=>{}),I=X(r,"childCount",8,void 0),_=X(r,"child",8,!1);const{allSelected:N,selectedWorkflows:D}=Ae(je);O(()=>(e(b),f()),()=>{(o=>l(b,o.namespace))(f().params)}),O(()=>he(w()),()=>{l(T,m("workflows.select-workflow",{workflow:w()===null||w()===void 0?void 0:w().id}))}),O(()=>he(I()),()=>{l(p,I()!==void 0)}),_e(),ue();var E=ar();let Z;var d=M(E);{var y=o=>{var g=or(),a=Y(g),L=M(a);ht(L,{get label(){return e(T)},labelHidden:!0,get value(){return w()},get disabled(){return $()},get"aria-label"(){return e(T)},get group(){return be(),P()},set group(h){z(D,h)},$$legacy:!0}),A(a);var C=W(a,2),G=M(C);{var K=h=>{tr(h,{get namespace(){return e(b)},get workflowId(){return w().id},get taskQueue(){return w().taskQueue},get workflowType(){return w().name}})};ee(G,h=>{yt(f())||h(K)})}var J=W(G,2);to(J,{minimumVersion:"1.23.0",children:(h,H)=>{var Q=$e(),te=Y(Q);{var se=v=>{const U=u(()=>e(p)?"primary":"ghost");xe(v,{size:"xs",get variant(){return e(U)},$$events:{click:()=>x()(w())},children:(oe,re)=>{const ne=u(()=>e(p)?m("workflows.children",{count:I()}):m("workflows.show-children"));Ee(oe,{get text(){return e(ne)},topLeft:!0,children:(ce,ve)=>{Ke(ce,{name:"relationship",class:"scale-80"})},$$slots:{default:!0}})},$$slots:{default:!0}})};ee(te,v=>{j()&&!_()&&v(se)})}i(h,Q)},$$slots:{default:!0}}),A(C),ae(()=>mt(C,1,`cursor-point relative flex items-center justify-center gap-0.5 py-0.5 ${(j()||_()?"w-auto":"w-6")??""}`)),i(o,g)},R=o=>{var g=rr();i(o,g)};ee(d,o=>{!c()&&n()?o(y):o(R,!1)})}var S=W(d);Se(S,r,"default",{},null),A(E),ae(o=>Z=mt(E,1,"dense svelte-1j41e4d",null,Z,o),[()=>({empty:c(),child:_()})],u),i(q,E),de(),V()}var sr=F("<!> <!>",1),nr=F('<caption class="sr-only" slot="caption"> </caption>'),lr=F("<!> <!>",1);function cr(q,r){ie(r,!1);const[t,V]=we(),f=()=>s(De,"$page",t),n=()=>s(mo,"$configurableTableColumns",t),P=()=>s(Me,"$refresh",t),$=()=>s(gt,"$queryWithParentWorkflowId",t),j=()=>s(et,"$workflowCount",t),b=k(),T=k(),p=k(),w=k();var c=k(),x=k();let I=X(r,"onClickConfigure",8),_=k([]);const N=()=>{l(_,[])},D=async d=>{if(e(p)(d))l(_,e(_).filter(y=>y.workflowId!==d.id&&y.runId!==d.runId));else{const y=await Ft(e(b),d.id,d.runId);l(_,[{workflowId:d.id,runId:d.runId,children:y},...e(_)])}};O(()=>(e(b),f()),()=>{(d=>l(b,d.namespace))(f().params)}),O(()=>(ge(x),ge(c),n(),e(b)),()=>{l(T,l(x,l(c,n()===null||n()===void 0?void 0:n()[e(b)])===null||ge(c)===void 0?void 0:ge(c).workflows)!==null&&ge(x)!==void 0?ge(x):[])}),O(()=>(P(),$()),()=>{P(),$(),N()}),O(()=>e(_),()=>{l(p,d=>e(_).find(y=>y.workflowId===d.id&&y.runId===d.runId))}),O(()=>(e(b),$()),()=>{l(w,()=>Qt(e(b),$()))}),_e(),ue();var E=$e(),Z=Y(E);lo(Z,()=>[e(b),$(),P()],d=>{const y=u(()=>m("common.workflows")),R=u(()=>m("common.per-page")),S=u(()=>m("common.next")),o=u(()=>m("common.previous")),g=u(()=>m("workflows.empty-state-title"));fo(d,{get total(){return j().count},get onFetch(){return e(w)},get"aria-label"(){return e(y)},get pageSizeSelectLabel(){return e(R)},get nextButtonLabel(){return e(S)},get previousButtonLabel(){return e(o)},get emptyStateMessage(){return e(g)},children:lt,$$slots:{default:(a,L)=>{const C=u(()=>L.visibleItems);var G=$e(),K=Y(G);Ve(K,1,()=>e(C),Be,(J,h)=>{var H=sr(),Q=Y(H);const te=u(()=>{var U;return(U=e(p)(e(h)))==null?void 0:U.children.length});vt(Q,{get workflow(){return e(h)},viewChildren:D,get childCount(){return e(te)},children:(U,oe)=>{var re=$e(),ne=Y(re);Ve(ne,1,()=>e(T),Be,(ce,ve)=>{ut(ce,{get workflow(){return e(h)},get column(){return e(ve)}})}),i(U,re)},$$slots:{default:!0}});var se=W(Q,2);{var v=U=>{var oe=$e(),re=Y(oe);Ve(re,1,()=>e(p)(e(h)).children,Be,(ne,ce)=>{vt(ne,{get workflow(){return e(ce)},child:!0,children:(ve,Ce)=>{var We=$e(),Pe=Y(We);Ve(Pe,1,()=>e(T),Be,(Re,Le)=>{ut(Re,{get workflow(){return e(ce)},get column(){return e(Le)}})}),i(ve,We)},$$slots:{default:!0}})}),i(U,oe)};ee(se,U=>{e(p)(e(h))&&U(v)})}i(J,H)}),i(a,G)},caption:(a,L)=>{var C=nr(),G=M(C,!0);A(C),ae(K=>le(G,K),[()=>m("common.workflows")],u),i(a,C)},headers:(a,L)=>{const C=u(()=>e(G).length===0),G=u(()=>L.visibleItems);er(a,{get columnsCount(){return e(T).length},get empty(){return e(C)},slot:"headers",get workflows(){return e(G)},children:lt,$$slots:{default:(K,J)=>{var h=$e(),H=Y(h);Ve(H,1,()=>e(T),Be,(Q,te)=>{wo(Q,{get column(){return e(te)}})}),i(K,h)}}})},empty:(a,L)=>{Eo(a,{$$slots:{cloud:(C,G)=>{var K=$e(),J=Y(K);Se(J,r,"cloud",{},null),i(C,K)}}})},"actions-end-additional":(a,L)=>{const C=u(()=>L.visibleItems),G=u(()=>L.page);var K=lr(),J=Y(K);const h=u(()=>m("common.download-json"));Ee(J,{get text(){return e(h)},top:!0,children:(Q,te)=>{xe(Q,{"data-testid":"export-history-button",size:"xs",variant:"ghost",$$events:{click:()=>ao(e(C),e(G))},children:(se,v)=>{Ke(se,{name:"download"})},$$slots:{default:!0}})},$$slots:{default:!0}});var H=W(J,2);Ee(H,{text:"Configure Columns",top:!0,children:(Q,te)=>{xe(Q,{"data-testid":"workflows-summary-table-configuration-button",size:"xs",variant:"ghost",$$events:{click(...se){var v;(v=I())==null||v.apply(this,se)}},children:(se,v)=>{Ke(se,{name:"settings"})},$$slots:{default:!0}})},$$slots:{default:!0}}),i(a,K)}}})}),i(q,E),de(),V()}const je="BATCH_OPERATION_CONTEXT";var ir=F('<span data-testid="workflow-count"> </span> <!>',1),dr=F('<div class="flex items-center gap-4"><!> <!></div>'),ur=F('<!> <!> <!> <!> <!> <header class="flex flex-col gap-2"><div class="flex flex-col justify-between gap-2 md:flex-row"><h1 class="flex items-center gap-2" data-cy="workflows-title"><!> <!></h1> <!></div> <!></header> <!> <!> <!>',1);function fr(q,r){const t=qt(r);ie(r,!1);const[V,f]=we(),n=()=>s(De,"$page",V),P=()=>s(_o,"$searchAttributes",V),$=()=>s(g,"$selectedWorkflows",V),j=()=>s(gt,"$queryWithParentWorkflowId",V),b=()=>s(Me,"$refresh",V),T=()=>s(kt,"$supportsAdvancedVisibility",V),p=()=>s(et,"$workflowCount",V),w=k(),c=k(),x=k(),I=k(),_=k(),N=k();Rt(()=>{z(bo,n().params.namespace),e(w)&&z(Xe,yo(e(w),P()))});const D=()=>{z(S,!1),z(o,!1),z(g,[])};let E=k(!1),Z=k(!1),d=k(!1),y=k(!1),R=k(!1);const S=pe(!1),o=pe(!1),g=pe([]),a=ze(g,B=>B.length>0),L=ze(g,B=>B.filter(fe=>fe.canBeTerminated)),C=ze(g,B=>B.filter(fe=>fe.status==="Running"));Vt(je,{allSelected:S,pageSelected:o,terminableWorkflows:L,cancelableWorkflows:C,selectedWorkflows:g,batchActionsVisible:a,openBatchCancelConfirmationModal:()=>{$().length>1?l(Z,!0):l(R,!0)},openBatchTerminateConfirmationModal:()=>{$().length>1?l(E,!0):l(y,!0)},openBatchResetConfirmationModal:()=>{l(d,!0)},handleSelectAll:B=>{S.set(!0),g.set([...B])},handleSelectPage:(B,fe)=>{o.set(B),S&&S.set(!1),B?g.set([...fe]):g.set([])}});let Q=k(!1);const te=()=>{l(Q,!0)};O(()=>n(),()=>{l(w,n().url.searchParams.get("query"))}),O(()=>e(w),()=>{e(w),z(qe,e(w))}),O(()=>n(),()=>{l(c,n().params.namespace)}),O(()=>n(),()=>{l(x,n().url.searchParams.get("per-page"))}),O(()=>n(),()=>{l(I,n().url.searchParams.toString())}),O(()=>e(I),()=>{e(I),z(Nt,e(I))}),O(()=>(e(c),n()),()=>{l(_,po(e(c),n().data.settings))}),O(()=>(e(c),j(),e(x),b()),()=>{e(c),j(),e(x),b(),D()}),O(()=>n(),()=>{l(N,!yt(n()))}),_e(),ue();var se=ur(),v=Y(se);Bo(v,{get namespace(){return e(c)},get open(){return e(E)},set open(B){l(E,B)},$$legacy:!0});var U=W(v,2);To(U,{get namespace(){return e(c)},get open(){return e(Z)},set open(B){l(Z,B)},$$legacy:!0});var oe=W(U,2);Ao(oe,{get namespace(){return e(c)},get open(){return e(d)},set open(B){l(d,B)},$$legacy:!0});var re=W(oe,2);Gt(re,{refresh:Me,get namespace(){return e(c)},get workflow(){return $()[0]},get open(){return e(y)},set open(B){l(y,B)},$$legacy:!0});var ne=W(re,2);Yt(ne,{refresh:Me,get namespace(){return e(c)},get workflow(){return $()[0]},get open(){return e(R)},set open(B){l(R,B)},$$legacy:!0});var ce=W(ne,2),ve=M(ce),Ce=M(ve),We=M(Ce);{var Pe=B=>{var fe=ir(),Ie=Y(fe),Oe=M(Ie,!0);A(Ie);var He=W(Ie,2);ke(He,{key:"common.workflows-plural",get count(){return p().count}}),ae(Ue=>le(Oe,Ue),[()=>p().count.toLocaleString()],u),i(B,fe)},Re=B=>{ke(B,{key:"workflows.recent-workflows"})};ee(We,B=>{T()?B(Pe):B(Re,!1)})}var Le=W(We,2);qo(Le,{get count(){return p().newCount}}),A(Ce);var Fe=W(Ce,2);{var Ne=B=>{var fe=dr(),Ie=M(fe);Se(Ie,r,"header-actions",{},null);var Oe=W(Ie,2);{var He=Ue=>{const jt=u(()=>xt({namespace:e(c)}));xe(Ue,{leadingIcon:"lightning-bolt",get href(){return e(jt)},children:(St,pr)=>{Te();var nt=ye();ae(At=>le(nt,At),[()=>m("workflows.start-workflow")],u),i(St,nt)},$$slots:{default:!0}})};ee(Oe,Ue=>{e(N)&&Ue(He)})}A(fe),i(B,fe)};ee(Fe,B=>{(t["header-actions"]||e(N))&&B(Ne)})}A(ve);var Ct=W(ve,2);no(Ct,{}),A(ce);var at=W(ce,2);Do(at,{});var st=W(at,2);cr(st,{onClickConfigure:te,$$slots:{cloud:(B,fe)=>{var Ie=$e(),Oe=Y(Ie);Se(Oe,r,"cloud",{},null),i(B,Ie)}}});var Wt=W(st,2);const Pt=u(()=>m("common.columns")),Tt=u(()=>m("common.workflows-table"));oo(Wt,{get availableColumns(){return e(_)},get type(){return e(Pt)},get title(){return e(Tt)},get open(){return e(Q)},set open(B){l(Q,B)},$$legacy:!0}),i(q,se),de(),f()}var mr=F("<!> <!>",1);function ma(q,r){ie(r,!1);const[t,V]=we(),f=()=>s(De,"$page",t);ue();var n=mr(),P=Y(n);const $=u(()=>`Workflows | ${f().params.namespace}`);Bt(P,{get title(){return e($)},get url(){return f().url.href}});var j=W(P,2);fr(j,{}),i(q,n),de(),V()}export{ma as component,fa as universal};
