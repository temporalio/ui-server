import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as ve,f as A,j as l,r as s,h as o,t as T,I as a,M as r,e as v,b as me,c as G,g as e,o as u,n as ue,k as ie,i as je,l as rt,s as p,m as Q,av as $t,a as tr,v as yr,aQ as Tr}from"../chunks/B6CF0p-B.js";import{i as he}from"../chunks/BC0HqUZ9.js";import{p as B,l as rr,a as Ke,s as ar,b as Je}from"../chunks/BrOjBIf0.js";import{p as sr}from"../chunks/Cz9LCJT7.js";import{P as Pr}from"../chunks/D-4C8DtU.js";import{a as Sr,w as Ar}from"../chunks/CfXw_P7u.js";import{s as c}from"../chunks/BSSJzwu8.js";import{a as lr}from"../chunks/COSDPnZv.js";import{i as _e}from"../chunks/DVfqY6Lp.js";import{e as st,i as ct}from"../chunks/DNXtLIpi.js";import{g as Cr}from"../chunks/B_6Xtiim.js";import{C as Dr}from"../chunks/Bnfylga_.js";import{A as or}from"../chunks/oaDoiglO.js";import{t}from"../chunks/DEjs8ZrU.js";import{l as zt,s as ze,p as Ir}from"../chunks/CtQjrHKC.js";import{A as jr}from"../chunks/DFhL1XQn.js";import{s as nr}from"../chunks/Cp8cxTKk.js";import{s as Mr}from"../chunks/CVNTlwXL.js";import{S as Wr}from"../chunks/bIG40fDK.js";import{I as Ur}from"../chunks/DsJgEYoy.js";import{s as Ft}from"../chunks/ikbOq2O5.js";import{T as lt}from"../chunks/DRi4x2LZ.js";import{E as ir}from"../chunks/CwMDJm8N.js";import{L as at}from"../chunks/1tHRNSDi.js";import{v as qt,n as Bt,r as Rr,w as Lr}from"../chunks/DV633ESJ.js";import{d as xt}from"../chunks/vO_crHjm.js";import{o as Ht,d as Et,t as Fe,G as Qt}from"../chunks/BGTAq_2b.js";import{W as dr}from"../chunks/BAEKz-jo.js";import{d as Or}from"../chunks/DRVIlTAm.js";import{p as Nt}from"../chunks/756y7qLl.js";import{W as zr}from"../chunks/uCfLbOOd.js";import{B as bt}from"../chunks/RaugSqEI.js";import{D as Gt,T as Vt}from"../chunks/CCtFcf37.js";import{I as cr}from"../chunks/CsmBsHFA.js";import{I as Fr}from"../chunks/BmrYUP7q.js";import{L as Jt}from"../chunks/Cqtq8z52.js";import{c as qr,d as Br,b as nt}from"../chunks/C8yzQBLH.js";import{M as it}from"../chunks/DKDT7Qj6.js";import{R as Kt,a as Xt}from"../chunks/DbPZEy9l.js";import{b as Hr}from"../chunks/BJWUnsPH.js";import{M as Er}from"../chunks/BeYqxBLu.js";import{T as Qr,a as Nr}from"../chunks/DDSNsabO.js";import{f as tt,l as dt,u as Gr,p as Vr,t as Jr,b as Kr,d as Xr}from"../chunks/DgbjjIgv.js";import{c as Yr}from"../chunks/DrSOvUkL.js";import{g as Zr}from"../chunks/BwDtjoB5.js";import{b as Yt}from"../chunks/DGYYVAig.js";var ea=A('<div><h2 class="mb-4"> </h2> <p> </p></div>');function ta(j,m){ve(m,!1);let $=B(m,"notes",8,"");he();var b=ea(),x=l(b),S=l(x,!0);s(x);var h=o(x,2),I=l(h,!0);s(h),s(b),T(U=>{c(S,U),c(I,$())},[()=>(r(t),a(()=>t("common.notes")))]),v(j,b),me()}var ra=A('<li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li>'),aa=A('<li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li>'),sa=A('<li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li>'),la=A('<ul class="settings-list svelte-1ek4oji"><li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li> <li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li> <li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li> <li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li> <!> <li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li> <li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li> <!> <!></ul>'),oa=A("<!> <!>",1);function na(j,m){ve(m,!1);let $=B(m,"spec",8),b=B(m,"state",8),x=B(m,"policies",8),S=B(m,"notes",8,"");he();var h=oa(),I=G(h);ta(I,{get notes(){return S()}});var U=o(I,2);{let R=u(()=>(r(t),a(()=>t("schedules.advanced-settings"))));or(U,{get title(){return e(R)},children:(k,O)=>{var Z=la(),ee=l(Z),te=l(ee),J=o(te),M=l(J,!0);s(J),s(ee);var y=o(ee,2),K=l(y),V=o(K),F=l(V,!0);s(V),s(y);var H=o(y,2),z=l(H),N=o(z),Y=l(N,!0);s(N),s(H);var X=o(H,2),re=l(X),fe=o(re),Xe=l(fe,!0);s(fe),s(X);var qe=o(X,2);{var Ye=P=>{var W=ra(),oe=l(W),de=o(oe),$e=l(de,!0);s(de),s(W),T((ne,we)=>{c(oe,`${ne??""} `),c($e,we)},[()=>(r(t),a(()=>t("schedules.remaining-actions"))),()=>(r(b()),r(t),a(()=>{var ne;return((ne=b())==null?void 0:ne.remainingActions)??t("common.none")}))]),v(P,W)};_e(qe,P=>{r(b()),a(()=>{var W;return(W=b())==null?void 0:W.limitedActions})&&P(Ye)})}var Me=o(qe,2),We=l(Me),Te=o(We),Be=l(Te,!0);s(Te),s(Me);var Pe=o(Me,2),Se=l(Pe),Ue=o(Se),He=l(Ue,!0);s(Ue),s(Pe);var Ae=o(Pe,2);{var Ee=P=>{var W=aa(),oe=l(W),de=o(oe),$e=l(de,!0);s(de),s(W),T((ne,we)=>{c(oe,`${ne??""} `),c($e,we)},[()=>(r(t),a(()=>t("schedules.pause-on-failure"))),()=>(r(x()),r(t),a(()=>x().pauseOnFailure?t("common.true"):t("common.false")))]),v(P,W)};_e(Ae,P=>{r(x()),a(()=>{var W;return((W=x())==null?void 0:W.pauseOnFailure)!=null})&&P(Ee)})}var Qe=o(Ae,2);{var vt=P=>{var W=sa(),oe=l(W),de=o(oe),$e=l(de,!0);s(de),s(W),T((ne,we)=>{c(oe,`${ne??""} `),c($e,we)},[()=>(r(t),a(()=>t("schedules.keep-original-workflow-id"))),()=>(r(x()),r(t),a(()=>x().keepOriginalWorkflowId?t("common.true"):t("common.false")))]),v(P,W)};_e(Qe,P=>{r(x()),a(()=>{var W;return((W=x())==null?void 0:W.keepOriginalWorkflowId)!=null})&&P(vt)})}s(Z),T((P,W,oe,de,$e,ne,we,L,d,ae,xe,ke)=>{c(te,`${P??""} `),c(M,W),c(K,`${oe??""} `),c(F,de),c(z,`${$e??""} `),c(Y,ne),c(re,`${we??""} `),c(Xe,L),c(We,`${d??""} `),c(Be,ae),c(Se,`${xe??""} `),c(He,ke)},[()=>(r(t),a(()=>t("schedules.start-time"))),()=>(r($()),r(t),a(()=>{var P;return((P=$())==null?void 0:P.startTime)??t("common.none")})),()=>(r(t),a(()=>t("schedules.end-time"))),()=>(r($()),r(t),a(()=>{var P;return((P=$())==null?void 0:P.endTime)??t("common.none")})),()=>(r(t),a(()=>t("schedules.jitter"))),()=>(r($()),r(t),a(()=>{var P;return((P=$())==null?void 0:P.jitter)??t("common.none")})),()=>(r(t),a(()=>t("schedules.exclusion-calendar"))),()=>(r($()),r(t),a(()=>{var P,W;return((W=(P=$())==null?void 0:P.excludeCalendar)==null?void 0:W[0])??t("common.none")})),()=>(r(t),a(()=>t("schedules.overlap-policy"))),()=>(r(x()),r(t),a(()=>{var P;return((P=x())==null?void 0:P.overlapPolicy)??t("common.none")})),()=>(r(t),a(()=>t("schedules.catchup-window"))),()=>(r(x()),r(zt),r(t),a(()=>{var P;return((P=x())==null?void 0:P.catchupWindow)!=null?zt(x().catchupWindow.toString()):t("common.none")}))]),v(k,Z)},$$slots:{default:!0}})}v(j,h),me()}var ia=A("<p> </p> <p> </p>",1);function Zt(j,m){ve(m,!1);let $=B(m,"error",8,"");he(),jr(j,{intent:"error",children:(b,x)=>{var S=ia(),h=G(S),I=l(h,!0);s(h);var U=o(h,2),R=l(U,!0);s(U),T(k=>{c(I,k),c(R,$())},[()=>(r(t),a(()=>t("schedules.error-title")))]),v(b,S)},$$slots:{default:!0}}),me()}var da=A("<div><!></div>");function ut(j,m){const $=rr(m,["children","$$slots","$$events","$$legacy"]);ve(m,!1);let b=B(m,"error",8,!1);he();var x=da();let S;var h=l(x);nr(h,m,"default",{},null),s(x),T(()=>S=Mr(x,1,`panel surface-primary ${r($),a(()=>$.class)??""}`,"svelte-16zztsi",S,{error:b()})),v(j,x),me()}var ca=A('<h2 class="mb-4"> </h2> <div class="pr-2"><!></div>',1);function ua(j,m){ve(m,!0);let $=B(m,"timezoneName",3,"UTC");ut(j,{children:(b,x)=>{var S=ca(),h=G(S),I=l(h,!0);s(h);var U=o(h,2),R=l(U);Wr(R,{get frequency(){return m.frequency},get timezoneName(){return $()},class:"text-base"}),s(U),T(k=>c(I,k),[()=>t("schedules.schedule-spec")]),v(b,S)},$$slots:{default:!0}}),me()}function va(j,m){ve(m,!1);let $=B(m,"input",8);he(),ut(j,{children:(b,x)=>{{let S=u(()=>(r(t),a(()=>t("schedules.schedule-input")))),h=u(()=>(r(Ft),r($()),a(()=>Ft($()))));Ur(b,{get title(){return e(S)},get content(){return e(h)}})}},$$slots:{default:!0}}),me()}var ma=A('<div class="row svelte-1q6417u"><div class="w-28"><!></div> <div class="mx-2 w-auto break-words"><!></div> <div class="ml-auto"><!></div></div>'),fa=A('<div class="row svelte-1q6417u"><div class="w-28"></div> <div class="w-96"> </div> <div class="ml-auto"><!></div></div>'),pa=A('<div class="flex justify-between"><h2 class="mb-4"> </h2> <!></div> <!> <!>',1);function ga(j,m){ve(m,!1);let $=B(m,"recentRuns",24,()=>[]),b=B(m,"namespace",8),x=B(m,"workflowQuery",8);const S=h=>{var I,U;return(U=(I=h==null?void 0:h.sort((R,k)=>new Date(k.actualTime).getTime()-new Date(R.actualTime).getTime()))===null||I===void 0?void 0:I.slice(0,5))!==null&&U!==void 0?U:[]};he(),ut(j,{class:"w-full",children:(h,I)=>{var U=pa(),R=G(U),k=l(R),O=l(k,!0);s(k);var Z=o(k,2);{let M=u(()=>(r(Ht),r(b()),r(x()),a(()=>Ht({namespace:b(),query:x()}))));at(Z,{get href(){return e(M)},icon:"filter",children:(y,K)=>{ue();var V=ie();T(F=>c(V,F),[()=>(r(t),a(()=>t("common.view-all-runs")))]),v(y,V)},$$slots:{default:!0}})}s(R);var ee=o(R,2);st(ee,1,()=>(r($()),a(()=>S($()))),M=>{var y;return(y=M==null?void 0:M.startWorkflowResult)==null?void 0:y.workflowId},(M,y)=>{var K=je(),V=G(K);lr(V,()=>(r(qt),r(b()),r(xt),e(y),a(()=>qt({namespace:b(),workflowId:xt(e(y).startWorkflowResult.workflowId),runId:e(y).startWorkflowResult.runId},fetch))),null,(F,H)=>{var z=ma(),N=l(z),Y=l(N);dr(Y,{get status(){return r(e(H)),a(()=>e(H).status)}}),s(N);var X=o(N,2),re=l(X);{let qe=u(()=>(r(Et),e(y),r(b()),a(()=>Et({workflow:e(y).startWorkflowResult.workflowId,run:e(y).startWorkflowResult.runId,namespace:b()}))));at(re,{get href(){return e(qe)},children:(Ye,Me)=>{ue();var We=ie();T(()=>c(We,(e(y),a(()=>e(y).startWorkflowResult.workflowId)))),v(Ye,We)},$$slots:{default:!0}})}s(X);var fe=o(X,2),Xe=l(fe);lt(Xe,{as:"p",get dateTime(){return e(y),a(()=>e(y).actualTime)}}),s(fe),s(z),v(F,z)},F=>{var H=fa(),z=o(l(H),2),N=l(z,!0);s(z);var Y=o(z,2),X=l(Y);lt(X,{as:"p",get dateTime(){return e(y),a(()=>e(y).actualTime)}}),s(Y),s(H),T(()=>c(N,(e(y),a(()=>e(y).startWorkflowResult.workflowId)))),v(F,H)}),v(M,K)});var te=o(ee,2);{var J=M=>{{let y=u(()=>(r(t),a(()=>t("schedules.recent-runs-empty-state-title"))));ir(M,{get title(){return e(y)}})}};_e(te,M=>{r($()),a(()=>!$().length)&&M(J)})}T(M=>c(O,M),[()=>(r(t),a(()=>t("schedules.recent-runs")))]),v(h,U)},$$slots:{default:!0}}),me()}const er=j=>Array.isArray(j)?j.join(", "):j;var _a=A('<li class="flex flex-wrap items-center gap-2 border-b py-2 last-of-type:border-b-0"><span class="break-all"> </span> <span class="surface-subtle select-all rounded-sm p-1 leading-4"> </span></li>'),ha=A('<ul class="w-full"></ul>');function $a(j,m){ve(m,!1);const $=Q(),b=Q(),x=Q();var S=Q();let h=B(m,"searchAttributes",8);rt(()=>r(h()),()=>{p($,Or({searchAttributes:h()}))}),rt(()=>($t(S),e($)),()=>{p(b,p(S,e($)===null||e($)===void 0?void 0:e($).searchAttributes.indexedFields)!==null&&$t(S)!==void 0?$t(S):{})}),rt(()=>e(b),()=>{p(x,Object.keys(e(b)).length)}),tr(),he();{let I=u(()=>(r(t),a(()=>t("events.custom-search-attributes")))),U=u(()=>(e(x),r(t),r(Nt),a(()=>`${e(x)} ${t("events.custom-search")} ${Nt(t("events.attribute"),e(x))}`))),R=u(()=>e(x)>0);or(j,{get title(){return e(I)},get subtitle(){return e(U)},get expandable(){return e(R)},children:(k,O)=>{var Z=je(),ee=G(Z);{var te=J=>{var M=ha();st(M,5,()=>(e(b),a(()=>Object.entries(e(b)))),ct,(y,K)=>{var V=yr(()=>Tr(e(K),2));let F=()=>e(V)[0],H=()=>e(V)[1];const z=u(()=>(r(er),H(),a(()=>er(H()))));var N=_a(),Y=l(N),X=l(Y,!0);s(Y);var re=o(Y,2),fe=l(re,!0);s(re),s(N),T(()=>{c(X,F()),c(fe,e(z))}),v(y,N)}),s(M),v(J,M)};_e(ee,J=>{e(x)&&J(te)})}v(k,Z)},$$slots:{default:!0}})}me()}var xa=A('<div class="row svelte-1hunhgd"><!></div>'),ba=A('<h2 class="mb-4"> </h2> <!>',1);function wa(j,m){ve(m,!1);let $=B(m,"futureRuns",24,()=>[]);he(),ut(j,{class:"w-full",children:(b,x)=>{var S=ba(),h=G(S),I=l(h,!0);s(h);var U=o(h,2);st(U,1,()=>(r($()),a(()=>$().slice(0,5))),ct,(R,k)=>{var O=xa(),Z=l(O);lt(Z,{as:"p",get dateTime(){return e(k)}}),s(O),v(R,O)},R=>{{let k=u(()=>(r(t),a(()=>t("schedules.upcoming-runs-empty-state-title"))));ir(R,{get title(){return e(k)}})}}),T(R=>c(I,R),[()=>(r(t),a(()=>t("schedules.upcoming-runs")))]),v(b,S)},$$slots:{default:!0}}),me()}var ka=A("<!> ",1),ya=A('<div class="button-group flex h-10 cursor-pointer flex-row gap-[1px]"><!> <!></div> <!>',1);function Ta(j,m){const $=rr(m,["children","$$slots","$$events","$$legacy"]);ve(m,!1);let b=B(m,"label",8),x=B(m,"menuLabel",8),S=B(m,"icon",8,void 0),h=B(m,"id",8),I=B(m,"disabled",8,!1),U=B(m,"position",8,"left"),R=B(m,"primaryActionDisabled",8,!1),k=B(m,"href",8,void 0),O=B(m,"menuClass",8,void 0);he(),qr(j,{get class(){return r($),a(()=>$.class)},children:(Z,ee)=>{var te=ya(),J=G(te),M=l(J);{let V=u(()=>I()||R());bt(M,{get disabled(){return e(V)},get id(){return`${h()??""}-primary-button`},get href(){return k()},disableTracking:!0,"data-track-name":"split-button","data-track-intent":"primary",get"data-track-text"(){return b()},$$events:{click(F){Hr.call(this,m,F)}},children:(F,H)=>{var z=ka(),N=G(z);{var Y=re=>{cr(re,{get name(){return S()}})};_e(N,re=>{S()&&re(Y)})}var X=o(N);T(()=>c(X,` ${b()??""}`)),v(F,z)},$$slots:{default:!0}})}var y=o(M,2);Er(y,{class:"max-w-fit grow-0 px-3",get id(){return`${h()??""}-menu-button`},get label(){return x()},get controls(){return`${h()??""}-menu`},variant:"primary",get disabled(){return I()},hasIndicator:!0}),s(J);var K=o(J,2);Br(K,{get id(){return`${h()??""}-menu`},get position(){return U()},get class(){return O()},children:(V,F)=>{var H=je(),z=G(H);nr(z,m,"default",{},null),v(V,H)},$$slots:{default:!0}}),v(Z,te)},$$slots:{default:!0}}),me()}var Pa=A("<!> <!> <!> <!>",1),Sa=A('<div class="w-full xl:w-1/2"><!></div>'),Aa=A('<h3 slot="title"> </h3>'),Ca=A('<div slot="content"><p> </p> <p class="my-4"> </p> <!></div>'),Da=A('<h3 slot="title"> </h3>'),Ia=A('<div slot="content"><!></div>'),ja=A('<h3 slot="title"> </h3>'),Ma=A('<div slot="content" class="p-0"><div class="flex flex-col gap-2 p-2"><!> <!> <!> <!> <div class="flex w-full flex-row items-center gap-2"><!> <span class="text-xs font-normal text-slate-500"> </span></div></div> <hr tabindex="-1" aria-hidden="true" class="my-4 w-full border-subtle"/> <div class="flex max-h-52 flex-col gap-2 overflow-auto"><!> <!></div></div>'),Wa=A('<h3 slot="title"> </h3>'),Ua=A('<div slot="content"><p> </p></div>'),Ra=A('<header class="flex flex-row flex-wrap justify-between gap-4"><div class="relative flex flex-col"><!> <h1 class="relative flex items-center"><span class="select-all" data-testid="schedule-name"> </span></h1> <div class="flex flex-wrap items-center gap-2 text-lg"><!> <p> </p></div> <!> <!></div> <!></header> <!> <div class="flex flex-col gap-4 pb-24"><!> <div class="flex w-full flex-col gap-2 text-lg"><div class="flex items-center gap-2"><span data-testid="workflow-count"> <!></span> <!></div> <!></div> <div class="flex flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col items-start gap-4 xl:w-2/3"><!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 xl:w-1/3"><!> <!></div></div></div> <!> <!> <!> <!>',1),La=A('<header class="mb-8"><div class="relative flex flex-col gap-1"><!> <h1 class="mt-8 select-all" data-testid="schedule-name"> </h1> <p class="text-sm"> </p></div></header> <!>',1),Oa=A('<header class="mb-8"><div class="relative flex flex-col gap-4"><!> <h1 class="select-all" data-testid="schedule-name"> </h1></div></header> <!>',1);function za(j,m){ve(m,!1);const $=()=>Ke(sr,"$page",I),b=()=>Ke(Xe,"$coreUser",I),x=()=>Ke(dt,"$loading",I),S=()=>Ke(N,"$overlapPolicy",I),h=()=>Ke(Lr,"$workflowCount",I),[I,U]=ar(),R=Q();let k=$().params.namespace,O=$().params.schedule,Z=`TemporalScheduledById="${O}"`;const ee=Zr(),te={namespace:k,scheduleId:xt(O)};let J=Q(tt(te)),M=Q(!1),y=Q(!1),K=Q(!1),V=Q(!1),F=Q(""),H=Q(""),z=Q(!1),N=Ar("Unspecified"),Y,X,re,fe=[{description:t("schedules.trigger-unspecified-description"),label:t("schedules.trigger-unspecified-title"),value:"Unspecified"},{description:t("schedules.trigger-buffer-all-description"),label:t("schedules.trigger-buffer-all-title"),value:"BufferAll"},{description:t("schedules.trigger-allow-all-description"),label:t("schedules.trigger-allow-all-title"),value:"AllowAll"},{description:t("schedules.trigger-skip-description"),label:t("schedules.trigger-skip-title"),value:"Skip"},{description:t("schedules.trigger-buffer-one-description"),label:t("schedules.trigger-buffer-one-title"),value:"BufferOne"},{description:t("schedules.trigger-cancel-other-description"),label:t("schedules.trigger-cancel-other-title"),value:"CancelOther"},{description:t("schedules.trigger-terminate-other-description"),label:t("schedules.trigger-terminate-other-title"),value:"TerminateOther"}],Xe=Yr();const qe=async()=>{p(H,"");try{Je(dt,!0),await Xr({identity:ee,namespace:k,scheduleId:O}),p(V,!1),clearTimeout(Y),Y=setTimeout(()=>{Je(dt,!1),Cr(Fe({namespace:k}))},2e3),p(F,"")}catch(L){p(H,t("schedules.delete-schedule-error",{error:L==null?void 0:L.message})),Je(dt,!1)}},Ye=async L=>{var d,ae;!((ae=(d=L==null?void 0:L.schedule)===null||d===void 0?void 0:d.state)===null||ae===void 0)&&ae.paused?await Gr({identity:ee,namespace:k,scheduleId:O,reason:e(F)}):await Vr({identity:ee,namespace:k,scheduleId:O,reason:e(F)}),p(J,tt(te)),p(F,""),p(M,!1)},Me=()=>{p(y,!1),Je(N,"Unspecified")},We=async()=>{p(z,!0),await Jr({identity:ee,namespace:k,scheduleId:O,overlapPolicy:S()}),clearTimeout(X),X=setTimeout(()=>{p(J,tt(te)),Me(),p(z,!1)},1e3)};let Te=Q(!1),Be=Q(ze(new Date)),Pe=Q(ze(new Date)),Se=Q(""),Ue=Q(""),He=Q(""),Ae=Q(""),Ee=Q(""),Qe=Q("");const vt=L=>{p(Be,ze(L.detail))},P=L=>{p(Pe,ze(L.detail))},W=()=>{const L=new Date(Date.now()),d=Nr(L,1);p(Se,L.getUTCHours().toString()),p(Ue,L.getUTCMinutes().toString()),p(He,L.getUTCSeconds().toString()),p(Ae,d.getUTCHours().toString()),p(Ee,d.getUTCMinutes().toString()),p(Qe,d.getUTCSeconds().toString()),p(Be,ze(new Date)),p(Pe,e(Ae)<e(Se)?ze(Ir(new Date,1)):ze(new Date))},oe=()=>{p(K,!1),p(Te,!1),Je(N,"Unspecified")},de=async()=>{p(z,!0);const L=Yt({date:e(Be),hour:e(Se),minute:e(Ue),second:e(He)}),d=Yt({date:e(Pe),hour:e(Ae),minute:e(Ee),second:e(Qe)});await Kr({identity:ee,namespace:k,scheduleId:O,overlapPolicy:S(),startTime:L,endTime:d}),clearTimeout(re),re=setTimeout(()=>{p(J,tt(te)),oe(),p(z,!1)},1e3)},$e=()=>{p(F,"")};Sr(()=>{clearTimeout(Y),clearTimeout(X),clearTimeout(re)}),rt(()=>(b(),Bt),()=>{p(R,b().namespaceWriteDisabled(k)||!Bt())}),rt(()=>e(K),()=>{e(K)&&W()}),tr(),he();var ne=je(),we=G(ne);lr(we,()=>e(J),L=>{var d=Oa(),ae=G(d),xe=l(ae),ke=l(xe);{let Ce=u(()=>(r(Fe),a(()=>Fe({namespace:k}))));at(ke,{get href(){return e(Ce)},icon:"chevron-left",children:(Le,Ze)=>{ue();var be=ie();T(ye=>c(be,ye),[()=>(r(t),a(()=>t("schedules.back-to-schedules")))]),v(Le,be)},$$slots:{default:!0}})}var Re=o(ke,2),ce=l(Re,!0);s(Re),s(xe),s(ae);var Ne=o(ae,2);Jt(Ne,{}),T(()=>c(ce,O)),v(L,d)},(L,d)=>{var ae=je(),xe=G(ae);{var ke=ce=>{Jt(ce,{class:"my-2"})},Re=ce=>{var Ne=Ra(),Ce=G(Ne),Le=l(Ce),Ze=l(Le);{let w=u(()=>(r(Fe),a(()=>Fe({namespace:k}))));at(Ze,{get href(){return e(w)},icon:"chevron-left",children:(_,i)=>{ue();var g=ie();T(n=>c(g,n),[()=>(r(t),a(()=>t("schedules.back-to-schedules")))]),v(_,g)},$$slots:{default:!0}})}var be=o(Ze,2),ye=l(be),wt=l(ye,!0);s(ye),s(be);var Ge=o(be,2),ot=l(Ge);{let w=u(()=>(r(e(d)),a(()=>{var _;return(_=e(d))!=null&&_.schedule.state.paused?"Paused":"Running"})));dr(ot,{get status(){return e(w)}})}var kt=o(ot,2),ur=l(kt,!0);s(kt),s(Ge);var yt=o(Ge,2);{const w=i=>{ue();var g=ie("Created");v(i,g)};let _=u(()=>(r(e(d)),a(()=>{var i,g;return(g=(i=e(d))==null?void 0:i.info)==null?void 0:g.createTime})));lt(yt,{as:"p",class:"flex items-center gap-2 text-right text-sm",get dateTime(){return e(_)},leading:w,$$slots:{leading:!0}})}var vr=o(yt,2);{var mr=w=>{{const _=g=>{ue();var n=ie("Last Updated");v(g,n)};let i=u(()=>(r(e(d)),a(()=>{var g,n;return(n=(g=e(d))==null?void 0:g.info)==null?void 0:n.updateTime})));lt(w,{as:"p",class:"flex items-center gap-2 text-right text-sm",get dateTime(){return e(i)},leading:_,$$slots:{leading:!0}})}};_e(vr,w=>{r(e(d)),a(()=>{var _,i;return(i=(_=e(d))==null?void 0:_.info)==null?void 0:i.updateTime})&&w(mr)})}s(Le);var fr=o(Le,2);{let w=u(()=>(r(e(d)),r(t),a(()=>{var i,g,n;return(n=(g=(i=e(d))==null?void 0:i.schedule)==null?void 0:g.state)!=null&&n.paused?t("schedules.unpause"):t("schedules.pause")}))),_=u(()=>(r(t),a(()=>t("schedules.schedule-actions"))));Ta(fr,{position:"right",get label(){return e(w)},get menuLabel(){return e(_)},id:"schedule-actions",get disabled(){return e(R)},$$events:{click:()=>p(M,!0)},children:(i,g)=>{var n=Pa(),f=G(n);nt(f,{"data-testid":"trigger-schedule",onclick:()=>p(y,!0),children:(le,ge)=>{ue();var C=ie();T(se=>c(C,se),[()=>(r(t),a(()=>t("schedules.trigger")))]),v(le,C)},$$slots:{default:!0}});var D=o(f,2);nt(D,{"data-testid":"backfill-schedule",onclick:()=>p(K,!0),children:(le,ge)=>{ue();var C=ie();T(se=>c(C,se),[()=>(r(t),a(()=>t("schedules.backfill")))]),v(le,C)},$$slots:{default:!0}});var E=o(D,2);{let le=u(()=>(r(Qt),a(()=>Qt({namespace:k,scheduleId:O}))));nt(E,{"data-testid":"edit-schedule",get href(){return e(le)},children:(ge,C)=>{ue();var se=ie();T(et=>c(se,et),[()=>(r(t),a(()=>t("common.edit")))]),v(ge,se)},$$slots:{default:!0}})}var pe=o(E,2);nt(pe,{"data-testid":"delete-schedule",destructive:!0,onclick:()=>p(V,!0),children:(le,ge)=>{ue();var C=ie();T(se=>c(C,se),[()=>(r(t),a(()=>t("common.delete")))]),v(le,C)},$$slots:{default:!0}}),v(i,n)},$$slots:{default:!0}})}s(Ce);var Tt=o(Ce,2);Dr(Tt,{});var mt=o(Tt,2),Pt=l(mt);{var pr=w=>{var _=Sa(),i=l(_);{let g=u(()=>(r(e(d)),a(()=>{var n,f;return(f=(n=e(d))==null?void 0:n.info)==null?void 0:f.invalidScheduleError})));Zt(i,{get error(){return e(g)}})}s(_),v(w,_)};_e(Pt,w=>{r(e(d)),a(()=>{var _,i;return(i=(_=e(d))==null?void 0:_.info)==null?void 0:i.invalidScheduleError})&&w(pr)})}var ft=o(Pt,2),pt=l(ft),gt=l(pt),St=l(gt),gr=o(St);Qr(gr,{key:"common.workflows-plural",get count(){return h(),a(()=>h().count)}}),s(gt);var _r=o(gt,2);bt(_r,{size:"xs",variant:"ghost",leadingIcon:"retry",$$events:{click:()=>{p(J,tt(te)),Je(Rr,Date.now())}},children:(w,_)=>{var i=je(),g=G(i);{var n=f=>{var D=ie();T(E=>c(D,`+${E??""}`),[()=>(h(),a(()=>h().newCount.toLocaleString()))]),v(f,D)};_e(g,f=>{h(),a(()=>h().newCount>0)&&f(n)})}v(w,i)},$$slots:{default:!0}}),s(pt);var hr=o(pt,2);zr(hr,{get staticQuery(){return Z}}),s(ft);var At=o(ft,2),_t=l(At),Ct=l(_t);{let w=u(()=>(r(e(d)),a(()=>{var _,i;return(i=(_=e(d))==null?void 0:_.info)==null?void 0:i.recentActions})));ga(Ct,{get namespace(){return k},get recentRuns(){return e(w)},get workflowQuery(){return Z}})}var Dt=o(Ct,2);{let w=u(()=>(r(e(d)),a(()=>{var _,i;return(i=(_=e(d))==null?void 0:_.info)==null?void 0:i.futureActionTimes})));wa(Dt,{get futureRuns(){return e(w)}})}var It=o(Dt,2);{let w=u(()=>(r(e(d)),a(()=>{var n,f;return(f=(n=e(d))==null?void 0:n.schedule)==null?void 0:f.spec}))),_=u(()=>(r(e(d)),a(()=>{var n,f;return(f=(n=e(d))==null?void 0:n.schedule)==null?void 0:f.state}))),i=u(()=>(r(e(d)),a(()=>{var n,f;return(f=(n=e(d))==null?void 0:n.schedule)==null?void 0:f.policies}))),g=u(()=>(r(e(d)),a(()=>{var n,f,D;return(D=(f=(n=e(d))==null?void 0:n.schedule)==null?void 0:f.state)==null?void 0:D.notes})));na(It,{get spec(){return e(w)},get state(){return e(_)},get policies(){return e(i)},get notes(){return e(g)}})}var $r=o(It,2);{let w=u(()=>(r(e(d)),a(()=>{var _;return((_=e(d))==null?void 0:_.searchAttributes)??{}})));$a($r,{get searchAttributes(){return e(w)}})}s(_t);var jt=o(_t,2),Mt=l(jt);{let w=u(()=>(r(e(d)),a(()=>{var _,i,g,n;return(n=(g=(i=(_=e(d))==null?void 0:_.schedule)==null?void 0:i.action)==null?void 0:g.startWorkflow)==null?void 0:n.input})));va(Mt,{get input(){return e(w)}})}var xr=o(Mt,2);{let w=u(()=>(r(e(d)),a(()=>{var i,g,n,f,D,E;return[...((n=(g=(i=e(d))==null?void 0:i.schedule)==null?void 0:g.spec)==null?void 0:n.structuredCalendar)??[],...((E=(D=(f=e(d))==null?void 0:f.schedule)==null?void 0:D.spec)==null?void 0:E.interval)??[]]}))),_=u(()=>(r(e(d)),a(()=>{var i,g,n;return(n=(g=(i=e(d))==null?void 0:i.schedule)==null?void 0:g.spec)==null?void 0:n.timezoneName})));ua(xr,{get frequency(){return e(w)},get timezoneName(){return e(_)}})}s(jt),s(At),s(mt);var Wt=o(mt,2);{let w=u(()=>(r(e(d)),r(t),a(()=>{var g;return(g=e(d))!=null&&g.schedule.state.paused?t("schedules.unpause"):t("schedules.pause")}))),_=u(()=>(r(t),a(()=>t("common.cancel")))),i=u(()=>!e(F));it(Wt,{id:"pause-schedule-modal",confirmType:"primary",get confirmText(){return e(w)},get cancelText(){return e(_)},get confirmDisabled(){return e(i)},get open(){return e(M)},set open(g){p(M,g)},$$events:{confirmModal:()=>Ye(e(d)),cancelModal:$e},$$slots:{title:(g,n)=>{var f=Aa(),D=l(f,!0);s(f),T(E=>c(D,E),[()=>(r(e(d)),r(t),a(()=>{var E;return(E=e(d))!=null&&E.schedule.state.paused?t("schedules.unpause-modal-title"):t("schedules.pause-modal-title")}))]),v(g,f)},content:(g,n)=>{var f=Ca(),D=l(f),E=l(D,!0);s(D);var pe=o(D,2),le=l(pe,!0);s(pe);var ge=o(pe,2);{let C=u(()=>(r(t),a(()=>t("common.reason")))),se=u(()=>(r(t),a(()=>t("common.reason"))));Fr(ge,{id:"pause-reason",get placeholder(){return e(C)},get label(){return e(se)},labelHidden:!0,get value(){return e(F)},set value(et){p(F,et)},$$legacy:!0})}s(f),T((C,se)=>{c(E,C),c(le,se)},[()=>(r(e(d)),r(t),a(()=>{var C;return(C=e(d))!=null&&C.schedule.state.paused?t("schedules.unpause-modal-confirmation",{schedule:O}):t("schedules.pause-modal-confirmation",{schedule:O})})),()=>(r(e(d)),r(t),a(()=>{var C;return(C=e(d))!=null&&C.schedule.state.paused?t("schedules.unpause-reason"):t("schedules.pause-reason")}))]),v(g,f)}},$$legacy:!0})}var Ut=o(Wt,2);{let w=u(()=>(r(t),a(()=>t("schedules.trigger")))),_=u(()=>(r(t),a(()=>t("common.cancel"))));it(Ut,{id:"trigger-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(w)},get cancelText(){return e(_)},get loading(){return e(z)},get open(){return e(y)},set open(i){p(y,i)},$$events:{confirmModal:()=>We(),cancelModal:Me},$$slots:{title:(i,g)=>{var n=Da(),f=l(n,!0);s(n),T(D=>c(f,D),[()=>(r(t),a(()=>t("schedules.trigger-modal-title")))]),v(i,n)},content:(i,g)=>{var n=Ia(),f=l(n);Kt(f,{get group(){return N},name:"trigger-event-id",class:"h-auto overflow-auto",children:(D,E)=>{var pe=je(),le=G(pe);st(le,1,()=>fe,ct,(ge,C)=>{Xt(ge,{get id(){return e(C),a(()=>e(C).value)},get value(){return e(C),a(()=>e(C).value)},get label(){return e(C),a(()=>e(C).label)},get description(){return e(C),a(()=>e(C).description)}})}),v(D,pe)},$$slots:{default:!0}}),s(n),v(i,n)}},$$legacy:!0})}var Rt=o(Ut,2);{let w=u(()=>(r(t),a(()=>t("schedules.schedule")))),_=u(()=>(r(t),a(()=>t("common.cancel"))));it(Rt,{id:"backfill-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(w)},get cancelText(){return e(_)},get loading(){return e(z)},get open(){return e(K)},set open(i){p(K,i)},$$events:{confirmModal:()=>de(),cancelModal:oe},$$slots:{title:(i,g)=>{var n=ja(),f=l(n);s(n),T((D,E)=>c(f,`${D??""}
        ${E??""}`),[()=>(r(t),a(()=>t("schedules.schedule"))),()=>(r(t),a(()=>t("schedules.backfill")))]),v(i,n)},content:(i,g)=>{var n=Ma(),f=l(n),D=l(f);{let q=u(()=>(r(t),a(()=>t("common.start")))),Ve=u(()=>(r(t),a(()=>t("common.today")))),Oe=u(()=>(r(t),a(()=>t("common.close")))),De=u(()=>(r(t),a(()=>t("common.clear-input-button-label"))));Gt(D,{get label(){return e(q)},get selected(){return e(Be)},get todayLabel(){return e(Ve)},get closeLabel(){return e(Oe)},get clearLabel(){return e(De)},$$events:{datechange:vt}})}var E=o(D,2);Vt(E,{twelveHourClock:!1,get hour(){return e(Se)},set hour(q){p(Se,q)},get minute(){return e(Ue)},set minute(q){p(Ue,q)},get second(){return e(He)},set second(q){p(He,q)},$$legacy:!0});var pe=o(E,2);{let q=u(()=>(r(t),a(()=>t("common.end")))),Ve=u(()=>(r(t),a(()=>t("common.today")))),Oe=u(()=>(r(t),a(()=>t("common.close")))),De=u(()=>(r(t),a(()=>t("common.clear-input-button-label"))));Gt(pe,{get label(){return e(q)},get selected(){return e(Pe)},get todayLabel(){return e(Ve)},get closeLabel(){return e(Oe)},get clearLabel(){return e(De)},$$events:{datechange:P}})}var le=o(pe,2);Vt(le,{twelveHourClock:!1,get hour(){return e(Ae)},set hour(q){p(Ae,q)},get minute(){return e(Ee)},set minute(q){p(Ee,q)},get second(){return e(Qe)},set second(q){p(Qe,q)},$$legacy:!0});var ge=o(le,2),C=l(ge);cr(C,{name:"clock","aria-hidden":"true"});var se=o(C,2),et=l(se);s(se),s(ge),s(f);var Lt=o(f,4),Ot=l(Lt);Kt(Ot,{get group(){return N},name:"backfill-event-id",class:"h-auto overflow-auto",children:(q,Ve)=>{var Oe=je(),De=G(Oe);st(De,1,()=>(e(Te),a(()=>fe.slice(0,e(Te)?fe.length:3))),ct,(ht,Ie)=>{Xt(ht,{get id(){return e(Ie),a(()=>e(Ie).value)},get value(){return e(Ie),a(()=>e(Ie).value)},get label(){return e(Ie),a(()=>e(Ie).label)},get description(){return e(Ie),a(()=>e(Ie).description)}})}),v(q,Oe)},$$slots:{default:!0}});var wr=o(Ot,2);{var kr=q=>{bt(q,{variant:"ghost",size:"xs",$$events:{click:()=>p(Te,!0)},children:(Ve,Oe)=>{ue();var De=ie();T(ht=>c(De,ht),[()=>(r(t),a(()=>t("schedules.more-options")))]),v(Ve,De)},$$slots:{default:!0}})};_e(wr,q=>{e(Te)||q(kr)})}s(Lt),s(n),T(q=>c(et,`${q??""} Universal Standard Time
              (UTC)`),[()=>(r(t),a(()=>t("common.based-on-time-preface")))]),v(i,n)}},$$legacy:!0})}var br=o(Rt,2);{let w=u(()=>(r(t),a(()=>t("common.delete")))),_=u(()=>(r(t),a(()=>t("common.cancel"))));it(br,{id:"delete-schedule-modal",confirmType:"destructive",get confirmText(){return e(w)},get cancelText(){return e(_)},get open(){return e(V)},set open(i){p(V,i)},get error(){return e(H)},set error(i){p(H,i)},$$events:{confirmModal:qe,cancelModal:$e},$$slots:{title:(i,g)=>{var n=Wa(),f=l(n,!0);s(n),T(D=>c(f,D),[()=>(r(t),a(()=>t("schedules.delete-modal-title")))]),v(i,n)},content:(i,g)=>{var n=Ua(),f=l(n),D=l(f,!0);s(f),s(n),T(E=>c(D,E),[()=>(r(t),a(()=>t("schedules.delete-modal-confirmation",{schedule:O})))]),v(i,n)}},$$legacy:!0})}T(w=>{c(wt,O),c(ur,(r(e(d)),a(()=>{var _,i,g,n,f;return(f=(n=(g=(i=(_=e(d))==null?void 0:_.schedule)==null?void 0:i.action)==null?void 0:g.startWorkflow)==null?void 0:n.workflowType)==null?void 0:f.name}))),c(St,`${w??""} `)},[()=>(h(),a(()=>h().count.toLocaleString()))]),v(ce,Ne)};_e(xe,ce=>{x()?ce(ke):ce(Re,!1)})}v(L,ae)},(L,d)=>{var ae=La(),xe=G(ae),ke=l(xe),Re=l(ke);{let be=u(()=>(r(Fe),a(()=>Fe({namespace:k}))));at(Re,{get href(){return e(be)},icon:"chevron-left",children:(ye,wt)=>{ue();var Ge=ie();T(ot=>c(Ge,ot),[()=>(r(t),a(()=>t("schedules.back-to-schedules")))]),v(ye,Ge)},$$slots:{default:!0}})}var ce=o(Re,2),Ne=l(ce,!0);s(ce);var Ce=o(ce,2),Le=l(Ce,!0);s(Ce),s(ke),s(xe);var Ze=o(xe,2);{let be=u(()=>(r(e(d)),a(()=>{var ye;return(ye=e(d))==null?void 0:ye.message})));Zt(Ze,{get error(){return e(be)}})}T(()=>{c(Ne,O),c(Le,k)}),v(L,ae)}),v(j,ne),me(),U()}var Fa=A("<!> <!>",1);function Us(j,m){ve(m,!1);const $=()=>Ke(sr,"$page",b),[b,x]=ar(),S=$().params.schedule;he();var h=Fa(),I=G(h);{let R=u(()=>`Schedule | ${S}`);Pr(I,{get title(){return e(R)},get url(){return $().url.href}})}var U=o(I,2);za(U,{}),v(j,h),me(),x()}export{Us as component};
