import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as ve,f as A,j as l,r as s,h as o,t as T,K as a,O as r,e as v,b as me,c as G,g as e,o as u,n as ue,k as ie,i as je,l as rt,s as p,m as Q,az as ht,a as tr,v as yr,aU as Tr}from"../chunks/DZ1-1a5q.js";import{i as $e}from"../chunks/Bby3K3wO.js";import{p as B,l as rr,a as Je,s as ar,b as Ge}from"../chunks/TaaIktnz.js";import{p as sr}from"../chunks/P-60DauF.js";import{P as Pr}from"../chunks/BvHFjIFb.js";import{a as Sr,w as Ar}from"../chunks/D7JzDj9r.js";import{s as c}from"../chunks/DxwvfIkW.js";import{a as lr}from"../chunks/Ave-ZrbK.js";import{i as _e}from"../chunks/DnKg3jxh.js";import{e as st,i as ct}from"../chunks/DGhzC9On.js";import{g as Cr}from"../chunks/B6q_Dlna.js";import{C as Dr}from"../chunks/DHoHbqCz.js";import{A as or}from"../chunks/jw7sBMoL.js";import{t}from"../chunks/DEjs8ZrU.js";import{m as zt,s as ze,q as Ir}from"../chunks/CrZfxCV7.js";import{A as jr}from"../chunks/BxPfauF3.js";import{s as nr}from"../chunks/DMJjfc0_.js";import{s as Mr}from"../chunks/B3h3Bc2r.js";import{S as Wr}from"../chunks/C5bdMp-W.js";import{I as Ur}from"../chunks/o0QFKi4C.js";import{s as qt}from"../chunks/ikbOq2O5.js";import{T as lt}from"../chunks/4Dr_hdgK.js";import{E as ir}from"../chunks/DEyS7vMf.js";import{L as at}from"../chunks/DIRNUFUF.js";import{x as Ft,n as Bt,r as Rr,w as Lr}from"../chunks/CpHp7-gC.js";import{d as xt}from"../chunks/vO_crHjm.js";import{p as Ht,d as Et,u as qe,H as Nt}from"../chunks/DCDVNMgg.js";import{W as dr}from"../chunks/DPVSJDnS.js";import{d as Or}from"../chunks/BTsaXVby.js";import{p as Qt}from"../chunks/756y7qLl.js";import{W as zr}from"../chunks/c7PZBUMK.js";import{B as wt}from"../chunks/50GSh07Q.js";import{D as Kt,T as Vt}from"../chunks/DaxociDC.js";import{I as cr}from"../chunks/BwERH40W.js";import{I as qr}from"../chunks/P56KsJHZ.js";import{L as Gt}from"../chunks/DW6uis09.js";import{c as Fr,d as Br,b as nt}from"../chunks/CnHlilQN.js";import{M as it}from"../chunks/CVvERcJl.js";import{R as Jt,a as Xt}from"../chunks/CKcrITRI.js";import{b as Hr}from"../chunks/Cjhe5Ckg.js";import{M as Er}from"../chunks/he2HLDFS.js";import{T as Nr,a as Qr}from"../chunks/8mliBfvk.js";import{f as tt,l as dt,u as Kr,p as Vr,t as Gr,b as Jr,d as Xr}from"../chunks/BljFPNvB.js";import{c as Yr}from"../chunks/DgcHeW01.js";import{g as Zr}from"../chunks/BrqVdl23.js";import{b as Yt}from"../chunks/2dgXBwRQ.js";var ea=A('<div><h2 class="mb-4"> </h2> <p> </p></div>');function ta(M,m){ve(m,!1);let h=B(m,"notes",8,"");$e();var w=ea(),x=l(w),S=l(x,!0);s(x);var $=o(x,2),j=l($,!0);s($),s(w),T(U=>{c(S,U),c(j,h())},[()=>(r(t),a(()=>t("common.notes")))]),v(M,w),me()}var ra=A('<li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li>'),aa=A('<li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li>'),sa=A('<li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li>'),la=A('<ul class="settings-list svelte-1ek4oji"><li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li> <li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li> <li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li> <li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li> <!> <li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li> <li class="svelte-1ek4oji"> <span class="svelte-1ek4oji"> </span></li> <!> <!></ul>'),oa=A("<!> <!>",1);function na(M,m){ve(m,!1);let h=B(m,"spec",8),w=B(m,"state",8),x=B(m,"policies",8),S=B(m,"notes",8,"");$e();var $=oa(),j=G($);ta(j,{get notes(){return S()}});var U=o(j,2);{let R=u(()=>(r(t),a(()=>t("schedules.advanced-settings"))));or(U,{get title(){return e(R)},children:(k,O)=>{var Z=la(),ee=l(Z),te=l(ee),J=o(te),D=l(J,!0);s(J),s(ee);var y=o(ee,2),V=l(y),H=o(V),q=l(H,!0);s(H),s(y);var E=o(y,2),z=l(E),K=o(z),Y=l(K,!0);s(K),s(E);var X=o(E,2),re=l(X),fe=o(re),Xe=l(fe,!0);s(fe),s(X);var Fe=o(X,2);{var Ye=P=>{var W=ra(),oe=l(W),de=o(oe),he=l(de,!0);s(de),s(W),T((ne,be)=>{c(oe,`${ne??""} `),c(he,be)},[()=>(r(t),a(()=>t("schedules.remaining-actions"))),()=>(r(w()),r(t),a(()=>{var ne;return((ne=w())==null?void 0:ne.remainingActions)??t("common.none")}))]),v(P,W)};_e(Fe,P=>{r(w()),a(()=>{var W;return(W=w())==null?void 0:W.limitedActions})&&P(Ye)})}var Me=o(Fe,2),We=l(Me),Te=o(We),Be=l(Te,!0);s(Te),s(Me);var Pe=o(Me,2),Se=l(Pe),Ue=o(Se),He=l(Ue,!0);s(Ue),s(Pe);var Ae=o(Pe,2);{var Ee=P=>{var W=aa(),oe=l(W),de=o(oe),he=l(de,!0);s(de),s(W),T((ne,be)=>{c(oe,`${ne??""} `),c(he,be)},[()=>(r(t),a(()=>t("schedules.pause-on-failure"))),()=>(r(x()),r(t),a(()=>x().pauseOnFailure?t("common.true"):t("common.false")))]),v(P,W)};_e(Ae,P=>{r(x()),a(()=>{var W;return((W=x())==null?void 0:W.pauseOnFailure)!=null})&&P(Ee)})}var Ne=o(Ae,2);{var vt=P=>{var W=sa(),oe=l(W),de=o(oe),he=l(de,!0);s(de),s(W),T((ne,be)=>{c(oe,`${ne??""} `),c(he,be)},[()=>(r(t),a(()=>t("schedules.keep-original-workflow-id"))),()=>(r(x()),r(t),a(()=>x().keepOriginalWorkflowId?t("common.true"):t("common.false")))]),v(P,W)};_e(Ne,P=>{r(x()),a(()=>{var W;return((W=x())==null?void 0:W.keepOriginalWorkflowId)!=null})&&P(vt)})}s(Z),T((P,W,oe,de,he,ne,be,L,d,ae,xe,ke)=>{c(te,`${P??""} `),c(D,W),c(V,`${oe??""} `),c(q,de),c(z,`${he??""} `),c(Y,ne),c(re,`${be??""} `),c(Xe,L),c(We,`${d??""} `),c(Be,ae),c(Se,`${xe??""} `),c(He,ke)},[()=>(r(t),a(()=>t("schedules.start-time"))),()=>(r(h()),r(t),a(()=>{var P;return((P=h())==null?void 0:P.startTime)??t("common.none")})),()=>(r(t),a(()=>t("schedules.end-time"))),()=>(r(h()),r(t),a(()=>{var P;return((P=h())==null?void 0:P.endTime)??t("common.none")})),()=>(r(t),a(()=>t("schedules.jitter"))),()=>(r(h()),r(t),a(()=>{var P;return((P=h())==null?void 0:P.jitter)??t("common.none")})),()=>(r(t),a(()=>t("schedules.exclusion-calendar"))),()=>(r(h()),r(t),a(()=>{var P,W;return((W=(P=h())==null?void 0:P.excludeCalendar)==null?void 0:W[0])??t("common.none")})),()=>(r(t),a(()=>t("schedules.overlap-policy"))),()=>(r(x()),r(t),a(()=>{var P;return((P=x())==null?void 0:P.overlapPolicy)??t("common.none")})),()=>(r(t),a(()=>t("schedules.catchup-window"))),()=>(r(x()),r(zt),r(t),a(()=>{var P;return((P=x())==null?void 0:P.catchupWindow)!=null?zt(x().catchupWindow.toString()):t("common.none")}))]),v(k,Z)},$$slots:{default:!0}})}v(M,$),me()}var ia=A("<p> </p> <p> </p>",1);function Zt(M,m){ve(m,!1);let h=B(m,"error",8,"");$e(),jr(M,{intent:"error",children:(w,x)=>{var S=ia(),$=G(S),j=l($,!0);s($);var U=o($,2),R=l(U,!0);s(U),T(k=>{c(j,k),c(R,h())},[()=>(r(t),a(()=>t("schedules.error-title")))]),v(w,S)},$$slots:{default:!0}}),me()}var da=A("<div><!></div>");function ut(M,m){const h=rr(m,["children","$$slots","$$events","$$legacy"]);ve(m,!1);let w=B(m,"error",8,!1);$e();var x=da();let S;var $=l(x);nr($,m,"default",{},null),s(x),T(()=>S=Mr(x,1,`panel surface-primary ${r(h),a(()=>h.class)??""}`,"svelte-16zztsi",S,{error:w()})),v(M,x),me()}var ca=A('<h2 class="mb-4"> </h2> <div class="pr-2"><!></div>',1);function ua(M,m){ve(m,!0);let h=B(m,"timezoneName",3,"UTC");ut(M,{children:(w,x)=>{var S=ca(),$=G(S),j=l($,!0);s($);var U=o($,2),R=l(U);Wr(R,{get frequency(){return m.frequency},get timezoneName(){return h()},class:"text-base"}),s(U),T(k=>c(j,k),[()=>t("schedules.schedule-spec")]),v(w,S)},$$slots:{default:!0}}),me()}function va(M,m){ve(m,!1);let h=B(m,"input",8);$e(),ut(M,{children:(w,x)=>{{let S=u(()=>(r(t),a(()=>t("schedules.schedule-input")))),$=u(()=>(r(qt),r(h()),a(()=>qt(h()))));Ur(w,{get title(){return e(S)},get content(){return e($)}})}},$$slots:{default:!0}}),me()}var ma=A('<div class="row svelte-1q6417u"><div class="w-28"><!></div> <div class="mx-2 w-auto break-words"><!></div> <div class="ml-auto"><!></div></div>'),fa=A('<div class="row svelte-1q6417u"><div class="w-28"></div> <div class="w-96"> </div> <div class="ml-auto"><!></div></div>'),pa=A('<div class="flex justify-between"><h2 class="mb-4"> </h2> <!></div> <!> <!>',1);function ga(M,m){ve(m,!1);let h=B(m,"recentRuns",24,()=>[]),w=B(m,"namespace",8),x=B(m,"workflowQuery",8);const S=$=>{var j,U;return(U=(j=$==null?void 0:$.sort((R,k)=>new Date(k.actualTime).getTime()-new Date(R.actualTime).getTime()))===null||j===void 0?void 0:j.slice(0,5))!==null&&U!==void 0?U:[]};$e(),ut(M,{class:"w-full",children:($,j)=>{var U=pa(),R=G(U),k=l(R),O=l(k,!0);s(k);var Z=o(k,2);{let D=u(()=>(r(Ht),r(w()),r(x()),a(()=>Ht({namespace:w(),query:x()}))));at(Z,{get href(){return e(D)},icon:"filter",children:(y,V)=>{ue();var H=ie();T(q=>c(H,q),[()=>(r(t),a(()=>t("common.view-all-runs")))]),v(y,H)},$$slots:{default:!0}})}s(R);var ee=o(R,2);st(ee,3,()=>(r(h()),a(()=>S(h()))),(D,y)=>{var V,H;return`${((V=D==null?void 0:D.startWorkflowResult)==null?void 0:V.workflowId)??y}:${((H=D==null?void 0:D.startWorkflowResult)==null?void 0:H.runId)??y+1}`},(D,y)=>{var V=je(),H=G(V);lr(H,()=>(r(Ft),r(w()),r(xt),e(y),a(()=>Ft({namespace:w(),workflowId:xt(e(y).startWorkflowResult.workflowId),runId:e(y).startWorkflowResult.runId},fetch))),null,(q,E)=>{var z=ma(),K=l(z),Y=l(K);dr(Y,{get status(){return r(e(E)),a(()=>e(E).status)}}),s(K);var X=o(K,2),re=l(X);{let Fe=u(()=>(r(Et),e(y),r(w()),a(()=>Et({workflow:e(y).startWorkflowResult.workflowId,run:e(y).startWorkflowResult.runId,namespace:w()}))));at(re,{get href(){return e(Fe)},children:(Ye,Me)=>{ue();var We=ie();T(()=>c(We,(e(y),a(()=>e(y).startWorkflowResult.workflowId)))),v(Ye,We)},$$slots:{default:!0}})}s(X);var fe=o(X,2),Xe=l(fe);lt(Xe,{as:"p",get dateTime(){return e(y),a(()=>e(y).actualTime)}}),s(fe),s(z),v(q,z)},q=>{var E=fa(),z=o(l(E),2),K=l(z,!0);s(z);var Y=o(z,2),X=l(Y);lt(X,{as:"p",get dateTime(){return e(y),a(()=>e(y).actualTime)}}),s(Y),s(E),T(()=>c(K,(e(y),a(()=>e(y).startWorkflowResult.workflowId)))),v(q,E)}),v(D,V)});var te=o(ee,2);{var J=D=>{{let y=u(()=>(r(t),a(()=>t("schedules.recent-runs-empty-state-title"))));ir(D,{get title(){return e(y)}})}};_e(te,D=>{r(h()),a(()=>!h().length)&&D(J)})}T(D=>c(O,D),[()=>(r(t),a(()=>t("schedules.recent-runs")))]),v($,U)},$$slots:{default:!0}}),me()}const er=M=>Array.isArray(M)?M.join(", "):M;var _a=A('<li class="flex flex-wrap items-center gap-2 border-b py-2 last-of-type:border-b-0"><span class="break-all"> </span> <span class="surface-subtle select-all rounded-sm p-1 leading-4"> </span></li>'),$a=A('<ul class="w-full"></ul>');function ha(M,m){ve(m,!1);const h=Q(),w=Q(),x=Q();var S=Q();let $=B(m,"searchAttributes",8);rt(()=>r($()),()=>{p(h,Or({searchAttributes:$()}))}),rt(()=>(ht(S),e(h)),()=>{p(w,p(S,e(h)===null||e(h)===void 0?void 0:e(h).searchAttributes.indexedFields)!==null&&ht(S)!==void 0?ht(S):{})}),rt(()=>e(w),()=>{p(x,Object.keys(e(w)).length)}),tr(),$e();{let j=u(()=>(r(t),a(()=>t("events.custom-search-attributes")))),U=u(()=>(e(x),r(t),r(Qt),a(()=>`${e(x)} ${t("events.custom-search")} ${Qt(t("events.attribute"),e(x))}`))),R=u(()=>e(x)>0);or(M,{get title(){return e(j)},get subtitle(){return e(U)},get expandable(){return e(R)},children:(k,O)=>{var Z=je(),ee=G(Z);{var te=J=>{var D=$a();st(D,5,()=>(e(w),a(()=>Object.entries(e(w)))),ct,(y,V)=>{var H=yr(()=>Tr(e(V),2));let q=()=>e(H)[0],E=()=>e(H)[1];const z=u(()=>(r(er),E(),a(()=>er(E()))));var K=_a(),Y=l(K),X=l(Y,!0);s(Y);var re=o(Y,2),fe=l(re,!0);s(re),s(K),T(()=>{c(X,q()),c(fe,e(z))}),v(y,K)}),s(D),v(J,D)};_e(ee,J=>{e(x)&&J(te)})}v(k,Z)},$$slots:{default:!0}})}me()}var xa=A('<div class="row svelte-1hunhgd"><!></div>'),wa=A('<h2 class="mb-4"> </h2> <!>',1);function ba(M,m){ve(m,!1);let h=B(m,"futureRuns",24,()=>[]);$e(),ut(M,{class:"w-full",children:(w,x)=>{var S=wa(),$=G(S),j=l($,!0);s($);var U=o($,2);st(U,1,()=>(r(h()),a(()=>h().slice(0,5))),ct,(R,k)=>{var O=xa(),Z=l(O);lt(Z,{as:"p",get dateTime(){return e(k)}}),s(O),v(R,O)},R=>{{let k=u(()=>(r(t),a(()=>t("schedules.upcoming-runs-empty-state-title"))));ir(R,{get title(){return e(k)}})}}),T(R=>c(j,R),[()=>(r(t),a(()=>t("schedules.upcoming-runs")))]),v(w,S)},$$slots:{default:!0}}),me()}var ka=A("<!> ",1),ya=A('<div class="button-group flex h-10 cursor-pointer flex-row gap-[1px]"><!> <!></div> <!>',1);function Ta(M,m){const h=rr(m,["children","$$slots","$$events","$$legacy"]);ve(m,!1);let w=B(m,"label",8),x=B(m,"menuLabel",8),S=B(m,"icon",8,void 0),$=B(m,"id",8),j=B(m,"disabled",8,!1),U=B(m,"position",8,"left"),R=B(m,"primaryActionDisabled",8,!1),k=B(m,"href",8,void 0),O=B(m,"menuClass",8,void 0);$e(),Fr(M,{get class(){return r(h),a(()=>h.class)},children:(Z,ee)=>{var te=ya(),J=G(te),D=l(J);{let H=u(()=>j()||R());wt(D,{get disabled(){return e(H)},get id(){return`${$()??""}-primary-button`},get href(){return k()},disableTracking:!0,"data-track-name":"split-button","data-track-intent":"primary",get"data-track-text"(){return w()},$$events:{click(q){Hr.call(this,m,q)}},children:(q,E)=>{var z=ka(),K=G(z);{var Y=re=>{cr(re,{get name(){return S()}})};_e(K,re=>{S()&&re(Y)})}var X=o(K);T(()=>c(X,` ${w()??""}`)),v(q,z)},$$slots:{default:!0}})}var y=o(D,2);Er(y,{class:"max-w-fit grow-0 px-3",get id(){return`${$()??""}-menu-button`},get label(){return x()},get controls(){return`${$()??""}-menu`},variant:"primary",get disabled(){return j()},hasIndicator:!0}),s(J);var V=o(J,2);Br(V,{get id(){return`${$()??""}-menu`},get position(){return U()},get class(){return O()},children:(H,q)=>{var E=je(),z=G(E);nr(z,m,"default",{},null),v(H,E)},$$slots:{default:!0}}),v(Z,te)},$$slots:{default:!0}}),me()}var Pa=A("<!> <!> <!> <!>",1),Sa=A('<div class="w-full xl:w-1/2"><!></div>'),Aa=A('<h3 slot="title"> </h3>'),Ca=A('<div slot="content"><p> </p> <p class="my-4"> </p> <!></div>'),Da=A('<h3 slot="title"> </h3>'),Ia=A('<div slot="content"><!></div>'),ja=A('<h3 slot="title"> </h3>'),Ma=A('<div slot="content" class="p-0"><div class="flex flex-col gap-2 p-2"><!> <!> <!> <!> <div class="flex w-full flex-row items-center gap-2"><!> <span class="text-xs font-normal text-slate-500"> </span></div></div> <hr tabindex="-1" aria-hidden="true" class="my-4 w-full border-subtle"/> <div class="flex max-h-52 flex-col gap-2 overflow-auto"><!> <!></div></div>'),Wa=A('<h3 slot="title"> </h3>'),Ua=A('<div slot="content"><p> </p></div>'),Ra=A('<header class="flex flex-row flex-wrap justify-between gap-4"><div class="relative flex flex-col"><!> <h1 class="relative flex items-center"><span class="select-all" data-testid="schedule-name"> </span></h1> <div class="flex flex-wrap items-center gap-2 text-lg"><!> <p> </p></div> <!> <!></div> <!></header> <!> <div class="flex flex-col gap-4 pb-24"><!> <div class="flex w-full flex-col gap-2 text-lg"><div class="flex items-center gap-2"><span data-testid="workflow-count"> <!></span> <!></div> <!></div> <div class="flex flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col items-start gap-4 xl:w-2/3"><!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 xl:w-1/3"><!> <!></div></div></div> <!> <!> <!> <!>',1),La=A('<header class="mb-8"><div class="relative flex flex-col gap-1"><!> <h1 class="mt-8 select-all" data-testid="schedule-name"> </h1> <p class="text-sm"> </p></div></header> <!>',1),Oa=A('<header class="mb-8"><div class="relative flex flex-col gap-4"><!> <h1 class="select-all" data-testid="schedule-name"> </h1></div></header> <!>',1);function za(M,m){ve(m,!1);const h=()=>Je(sr,"$page",j),w=()=>Je(Xe,"$coreUser",j),x=()=>Je(dt,"$loading",j),S=()=>Je(K,"$overlapPolicy",j),$=()=>Je(Lr,"$workflowCount",j),[j,U]=ar(),R=Q();let k=h().params.namespace,O=h().params.schedule,Z=`TemporalScheduledById="${O}"`;const ee=Zr(),te={namespace:k,scheduleId:xt(O)};let J=Q(tt(te)),D=Q(!1),y=Q(!1),V=Q(!1),H=Q(!1),q=Q(""),E=Q(""),z=Q(!1),K=Ar("Unspecified"),Y,X,re,fe=[{description:t("schedules.trigger-unspecified-description"),label:t("schedules.trigger-unspecified-title"),value:"Unspecified"},{description:t("schedules.trigger-buffer-all-description"),label:t("schedules.trigger-buffer-all-title"),value:"BufferAll"},{description:t("schedules.trigger-allow-all-description"),label:t("schedules.trigger-allow-all-title"),value:"AllowAll"},{description:t("schedules.trigger-skip-description"),label:t("schedules.trigger-skip-title"),value:"Skip"},{description:t("schedules.trigger-buffer-one-description"),label:t("schedules.trigger-buffer-one-title"),value:"BufferOne"},{description:t("schedules.trigger-cancel-other-description"),label:t("schedules.trigger-cancel-other-title"),value:"CancelOther"},{description:t("schedules.trigger-terminate-other-description"),label:t("schedules.trigger-terminate-other-title"),value:"TerminateOther"}],Xe=Yr();const Fe=async()=>{p(E,"");try{Ge(dt,!0),await Xr({identity:ee,namespace:k,scheduleId:O}),p(H,!1),clearTimeout(Y),Y=setTimeout(()=>{Ge(dt,!1),Cr(qe({namespace:k}))},2e3),p(q,"")}catch(L){p(E,t("schedules.delete-schedule-error",{error:L==null?void 0:L.message})),Ge(dt,!1)}},Ye=async L=>{var d,ae;!((ae=(d=L==null?void 0:L.schedule)===null||d===void 0?void 0:d.state)===null||ae===void 0)&&ae.paused?await Kr({identity:ee,namespace:k,scheduleId:O,reason:e(q)}):await Vr({identity:ee,namespace:k,scheduleId:O,reason:e(q)}),p(J,tt(te)),p(q,""),p(D,!1)},Me=()=>{p(y,!1),Ge(K,"Unspecified")},We=async()=>{p(z,!0),await Gr({identity:ee,namespace:k,scheduleId:O,overlapPolicy:S()}),clearTimeout(X),X=setTimeout(()=>{p(J,tt(te)),Me(),p(z,!1)},1e3)};let Te=Q(!1),Be=Q(ze(new Date)),Pe=Q(ze(new Date)),Se=Q(""),Ue=Q(""),He=Q(""),Ae=Q(""),Ee=Q(""),Ne=Q("");const vt=L=>{p(Be,ze(L.detail))},P=L=>{p(Pe,ze(L.detail))},W=()=>{const L=new Date(Date.now()),d=Qr(L,1);p(Se,L.getUTCHours().toString()),p(Ue,L.getUTCMinutes().toString()),p(He,L.getUTCSeconds().toString()),p(Ae,d.getUTCHours().toString()),p(Ee,d.getUTCMinutes().toString()),p(Ne,d.getUTCSeconds().toString()),p(Be,ze(new Date)),p(Pe,e(Ae)<e(Se)?ze(Ir(new Date,1)):ze(new Date))},oe=()=>{p(V,!1),p(Te,!1),Ge(K,"Unspecified")},de=async()=>{p(z,!0);const L=Yt({date:e(Be),hour:e(Se),minute:e(Ue),second:e(He)}),d=Yt({date:e(Pe),hour:e(Ae),minute:e(Ee),second:e(Ne)});await Jr({identity:ee,namespace:k,scheduleId:O,overlapPolicy:S(),startTime:L,endTime:d}),clearTimeout(re),re=setTimeout(()=>{p(J,tt(te)),oe(),p(z,!1)},1e3)},he=()=>{p(q,"")};Sr(()=>{clearTimeout(Y),clearTimeout(X),clearTimeout(re)}),rt(()=>(w(),Bt),()=>{p(R,w().namespaceWriteDisabled(k)||!Bt())}),rt(()=>e(V),()=>{e(V)&&W()}),tr(),$e();var ne=je(),be=G(ne);lr(be,()=>e(J),L=>{var d=Oa(),ae=G(d),xe=l(ae),ke=l(xe);{let Ce=u(()=>(r(qe),a(()=>qe({namespace:k}))));at(ke,{get href(){return e(Ce)},icon:"chevron-left",children:(Le,Ze)=>{ue();var we=ie();T(ye=>c(we,ye),[()=>(r(t),a(()=>t("schedules.back-to-schedules")))]),v(Le,we)},$$slots:{default:!0}})}var Re=o(ke,2),ce=l(Re,!0);s(Re),s(xe),s(ae);var Qe=o(ae,2);Gt(Qe,{}),T(()=>c(ce,O)),v(L,d)},(L,d)=>{var ae=je(),xe=G(ae);{var ke=ce=>{Gt(ce,{class:"my-2"})},Re=ce=>{var Qe=Ra(),Ce=G(Qe),Le=l(Ce),Ze=l(Le);{let b=u(()=>(r(qe),a(()=>qe({namespace:k}))));at(Ze,{get href(){return e(b)},icon:"chevron-left",children:(_,i)=>{ue();var g=ie();T(n=>c(g,n),[()=>(r(t),a(()=>t("schedules.back-to-schedules")))]),v(_,g)},$$slots:{default:!0}})}var we=o(Ze,2),ye=l(we),bt=l(ye,!0);s(ye),s(we);var Ke=o(we,2),ot=l(Ke);{let b=u(()=>(r(e(d)),a(()=>{var _;return(_=e(d))!=null&&_.schedule.state.paused?"Paused":"Running"})));dr(ot,{get status(){return e(b)}})}var kt=o(ot,2),ur=l(kt,!0);s(kt),s(Ke);var yt=o(Ke,2);{const b=i=>{ue();var g=ie("Created");v(i,g)};let _=u(()=>(r(e(d)),a(()=>{var i,g;return(g=(i=e(d))==null?void 0:i.info)==null?void 0:g.createTime})));lt(yt,{as:"p",class:"flex items-center gap-2 text-right text-sm",get dateTime(){return e(_)},leading:b,$$slots:{leading:!0}})}var vr=o(yt,2);{var mr=b=>{{const _=g=>{ue();var n=ie("Last Updated");v(g,n)};let i=u(()=>(r(e(d)),a(()=>{var g,n;return(n=(g=e(d))==null?void 0:g.info)==null?void 0:n.updateTime})));lt(b,{as:"p",class:"flex items-center gap-2 text-right text-sm",get dateTime(){return e(i)},leading:_,$$slots:{leading:!0}})}};_e(vr,b=>{r(e(d)),a(()=>{var _,i;return(i=(_=e(d))==null?void 0:_.info)==null?void 0:i.updateTime})&&b(mr)})}s(Le);var fr=o(Le,2);{let b=u(()=>(r(e(d)),r(t),a(()=>{var i,g,n;return(n=(g=(i=e(d))==null?void 0:i.schedule)==null?void 0:g.state)!=null&&n.paused?t("schedules.unpause"):t("schedules.pause")}))),_=u(()=>(r(t),a(()=>t("schedules.schedule-actions"))));Ta(fr,{position:"right",get label(){return e(b)},get menuLabel(){return e(_)},id:"schedule-actions",get disabled(){return e(R)},$$events:{click:()=>p(D,!0)},children:(i,g)=>{var n=Pa(),f=G(n);nt(f,{"data-testid":"trigger-schedule",onclick:()=>p(y,!0),children:(le,ge)=>{ue();var C=ie();T(se=>c(C,se),[()=>(r(t),a(()=>t("schedules.trigger")))]),v(le,C)},$$slots:{default:!0}});var I=o(f,2);nt(I,{"data-testid":"backfill-schedule",onclick:()=>p(V,!0),children:(le,ge)=>{ue();var C=ie();T(se=>c(C,se),[()=>(r(t),a(()=>t("schedules.backfill")))]),v(le,C)},$$slots:{default:!0}});var N=o(I,2);{let le=u(()=>(r(Nt),a(()=>Nt({namespace:k,scheduleId:O}))));nt(N,{"data-testid":"edit-schedule",get href(){return e(le)},children:(ge,C)=>{ue();var se=ie();T(et=>c(se,et),[()=>(r(t),a(()=>t("common.edit")))]),v(ge,se)},$$slots:{default:!0}})}var pe=o(N,2);nt(pe,{"data-testid":"delete-schedule",destructive:!0,onclick:()=>p(H,!0),children:(le,ge)=>{ue();var C=ie();T(se=>c(C,se),[()=>(r(t),a(()=>t("common.delete")))]),v(le,C)},$$slots:{default:!0}}),v(i,n)},$$slots:{default:!0}})}s(Ce);var Tt=o(Ce,2);Dr(Tt,{});var mt=o(Tt,2),Pt=l(mt);{var pr=b=>{var _=Sa(),i=l(_);{let g=u(()=>(r(e(d)),a(()=>{var n,f;return(f=(n=e(d))==null?void 0:n.info)==null?void 0:f.invalidScheduleError})));Zt(i,{get error(){return e(g)}})}s(_),v(b,_)};_e(Pt,b=>{r(e(d)),a(()=>{var _,i;return(i=(_=e(d))==null?void 0:_.info)==null?void 0:i.invalidScheduleError})&&b(pr)})}var ft=o(Pt,2),pt=l(ft),gt=l(pt),St=l(gt),gr=o(St);Nr(gr,{key:"common.workflows-plural",get count(){return $(),a(()=>$().count)}}),s(gt);var _r=o(gt,2);wt(_r,{size:"xs",variant:"ghost",leadingIcon:"retry",$$events:{click:()=>{p(J,tt(te)),Ge(Rr,Date.now())}},children:(b,_)=>{var i=je(),g=G(i);{var n=f=>{var I=ie();T(N=>c(I,`+${N??""}`),[()=>($(),a(()=>$().newCount.toLocaleString()))]),v(f,I)};_e(g,f=>{$(),a(()=>$().newCount>0)&&f(n)})}v(b,i)},$$slots:{default:!0}}),s(pt);var $r=o(pt,2);zr($r,{get staticQuery(){return Z}}),s(ft);var At=o(ft,2),_t=l(At),Ct=l(_t);{let b=u(()=>(r(e(d)),a(()=>{var _,i;return(i=(_=e(d))==null?void 0:_.info)==null?void 0:i.recentActions})));ga(Ct,{get namespace(){return k},get recentRuns(){return e(b)},get workflowQuery(){return Z}})}var Dt=o(Ct,2);{let b=u(()=>(r(e(d)),a(()=>{var _,i;return(i=(_=e(d))==null?void 0:_.info)==null?void 0:i.futureActionTimes})));ba(Dt,{get futureRuns(){return e(b)}})}var It=o(Dt,2);{let b=u(()=>(r(e(d)),a(()=>{var n,f;return(f=(n=e(d))==null?void 0:n.schedule)==null?void 0:f.spec}))),_=u(()=>(r(e(d)),a(()=>{var n,f;return(f=(n=e(d))==null?void 0:n.schedule)==null?void 0:f.state}))),i=u(()=>(r(e(d)),a(()=>{var n,f;return(f=(n=e(d))==null?void 0:n.schedule)==null?void 0:f.policies}))),g=u(()=>(r(e(d)),a(()=>{var n,f,I;return(I=(f=(n=e(d))==null?void 0:n.schedule)==null?void 0:f.state)==null?void 0:I.notes})));na(It,{get spec(){return e(b)},get state(){return e(_)},get policies(){return e(i)},get notes(){return e(g)}})}var hr=o(It,2);{let b=u(()=>(r(e(d)),a(()=>{var _;return((_=e(d))==null?void 0:_.searchAttributes)??{}})));ha(hr,{get searchAttributes(){return e(b)}})}s(_t);var jt=o(_t,2),Mt=l(jt);{let b=u(()=>(r(e(d)),a(()=>{var _,i,g,n;return(n=(g=(i=(_=e(d))==null?void 0:_.schedule)==null?void 0:i.action)==null?void 0:g.startWorkflow)==null?void 0:n.input})));va(Mt,{get input(){return e(b)}})}var xr=o(Mt,2);{let b=u(()=>(r(e(d)),a(()=>{var i,g,n,f,I,N;return[...((n=(g=(i=e(d))==null?void 0:i.schedule)==null?void 0:g.spec)==null?void 0:n.structuredCalendar)??[],...((N=(I=(f=e(d))==null?void 0:f.schedule)==null?void 0:I.spec)==null?void 0:N.interval)??[]]}))),_=u(()=>(r(e(d)),a(()=>{var i,g,n;return(n=(g=(i=e(d))==null?void 0:i.schedule)==null?void 0:g.spec)==null?void 0:n.timezoneName})));ua(xr,{get frequency(){return e(b)},get timezoneName(){return e(_)}})}s(jt),s(At),s(mt);var Wt=o(mt,2);{let b=u(()=>(r(e(d)),r(t),a(()=>{var g;return(g=e(d))!=null&&g.schedule.state.paused?t("schedules.unpause"):t("schedules.pause")}))),_=u(()=>(r(t),a(()=>t("common.cancel")))),i=u(()=>!e(q));it(Wt,{id:"pause-schedule-modal",confirmType:"primary",get confirmText(){return e(b)},get cancelText(){return e(_)},get confirmDisabled(){return e(i)},get open(){return e(D)},set open(g){p(D,g)},$$events:{confirmModal:()=>Ye(e(d)),cancelModal:he},$$slots:{title:(g,n)=>{var f=Aa(),I=l(f,!0);s(f),T(N=>c(I,N),[()=>(r(e(d)),r(t),a(()=>{var N;return(N=e(d))!=null&&N.schedule.state.paused?t("schedules.unpause-modal-title"):t("schedules.pause-modal-title")}))]),v(g,f)},content:(g,n)=>{var f=Ca(),I=l(f),N=l(I,!0);s(I);var pe=o(I,2),le=l(pe,!0);s(pe);var ge=o(pe,2);{let C=u(()=>(r(t),a(()=>t("common.reason")))),se=u(()=>(r(t),a(()=>t("common.reason"))));qr(ge,{id:"pause-reason",get placeholder(){return e(C)},get label(){return e(se)},labelHidden:!0,get value(){return e(q)},set value(et){p(q,et)},$$legacy:!0})}s(f),T((C,se)=>{c(N,C),c(le,se)},[()=>(r(e(d)),r(t),a(()=>{var C;return(C=e(d))!=null&&C.schedule.state.paused?t("schedules.unpause-modal-confirmation",{schedule:O}):t("schedules.pause-modal-confirmation",{schedule:O})})),()=>(r(e(d)),r(t),a(()=>{var C;return(C=e(d))!=null&&C.schedule.state.paused?t("schedules.unpause-reason"):t("schedules.pause-reason")}))]),v(g,f)}},$$legacy:!0})}var Ut=o(Wt,2);{let b=u(()=>(r(t),a(()=>t("schedules.trigger")))),_=u(()=>(r(t),a(()=>t("common.cancel"))));it(Ut,{id:"trigger-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(b)},get cancelText(){return e(_)},get loading(){return e(z)},get open(){return e(y)},set open(i){p(y,i)},$$events:{confirmModal:()=>We(),cancelModal:Me},$$slots:{title:(i,g)=>{var n=Da(),f=l(n,!0);s(n),T(I=>c(f,I),[()=>(r(t),a(()=>t("schedules.trigger-modal-title")))]),v(i,n)},content:(i,g)=>{var n=Ia(),f=l(n);Jt(f,{get group(){return K},name:"trigger-event-id",class:"h-auto overflow-auto",children:(I,N)=>{var pe=je(),le=G(pe);st(le,1,()=>fe,ct,(ge,C)=>{Xt(ge,{get id(){return e(C),a(()=>e(C).value)},get value(){return e(C),a(()=>e(C).value)},get label(){return e(C),a(()=>e(C).label)},get description(){return e(C),a(()=>e(C).description)}})}),v(I,pe)},$$slots:{default:!0}}),s(n),v(i,n)}},$$legacy:!0})}var Rt=o(Ut,2);{let b=u(()=>(r(t),a(()=>t("schedules.schedule")))),_=u(()=>(r(t),a(()=>t("common.cancel"))));it(Rt,{id:"backfill-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(b)},get cancelText(){return e(_)},get loading(){return e(z)},get open(){return e(V)},set open(i){p(V,i)},$$events:{confirmModal:()=>de(),cancelModal:oe},$$slots:{title:(i,g)=>{var n=ja(),f=l(n);s(n),T((I,N)=>c(f,`${I??""}
        ${N??""}`),[()=>(r(t),a(()=>t("schedules.schedule"))),()=>(r(t),a(()=>t("schedules.backfill")))]),v(i,n)},content:(i,g)=>{var n=Ma(),f=l(n),I=l(f);{let F=u(()=>(r(t),a(()=>t("common.start")))),Ve=u(()=>(r(t),a(()=>t("common.today")))),Oe=u(()=>(r(t),a(()=>t("common.close")))),De=u(()=>(r(t),a(()=>t("common.clear-input-button-label"))));Kt(I,{get label(){return e(F)},get selected(){return e(Be)},get todayLabel(){return e(Ve)},get closeLabel(){return e(Oe)},get clearLabel(){return e(De)},$$events:{datechange:vt}})}var N=o(I,2);Vt(N,{twelveHourClock:!1,get hour(){return e(Se)},set hour(F){p(Se,F)},get minute(){return e(Ue)},set minute(F){p(Ue,F)},get second(){return e(He)},set second(F){p(He,F)},$$legacy:!0});var pe=o(N,2);{let F=u(()=>(r(t),a(()=>t("common.end")))),Ve=u(()=>(r(t),a(()=>t("common.today")))),Oe=u(()=>(r(t),a(()=>t("common.close")))),De=u(()=>(r(t),a(()=>t("common.clear-input-button-label"))));Kt(pe,{get label(){return e(F)},get selected(){return e(Pe)},get todayLabel(){return e(Ve)},get closeLabel(){return e(Oe)},get clearLabel(){return e(De)},$$events:{datechange:P}})}var le=o(pe,2);Vt(le,{twelveHourClock:!1,get hour(){return e(Ae)},set hour(F){p(Ae,F)},get minute(){return e(Ee)},set minute(F){p(Ee,F)},get second(){return e(Ne)},set second(F){p(Ne,F)},$$legacy:!0});var ge=o(le,2),C=l(ge);cr(C,{name:"clock","aria-hidden":"true"});var se=o(C,2),et=l(se);s(se),s(ge),s(f);var Lt=o(f,4),Ot=l(Lt);Jt(Ot,{get group(){return K},name:"backfill-event-id",class:"h-auto overflow-auto",children:(F,Ve)=>{var Oe=je(),De=G(Oe);st(De,1,()=>(e(Te),a(()=>fe.slice(0,e(Te)?fe.length:3))),ct,($t,Ie)=>{Xt($t,{get id(){return e(Ie),a(()=>e(Ie).value)},get value(){return e(Ie),a(()=>e(Ie).value)},get label(){return e(Ie),a(()=>e(Ie).label)},get description(){return e(Ie),a(()=>e(Ie).description)}})}),v(F,Oe)},$$slots:{default:!0}});var br=o(Ot,2);{var kr=F=>{wt(F,{variant:"ghost",size:"xs",$$events:{click:()=>p(Te,!0)},children:(Ve,Oe)=>{ue();var De=ie();T($t=>c(De,$t),[()=>(r(t),a(()=>t("schedules.more-options")))]),v(Ve,De)},$$slots:{default:!0}})};_e(br,F=>{e(Te)||F(kr)})}s(Lt),s(n),T(F=>c(et,`${F??""} Universal Standard Time
              (UTC)`),[()=>(r(t),a(()=>t("common.based-on-time-preface")))]),v(i,n)}},$$legacy:!0})}var wr=o(Rt,2);{let b=u(()=>(r(t),a(()=>t("common.delete")))),_=u(()=>(r(t),a(()=>t("common.cancel"))));it(wr,{id:"delete-schedule-modal",confirmType:"destructive",get confirmText(){return e(b)},get cancelText(){return e(_)},get open(){return e(H)},set open(i){p(H,i)},get error(){return e(E)},set error(i){p(E,i)},$$events:{confirmModal:Fe,cancelModal:he},$$slots:{title:(i,g)=>{var n=Wa(),f=l(n,!0);s(n),T(I=>c(f,I),[()=>(r(t),a(()=>t("schedules.delete-modal-title")))]),v(i,n)},content:(i,g)=>{var n=Ua(),f=l(n),I=l(f,!0);s(f),s(n),T(N=>c(I,N),[()=>(r(t),a(()=>t("schedules.delete-modal-confirmation",{schedule:O})))]),v(i,n)}},$$legacy:!0})}T(b=>{c(bt,O),c(ur,(r(e(d)),a(()=>{var _,i,g,n,f;return(f=(n=(g=(i=(_=e(d))==null?void 0:_.schedule)==null?void 0:i.action)==null?void 0:g.startWorkflow)==null?void 0:n.workflowType)==null?void 0:f.name}))),c(St,`${b??""} `)},[()=>($(),a(()=>$().count.toLocaleString()))]),v(ce,Qe)};_e(xe,ce=>{x()?ce(ke):ce(Re,!1)})}v(L,ae)},(L,d)=>{var ae=La(),xe=G(ae),ke=l(xe),Re=l(ke);{let we=u(()=>(r(qe),a(()=>qe({namespace:k}))));at(Re,{get href(){return e(we)},icon:"chevron-left",children:(ye,bt)=>{ue();var Ke=ie();T(ot=>c(Ke,ot),[()=>(r(t),a(()=>t("schedules.back-to-schedules")))]),v(ye,Ke)},$$slots:{default:!0}})}var ce=o(Re,2),Qe=l(ce,!0);s(ce);var Ce=o(ce,2),Le=l(Ce,!0);s(Ce),s(ke),s(xe);var Ze=o(xe,2);{let we=u(()=>(r(e(d)),a(()=>{var ye;return(ye=e(d))==null?void 0:ye.message})));Zt(Ze,{get error(){return e(we)}})}T(()=>{c(Qe,O),c(Le,k)}),v(L,ae)}),v(M,ne),me(),U()}var qa=A("<!> <!>",1);function Us(M,m){ve(m,!1);const h=()=>Je(sr,"$page",w),[w,x]=ar(),S=h().params.schedule;$e();var $=qa(),j=G($);{let R=u(()=>`Schedule | ${S}`);Pr(j,{get title(){return e(R)},get url(){return h().url.href}})}var U=o(j,2);za(U,{}),v(M,$),me(),x()}export{Us as component};
