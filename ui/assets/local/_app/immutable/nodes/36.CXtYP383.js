import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as Te,b as Ee,g as e,o as P,l as O,a as Ge,f as Y,c as se,e as i,m as F,ao as fe,L as f,h as v,s as E,j as y,n as $e,k as ge,r as x,t as C,G as m,i as ze,bL as Le,ac as xr,u as _,d as Zt,a9 as Kt,al as Ht,aP as yr,q as jt}from"../chunks/CckrFwdx.js";import{i as He,s as et}from"../chunks/ebNgFJjp.js";import{a as ee,s as Se,c as he,m as br,p as M,l as ht}from"../chunks/BioCYJcK.js";import{p as Qe}from"../chunks/DTZPg3i9.js";import{P as Tr}from"../chunks/CuqmI6m2.js";import{t as r}from"../chunks/DEjs8ZrU.js";import{s as L,d as Er,e as lt}from"../chunks/_IQD3yTx.js";import{i as te}from"../chunks/CoMawi-e.js";import{a as Ne,s as ue,c as Pr,e as Ir}from"../chunks/CjYTZKiB.js";import{b as Ar}from"../chunks/DEajysbM.js";import{E as Wr,L as Ye,D as kt,g as Hr}from"../chunks/Dwpi9HBG.js";import{T as Sr,a as Pt}from"../chunks/BYcQvXlk.js";import{W as Cr}from"../chunks/C4aTTmTb.js";import{T as Fr}from"../chunks/D6vhWBUC.js";import{b as er,d as Dt,e as ct,f as xt,h as tt,a as jr,i as Be,c as qe,p as dt,j as zr,k as Gt,m as Ut,g as Lr}from"../chunks/BfJrpXSu.js";import{w as yt}from"../chunks/DiTAogHV.js";import{e as at,i as bt}from"../chunks/BTEtt5uP.js";import{w as ut,g as St,a as Rr,o as Or}from"../chunks/DsVF0eUi.js";import{C as gt}from"../chunks/Cda4A1lw.js";import{I as Je}from"../chunks/tBOn7xqW.js";import{M as Mr}from"../chunks/Ct-UZ1UT.js";import{c as Dr,d as Gr,b as mt}from"../chunks/CI9EeRGf.js";import{M as Ur}from"../chunks/DO4hy_L4.js";import{l as It,Y as Nt,I as Vt,o as Nr,F as Vr,Z as Br,_ as qr,$ as Yr,a0 as tr,a1 as Jr,a2 as Qr}from"../chunks/DbzCZMgt.js";import{t as Xr}from"../chunks/dB3MnDvK.js";import{i as Zr}from"../chunks/Bn8UIdHR.js";import{C as vt,b as Kr,T as rt,c as en,d as tn,t as rn,f as pt}from"../chunks/qg0syTax.js";import{k as zt}from"../chunks/DLKvYI2j.js";import{b as rr}from"../chunks/BteM-kHq.js";import{f as Re,a as Lt,r as nr,t as ar}from"../chunks/DBTYq7FH.js";import{i as Ct}from"../chunks/Dzb719w0.js";import{q as $t,n as or}from"../chunks/EZHNhN5g.js";import{W as nn}from"../chunks/DyKuQs6m.js";import{B as an}from"../chunks/BaE9Nbu8.js";import{a as on}from"../chunks/BAVlD7Ho.js";import{g as sr}from"../chunks/C_k4_xm9.js";import{f as sn,b as ln}from"../chunks/D2x965Ou.js";import{x as cn}from"../chunks/pdVWO2-j.js";import{c as dn,B as Me}from"../chunks/DlLJhG5Q.js";import{p as Bt}from"../chunks/DeU523_C.js";import{M as vn}from"../chunks/B8EWFmPL.js";import{a as ir}from"../chunks/Bp7uNEFS.js";import{b as un}from"../chunks/Cjp46PlA.js";import{T as fn}from"../chunks/DYFacKo_.js";import{A as Rt}from"../chunks/nB7adPhW.js";import{L as lr}from"../chunks/DZAa21Uq.js";import{s as gn}from"../chunks/ByTIZu23.js";import{A as cr}from"../chunks/CnNysJWF.js";import{C as wt}from"../chunks/AoLe9iY8.js";import{M as mn}from"../chunks/QmxvL8Pw.js";import{R as pn,a as At}from"../chunks/DoH-HmK8.js";import{c as _n,d as $n}from"../chunks/B28nfUul.js";import{g as wn,b as hn,a as kn}from"../chunks/CazZdd-H.js";import{s as Ft}from"../chunks/DSbgyoV1.js";import{i as xn}from"../chunks/BrKgnsNk.js";import{c as qt,a as Yt}from"../chunks/DGrczL48.js";import{I as Jt}from"../chunks/BluVdW4X.js";import{t as yn,a as bn}from"../chunks/sGIgGUKL.js";import{T as Tn,a as _t}from"../chunks/BOLUKGuO.js";import{T as En}from"../chunks/Bf95Vmcc.js";function Pn(T,t){Te(t,!1);const s=()=>ee(er,"$filteredEventHistory",o),b=()=>ee(Dt,"$decodeEventHistory",o),[o,n]=Se();He(),Cr(T,{get events(){return s()},decode:a=>{{let l=P(()=>r("events.decode-event-history"));Fr(a,{get label(){return e(l)},id:"decode-event-history","data-testid":"decode-event-history-toggle",get checked(){return br(),b()},set checked($){he(Dt,$)},$$legacy:!0})}},$$slots:{decode:!0}}),Ee(),n()}var In=Y("<!> <!> <!>",1),An=Y('<div class="border-t border-subtle px-4"><!></div>'),Wn=Y('<div data-testid="event-summary-table"><!></div>'),Hn=Y('<div class="flex items-center justify-end gap-4 pt-4 lg:pt-8"><div class="flex items-center gap-2 px-4"><!></div></div> <!>',1);function Sn(T,t){Te(t,!1);const s=()=>ee(yt,"$workflowRun",a),b=()=>ee(ct,"$eventFilterSort",a),o=()=>ee(xt,"$fullEventHistory",a),n=()=>ee(tt,"$eventViewType",a),u=()=>ee(Qe,"$page",a),[a,l]=Se(),$=F(),g=F(),A=F(),h=F(),c=F(),d=F(),p=F();var k=F(),w=F(),W=F(),j=F();let I=M(t,"history",8),H=M(t,"groups",8),R=M(t,"minimized",8,!0);const D=()=>{he(tt,"feed")},N=()=>{he(tt,"compact")},G=()=>{he(tt,"json")};O(()=>(e($),s()),()=>{(z=>{E($,z.workflow)})(s())}),O(()=>b(),()=>{E(g,b()==="descending")}),O(()=>o(),()=>{E(A,!o().length)}),O(()=>n(),()=>{E(h,n()==="compact")}),O(()=>(fe(w),fe(k),u(),fe(j),fe(W)),()=>{he(jr,!(E(w,E(k,u().url)===null||fe(k)===void 0?void 0:fe(k).searchParams)===null||fe(w)===void 0)&&fe(w).get("category")?E(j,E(W,u().url)===null||fe(W)===void 0?void 0:fe(W).searchParams)===null||fe(j)===void 0?void 0:fe(j).get("category").split(","):void 0)}),O(()=>e($),()=>{E(c,e($).pendingActivities)}),O(()=>e($),()=>{E(d,e($).pendingNexusOperations)}),O(()=>(e(h),f(H()),e(g),e(d),e(c),f(I())),()=>{E(p,e(h)?H():e(g)?[...e(d),...e(c),...I()]:[...I(),...e(c),...e(d)])}),Ge(),He();var oe=Hn(),Z=se(oe),ne=y(Z),S=y(ne);Sr(S,{children:(z,B)=>{var re=In(),Q=se(re);{let ie=P(()=>n()==="feed");Pt(Q,{get active(){return e(ie)},"data-testid":"feed",icon:"feed",class:"h-10",$$events:{click:D},children:(de,Ce)=>{$e();var Ae=ge("All");i(de,Ae)},$$slots:{default:!0}})}var q=v(Q,2);{let ie=P(()=>n()==="compact");Pt(q,{get active(){return e(ie)},"data-testid":"compact",icon:"compact",class:"h-10",$$events:{click:N},children:(de,Ce)=>{$e();var Ae=ge("Compact");i(de,Ae)},$$slots:{default:!0}})}var we=v(q,2);{let ie=P(()=>n()==="json");Pt(we,{get active(){return e(ie)},"data-testid":"json",icon:"json",class:"h-10",$$events:{click:G},children:(de,Ce)=>{$e();var Ae=ge("JSON");i(de,Ae)},$$slots:{default:!0}})}i(z,re)},$$slots:{default:!0}}),x(ne),x(Z);var ce=v(Z,2);{var ke=z=>{var B=An(),re=y(B);Pn(re,{}),x(B),i(z,B)},V=z=>{var B=Wn(),re=y(B);Wr(re,{get updating(){return e(A)},get items(){return e(p)},get groups(){return H()},get compact(){return e(h)},get minimized(){return R()}}),x(B),i(z,B)};te(ce,z=>{n()==="json"?z(ke):z(V,!1)})}i(T,oe),Ee(),l()}const dr=200,Cn=ut(0),Fn=ut(dr),nt=ut([]),ft=ut(0),Wt=()=>{nt.set([]),ft.set(0),Cn.set(0),Fn.set(dr)},jn=()=>{nt.set([]),ft.set(0)},vr=T=>{St(nt).includes(T.id)?(ft.set(0),nt.set([])):nt.set([T.id])},zn=T=>T==null?void 0:T.nexus;var Ln=Y("<div><!></div>"),Rn=Y('<span class="hidden text-sm md:block"> </span>'),On=Y("<!> <!> <!> <!> <!>",1),Mn=Y("<!> <!>",1);function Dn(T,t){Te(t,!1);const s=()=>ee(Xr,"$temporalVersion",a),b=()=>ee(Qe,"$page",a),o=()=>ee(Be,"$eventTypeFilter",a),n=()=>ee(qe,"$eventStatusFilter",a),u=()=>ee(tt,"$eventViewType",a),[a,l]=Se(),$=F(),g=F(),A=F();var h=F();let c=M(t,"compact",8,!1),d=M(t,"minimized",8,!0),p=ut(!1);const k=({value:w})=>{jn(),he(Be,o().some(W=>W===w)?o().filter(W=>W!==w):[...o(),w])};O(()=>(f(c()),It),()=>{E($,c()?Nt.map(w=>w.value):It.map(w=>w.value))}),O(()=>(f(c()),vt),()=>{E(g,[...(c()?Nt:It).map(w=>({...w,label:r(w.label),icon:vt[w.value],description:r(w.description)}))])}),O(()=>(s(),e(g)),()=>{Zr("1.21.0",s())&&E(g,e(g).filter(({value:w})=>w!=="update"))}),O(()=>(fe(h),b(),e(g)),()=>{zn(E(h,b().data.systemInfo)===null||fe(h)===void 0?void 0:fe(h).capabilities)||E(g,e(g).filter(({value:w})=>w!=="nexus"))}),O(()=>(o(),e($)),()=>{E(A,o().length<e($).length)}),Ge(),He(),Dr(T,{get open(){return p},children:(w,W)=>{var j=Mn(),I=se(j);Mr(I,{controls:"status-menu",size:"sm",leading:D=>{var N=Ln();let G;var oe=y(N);{let Z=P(()=>e(A)&&"pt-0.5 text-white");Je(oe,{name:"filter",get class(){return e(Z)}})}x(N),C(()=>G=Ne(N,1,"flex h-6 w-6 flex-col items-center justify-center rounded-full transition-colors duration-200",null,G,{"bg-interactive":e(A)})),i(D,N)},children:(D,N)=>{var G=Rn(),oe=y(G,!0);x(G),C(Z=>L(oe,Z),[()=>(f(r),m(()=>r("common.filter")))]),i(D,G)},$$slots:{leading:!0,default:!0}});var H=v(I,2);{let R=P(()=>d()?"top-right":"right");Gr(H,{id:"event-type-menu",keepOpen:!0,get position(){return e(R)},class:"w-[220px] md:w-[360px]",children:(D,N)=>{var G=On(),oe=se(G);{const V=B=>{{let re=P(()=>(n(),o(),e($),m(()=>!n()&&o().length===e($).length))),Q=P(()=>(f(r),m(()=>r("common.all"))));gt(B,{get checked(){return e(re)},get label(){return e(Q)},labelHidden:!0,class:"mt-px",$$events:{change:()=>{he(Be,e($)),he(qe,!1)}}})}};let z=P(()=>(f(r),m(()=>r("common.all"))));mt(oe,{get"data-testid"(){return e(z)},onclick:()=>{he(Be,e($)),he(qe,!1)},leading:V,children:(B,re)=>{$e();var Q=ge();C(q=>L(Q,q),[()=>(f(r),m(()=>r("common.all")))]),i(B,Q)},$$slots:{leading:!0,default:!0}})}var Z=v(oe,2);{var ne=V=>{{const z=Q=>{{let q=P(()=>(f(r),m(()=>r("common.all"))));gt(Q,{get checked(){return n()},get label(){return e(q)},labelHidden:!0,class:"mt-px",$$events:{change:()=>{he(Be,e($)),he(qe,!n())}}})}};let B=P(()=>(f(r),m(()=>r("common.pending-and-failed")))),re=P(()=>(f(r),m(()=>r("common.pending-and-failed-description"))));mt(V,{get"data-testid"(){return e(B)},get description(){return e(re)},onclick:()=>{he(Be,e($)),he(qe,!n())},class:"items-start",leading:z,children:(Q,q)=>{$e();var we=ge();C(ie=>L(we,ie),[()=>(f(r),m(()=>r("common.pending-and-failed")))]),i(Q,we)},$$slots:{leading:!0,default:!0}})}};te(Z,V=>{u()!=="json"&&V(ne)})}var S=v(Z,2);{const V=B=>{{let re=P(()=>(n(),o(),m(()=>!n()&&!o().length))),Q=P(()=>(f(r),m(()=>r("common.none"))));gt(B,{get checked(){return e(re)},get label(){return e(Q)},labelHidden:!0,class:"mt-px",$$events:{change:()=>{he(Be,[]),he(qe,!1)}}})}};let z=P(()=>(f(r),m(()=>r("common.none"))));mt(S,{get"data-testid"(){return e(z)},onclick:()=>{he(Be,[]),he(qe,!1)},leading:V,children:(B,re)=>{$e();var Q=ge();C(q=>L(Q,q),[()=>(f(r),m(()=>r("common.none")))]),i(B,Q)},$$slots:{leading:!0,default:!0}})}var ce=v(S,2);Ur(ce);var ke=v(ce,2);at(ke,1,()=>e(g),bt,(V,z)=>{mt(V,{get"data-testid"(){return e(z),m(()=>e(z).label)},get description(){return e(z),m(()=>e(z).description)},onclick:()=>{k(e(z))},class:"items-start",leading:re=>{{let Q=P(()=>(o(),e(z),m(()=>o().some(q=>q===e(z).value))));gt(re,{get checked(){return e(Q)},get label(){return e(z),m(()=>e(z).label)},labelHidden:!0,class:"mt-px",$$events:{click:()=>k(e(z))}})}},children:(re,Q)=>{$e();var q=ge();C(()=>L(q,(e(z),m(()=>e(z).label)))),i(re,q)},$$slots:{leading:!0,default:!0}})}),i(D,G)},$$slots:{default:!0}})}i(w,j)},$$slots:{default:!0}}),Ee(),l()}function Gn(T,t){Te(t,!1);const s=()=>ee(dt,"$pauseLiveUpdates",b),[b,o]=Se(),n=F(),u=F();let a=M(t,"workflow",8),l=M(t,"startTime",8);const $=()=>{const p=new Date;return p.setSeconds(p.getSeconds()+1),p};let g;const A=p=>{p&&(clearInterval(g),g=null)},h=p=>{p?(clearInterval(g),g=null):!g&&a().isRunning&&(g=setInterval(()=>{E(n,$())},1e3))};Rr(()=>{clearInterval(g),g=null,he(dt,!1)}),O(()=>f(a()),()=>{E(n,(a()===null||a()===void 0?void 0:a().endTime)||$())}),O(()=>(f(l()),e(n)),()=>{E(u,$t({start:l(),end:e(n),onlyUnderSecond:!1}))}),O(()=>f(a()),()=>{A(a().endTime)}),O(()=>s(),()=>{h(s())}),Ge(),He();var c=ze(),d=se(c);et(d,t,"default",{get endTime(){return e(n)},get duration(){return e(u)}},null),i(T,c),Ee(),o()}var Un=Y("<div><!></div>");function Nn(T,t){const s=ht(t,["children","$$slots","$$events","$$legacy"]),b=ht(s,["namespace","workflowId","runId","viewportHeight","onLoad"]);Te(t,!1);let o=M(t,"namespace",8),n=M(t,"workflowId",8),u=M(t,"runId",8,""),a=M(t,"viewportHeight",8,360),l=M(t,"onLoad",8,()=>{});const $=async()=>{const[c,d]=await Promise.all([cn({namespace:o(),workflowId:n(),runId:u()}),sn({namespace:o(),workflowId:n(),runId:u()})]);return{workflow:c.workflow,history:d}},g=(c,d)=>{var p;l()();const k=(p=c==null?void 0:c.pendingActivities)!==null&&p!==void 0?p:[];return sr(d,"ascending",k)};He();var A=ze(),h=se(A);on(h,()=>m($),null,(c,d)=>{var p=P(()=>{var{workflow:I,history:H}=e(d);return{workflow:I,history:H}}),k=P(()=>e(p).workflow),w=P(()=>e(p).history),W=Un(),j=y(W);{let I=P(()=>(f(e(k)),f(e(w)),m(()=>g(e(k),e(w)))));ur(j,{get viewportHeight(){return a()},get workflow(){return e(k)},get groups(){return e(I)},readOnly:!0})}x(W),C(()=>Ne(W,1,`cursor-pointer overflow-auto ${f(b),m(()=>b.class)??""}`)),i(c,W)}),i(T,A),Ee()}var Vn=Y('<div class="flex items-center gap-1"><!> </div>'),Bn=Y(" <!>",1),qn=Y('<div class="surface-primary p-4"><div class="font-medium leading-4 text-secondary">Child Workflow</div> <!></div>'),Yn=Le('<g role="button" tabindex="0" class="relative z-50 svelte-1qsv8v3"><foreignObject><div class="flex flex-col"><div class="relative flex h-full items-center justify-between bg-slate-50 text-sm dark:bg-slate-800"><div class="flex h-full items-center gap-4 px-2"><!> <!></div> <div class="flex items-center gap-4"><!></div></div> <div class="surface-primary"><!></div> <!></div></foreignObject></g>');function Jn(T,t){Te(t,!1);const s=()=>ee(Qe,"$page",b),[b,o]=Se(),n=F(),u=F(),a=F(),l=F(),$=F(),g=F(),A=F();var h=F(),c=F();let d=M(t,"group",8),p=M(t,"canvasWidth",8),k=M(t,"x",8,0),w=M(t,"y",8),W=F();const j=q=>{he(ft,q)},I=async()=>{await xr(),E(n,e(W))};O(()=>e(W),()=>{E(n,e(W)||0)}),O(()=>e(n),()=>{j(e(n)||0)}),O(()=>f(d()),()=>{E(u,(d()===null||d()===void 0?void 0:d().finalClassification)||(d()===null||d()===void 0?void 0:d().classification))}),O(()=>(e(a),s()),()=>{(q=>{E(a,q.namespace)})(s().params)}),O(()=>f(p()),()=>{E(l,p())}),O(()=>f(d()),()=>{E($,d().displayName)}),O(()=>(f(d()),Vt),()=>{E(g,d()&&d().eventList.find(Vt))}),O(()=>(fe(h),f(d()),fe(c)),()=>{E(A,or({start:E(h,d()===null||d()===void 0?void 0:d().initialEvent)===null||fe(h)===void 0?void 0:fe(h).eventTime,end:E(c,d()===null||d()===void 0?void 0:d().lastEvent)===null||fe(c)===void 0?void 0:fe(c).eventTime,includeMilliseconds:!0}))}),O(()=>(f(d()),r),()=>{!(d()===null||d()===void 0)&&d().pendingActivity&&(d().pendingActivity.paused?E(u,r("workflows.paused")):d().pendingActivity.attempt>1?E(u,r("events.event-classification.retrying")):E(u,r("events.event-classification.pending")))}),Ge(),He();var H=Yn(),R=y(H),D=y(R),N=y(D),G=y(N),oe=y(G);{var Z=q=>{nn(q,{get status(){return e(u)}})};te(oe,q=>{e(u)&&q(Z)})}var ne=v(oe),S=v(ne);{var ce=q=>{var we=Vn(),ie=y(we);Je(ie,{name:"clock"});var de=v(ie);x(we),C(()=>L(de,` ${e(A)??""}`)),i(q,we)};te(S,q=>{e(A)&&q(ce)})}x(G);var ke=v(G,2),V=y(ke);an(V,{variant:"ghost",size:"xs",$$events:{click:()=>vr(d())},children:(q,we)=>{$e();var ie=Bn(),de=se(ie),Ce=v(de);Je(Ce,{name:"close"}),C(Ae=>L(de,`${Ae??""} `),[()=>(f(r),m(()=>r("common.close")))]),i(q,ie)},$$slots:{default:!0}}),x(ke),x(N);var z=v(N,2),B=y(z);Kr(B,{get group(){return d()},get event(){return f(d()),m(()=>d().initialEvent)}}),x(z);var re=v(z,2);{var Q=q=>{var we=qn(),ie=v(y(we),2);zt(ie,()=>(f(d()),m(()=>d().eventList.length)),de=>{Nn(de,{get namespace(){return e(a)},get workflowId(){return e(g),m(()=>e(g).attributes.workflowExecution.workflowId)},get runId(){return e(g),m(()=>e(g).attributes.workflowExecution.runId)},viewportHeight:320,class:"surface-primary overflow-x-hidden border-t border-subtle",onLoad:I})}),x(we),i(q,we)};te(re,q=>{e(g)&&q(Q)})}x(D),x(R),x(H),C(()=>{ue(R,"x",k()),ue(R,"y",w()),ue(R,"width",e(l)),ue(R,"height",e(n)),L(ne,` ${e($)??""} `)}),rr(D,"offsetHeight",q=>E(W,q)),i(T,H),Ee(),o()}var Qn=Le('<text fill="#fff" font-size="12" class="svelte-7nuc95"> </text>'),Xn=Le("<!><!>",1),Zn=Le("<!><!>",1);function Kn(T,t){Te(t,!0);let s=M(t,"x1",3,0),b=M(t,"x2",3,1e3),o=M(t,"timelineHeight",3,1e3);const{radius:n}=rt,u=20,a=_(()=>b()-s()),l=_(()=>e(a)/u);var $=Zn(),g=se($);{let h=_(()=>n/2),c=_(()=>[s(),o()]),d=_(()=>[s()+e(a),o()]);Ye(g,{get strokeWidth(){return e(h)},get startPoint(){return e(c)},get endPoint(){return e(d)}})}var A=v(g);at(A,17,()=>Array(u),bt,(h,c,d)=>{const p=_(()=>s()+d*e(l)),k=_(()=>o()+n*2);var w=Xn(),W=se(w);{var j=R=>{{let D=_(()=>[e(p),0]),N=_(()=>[e(p),o()]);Ye(R,{strokeWidth:.5,get startPoint(){return e(D)},get endPoint(){return e(N)},strokeDasharray:"2"})}};te(W,R=>{d!==0&&R(j)})}var I=v(W);{var H=R=>{var D=Qn(),N=y(D,!0);x(D),C(G=>{ue(D,"transform",`rotate(90, ${e(p)??""}, ${e(k)??""})`),ue(D,"x",e(p)-n),ue(D,"y",e(k)+3),L(N,G)},[()=>or({start:t.startTime,end:new Date(new Date(t.startTime.toString()).getTime()+t.duration/u*d),includeMilliseconds:t.duration/u<1e3})]),i(R,D)};te(I,R=>{d!==0&&R(H)})}i(h,w)}),i(T,$),Ee()}var ea=Le("<text><!></text>"),ta=Le("<!><!><!>",1);function ra(T,t){Te(t,!0);var s;let b=M(t,"point",19,()=>[0,0]),o=M(t,"category",3,void 0),n=M(t,"status",3,"none"),u=M(t,"fontSize",3,"13px"),a=M(t,"fontWeight",3,"400"),l=M(t,"textAnchor",3,"start"),$=M(t,"backdrop",3,!1),g=M(t,"backdropHeight",3,0),A=M(t,"icon",3,void 0),h=M(t,"config",3,void 0),c=M(t,"label",3,!1);const d=_(()=>yr(b(),2)),p=_(()=>e(d)[0]),k=_(()=>e(d)[1]);let w=Ht(void 0);const W=_(()=>A()&&h()),j=_(()=>((s=e(w)===null||e(w)===void 0?void 0:e(w).getBBox())===null||s===void 0?void 0:s.width)||0),I=_(()=>e(W)?e(j)+36:e(j)+12),H=_(()=>e(W)&&l()==="start"?e(p)+h().radius*2:e(p));var R=ta(),D=se(R);{var N=ne=>{{let S=_(()=>[e(p)-g(),e(k)]),ce=_(()=>[e(p)+e(I),e(k)]);Ye(ne,{get startPoint(){return e(S)},get endPoint(){return e(ce)},get status(){return n()},get strokeWidth(){return g()}})}};te(D,ne=>{$()&&ne(N)})}var G=v(D);{var oe=ne=>{{let S=_(()=>l()==="end"?e(p)-e(j)-g():e(p)),ce=_(()=>e(k)-8),ke=_(()=>$()?"text-white":"text-primary");Je(ne,{get name(){return A()},get x(){return e(S)},get y(){return e(ce)},get class(){return e(ke)}})}};te(G,ne=>{e(W)&&ne(oe)})}var Z=v(G);zt(Z,()=>e(H),ne=>{var S=ea();let ce;var ke=y(S);Zt(ke,()=>t.children??Kt),x(S),un(S,V=>E(w,V),()=>e(w)),C(()=>{ce=Ne(S,0,`cursor-pointer select-none outline-none ${o()??""} text-primary`,"svelte-gowbbf",ce,{label:c(),backdrop:$()}),ue(S,"x",e(H)),ue(S,"y",e(k)+1),ue(S,"font-size",u()),ue(S,"font-weight",a()),ue(S,"text-anchor",l())}),i(ne,S)}),i(T,R),Ee()}var na=Le("<foreignObject><div></div></foreignObject>"),aa=Le('<rect fill="transparent" pointer-events="all"></rect>'),oa=Le("<!><!>",1),sa=Le("<!><!><!><!>",1),ia=Le('<!><g role="button" tabindex="0" class="relative cursor-pointer svelte-1vsmkab"><!><!></g>',1);function la(T,t){Te(t,!0);const s=()=>ee(ir,"$authUser",b),[b,o]=Se();var n,u;let a=M(t,"y",3,0),l=M(t,"group",7),$=M(t,"readOnly",3,!1);const{height:g,gutter:A,radius:h}=rt;let c=Ht(!1);const d=_(()=>t.canvasWidth-2*A),p=_(()=>l()===null||l()===void 0?void 0:l().pendingActivity),k=_(()=>e(p)&&((n=e(p).pauseInfo)===null||n===void 0?void 0:n.pauseTime));let w=Ht(void 0);Or(async()=>{const Ie=en(l());if(Ie)try{E(w,await tn(Ie,{namespace:Bt.params.namespace,settings:Bt.data.settings,accessToken:s().accessToken}),!0),e(w)&&(l().decodedLocalActivity=e(w))}catch(X){console.warn("Failed to decode local activity:",X)}});const W=(Ie,X,_e)=>{const me=$t({start:t.startTime,end:Ie,onlyUnderSecond:!1}),J=l().eventList.map(xe=>{const ve=$t({start:t.startTime,end:xe.eventTime,onlyUnderSecond:!1})/me;return Math.round(ve*X)+A});if(e(k)){const U=$t({start:t.startTime,end:e(k),onlyUnderSecond:!1})/me,ve=Math.round(U*X)+A;J.push(ve)}const{textAnchor:ae,textIndex:le,textPosition:pe,backdrop:K}=rn(J,_e,X,l().isPending,rt);return{points:J,textAnchor:ae,textIndex:le,textPosition:pe,backdrop:K}},j=_(()=>W(t.endTime,e(d),a())),I=_(()=>e(j).points),H=_(()=>e(j).textAnchor),R=_(()=>e(j).textIndex),D=_(()=>e(j).textPosition),N=_(()=>e(j).backdrop),G=()=>{$()||vr(l())},oe=()=>{$()||E(c,!0)},Z=()=>{$()||E(c,!1)},ne=_(()=>l().eventList.find(Vr)),S=_(()=>e(ne)&&((u=e(ne).attributes)===null||u===void 0?void 0:u.attempt)>1),ce=_(()=>l().isPending||!!e(k)),ke=_(()=>e(I).length>=2&&e(I)[e(I).length-1]-e(I)[0]+h*3),V=_(()=>l().isPending&&t.canvasWidth-e(I)[0]-h*1.5),z=_(()=>h*3),B=_(()=>e(V)||e(ke)||e(z)),re=dn(["h-full w-full rounded-full border-2"],{variants:{category:{workflow:"border-blue-700 bg-blue-800/80 ",activity:"border-purple-700 bg-purple-800/80 ","child-workflow":"border-cyan-600  bg-cyan-600/80 ",timer:"border-yellow-700 bg-yellow-800/80",signal:"border-pink-700 bg-pink-800/80",update:"border-blue-700 bg-blue-800/80",other:"border-slate-700 bg-slate-800/80",nexus:"border-indigo-700 bg-indigo-800/80","local-activity":"border-slate-700 bg-slate-800/80",default:"border-purple-700 bg-purple-900/80"}}});var Q=ia(),q=se(Q);{var we=Ie=>{var X=na(),_e=y(X);x(X),C(me=>{ue(X,"x",e(I)[0]-h*1.5),ue(X,"y",a()-h*1.5),ue(X,"width",e(B)),ue(X,"height",h*3),Ne(_e,1,me)},[()=>Pr(re({category:l()?l().category:"default"}))]),i(Ie,X)};te(q,Ie=>{e(c)&&Ie(we)})}var ie=v(q);ie.__click=G;var de=y(ie);{var Ce=Ie=>{const X=_(()=>e(k)?e(I)[1]-e(I)[0]:t.canvasWidth-2*A);var _e=aa();C(()=>{ue(_e,"y",a()-g/2),ue(_e,"x",e(I)[0]),ue(_e,"width",e(X)),ue(_e,"height",g)}),i(Ie,_e)};te(de,Ie=>{e(ce)&&Ie(Ce)})}var Ae=v(de);at(Ae,17,()=>e(I),bt,(Ie,X,_e)=>{const me=_(()=>e(I)[_e+1]),J=_(()=>e(R)===_e);var ae=sa(),le=se(ae);{var pe=ye=>{{let be=_(()=>[e(X),a()]),Fe=_(()=>[e(me),a()]),je=_(()=>!!e(k)),We=_(()=>!!e(k)),De=_(()=>h*2),Ue=_(()=>_e===0&&l().lastEvent.classification==="Completed");Ye(ye,{get startPoint(){return e(be)},get endPoint(){return e(Fe)},get category(){return l().category},get classification(){return l().lastEvent.classification},get pending(){return e(je)},get paused(){return e(We)},get strokeWidth(){return e(De)},get retried(){return e(S)},get scheduling(){return e(Ue)}})}};te(le,ye=>{e(me)&&ye(pe)})}var K=v(le);{var xe=ye=>{var be=oa(),Fe=se(be);{let We=_(()=>[e(X),a()]),De=_(()=>[t.canvasWidth-A,a()]),Ue=_(()=>e(p)?e(p).attempt>1?"retry":"pending":l().category),Oe=_(()=>!!e(k)),Ve=_(()=>h*2);Ye(Fe,{get startPoint(){return e(We)},get endPoint(){return e(De)},get category(){return e(Ue)},get classification(){return l().lastEvent.classification},pending:!0,get paused(){return e(Oe)},get strokeWidth(){return e(Ve)}})}var je=v(Fe);{let We=_(()=>[e(X),a()]);kt(je,{get point(){return e(We)},get classification(){return l().lastEvent.classification},icon:"retry",get r(){return h}})}i(ye,be)};te(K,ye=>{!e(me)&&l().isPending&&!e(k)&&ye(xe)})}var U=v(K);{var ve=ye=>{{let be=_(()=>{var We,De;return(De=(We=l())==null?void 0:We.userMetadata)==null?void 0:De.summary}),Fe=_(()=>{var We;return Nr(l().initialEvent)?(We=l())==null?void 0:We.displayName:""}),je=_(()=>{var We;return e(w)?r("events.category.local-activity"):(We=l())==null?void 0:We.displayName});vn(ye,{get value(){return e(be)},get prefix(){return e(Fe)},get fallback(){return e(je)},children:jt,$$slots:{default:(We,De)=>{const Ue=_(()=>De.decodedValue);{let Oe=_(()=>h*2),Ve=_(()=>e(p)&&!e(p).paused||e(S)?"retry":void 0);ra(We,{get point(){return e(D)},get textAnchor(){return e(H)},get backdrop(){return e(N)},get backdropHeight(){return e(Oe)},get config(){return rt},get icon(){return e(Ve)},children:(Tt,Ot)=>{var Mt=ze(),gr=se(Mt);{var mr=Xe=>{var ot=ge();C(Et=>L(ot,`${Et??""}
            ${e(p).attempt??""} / ${(e(p).maximumAttempts||"∞")??""}
            • 
            ${e(Ue)??""}`),[()=>r("workflows.attempt")]),i(Xe,ot)},pr=Xe=>{var ot=ze(),Et=se(ot);{var _r=Ze=>{var st=ge();C(()=>L(st,`${e(ne).attributes.attempt??""} • ${e(Ue)??""}`)),i(Ze,st)},$r=Ze=>{var st=ze(),wr=se(st);{var hr=Ke=>{var it=ge();C(()=>L(it,e(w).value)),i(Ke,it)},kr=Ke=>{var it=ge();C(()=>L(it,e(Ue))),i(Ke,it)};te(wr,Ke=>{e(w)?Ke(hr):Ke(kr,!1)},!0)}i(Ze,st)};te(Et,Ze=>{e(S)?Ze(_r):Ze($r,!1)},!0)}i(Xe,ot)};te(gr,Xe=>{e(p)?Xe(mr):Xe(pr,!1)})}i(Tt,Mt)},$$slots:{default:!0}})}}}})}};te(U,ye=>{e(J)&&ye(ve)})}var Pe=v(U);{let ye=_(()=>[e(X),a()]),be=_(()=>{var je;return(je=l().eventList[_e])==null?void 0:je.classification}),Fe=_(()=>e(k)&&_e!==0?"pause":e(w)?vt["local-activity"]:vt[l().category]);kt(Pe,{get point(){return e(ye)},get classification(){return e(be)},get icon(){return e(Fe)},get r(){return h}})}i(Ie,ae)}),x(ie),C(()=>ue(ie,"height",g)),lt("keypress",ie,G),lt("mouseenter",ie,oe),lt("mouseleave",ie,Z),i(T,Q),Ee(),o()}Er(["click"]);var ca=Le('<g role="button" tabindex="0" class="relative cursor-pointer svelte-1hb0j3w"><!><!><!><!><!></g>');function da(T,t){Te(t,!1);const s=F(),b=F();let o=M(t,"workflow",8),n=M(t,"length",8),u=M(t,"y",8);const{radius:a,height:l,gutter:$}=rt;O(()=>{},()=>{E(s,$)}),O(()=>(e(s),f(n())),()=>{E(b,e(s)+n()-2*$)}),Ge(),He();var g=ca(),A=y(g);{let k=P(()=>[e(s),u()]),w=P(()=>[e(b),u()]),W=P(()=>a*2),j=P(()=>(f(Ct),f(o()),m(()=>Ct(o()))));Ye(A,{get startPoint(){return e(k)},get endPoint(){return e(w)},get classification(){return f(o()),m(()=>o().status)},get strokeWidth(){return e(W)},get pending(){return f(o()),m(()=>o().isRunning)},get delayed(){return e(j)}})}var h=v(A);{let k=P(()=>[e(s),u()]);kt(h,{get point(){return e(k)},get classification(){return f(o()),m(()=>o().status)},get r(){return a}})}var c=v(h);{let k=P(()=>e(s)-a/2),w=P(()=>u()-a/2);Je(c,{name:"workflow",get x(){return e(k)},get y(){return e(w)},get width(){return a},get height(){return a},strokeWidth:"4",class:"text-black"})}var d=v(c);{let k=P(()=>[e(b),u()]);kt(d,{get point(){return e(k)},get classification(){return f(o()),m(()=>o().status)},get r(){return a}})}var p=v(d);{let k=P(()=>e(b)-a/2),w=P(()=>u()-a/2);Je(p,{name:"workflow",get x(){return e(k)},get y(){return e(w)},get width(){return a},get height(){return a},strokeWidth:"4",class:"text-black"})}x(g),C(()=>ue(g,"height",l)),i(T,g),Ee()}var va=Le("<!><!>",1),ua=Y('<div><div class="flex w-full justify-between text-xs"><p class="w-60 -translate-x-24 rotate-90"> </p> <p class="w-60 translate-x-24 rotate-90"> </p></div></div> <svg><!><!><!><!><!></svg>',1),fa=Y('<div id="event-history-timeline-graph" class="relative h-auto overflow-auto border border-t-0 border-subtle bg-primary"><!></div>');function ur(T,t){Te(t,!1);const s=()=>ee(ft,"$activeGroupHeight",l),b=()=>ee(qe,"$eventStatusFilter",l),o=()=>ee(xt,"$fullEventHistory",l),n=()=>ee(nt,"$activeGroups",l),u=()=>ee(ct,"$eventFilterSort",l),a=()=>ee(Lt,"$timeFormat",l),[l,$]=Se(),g=F(),A=F(),h=F(),c=F(),d=F(),p=F(),k=F();var w=F(),W=F();let j=M(t,"x",8,0),I=M(t,"y",8,0),H=M(t,"workflow",8),R=M(t,"groups",8),D=M(t,"viewportHeight",8),N=M(t,"readOnly",8,!1),G=M(t,"error",8,!1);const{height:oe,gutter:Z,radius:ne}=rt;let S=F(0),ce=F(0);const ke=B=>{var re;E(ce,(re=B==null?void 0:B.target)===null||re===void 0?void 0:re.scrollTop)};O(()=>(f(N()),s()),()=>{E(g,N()?0:s())}),O(()=>(f(R()),b()),()=>{E(A,Hr(R(),b()))}),O(()=>(fe(w),o(),f(H()),fe(W)),()=>{E(h,(E(w,o()[0])===null||fe(w)===void 0?void 0:fe(w).eventTime)<H().executionTime?E(W,o()[0])===null||fe(W)===void 0?void 0:fe(W).eventTime:H().executionTime)}),O(()=>(f(H()),e(h)),()=>{E(c,!Ct(H())&&e(h)||H().startTime)}),O(()=>(e(A),e(g)),()=>{E(d,Math.max(oe*(e(A).length+2),120)+e(g))}),O(()=>e(d),()=>{E(p,e(d)+120)}),O(()=>(n(),u(),e(g)),()=>{E(k,B=>{const re=n()===null||n()===void 0?void 0:n().filter(Q=>u()==="ascending"?parseInt(Q)<parseInt(B.id):parseInt(Q)>parseInt(B.id));return re!=null&&re.length?e(g):0})}),Ge(),He();var V=fa(),z=y(V);Gn(z,{get workflow(){return H()},get startTime(){return e(c)},children:jt,$$slots:{default:(B,re)=>{const Q=P(()=>re.endTime),q=P(()=>re.duration);var we=ua(),ie=se(we);let de;var Ce=y(ie),Ae=y(Ce),Ie=y(Ae,!0);x(Ae);var X=v(Ae,2),_e=y(X,!0);x(X),x(Ce),x(ie);var me=v(ie,2);let J;var ae=y(me);{let U=P(()=>[Z,0]),ve=P(()=>[Z,e(d)]),Pe=P(()=>ne/2);Ye(ae,{get startPoint(){return e(U)},get endPoint(){return e(ve)},get strokeWidth(){return e(Pe)}})}var le=v(ae);{let U=P(()=>[e(S)-Z,0]),ve=P(()=>[e(S)-Z,e(d)]),Pe=P(()=>ne/2);Ye(le,{get startPoint(){return e(U)},get endPoint(){return e(ve)},get strokeWidth(){return e(Pe)}})}var pe=v(le);{let U=P(()=>Z-ne/4),ve=P(()=>e(S)-Z+ne/4);Kn(pe,{get x1(){return e(U)},get x2(){return e(ve)},get timelineHeight(){return e(d)},get startTime(){return e(c)},get duration(){return e(q)}})}var K=v(pe);da(K,{get workflow(){return H()},get y(){return oe},get length(){return e(S)}});var xe=v(K);at(xe,3,()=>e(A),U=>U.id,(U,ve,Pe,ye)=>{const be=P(()=>(f(e(Pe)),e(k),e(ve),m(()=>(e(Pe)+2)*oe+e(k)(e(ve)))));var Fe=va(),je=se(Fe);{var We=Oe=>{var Ve=ze(),Tt=se(Ve);zt(Tt,()=>(e(ve),m(()=>e(ve).eventList.length)),Ot=>{la(Ot,{get y(){return e(be)},get group(){return e(ve)},get canvasWidth(){return e(S)},get startTime(){return e(c)},get endTime(){return e(Q)},get readOnly(){return N()}})}),i(Oe,Ve)};te(je,Oe=>{(!D()||e(be)>e(ce)-2*oe&&e(be)<e(ce)+D()*oe)&&Oe(We)})}var De=v(je);{var Ue=Oe=>{{let Ve=P(()=>e(be)+1.33*ne);Jn(Oe,{get y(){return e(Ve)},get group(){return e(ve)},get canvasWidth(){return e(S)}})}};te(De,Oe=>{f(N()),n(),e(ve),m(()=>!N()&&n().includes(e(ve).id))&&Oe(Ue)})}i(U,Fe)}),x(me),C((U,ve)=>{de=Ne(ie,1,"pointer-events-none sticky top-[120px]",null,de,{invisible:!!n().length}),L(Ie,U),L(_e,ve),ue(me,"x",j()),ue(me,"y",I()),ue(me,"viewBox",`0 0 ${e(S)??""} ${e(p)??""}`),ue(me,"height",e(p)),ue(me,"width",e(S)),J=Ne(me,0,"-mt-4 svelte-1fw3am",null,J,{error:G()})},[()=>(f(Re),e(c),a(),m(()=>Re(e(c),a(),{format:"short"}))),()=>(f(Re),f(e(Q)),a(),m(()=>Re(e(Q),a(),{format:"short"})))]),i(B,we)}}}),x(V),C(()=>Ir(V,D()?`max-height: ${D()}px;`:"")),rr(V,"clientWidth",B=>E(S,B)),lt("scroll",V,ke),i(T,V),Ee(),$()}var ga=Y('<div class="*:border-t-0 [&amp;>*:first-child]:border-t"><!></div>');function ma(T,t){var s=ga(),b=y(s);et(b,t,"default",{},null),x(s),i(T,s)}var pa=Y("<p> </p> <!>",1),_a=Y("<p> </p> <!>",1),$a=Y('<div class="flex flex-col gap-2"><p> </p> <!> <!> <!></div>'),wa=Y('<div class="w-full text-right text-xs" slot="summary"> </div>'),ha=Y("<!> <!>",1);function fr(T,t){Te(t,!1);let s=M(t,"failure",8,void 0);He();var b=ha(),o=se(b);{var n=l=>{{let $=P(()=>(f(r),m(()=>r("common.failure"))));cr(l,{get title(){return e($)},class:"text-sm",children:(g,A)=>{var h=$a(),c=y(h),d=y(c,!0);x(c);var p=v(c,2);{let I=P(()=>(f(s()),m(()=>{var D;return((D=s())==null?void 0:D.message)||""}))),H=P(()=>(f(r),m(()=>r("common.copy-icon-title")))),R=P(()=>(f(r),m(()=>r("common.copy-success-icon-title"))));wt(p,{get content(){return e(I)},language:"text",get copyIconTitle(){return e(H)},get copySuccessIconTitle(){return e(R)}})}var k=v(p,2);{var w=I=>{var H=pa(),R=se(H),D=y(R,!0);x(R);var N=v(R,2);{let G=P(()=>(f(r),m(()=>r("common.copy-icon-title")))),oe=P(()=>(f(r),m(()=>r("common.copy-success-icon-title"))));wt(N,{get content(){return f(s()),m(()=>s().source)},language:"text",get copyIconTitle(){return e(G)},get copySuccessIconTitle(){return e(oe)}})}C(G=>L(D,G),[()=>(f(r),m(()=>r("common.source")))]),i(I,H)};te(k,I=>{f(s()),m(()=>{var H;return(H=s())==null?void 0:H.source})&&I(w)})}var W=v(k,2);{var j=I=>{var H=_a(),R=se(H),D=y(R,!0);x(R);var N=v(R,2);{let G=P(()=>(f(r),m(()=>r("common.copy-icon-title")))),oe=P(()=>(f(r),m(()=>r("common.copy-success-icon-title"))));wt(N,{get content(){return f(s()),m(()=>s().stackTrace)},language:"text",get copyIconTitle(){return e(G)},get copySuccessIconTitle(){return e(oe)}})}C(G=>L(D,G),[()=>(f(r),m(()=>r("common.stack-trace")))]),i(I,H)};te(W,I=>{f(s()),m(()=>{var H;return(H=s())==null?void 0:H.stackTrace})&&I(j)})}x(h),C(I=>L(d,I),[()=>(f(r),m(()=>r("common.message")))]),i(g,h)},$$slots:{default:!0,summary:(g,A)=>{var h=wa(),c=y(h,!0);x(h),C(()=>L(c,(f(s()),m(()=>{var d;return(d=s())==null?void 0:d.message})))),i(g,h)}}})}};te(o,l=>{s()&&l(n)})}var u=v(o,2);{var a=l=>{var $=ze(),g=se($);fr(g,{get failure(){return f(s()),m(()=>s().cause)}}),i(l,$)};te(u,l=>{f(s()),m(()=>{var $;return($=s())==null?void 0:$.cause})&&l(a)})}i(T,b),Ee()}var ka=Y('<div class="flex flex-col gap-2"><p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p></div>');function xa(T,t){Te(t,!1);const s=()=>ee(Lt,"$timeFormat",n),b=()=>ee(nr,"$relativeTime",n),o=()=>ee(ar,"$timestampFormat",n),[n,u]=Se();let a=M(t,"pendingTask",8,void 0);He();{let l=P(()=>(f(r),m(()=>r("workflows.pending-workflow-task"))));cr(T,{get title(){return e(l)},children:($,g)=>{var A=ka(),h=y(A),c=y(h),d=v(c);Me(d,{children:(Z,ne)=>{$e();var S=ge();C(()=>L(S,(f(a()),m(()=>a().state)))),i(Z,S)},$$slots:{default:!0}}),x(h);var p=v(h,2),k=y(p),w=v(k);Me(w,{children:(Z,ne)=>{$e();var S=ge();C(()=>L(S,(f(a()),m(()=>a().attempt)))),i(Z,S)},$$slots:{default:!0}}),x(p);var W=v(p,2),j=y(W),I=v(j);Me(I,{children:(Z,ne)=>{$e();var S=ge();C(ce=>L(S,ce),[()=>(f(Re),f(a()),s(),b(),o(),m(()=>Re(a().originalScheduledTime,s(),{relative:b(),format:o()})))]),i(Z,S)},$$slots:{default:!0}}),x(W);var H=v(W,2),R=y(H),D=v(R);Me(D,{children:(Z,ne)=>{$e();var S=ge();C(ce=>L(S,ce),[()=>(f(Re),f(a()),s(),b(),o(),m(()=>Re(a().scheduledTime,s(),{relative:b(),format:o()})))]),i(Z,S)},$$slots:{default:!0}}),x(H);var N=v(H,2),G=y(N),oe=v(G);Me(oe,{children:(Z,ne)=>{$e();var S=ge();C(ce=>L(S,ce),[()=>(f(Re),f(a()),s(),b(),o(),m(()=>Re(a().startedTime,s(),{relative:b(),format:o()})))]),i(Z,S)},$$slots:{default:!0}}),x(N),x(A),C((Z,ne,S,ce,ke)=>{L(c,`${Z??""} `),L(k,`${ne??""} `),L(j,`${S??""} `),L(R,`${ce??""} `),L(G,`${ke??""} `)},[()=>(f(r),m(()=>r("common.state"))),()=>(f(r),m(()=>r("common.attempt"))),()=>(f(r),m(()=>r("workflows.original-scheduled-time"))),()=>(f(r),m(()=>r("workflows.scheduled-time"))),()=>(f(r),m(()=>r("workflows.started-time")))]),i($,A)},$$slots:{default:!0}})}Ee(),u()}var ya=Y("<p> <!>.</p>"),ba=Y('<p><span class="mr-2 text-secondary">Timeout Type</span> </p>'),Ta=Y("<!> <!>",1),Ea=Y('<p> </p> <!> <div class="mt-2 flex w-full flex-col gap-0 overflow-hidden border border-danger"><div class="flex items-center justify-between gap-2 bg-danger px-2 py-2"><div class="flex items-center gap-2"> <!> <span class="font-semibold text-danger"> </span></div> <!></div> <div class="flex flex-col gap-2 bg-primary p-4"><!> <!></div></div>',1);function Pa(T,t){Te(t,!0);var s,b;let o=_(()=>Br(t.error)),n=_(()=>Yr(t.error)&&((s=t.error.attributes)===null||s===void 0?void 0:s.failure)),u=_(()=>qr(t.error)&&((b=t.error.attributes)===null||b===void 0?void 0:b.timeoutType));var a=ze(),l=se(a);{var $=g=>{{let A=_(()=>r(`typed-errors.${e(o)}.title`));Rt(g,{icon:"warning",intent:"warning",get title(){return e(A)},children:(h,c)=>{var d=Ea(),p=se(d),k=y(p,!0);x(p);var w=v(p,2);{var W=V=>{var z=ya(),B=y(z,!0),re=v(B);{let Q=_(()=>r(`typed-errors.${e(o)}.link`));lr(re,{newTab:!0,get href(){return e(Q)},children:(q,we)=>{$e();var ie=ge();C(de=>L(ie,de),[()=>r(`typed-errors.${e(o)}.action`)]),i(q,ie)},$$slots:{default:!0}})}$e(),x(z),C(Q=>L(B,Q),[()=>r("typed-errors.link-preface")]),i(V,z)};te(w,V=>{(e(o)==="NonDeterministicError"||e(o)==="BadSearchAttributes")&&V(W)})}var j=v(w,2),I=y(j),H=y(I),R=y(H),D=v(R);Je(D,{get name(){return vt[t.error.category]}});var N=v(D,2),G=y(N,!0);x(N),x(H);var oe=v(H,2);{let V=_(()=>{var z;return(z=t.error)==null?void 0:z.eventTime});fn(oe,{get dateTime(){return e(V)}})}x(I);var Z=v(I,2),ne=y(Z);{var S=V=>{var z=ba(),B=v(y(z));x(z),C(()=>L(B,` ${e(u)??""}`)),i(V,z)};te(ne,V=>{e(u)&&V(S)})}var ce=v(ne,2);{var ke=V=>{ma(V,{children:(z,B)=>{var re=Ta(),Q=se(re);{var q=de=>{fr(de,{get failure(){return e(n)}})};te(Q,de=>{e(n)&&de(q)})}var we=v(Q,2);{var ie=de=>{xa(de,{get pendingTask(){return t.pendingTask}})};te(we,de=>{t.pendingTask&&de(ie)})}i(z,re)},$$slots:{default:!0}})};te(ce,V=>{(e(n)||t.pendingTask)&&V(ke)})}x(Z),x(j),C((V,z)=>{L(k,V),L(R,`${t.error.id??""} `),L(G,z)},[()=>r(`typed-errors.${e(o)}.description`),()=>{var V;return gn((V=t.error)==null?void 0:V.name)}]),i(h,d)},$$slots:{default:!0}})}};te(l,g=>{e(o)&&e(o)!=="ResetWorkflow"&&g($)})}i(T,a),Ee()}const Ia=async(T,t,s)=>{const b=wn(t),o=hn(t),n=kn(t),u={...t,codec:{...t==null?void 0:t.codec,endpoint:b,passAccessToken:o,includeCredentials:n}},a=!1;try{const l=await _n(T,St(Qe).params.namespace,u,St(ir).accessToken,s,a);return $n(l,a)}catch{return T}};function Qt(T,t,s){const b=Ft({events:T},null,2),o=document.createElement("a"),n=new Blob([b],{type:s});o.href=URL.createObjectURL(n),o.download=t,o.click()}const Aa=async({namespace:T,workflowId:t,runId:s,settings:b,decodeSetting:o})=>{try{const n=await ln({namespace:T,workflowId:t,runId:s,sort:"ascending"});if(o==="encoded")Qt(n,`${s}/events.json`,"text/plain");else{const u=[];for(const a of n){const l=await Ia(a,b,o);u.push(l)}Qt(u,`${s}/events.json`,"text/plain")}}catch{console.error("Could not download event history")}};var Wa=Y('<div class="flex items-center space-x-4"><!></div>');function Ha(T,t){Te(t,!1);const s=()=>ee(zr,"$parameters",o),b=()=>ee(xn,"$isCloud",o),[o,n]=Se(),u=F(),a=F(),{namespace:l,workflowId:$,runId:g}=s();O(()=>qt,()=>{E(u,qt({namespace:l,workflow:$,run:g}))}),O(()=>e(u),()=>{E(a,e(u)+".json")}),Ge(),He();var A=ze(),h=se(A);{var c=d=>{var p=Wa(),k=y(p);lr(k,{icon:"external-link",class:"whitespace-nowrap",get href(){return e(a)},newTab:!0,"data-testid":"view-raw-event-history",children:(w,W)=>{$e();var j=ge();C(I=>L(j,I),[()=>(f(r),m(()=>r("events.view-raw-history")))]),i(w,j)},$$slots:{default:!0}}),x(p),i(d,p)};te(h,d=>{b()||d(c)})}i(T,A),Ee(),n()}var Sa=Y('<h3 slot="title"> </h3>'),Ca=Y("<!> <!> <!>",1),Fa=Y('<div slot="content" class="flex flex-col gap-4"><!> <!></div>');function ja(T,t){Te(t,!1);const s=()=>ee(Qe,"$page",o),b=()=>ee(Gt,"$downloadEventHistorySetting",o),[o,n]=Se();let u=M(t,"open",12,!1),a=M(t,"namespace",8),l=M(t,"workflowId",8),$=M(t,"runId",8);const g=()=>{u(!1),Aa({namespace:a(),workflowId:l(),runId:$(),settings:s().data.settings,decodeSetting:b()})};He();{let A=P(()=>(f(r),m(()=>r("common.download")))),h=P(()=>(f(r),m(()=>r("common.cancel"))));mn(T,{id:"download-history",large:!0,confirmType:"primary",get confirmText(){return e(A)},get cancelText(){return e(h)},get open(){return u()},set open(c){u(c)},$$events:{confirmModal:()=>g(),cancelModal:()=>u(!1)},$$slots:{title:(c,d)=>{var p=Sa(),k=y(p,!0);x(p),C(w=>L(k,w),[()=>(f(r),m(()=>r("common.download-event-history-json")))]),i(c,p)},content:(c,d)=>{var p=Fa(),k=y(p);pn(k,{get group(){return Gt},name:"decode-setting",class:"h-auto overflow-auto",children:(W,j)=>{var I=Ca(),H=se(I);{let N=P(()=>(f(r),m(()=>r("events.encoded"))));At(H,{id:"use-encoded-setting","data-testid":"use-encoded-setting-input",value:"encoded",get label(){return e(N)}})}var R=v(H,2);{let N=P(()=>(f(r),m(()=>r("events.decoded")))),G=P(()=>(f(r),m(()=>r("events.decoded-description"))));At(R,{id:"use-decoded-setting","data-testid":"use-decoded-setting-input",value:"decoded",get label(){return e(N)},get description(){return e(G)}})}var D=v(R,2);{let N=P(()=>(f(r),m(()=>r("events.readable")))),G=P(()=>(f(r),m(()=>r("events.readable-description"))));At(D,{id:"use-readable-setting","data-testid":"use-readable-setting-input",value:"readable",get label(){return e(N)},get description(){return e(G)}})}i(W,I)},$$slots:{default:!0}});var w=v(k,2);Ha(w,{}),x(p),i(c,p)}},$$legacy:!0})}Ee(),n()}const za=["WorkflowExecutionFailed","WorkflowExecutionCompleted","WorkflowExecutionContinuedAsNew","WorkflowExecutionTimedOut","WorkflowExecutionCanceled","WorkflowExecutionTerminated"],La=T=>!!T.workflowExecutionStartedEventAttributes,Ra=T=>{for(const t of za)if(T.eventType===t)return!0;return!1},Oa=T=>tr(T)?T.attributes.input:Jr(T)?T.attributes.result===null?null:T.attributes.result:T.attributes,Ma=T=>{var u;let t,s,b=!1,o,n;for(const a of T)if(La(a)){o=a;continue}else if(Ra(a)){n=a;continue}return o&&(t=Ft(((u=o==null?void 0:o.workflowExecutionStartedEventAttributes)==null?void 0:u.input)??null)),n&&(b=tr(n),s=Ft(Oa(n))),{input:t,results:s,contAsNew:b}};var Da=Y('<div class="flex flex-col gap-4 lg:flex-row" data-testid="input-and-result"><!> <!></div>');function Ga(T,t){Te(t,!1);const s=()=>ee(xt,"$fullEventHistory",o),b=()=>ee(yt,"$workflowRun",o),[o,n]=Se(),u=F(),a=F();O(()=>s(),()=>{E(u,Ma(s()))}),O(()=>b(),()=>{E(a,b().workflow.isRunning)}),Ge(),He();var l=Da(),$=y(l);{let A=P(()=>(f(r),m(()=>r("workflows.input"))));Jt($,{get title(){return e(A)},get content(){return e(u),m(()=>e(u).input)},get isRunning(){return e(a)}})}var g=v($,2);{let A=P(()=>(f(r),m(()=>r("workflows.result"))));Jt(g,{get title(){return e(A)},get content(){return e(u),m(()=>e(u).results)},get isRunning(){return e(a)}})}x(l),i(T,l),Ee(),n()}var Ua=Y('<div class="mb-4"><!></div>');function Na(T,t){Te(t,!1);const s=()=>ee(yt,"$workflowRun",b),[b,o]=Se(),n=F(),u=F(),a=F();var l=F();O(()=>(e(n),e(u),s()),()=>{(h=>{E(n,h.workflow),E(u,h.workers)})(s())}),O(()=>(e(n),fe(l),e(u)),()=>{E(a,(e(n)===null||e(n)===void 0?void 0:e(n).isRunning)&&!(!(E(l,e(u)===null||e(u)===void 0?void 0:e(u).pollers)===null||fe(l)===void 0)&&fe(l).length))}),Ge(),He();var $=ze(),g=se($);{var A=h=>{var c=Ua(),d=y(c);{let p=P(()=>(f(r),m(()=>r("workflows.workflow-error-no-workers-title"))));Rt(d,{icon:"warning",intent:"warning",get title(){return e(p)},children:(k,w)=>{$e();var W=ge();C(j=>L(W,j),[()=>(f(r),e(n),m(()=>{var j;return r("workflows.workflow-error-no-workers-description",{taskQueue:(j=e(n))==null?void 0:j.taskQueue})}))]),i(k,W)},$$slots:{default:!0}})}x(c),yn(1,c,()=>bn,()=>({duration:200,delay:100})),i(h,c)};te(g,h=>{e(a)&&h(A)})}i(T,$),Ee(),o()}var Va=Y('<div><button class="focus-visible:outline-interactive w-full cursor-pointer hover:bg-interactive-secondary-hover" type="button"><div class="flex w-full flex-row items-center justify-between gap-2 pr-4"><!> <!> <div class="flex items-center gap-4"><!> <!></div></div></button> <div><!></div></div>');function Ba(T,t){const s=ht(t,["children","$$slots","$$events","$$legacy"]),b=ht(s,["id","open","onToggle","icon"]);Te(t,!1);let o=M(t,"id",24,()=>crypto.randomUUID()),n=M(t,"open",12,!1),u=M(t,"onToggle",8,void 0),a=M(t,"icon",8,void 0);const l=async()=>{u()&&await u()(),n(!n())};He();var $=Va(),g=y($),A=y(g),h=y(A);et(h,t,"title",{},null);var c=v(h,2);et(c,t,"description",{},null);var d=v(c,2),p=y(d);et(p,t,"action",{},null);var k=v(p,2);{let I=P(()=>a()?a():n()?"arrow-down":"arrow-right");Je(k,{get name(){return e(I)}})}x(d),x(A),x(g);var w=v(g,2);let W;var j=y(w);et(j,t,"default",{get open(){return n()}},null),x(w),x($),C(()=>{Ne($,1,`w-full ${f(b),m(()=>b.class)??""}`),ue(g,"id",`${o()??""}-trigger`),ue(g,"aria-expanded",n()),ue(g,"aria-controls",`${o()??""}-content`),ue(w,"id",`${o()??""}-content`),ue(w,"aria-labelledby",`${o()??""}-trigger`),W=Ne(w,1,"block w-full bg-primary p-2",null,W,{hidden:!n()})}),lt("click",g,l),i(T,$),Ee()}var qa=Y("<!> <!>",1),Ya=Y("<!> <!>",1),Ja=Y('<p class="flex items-center gap-2"> <!></p>'),Qa=Y('<p class="flex items-center gap-2"> <!></p>'),Xa=Y('<p class="flex items-center gap-2"> <!></p>'),Za=Y('<p class="flex items-center gap-2"> <!></p>'),Ka=Y('<p class="flex items-center gap-2"> <!></p>'),eo=Y('<div class="flex flex-col gap-2"><p> </p> <!></div>'),to=Y('<div class="flex flex-col gap-2 pt-2"><!> <div class="flex flex-col items-start gap-2 md:flex-row md:items-center"><p class="flex items-center gap-2"> <!></p> <!> <!> <!></div> <!> <!> <!></div> <!>',1);function Xt(T,t){Te(t,!0);const s=()=>ee(Lt,"$timeFormat",n),b=()=>ee(nr,"$relativeTime",n),o=()=>ee(ar,"$timestampFormat",n),[n,u]=Se();var a,l,$,g;const A=_(()=>Re(t.callback.lastAttemptCompleteTime,s(),{relative:b(),format:o()})),h=_(()=>Re(t.callback.nextAttemptScheduleTime,s(),{relative:b(),format:o()})),c=_(()=>(a=t.callback===null||t.callback===void 0?void 0:t.callback.lastAttemptFailure)===null||a===void 0?void 0:a.message),d=_(()=>t.callback===null||t.callback===void 0?void 0:t.callback.blockedReason),p=_(()=>($=(l=t.callback===null||t.callback===void 0?void 0:t.callback.callback)===null||l===void 0?void 0:l.nexus)===null||$===void 0?void 0:$.url),k={Standby:r("nexus.callback.standby"),Scheduled:r("nexus.callback.scheduled"),"Backing Off":r("nexus.callback.backing-off"),Failed:r("nexus.callback.failed"),Succeeded:r("nexus.callback.succeeded")},w="Failed",W=_(()=>t.callback.state===w),j=_(()=>k[t.callback.state]||r("nexus.nexus-callback")),I=_(()=>((g=t.callback===null||t.callback===void 0?void 0:t.callback.callback)===null||g===void 0?void 0:g.links)||[]),H=_(()=>!e(I).length&&!t.link&&e(p));{let R=_(()=>e(W)?"error":"info");Rt(T,{icon:"nexus",get intent(){return e(R)},get title(){return e(j)},children:(D,N)=>{var G=to(),oe=se(G),Z=y(oe);{var ne=J=>{var ae=ze(),le=se(ae);at(le,17,()=>e(I),pe=>{var K,xe,U;return((xe=(K=pe.workflowEvent)==null?void 0:K.eventRef)==null?void 0:xe.eventId)||((U=pe.workflowEvent)==null?void 0:U.requestIdRef.requestId)},(pe,K,xe,U)=>{var ve=qa(),Pe=se(ve);pt(Pe,{get link(){return e(K)}});var ye=v(Pe,2);{let be=_(()=>r("nexus.link-namespace")),Fe=_(()=>Yt({namespace:e(K).workflowEvent.namespace}));pt(ye,{get link(){return e(K)},get label(){return e(be)},get value(){return e(K).workflowEvent.namespace},get href(){return e(Fe)}})}i(pe,ve)}),i(J,ae)},S=J=>{var ae=ze(),le=se(ae);{var pe=K=>{var xe=Ya(),U=se(xe);pt(U,{get link(){return t.link}});var ve=v(U,2);{let Pe=_(()=>r("nexus.link-namespace")),ye=_(()=>Yt({namespace:t.link.workflowEvent.namespace}));pt(ve,{get link(){return t.link},get label(){return e(Pe)},get value(){return t.link.workflowEvent.namespace},get href(){return e(ye)}})}i(K,xe)};te(le,K=>{t.link&&K(pe)},!0)}i(J,ae)};te(Z,J=>{e(I).length?J(ne):J(S,!1)})}var ce=v(Z,2),ke=y(ce),V=y(ke,!0),z=v(V);Me(z,{type:"subtle",children:(J,ae)=>{$e();var le=ge();C(()=>L(le,t.callback.state)),i(J,le)},$$slots:{default:!0}}),x(ke);var B=v(ke,2);{var re=J=>{var ae=Ja(),le=y(ae),pe=v(le);Me(pe,{type:"subtle",children:(K,xe)=>{$e();var U=ge();C(()=>L(U,t.callback.attempt)),i(K,U)},$$slots:{default:!0}}),x(ae),C(K=>L(le,`${K??""} `),[()=>r("common.attempt")]),i(J,ae)};te(B,J=>{t.callback.attempt&&J(re)})}var Q=v(B,2);{var q=J=>{var ae=Qa(),le=y(ae),pe=v(le);Me(pe,{type:"subtle",children:(K,xe)=>{$e();var U=ge();C(()=>L(U,e(A))),i(K,U)},$$slots:{default:!0}}),x(ae),C(K=>L(le,`${K??""} `),[()=>r("nexus.last-attempt-completed-time")]),i(J,ae)};te(Q,J=>{t.callback.lastAttemptCompleteTime&&J(q)})}var we=v(Q,2);{var ie=J=>{var ae=Xa(),le=y(ae),pe=v(le);Me(pe,{type:"subtle",children:(K,xe)=>{$e();var U=ge();C(()=>L(U,e(h))),i(K,U)},$$slots:{default:!0}}),x(ae),C(K=>L(le,`${K??""} `),[()=>r("nexus.next-attempt-scheduled-time")]),i(J,ae)};te(we,J=>{t.callback.nextAttemptScheduleTime&&J(ie)})}x(ce);var de=v(ce,2);{var Ce=J=>{var ae=Za(),le=y(ae),pe=v(le);Me(pe,{type:"subtle",children:(K,xe)=>{$e();var U=ge();C(()=>L(U,e(p))),i(K,U)},$$slots:{default:!0}}),x(ae),C(K=>L(le,`${K??""} `),[()=>r("nexus.callback-url")]),i(J,ae)};te(de,J=>{e(H)&&J(Ce)})}var Ae=v(de,2);{var Ie=J=>{var ae=Ka(),le=y(ae),pe=v(le);Me(pe,{type:"subtle",children:(K,xe)=>{$e();var U=ge();C(()=>L(U,e(d))),i(K,U)},$$slots:{default:!0}}),x(ae),C(K=>L(le,`${K??""} `),[()=>r("nexus.blocked-reason")]),i(J,ae)};te(Ae,J=>{e(d)&&J(Ie)})}var X=v(Ae,2);{var _e=J=>{var ae=eo(),le=y(ae),pe=y(le,!0);x(le);var K=v(le,2);{let xe=_(()=>r("common.copy-icon-title")),U=_(()=>r("common.copy-success-icon-title"));wt(K,{get content(){return e(c)},language:"text",get copyIconTitle(){return e(xe)},get copySuccessIconTitle(){return e(U)}})}x(ae),C(xe=>L(pe,xe),[()=>r("nexus.last-attempt-failure")]),i(J,ae)};te(X,J=>{e(c)&&J(_e)})}x(oe);var me=v(oe,2);Zt(me,()=>t.children??Kt),C(J=>L(V,J),[()=>r("common.state")]),i(D,G)},$$slots:{default:!0}})}Ee(),u()}var ro=Y('<div class="flex flex-col gap-2"></div>'),no=Y('<p class="p-1" slot="title"> </p>'),ao=Y('<div class="py-2"><!></div>');function oo(T,t){Te(t,!0);const s=()=>ee(xt,"$fullEventHistory",b),[b,o]=Se();var n;const u=_(()=>s()[0]),a=_(()=>(n=e(u)===null||e(u)===void 0?void 0:e(u).links)===null||n===void 0?void 0:n[0]),l=_(()=>t.callbacks[0]);Xt(T,{get callback(){return e(l)},get link(){return e(a)},children:($,g)=>{var A=ze(),h=se(A);{var c=d=>{var p=ao(),k=y(p);Ba(k,{children:jt,$$slots:{default:(w,W)=>{const j=_(()=>W.open);var I=ze(),H=se(I);{var R=D=>{var N=ro();at(N,21,()=>t.callbacks.slice(1),bt,(G,oe)=>{Xt(G,{get callback(){return e(oe)}})}),x(N),i(D,N)};te(H,D=>{e(j)&&D(R)})}i(w,I)},title:(w,W)=>{var j=no(),I=y(j);x(j),C(()=>L(I,`View ${t.callbacks.length-1} other Callbacks`)),i(w,j)}}}),x(p),i(d,p)};te(h,d=>{t.callbacks.length>1&&d(c)})}i($,A)},$$slots:{default:!0}}),Ee(),o()}var so=Y("<!> <!> <!> <!> <!>",1),io=Y('<div class="flex flex-col gap-0 pt-4"><!> <div class="flex flex-col gap-2"><!> <!> <!></div></div> <div class="relative pb-24"><div><h2> </h2> <div class="flex items-center gap-2"><!></div></div> <div class="flex w-full flex-col"><!> <!></div></div> <!>',1);function lo(T,t){Te(t,!1);const s=()=>ee(Qe,"$page",g),b=()=>ee(yt,"$workflowRun",g),o=()=>ee(ct,"$eventFilterSort",g),n=()=>ee(tt,"$eventViewType",g),u=()=>ee(er,"$filteredEventHistory",g),a=()=>ee(Lr,"$currentEventHistory",g),l=()=>ee(dt,"$pauseLiveUpdates",g),$=()=>ee(Ut,"$minimizeEventView",g),[g,A]=Se(),h=F(),c=F(),d=F(),p=F(),k=F(),w=F(),W=F(),j=F(),I=F(),H=F();Ar(()=>{Wt()});let R=F(!1);const D=()=>{e(k)?he(ct,"ascending"):he(ct,"descending")};O(()=>(e(h),s()),()=>{(X=>{E(h,X.namespace)})(s().params)}),O(()=>(e(c),b()),()=>{(X=>{E(c,X.workflow)})(b())}),O(()=>e(c),()=>{E(d,e(c)===null||e(c)===void 0?void 0:e(c).pendingActivities)}),O(()=>e(c),()=>{E(p,e(c)===null||e(c)===void 0?void 0:e(c).pendingNexusOperations)}),O(()=>o(),()=>{E(k,o()==="descending")}),O(()=>n(),()=>{E(w,n()==="compact")}),O(()=>(u(),e(d),e(p)),()=>{E(W,sr(u(),"ascending",e(d),e(p)))}),O(()=>(e(k),e(W)),()=>{E(j,e(k)?[...e(W)].reverse():e(W))}),O(()=>(e(k),u()),()=>{E(I,e(k)?[...u()].reverse():u())}),O(()=>a(),()=>{E(H,Qr(a(),"ascending"))}),O(()=>(n(),Wt),()=>{n(),Wt()}),O(()=>(e(c),l()),()=>{!e(c).isRunning&&l()&&he(dt,!1)}),Ge(),He();var N=io(),G=se(N),oe=y(G);Na(oe,{});var Z=v(oe,2),ne=y(Z);Ga(ne,{});var S=v(ne,2);{var ce=X=>{{let _e=P(()=>(e(c),m(()=>{var me;return(me=e(c))==null?void 0:me.pendingWorkflowTask})));Pa(X,{get error(){return e(H)},get pendingTask(){return e(_e)}})}};te(S,X=>{e(H)&&X(ce)})}var ke=v(S,2);{var V=X=>{oo(X,{get callbacks(){return e(c),m(()=>e(c).callbacks)}})};te(ke,X=>{e(c),m(()=>{var _e,me;return(me=(_e=e(c))==null?void 0:_e.callbacks)==null?void 0:me.length})&&X(V)})}x(Z),x(G);var z=v(G,2),B=y(z);let re;var Q=y(B),q=y(Q,!0);x(Q);var we=v(Q,2),ie=y(we);Tn(ie,{children:(X,_e)=>{var me=so(),J=se(me);{var ae=U=>{{let ve=P(()=>e(k)?"descending":"ascending");_t(U,{get leadingIcon(){return e(ve)},"data-testid":"zoom-in",size:"sm",$$events:{click:D},children:(Pe,ye)=>{$e();var be=ge();C(()=>L(be,e(k)?"Descending":"Ascending")),i(Pe,be)},$$slots:{default:!0}})}};te(J,U=>{n()!=="json"&&U(ae)})}var le=v(J,2);{let U=P(()=>$()?"Timeline and Event History are collapsed to minimized height":"Timeline and Event History are expanded to full height");En(le,{get text(){return e(U)},top:!0,children:(ve,Pe)=>{{let ye=P(()=>$()?"minimize":"expand");_t(ve,{get leadingIcon(){return e(ye)},"data-testid":"expandAll",size:"sm",$$events:{click:()=>he(Ut,!$())},children:(be,Fe)=>{$e();var je=ge();C(()=>L(je,$()?"Minimized":"Expanded")),i(be,je)},$$slots:{default:!0}})}},$$slots:{default:!0}})}var pe=v(le,2);Dn(pe,{get compact(){return e(w)},get minimized(){return $()}});var K=v(pe,2);{let U=P(()=>(e(c),m(()=>!e(c).isRunning))),ve=P(()=>l()?"play":"pause");_t(K,{get disabled(){return e(U)},get leadingIcon(){return e(ve)},"data-testid":"pause",class:"border-l-0",size:"sm",$$events:{click:()=>he(dt,!l())},children:(Pe,ye)=>{$e();var be=ge();C(()=>L(be,l()?"Unfreeze":"Freeze")),i(Pe,be)},$$slots:{default:!0}})}var xe=v(K,2);_t(xe,{"data-testid":"download",leadingIcon:"download",size:"sm",$$events:{click:()=>E(R,!0)},children:(U,ve)=>{$e();var Pe=ge();C(ye=>L(Pe,ye),[()=>(f(r),m(()=>r("common.download")))]),i(U,Pe)},$$slots:{default:!0}}),i(X,me)},$$slots:{default:!0}}),x(we),x(B);var de=v(B,2),Ce=y(de);{let X=P(()=>(e(H),m(()=>!!e(H)))),_e=P(()=>$()?360:void 0);ur(Ce,{get workflow(){return e(c)},get groups(){return e(j)},get error(){return e(X)},get viewportHeight(){return e(_e)}})}var Ae=v(Ce,2);Sn(Ae,{get groups(){return e(j)},get history(){return e(I)},get minimized(){return $()}}),x(de),x(z);var Ie=v(z,2);ja(Ie,{get namespace(){return e(h)},get workflowId(){return e(c),m(()=>e(c).id)},get runId(){return e(c),m(()=>e(c).runId)},get open(){return e(R)},set open(X){E(R,X)},$$legacy:!0}),C(X=>{re=Ne(B,1,"surface-background flex flex-wrap items-center justify-between gap-2 border-b border-subtle py-2 xl:gap-8 svelte-1r3xuxw",null,re,{"sticky-header":!$()}),L(q,X)},[()=>(f(r),m(()=>r("workflows.event-history")))]),i(T,N),Ee(),A()}var co=Y("<!> <!>",1);function ws(T,t){Te(t,!1);const s=()=>ee(Qe,"$page",b),[b,o]=Se(),n=s().params.workflow;He();var u=co(),a=se(u);{let $=P(()=>`${r("workflows.workflow-history")} | ${n}`);Tr(a,{get title(){return e($)},get url(){return s().url.href}})}var l=v(a,2);lo(l,{}),i(T,u),Ee(),o()}export{ws as component};
