import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as Ve,f as v,i as ve,c as z,g as e,e as a,r as i,b as Ie,j as c,n as W,k as L,t as I,v as r,h as $,q as Fe,at as Ae,s as Se}from"../chunks/B6CF0p-B.js";import{i as Ee}from"../chunks/BC0HqUZ9.js";import{s as Le,a as We}from"../chunks/BrOjBIf0.js";import{p as qe}from"../chunks/sW3UaIlm.js";import{P as je}from"../chunks/D-4C8DtU.js";import{s as w}from"../chunks/BSSJzwu8.js";import{i as u}from"../chunks/DVfqY6Lp.js";import{k as Me}from"../chunks/CmR3ARMz.js";import{e as ke,i as Ce}from"../chunks/DNXtLIpi.js";import{p as ze}from"../chunks/ZWEwXnZG.js";import{T as Te}from"../chunks/DRi4x2LZ.js";import{C as fe}from"../chunks/DtNOqOv-.js";import{L as re}from"../chunks/eHxjnoa-.js";import{t as o}from"../chunks/DEjs8ZrU.js";import{g as Be}from"../chunks/BtlQSASF.js";import{i as Ne,o as ge}from"../chunks/BKztnTvD.js";import{D as Pe}from"../chunks/Q96Q5MOV.js";import{A as Qe}from"../chunks/DFhL1XQn.js";import{B as Re}from"../chunks/D3maMAGB.js";import{E as Ge}from"../chunks/CwMDJm8N.js";import{A as He}from"../chunks/8GhwqaW5.js";import{f as Je}from"../chunks/BGJnd_uc.js";var Ke=v('<td class="py-1 text-left"><!></td>'),Oe=v('<div class="flex items-center gap-2"><!> <!></div>'),Ue=v('<div class="flex items-center gap-2"><!> <!></div>'),Xe=v('<td class="whitespace-pre-line break-words py-1 text-left"><div class="flex flex-col gap-1"><!> <!> <div class="flex items-center gap-2"><!> <!></div></div></td>'),Ye=v("<p>-</p>"),Ze=v('<td class="truncate py-1 text-left"><div class="flex flex-col gap-1"><!> <!> <!></div></td>'),et=v('<td class="w-24 truncate py-1"><!></td>'),tt=v("<tr></tr>");function rt(oe,t){Ve(t,!0);const y=()=>We(qe,"$page",U),[U,ae]=Le();var D,S,q,N,Q,ne,le,se,p,k;const T=r(()=>(S=(D=t.deployment===null||t.deployment===void 0?void 0:t.deployment.latestVersionSummary)===null||D===void 0?void 0:D.deploymentVersion)===null||S===void 0?void 0:S.buildId),F=r(()=>((N=(q=t.deployment===null||t.deployment===void 0?void 0:t.deployment.rampingVersionSummary)===null||q===void 0?void 0:q.deploymentVersion)===null||N===void 0?void 0:N.buildId)||Be((Q=t.deployment===null||t.deployment===void 0?void 0:t.deployment.routingConfig)===null||Q===void 0?void 0:Q.rampingVersion)),pe=r(()=>((ne=t.deployment===null||t.deployment===void 0?void 0:t.deployment.rampingVersionSummary)===null||ne===void 0?void 0:ne.createTime)||((le=t.deployment===null||t.deployment===void 0?void 0:t.deployment.routingConfig)===null||le===void 0?void 0:le.rampingVersionChangedTime)),R=r(()=>((p=(se=t.deployment===null||t.deployment===void 0?void 0:t.deployment.currentVersionSummary)===null||se===void 0?void 0:se.deploymentVersion)===null||p===void 0?void 0:p.buildId)||Be((k=t.deployment===null||t.deployment===void 0?void 0:t.deployment.routingConfig)===null||k===void 0?void 0:k.currentVersion)),ue=r(()=>e(T)!==e(F)&&e(T)!==e(R)),f=r(()=>e(R)!=="__unversioned__"),G=r(()=>e(f)?e(R):o("deployments.unversioned"));var m=tt();ke(m,21,()=>t.columns,({label:g})=>g,(g,A)=>{let P=()=>e(A).label;var _=ve(),ie=z(_);{var _e=h=>{var C=Ke(),X=c(C);{let Y=r(()=>o("common.copy-icon-title")),xe=r(()=>o("common.copy-success-icon-title"));fe(X,{get content(){return t.deployment.name},get copyIconTitle(){return e(Y)},get copySuccessIconTitle(){return e(xe)},children:(E,H)=>{{let Z=r(()=>Ne({namespace:y().params.namespace,deployment:t.deployment.name}));re(E,{get href(){return e(Z)},children:(ee,ye)=>{W();var x=L();I(()=>w(x,t.deployment.name)),a(ee,x)},$$slots:{default:!0}})}},$$slots:{default:!0}})}i(C),a(h,C)},he=h=>{var C=ve(),X=z(C);{var Y=E=>{var H=Xe(),Z=c(H),ee=c(Z);{var ye=l=>{var s=Oe(),n=c(s);{let B=r(()=>o("common.copy-icon-title")),b=r(()=>o("common.copy-success-icon-title"));fe(n,{get content(){return e(T)},get copyIconTitle(){return e(B)},get copySuccessIconTitle(){return e(b)},children:(V,te)=>{{let ce=r(()=>ge({namespace:y().params.namespace,query:`TemporalWorkerDeploymentVersion="${t.deployment.name}:${e(T)}"`}));re(V,{get href(){return e(ce)},children:(be,we)=>{W();var $e=L();I(()=>w($e,e(T))),a(be,$e)},$$slots:{default:!0}})}},$$slots:{default:!0}})}var d=$(n,2);{let B=r(()=>o("deployments.latest"));Pe(d,{status:"Latest",get label(){return e(B)}})}i(s),a(l,s)};u(ee,l=>{e(T)&&e(ue)&&l(ye)})}var x=$(ee,2);{var j=l=>{var s=Ue(),n=c(s);{let b=r(()=>o("common.copy-icon-title")),V=r(()=>o("common.copy-success-icon-title"));fe(n,{get content(){return e(F)},get copyIconTitle(){return e(b)},get copySuccessIconTitle(){return e(V)},children:(te,ce)=>{{let be=r(()=>ge({namespace:y().params.namespace,query:`TemporalWorkerDeploymentVersion="${t.deployment.name}:${e(F)}"`}));re(te,{get href(){return e(be)},children:(we,$e)=>{W();var De=L();I(()=>w(De,e(F))),a(we,De)},$$slots:{default:!0}})}},$$slots:{default:!0}})}var d=$(n,2);{var B=b=>{{let V=r(()=>o("deployments.ramping-percentage",{percentage:t.deployment.routingConfig.rampingVersionPercentage}));Pe(b,{status:"Ramping",get label(){return e(V)}})}};u(d,b=>{var V,te;(te=(V=t.deployment)==null?void 0:V.routingConfig)!=null&&te.rampingVersionPercentage&&b(B)})}i(s),a(l,s)};u(x,l=>{e(F)&&l(j)})}var J=$(x,2),K=c(J);{var O=l=>{{let s=r(()=>o("common.copy-icon-title")),n=r(()=>o("common.copy-success-icon-title"));fe(l,{get content(){return e(R)},get copyIconTitle(){return e(s)},get copySuccessIconTitle(){return e(n)},children:(d,B)=>{{let b=r(()=>ge({namespace:y().params.namespace,query:`TemporalWorkerDeploymentVersion="${t.deployment.name}:${e(R)}"`}));re(d,{get href(){return e(b)},children:(V,te)=>{W();var ce=L();I(()=>w(ce,e(G))),a(V,ce)},$$slots:{default:!0}})}},$$slots:{default:!0}})}},M=l=>{var s=L();I(()=>w(s,e(G))),a(l,s)};u(K,l=>{e(f)?l(O):l(M,!1)})}var me=$(K,2);{var de=l=>{{let s=r(()=>o("deployments.current"));Pe(l,{status:"Current",get label(){return e(s)}})}};u(me,l=>{e(f)&&l(de)})}i(J),i(Z),i(H),a(E,H)},xe=E=>{var H=ve(),Z=z(H);{var ee=x=>{var j=Ze(),J=c(j),K=c(J);{var O=n=>{Te(n,{as:"p",get dateTime(){return t.deployment.latestVersionSummary.createTime}})};u(K,n=>{var d;e(T)&&e(ue)&&((d=t.deployment.latestVersionSummary)!=null&&d.createTime)&&n(O)})}var M=$(K,2);{var me=n=>{Te(n,{as:"p",get dateTime(){return e(pe)}})};u(M,n=>{e(F)&&e(pe)&&n(me)})}var de=$(M,2);{var l=n=>{{let d=r(()=>{var B,b;return((b=(B=t.deployment)==null?void 0:B.currentVersionSummary)==null?void 0:b.createTime)||t.deployment.createTime});Te(n,{as:"p",get dateTime(){return e(d)}})}},s=n=>{var d=Ye();a(n,d)};u(de,n=>{e(f)?n(l):n(s,!1)})}i(J),i(j),a(x,j)},ye=x=>{var j=ve(),J=z(j);{var K=O=>{var M=et(),me=c(M);{let de=r(()=>ge({namespace:y().params.namespace,query:`TemporalWorkerDeployment="${t.deployment.name}"`}));re(me,{icon:"external-link",get href(){return e(de)},children:(l,s)=>{W();var n=L();I(d=>w(n,d),[()=>o("deployments.go-to-workflows")]),a(l,n)},$$slots:{default:!0}})}i(M),a(O,M)};u(J,O=>{P()===o("deployments.actions")&&O(K)},!0)}a(x,j)};u(Z,x=>{P()===o("deployments.deployed")?x(ee):x(ye,!1)},!0)}a(E,H)};u(X,E=>{P()===o("deployments.build-id")?E(Y):E(xe,!1)},!0)}a(h,C)};u(ie,h=>{P()===o("deployments.name")?h(_e):h(he,!1)})}a(g,_)}),i(m),a(oe,m),Ie(),ae()}var ot=v('<caption class="sr-only" slot="caption"> </caption>'),at=v("<th> </th>"),nt=v('<tr slot="headers" class="text-left"></tr>'),lt=v('<p class="text-center">Enable Worker Deployments to manage your workers more effectively. <!>.</p> <!>',1),st=v('<div class="flex flex-wrap items-center gap-2"><h1> </h1> <!></div> <!>',1);function it(oe,t){Ve(t,!0);let y=Ae("");const U=r(()=>ze.params.namespace),ae=r(()=>()=>(Se(y,""),Je(e(U),"",D))),D=p=>{var k;Se(y,((k=p==null?void 0:p.body)===null||k===void 0?void 0:k.message)||o("deployments.error-message-fetching"),!0)},S=[{label:o("deployments.name")},{label:o("deployments.build-id")},{label:o("deployments.deployed")},{label:o("deployments.actions")}];var q=st(),N=z(q),Q=c(N),ne=c(Q,!0);i(Q);var le=$(Q,2);Re(le,{class:"shrink-0",children:(p,k)=>{W();var T=L("Public Preview");a(p,T)},$$slots:{default:!0}}),i(N);var se=$(N,2);Me(se,()=>[e(U)],p=>{{let k=r(()=>o("deployments.deployments")),T=r(()=>o("common.per-page")),F=r(()=>o("common.next")),pe=r(()=>o("common.previous")),R=r(()=>o("deployments.empty-state-title")),ue=r(()=>o("deployments.error-message-fetching"));He(p,{get onFetch(){return e(ae)},onError:D,get"aria-label"(){return e(k)},get pageSizeSelectLabel(){return e(T)},get nextButtonLabel(){return e(F)},get previousButtonLabel(){return e(pe)},get emptyStateMessage(){return e(R)},get errorMessage(){return e(ue)},children:Fe,$$slots:{default:(f,G)=>{const m=r(()=>G.visibleItems);var g=ve(),A=z(g);ke(A,17,()=>e(m),Ce,(P,_)=>{rt(P,{get deployment(){return e(_)},get columns(){return S}})}),a(f,g)},caption:(f,G)=>{var m=ot(),g=c(m,!0);i(m),I(A=>w(g,A),[()=>o("deployments.deployments")]),a(f,m)},headers:(f,G)=>{var m=nt();ke(m,21,()=>S,Ce,(g,A)=>{let P=()=>e(A).label;var _=at(),ie=c(_,!0);i(_),I(()=>w(ie,P())),a(g,_)}),i(m),a(f,m)},empty:(f,G)=>{{let m=r(()=>o("deployments.empty-state-title"));Ge(f,{get title(){return e(m)},class:"px-4",children:(g,A)=>{var P=lt(),_=z(P),ie=$(c(_));re(ie,{href:"https://docs.temporal.io/worker-deployments",newTab:!0,children:(h,C)=>{W();var X=L("Learn more");a(h,X)},$$slots:{default:!0}}),W(),i(_);var _e=$(_,2);{var he=h=>{Qe(h,{intent:"warning",icon:"warning",class:"px-12",children:(C,X)=>{W();var Y=L();I(()=>w(Y,e(y))),a(C,Y)},$$slots:{default:!0}})};u(_e,h=>{e(y)&&h(he)})}a(g,P)},$$slots:{default:!0}})}}}})}}),I(p=>w(ne,p),[()=>o("deployments.worker-deployments")]),a(oe,q),Ie()}var mt=v("<!> <!>",1);function Wt(oe,t){Ve(t,!1);const y=()=>We(qe,"$page",U),[U,ae]=Le();Ee();var D=mt(),S=z(D);je(S,{title:"Deployments",get url(){return y().url.href}});var q=$(S,2);it(q,{}),a(oe,D),Ie(),ae()}export{Wt as component};
