import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as Pe,f as p,i as Ce,c as se,g as e,v as r,e as a,r as s,b as ke,j as c,n as L,k as B,t as k,h,q as Ae,ax as Ee,s as we}from"../chunks/DZ1-1a5q.js";import{i as je}from"../chunks/Bby3K3wO.js";import{s as Be,a as Le}from"../chunks/TaaIktnz.js";import{p as We}from"../chunks/Bfttulpz.js";import{P as Me}from"../chunks/BvHFjIFb.js";import{s as V}from"../chunks/DxwvfIkW.js";import{i as P}from"../chunks/DnKg3jxh.js";import{k as ze}from"../chunks/DhxkE7tO.js";import{e as Te,i as De}from"../chunks/DGhzC9On.js";import{p as Ne}from"../chunks/un-AhKXL.js";import{T as be}from"../chunks/4Dr_hdgK.js";import{C as ye}from"../chunks/DTh3gV-B.js";import{L as Y}from"../chunks/CNFecvom.js";import{t as o}from"../chunks/DEjs8ZrU.js";import{g as Se}from"../chunks/BtlQSASF.js";import{j as Qe,p as fe}from"../chunks/DYPxXmfa.js";import{D as $e}from"../chunks/CWncMf59.js";import{A as Re}from"../chunks/BxPfauF3.js";import{B as Ge}from"../chunks/CqqsKTDn.js";import{E as He}from"../chunks/DEyS7vMf.js";import{A as Je}from"../chunks/CVijkXOH.js";import{f as Ke}from"../chunks/DXuzY5ti.js";var Oe=p('<td class="py-1 text-left"><!></td>'),Ue=p('<div class="flex items-center gap-2"><!> <!></div>'),Xe=p('<div class="flex items-center gap-2"><!> <!></div>'),Ye=p('<td class="whitespace-pre-line break-words py-1 text-left"><div class="flex flex-col gap-1"><!> <!> <div class="flex items-center gap-2"><!> <!></div></div></td>'),Ze=p("<p>-</p>"),et=p('<td class="truncate py-1 text-left"><div class="flex flex-col gap-1"><!> <!> <!></div></td>'),tt=p('<td class="w-24 truncate py-1"><!></td>'),rt=p("<tr></tr>");function ot(Z,t){Pe(t,!0);const u=()=>Le(We,"$page",K),[K,ee]=Be();var I,w,W,M,z,te,re,oe,v,$;const x=r(()=>(w=(I=t.deployment===null||t.deployment===void 0?void 0:t.deployment.latestVersionSummary)===null||I===void 0?void 0:I.deploymentVersion)===null||w===void 0?void 0:w.buildId),q=r(()=>((M=(W=t.deployment===null||t.deployment===void 0?void 0:t.deployment.rampingVersionSummary)===null||W===void 0?void 0:W.deploymentVersion)===null||M===void 0?void 0:M.buildId)||Se((z=t.deployment===null||t.deployment===void 0?void 0:t.deployment.routingConfig)===null||z===void 0?void 0:z.rampingVersion)),ie=r(()=>((te=t.deployment===null||t.deployment===void 0?void 0:t.deployment.rampingVersionSummary)===null||te===void 0?void 0:te.createTime)||((re=t.deployment===null||t.deployment===void 0?void 0:t.deployment.routingConfig)===null||re===void 0?void 0:re.rampingVersionChangedTime)),N=r(()=>((v=(oe=t.deployment===null||t.deployment===void 0?void 0:t.deployment.currentVersionSummary)===null||oe===void 0?void 0:oe.deploymentVersion)===null||v===void 0?void 0:v.buildId)||Se(($=t.deployment===null||t.deployment===void 0?void 0:t.deployment.routingConfig)===null||$===void 0?void 0:$.currentVersion)),me=r(()=>e(x)!==e(q)&&e(x)!==e(N)),y=r(()=>e(N)!=="__unversioned__"),Q=r(()=>e(y)?e(N):o("deployments.unversioned"));var i=rt();Te(i,21,()=>t.columns,({label:f})=>f,(f,F)=>{let b=()=>e(F).label;var g=Ce(),ae=se(g);{var ge=_=>{var m=Oe(),D=c(m);{let S=r(()=>o("common.copy-icon-title")),G=r(()=>o("common.copy-success-icon-title"));ye(D,{get content(){return t.deployment.name},get copyIconTitle(){return e(S)},get copySuccessIconTitle(){return e(G)},children:(A,H)=>{{let E=r(()=>Qe({namespace:u().params.namespace,deployment:t.deployment.name}));Y(A,{get href(){return e(E)},children:(O,ve)=>{L();var l=B();k(()=>V(l,t.deployment.name)),a(O,l)},$$slots:{default:!0}})}},$$slots:{default:!0}})}s(m),a(_,m)},_e=r(()=>b()===o("deployments.name")),R=_=>{var m=Ye(),D=c(m),S=c(D);{var G=n=>{var d=Ue(),J=c(d);{let U=r(()=>o("common.copy-icon-title")),C=r(()=>o("common.copy-success-icon-title"));ye(J,{get content(){return e(x)},get copyIconTitle(){return e(U)},get copySuccessIconTitle(){return e(C)},children:(T,X)=>{{let le=r(()=>fe({namespace:u().params.namespace,query:`TemporalWorkerDeploymentVersion="${t.deployment.name}:${e(x)}"`}));Y(T,{get href(){return e(le)},children:(he,Ve)=>{L();var xe=B();k(()=>V(xe,e(x))),a(he,xe)},$$slots:{default:!0}})}},$$slots:{default:!0}})}var ne=h(J,2);{let U=r(()=>o("deployments.latest"));$e(ne,{status:"Latest",get label(){return e(U)}})}s(d),a(n,d)};P(S,n=>{e(x)&&e(me)&&n(G)})}var A=h(S,2);{var H=n=>{var d=Xe(),J=c(d);{let C=r(()=>o("common.copy-icon-title")),T=r(()=>o("common.copy-success-icon-title"));ye(J,{get content(){return e(q)},get copyIconTitle(){return e(C)},get copySuccessIconTitle(){return e(T)},children:(X,le)=>{{let he=r(()=>fe({namespace:u().params.namespace,query:`TemporalWorkerDeploymentVersion="${t.deployment.name}:${e(q)}"`}));Y(X,{get href(){return e(he)},children:(Ve,xe)=>{L();var Ie=B();k(()=>V(Ie,e(q))),a(Ve,Ie)},$$slots:{default:!0}})}},$$slots:{default:!0}})}var ne=h(J,2);{var U=C=>{{let T=r(()=>o("deployments.ramping-percentage",{percentage:t.deployment.routingConfig.rampingVersionPercentage}));$e(C,{status:"Ramping",get label(){return e(T)}})}};P(ne,C=>{var T,X;(X=(T=t.deployment)==null?void 0:T.routingConfig)!=null&&X.rampingVersionPercentage&&C(U)})}s(d),a(n,d)};P(A,n=>{e(q)&&n(H)})}var E=h(A,2),O=c(E);{var ve=n=>{{let d=r(()=>o("common.copy-icon-title")),J=r(()=>o("common.copy-success-icon-title"));ye(n,{get content(){return e(N)},get copyIconTitle(){return e(d)},get copySuccessIconTitle(){return e(J)},children:(ne,U)=>{{let C=r(()=>fe({namespace:u().params.namespace,query:`TemporalWorkerDeploymentVersion="${t.deployment.name}:${e(N)}"`}));Y(ne,{get href(){return e(C)},children:(T,X)=>{L();var le=B();k(()=>V(le,e(Q))),a(T,le)},$$slots:{default:!0}})}},$$slots:{default:!0}})}},l=n=>{var d=B();k(()=>V(d,e(Q))),a(n,d)};P(O,n=>{e(y)?n(ve):n(l,!1)})}var j=h(O,2);{var ue=n=>{{let d=r(()=>o("deployments.current"));$e(n,{status:"Current",get label(){return e(d)}})}};P(j,n=>{e(y)&&n(ue)})}s(E),s(D),s(m),a(_,m)},de=r(()=>b()===o("deployments.build-id")),ce=_=>{var m=et(),D=c(m),S=c(D);{var G=l=>{be(l,{as:"p",get dateTime(){return t.deployment.latestVersionSummary.createTime}})};P(S,l=>{var j;e(x)&&e(me)&&((j=t.deployment.latestVersionSummary)!=null&&j.createTime)&&l(G)})}var A=h(S,2);{var H=l=>{be(l,{as:"p",get dateTime(){return e(ie)}})};P(A,l=>{e(q)&&e(ie)&&l(H)})}var E=h(A,2);{var O=l=>{{let j=r(()=>{var ue,n;return((n=(ue=t.deployment)==null?void 0:ue.currentVersionSummary)==null?void 0:n.createTime)||t.deployment.createTime});be(l,{as:"p",get dateTime(){return e(j)}})}},ve=l=>{var j=Ze();a(l,j)};P(E,l=>{e(y)?l(O):l(ve,!1)})}s(D),s(m),a(_,m)},pe=r(()=>b()===o("deployments.deployed")),qe=_=>{var m=tt(),D=c(m);{let S=r(()=>fe({namespace:u().params.namespace,query:`TemporalWorkerDeployment="${t.deployment.name}"`}));Y(D,{icon:"external-link",get href(){return e(S)},children:(G,A)=>{L();var H=B();k(E=>V(H,E),[()=>o("deployments.go-to-workflows")]),a(G,H)},$$slots:{default:!0}})}s(m),a(_,m)},Fe=r(()=>b()===o("deployments.actions"));P(ae,_=>{e(_e)?_(ge):e(de)?_(R,1):e(pe)?_(ce,2):e(Fe)&&_(qe,3)})}a(f,g)}),s(i),a(Z,i),ke(),ee()}var at=p('<caption class="sr-only" slot="caption"> </caption>'),nt=p("<th> </th>"),lt=p('<tr slot="headers" class="text-left"></tr>'),st=p('<p class="text-center">Enable Worker Deployments to manage your workers more effectively. <!>.</p> <!>',1),it=p('<div class="flex flex-wrap items-center gap-2"><h1> </h1> <!></div> <!>',1);function mt(Z,t){Pe(t,!0);let u=Ee("");const K=r(()=>Ne.params.namespace),ee=r(()=>()=>(we(u,""),Ke(e(K),"",I))),I=v=>{var $;we(u,(($=v==null?void 0:v.body)===null||$===void 0?void 0:$.message)||o("deployments.error-message-fetching"),!0)},w=[{label:o("deployments.name")},{label:o("deployments.build-id")},{label:o("deployments.deployed")},{label:o("deployments.actions")}];var W=it(),M=se(W),z=c(M),te=c(z,!0);s(z);var re=h(z,2);Ge(re,{class:"shrink-0",children:(v,$)=>{L();var x=B("Public Preview");a(v,x)},$$slots:{default:!0}}),s(M);var oe=h(M,2);ze(oe,()=>[e(K)],v=>{{let $=r(()=>o("deployments.deployments")),x=r(()=>o("common.per-page")),q=r(()=>o("common.next")),ie=r(()=>o("common.previous")),N=r(()=>o("deployments.empty-state-title")),me=r(()=>o("deployments.error-message-fetching"));Je(v,{get onFetch(){return e(ee)},onError:I,get"aria-label"(){return e($)},get pageSizeSelectLabel(){return e(x)},get nextButtonLabel(){return e(q)},get previousButtonLabel(){return e(ie)},get emptyStateMessage(){return e(N)},get errorMessage(){return e(me)},children:Ae,$$slots:{default:(y,Q)=>{const i=r(()=>Q.visibleItems);var f=Ce(),F=se(f);Te(F,17,()=>e(i),De,(b,g)=>{ot(b,{get deployment(){return e(g)},get columns(){return w}})}),a(y,f)},caption:(y,Q)=>{var i=at(),f=c(i,!0);s(i),k(F=>V(f,F),[()=>o("deployments.deployments")]),a(y,i)},headers:(y,Q)=>{var i=lt();Te(i,21,()=>w,De,(f,F)=>{let b=()=>e(F).label;var g=nt(),ae=c(g,!0);s(g),k(()=>V(ae,b())),a(f,g)}),s(i),a(y,i)},empty:(y,Q)=>{{let i=r(()=>o("deployments.empty-state-title"));He(y,{get title(){return e(i)},class:"px-4",children:(f,F)=>{var b=st(),g=se(b),ae=h(c(g));Y(ae,{href:"https://docs.temporal.io/worker-deployments",newTab:!0,children:(R,de)=>{L();var ce=B("Learn more");a(R,ce)},$$slots:{default:!0}}),L(),s(g);var ge=h(g,2);{var _e=R=>{Re(R,{intent:"warning",icon:"warning",class:"px-12",children:(de,ce)=>{L();var pe=B();k(()=>V(pe,e(u))),a(de,pe)},$$slots:{default:!0}})};P(ge,R=>{e(u)&&R(_e)})}a(f,b)},$$slots:{default:!0}})}}}})}}),k(v=>V(te,v),[()=>o("deployments.worker-deployments")]),a(Z,W),ke()}var dt=p("<!> <!>",1);function qt(Z,t){Pe(t,!1);const u=()=>Le(We,"$page",K),[K,ee]=Be();je();var I=dt(),w=se(I);Me(w,{title:"Deployments",get url(){return u().url.href}});var W=h(w,2);mt(W,{}),a(Z,I),ke(),ee()}export{qt as component};
