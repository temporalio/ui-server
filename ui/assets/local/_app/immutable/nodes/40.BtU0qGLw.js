import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as fe,f as u,i as G,c as g,g as e,e as a,r as s,b as ge,j as l,n as ne,k as se,t as q,v as r,h as w,q as Te,o as Ie}from"../chunks/B6CF0p-B.js";import{i as Se}from"../chunks/BC0HqUZ9.js";import{s as xe,a as we}from"../chunks/BrOjBIf0.js";import{p as De}from"../chunks/CVe5DPeE.js";import{P as Ve}from"../chunks/D-4C8DtU.js";import{s as S}from"../chunks/BSSJzwu8.js";import{a as Pe}from"../chunks/COSDPnZv.js";import{e as ce,i as _e}from"../chunks/DNXtLIpi.js";import{p as de}from"../chunks/COk2k574.js";import{i as z}from"../chunks/DVfqY6Lp.js";import{T as ve}from"../chunks/DRi4x2LZ.js";import{C as Ce}from"../chunks/DtNOqOv-.js";import{L as ue}from"../chunks/BzbSOU5m.js";import{t as o}from"../chunks/DEjs8ZrU.js";import{a as be,i as A,g as Be,b as Ne}from"../chunks/BtlQSASF.js";import{o as pe,p as Fe}from"../chunks/_thh_X_p.js";import{f as he}from"../chunks/DNNVWk-J.js";import{D as Le}from"../chunks/Q96Q5MOV.js";import{B as We}from"../chunks/DPFTx4F8.js";import{I as qe}from"../chunks/CsmBsHFA.js";import{T as je}from"../chunks/C6kWe34f.js";import{P as $e}from"../chunks/uISRcFfG.js";import{a as Ee}from"../chunks/DlJj6KxN.js";import{d as Re}from"../chunks/vO_crHjm.js";var He=u('<td class="text-left"><!></td>'),Qe=u("Since <!>",1),Ue=u("Since <!>",1),ze=u('<td class="text-left"><div class="flex items-center gap-2"><!> <!></div></td>'),Ae=u('<td class="w-24 whitespace-pre-line break-words"><!></td>'),Ge=u("<tr></tr>");function Je(J,t){fe(t,!0);const D=()=>we(De,"$page",k),[k,K]=xe();var V,T,y,I;const P=r(()=>(V=t.routingConfig.currentDeploymentVersion)===null||V===void 0?void 0:V.deploymentName),ee=r(()=>(T=t.routingConfig.currentDeploymentVersion)===null||T===void 0?void 0:T.buildId),M=r(()=>(y=t.routingConfig.rampingDeploymentVersion)===null||y===void 0?void 0:y.deploymentName),te=r(()=>(I=t.routingConfig.rampingDeploymentVersion)===null||I===void 0?void 0:I.buildId),O=r(()=>A(t.version)?t.version.deploymentVersion.deploymentName:Ne(t.version.version)),j=r(()=>A(t.version)?t.version.deploymentVersion.buildId:Be(t.version.version)),$=r(()=>e(O)===e(P)&&e(j)===e(ee)),C=r(()=>e(O)===e(M)&&e(j)===e(te)),E=r(()=>A(t.version)?t.version.status:t.version.drainageStatus),re=r(()=>A(t.version)?"WorkerDeploymentVersionStatus":"VersionDrainageStatus"),oe=r(()=>e($)?o("deployments.current"):e(C)?o("deployments.ramping"):e(E)?he(e(E),e(re)):o("common.inactive")),ie=r(()=>e($)?o("deployments.current"):e(C)?o("deployments.ramping-percentage",{percentage:t.routingConfig.rampingVersionPercentage}):e(E)?he(e(E),e(re)):o("common.inactive"));var m=Ge();ce(m,21,()=>t.columns,({label:_})=>_,(_,B)=>{let d=()=>e(B).label;var R=G(),le=g(R);{var b=n=>{var i=He(),h=l(i);{let N=r(()=>o("common.copy-icon-title")),x=r(()=>o("common.copy-success-icon-title"));Ce(h,{get content(){return e(j)},get copyIconTitle(){return e(N)},get copySuccessIconTitle(){return e(x)},children:(p,F)=>{{let H=r(()=>pe({namespace:D().params.namespace,query:`TemporalWorkerDeploymentVersion="${be(t.version)}"`}));ue(p,{get href(){return e(H)},children:(Q,ae)=>{ne();var v=se();q(()=>S(v,e(j))),a(Q,v)},$$slots:{default:!0}})}},$$slots:{default:!0}})}s(i),a(n,i)},X=n=>{var i=G(),h=g(i);{var N=p=>{var F=ze(),H=l(F),Q=l(H);Le(Q,{get status(){return e(oe)},get label(){return e(ie)}});var ae=w(Q,2);{var v=c=>{var f=Qe(),L=w(g(f));ve(L,{get dateTime(){return t.version.currentSinceTime}}),a(c,f)},U=c=>{var f=G(),L=g(f);{var Y=Z=>{var W=Ue(),me=w(g(W));ve(me,{get dateTime(){return t.version.rampingSinceTime}}),a(Z,W)};z(L,Z=>{var W;e(C)&&A(t.version)&&((W=t.version)!=null&&W.rampingSinceTime)&&Z(Y)},!0)}a(c,f)};z(ae,c=>{var f;e($)&&A(t.version)&&((f=t.version)!=null&&f.currentSinceTime)?c(v):c(U,!1)})}s(H),s(F),a(p,F)},x=p=>{var F=G(),H=g(F);{var Q=v=>{{let U=r(()=>{var c;return(c=t.version)==null?void 0:c.createTime});ve(v,{as:"td",class:"whitespace-pre-line break-words text-left",get dateTime(){return e(U)}})}},ae=v=>{var U=G(),c=g(U);{var f=L=>{var Y=Ae(),Z=l(Y);{let W=r(()=>pe({namespace:D().params.namespace,query:`TemporalWorkerDeploymentVersion="${be(t.version)}"`}));ue(Z,{icon:"external-link",get href(){return e(W)},children:(me,et)=>{ne();var ye=se();q(ke=>S(ye,ke),[()=>o("deployments.go-to-workflows")]),a(me,ye)},$$slots:{default:!0}})}s(Y),a(L,Y)};z(c,L=>{d()===o("deployments.actions")&&L(f)},!0)}a(v,U)};z(H,v=>{d()===o("deployments.deployed")?v(Q):v(ae,!1)},!0)}a(p,F)};z(h,p=>{d()===o("deployments.status")?p(N):p(x,!1)},!0)}a(n,i)};z(le,n=>{d()===o("deployments.build-id")?n(b):n(X,!1)})}a(_,R)}),s(m),a(J,m),ge(),K()}var Ke=u('<caption class="sr-only" slot="caption"> </caption>'),Me=u("<th> </th>"),Oe=u('<tr slot="headers"></tr>'),Xe=u('<header class="flex flex-row flex-wrap justify-between gap-8"><div class="relative flex w-full flex-col gap-4"><div class="flex items-center gap-2"><!> <!> </div> <div class="flex w-full items-center justify-between"><h1> </h1> <!></div></div></header> <div><!></div>',1);function Ye(J,t){fe(t,!0);const D=r(()=>de.params.namespace),k=r(()=>de.params.deployment),K=r(()=>({namespace:e(D),deploymentName:Re(e(k))})),V=r(()=>pe({namespace:de.params.namespace,query:`TemporalWorkerDeployment="${e(k)}"`})),T=r(()=>Ee(e(K))),y=[{label:o("deployments.build-id")},{label:o("deployments.status")},{label:o("deployments.deployed")},{label:o("deployments.actions")}];var I=Xe(),P=g(I),ee=l(P),M=l(ee),te=l(M);{let m=r(()=>Fe({namespace:e(D)}));ue(te,{get href(){return e(m)},icon:"chevron-left",children:(_,B)=>{ne();var d=se();q(R=>S(d,R),[()=>o("deployments.back-to-deployments")]),a(_,d)},$$slots:{default:!0}})}var O=w(te,2);qe(O,{name:"chevron-left"});var j=w(O);s(M);var $=w(M,2),C=l($),E=l(C,!0);s(C);var re=w(C,2);We(re,{get href(){return e(V)},children:(m,_)=>{ne();var B=se();q(d=>S(B,d),[()=>o("deployments.go-to-workflows")]),a(m,B)},$$slots:{default:!0}}),s($),s(ee),s(P);var oe=w(P,2),ie=l(oe);Pe(ie,()=>e(T),m=>{je(m,{rows:15})},(m,_)=>{{let B=r(()=>o("deployments.deployments")),d=r(()=>o("common.per-page")),R=r(()=>o("common.next-page")),le=r(()=>o("common.previous-page"));$e(m,{get"aria-label"(){return e(B)},get perPageLabel(){return e(d)},get nextPageButtonLabel(){return e(R)},get previousPageButtonLabel(){return e(le)},pageButtonLabel:b=>o("common.go-to-page",{page:b}),get items(){return e(_).workerDeploymentInfo.versionSummaries},children:Te,$$slots:{default:(b,X)=>{const n=r(()=>X.visibleItems);var i=G(),h=g(i);ce(h,17,()=>e(n),_e,(N,x)=>{Je(N,{get routingConfig(){return e(_).workerDeploymentInfo.routingConfig},get version(){return e(x)},get columns(){return y}})}),a(b,i)},caption:(b,X)=>{var n=Ke(),i=l(n,!0);s(n),q(h=>S(i,h),[()=>o("deployments.deployments")]),a(b,n)},headers:(b,X)=>{var n=Oe();ce(n,21,()=>y,_e,(i,h)=>{let N=()=>e(h).label;var x=Me(),p=l(x,!0);s(x),q(()=>S(p,N())),a(i,x)}),s(n),a(b,n)}}})}}),s(oe),q(()=>{S(j,` ${e(k)??""}`),S(E,e(k))}),a(J,I),ge()}var Ze=u("<!> <!>",1);function St(J,t){fe(t,!1);const D=()=>we(De,"$page",k),[k,K]=xe(),V=D().params.deployment;Se();var T=Ze(),y=g(T);{let P=Ie(()=>`Deployment | ${V}`);Ve(y,{get title(){return e(P)},get url(){return D().url.href}})}var I=w(y,2);Ye(I,{}),a(J,T),ge(),K()}export{St as component};
