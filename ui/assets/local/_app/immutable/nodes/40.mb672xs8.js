import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as ve,f as p,i as _e,c as E,g as e,v as t,e as a,r as n,b as pe,j as m,n as ee,k as te,t as N,h as _,q as we,o as De}from"../chunks/DZ1-1a5q.js";import{i as ke}from"../chunks/Bby3K3wO.js";import{s as be,a as he}from"../chunks/TaaIktnz.js";import{p as xe}from"../chunks/P-60DauF.js";import{P as Te}from"../chunks/BvHFjIFb.js";import{s as T}from"../chunks/DxwvfIkW.js";import{a as Ie}from"../chunks/Ave-ZrbK.js";import{e as me,i as ue}from"../chunks/DGhzC9On.js";import{p as ie}from"../chunks/DE54uinE.js";import{i as fe}from"../chunks/DnKg3jxh.js";import{T as le}from"../chunks/4Dr_hdgK.js";import{C as Se}from"../chunks/DTh3gV-B.js";import{L as de}from"../chunks/DIRNUFUF.js";import{t as o}from"../chunks/DEjs8ZrU.js";import{a as ge,i as $,g as Ve,b as Pe}from"../chunks/BtlQSASF.js";import{p as ce,q as Ce}from"../chunks/DCDVNMgg.js";import{f as ye}from"../chunks/DNNVWk-J.js";import{D as Be}from"../chunks/CWncMf59.js";import{B as Ne}from"../chunks/50GSh07Q.js";import{I as Fe}from"../chunks/BwERH40W.js";import{T as Le}from"../chunks/CnSkB0OL.js";import{P as We}from"../chunks/myhaxYEF.js";import{a as qe}from"../chunks/CnBt9KDD.js";import{d as je}from"../chunks/vO_crHjm.js";var $e=p('<td class="text-left"><!></td>'),Ee=p("Since <!>",1),Re=p("Since <!>",1),He=p('<td class="text-left"><div class="flex items-center gap-2"><!> <!></div></td>'),Qe=p('<td class="w-24 whitespace-pre-line break-words"><!></td>'),Ue=p("<tr></tr>");function ze(R,r){ve(r,!0);const b=()=>he(xe,"$page",h),[h,H]=be();var I,x,u,w;const S=t(()=>(I=r.routingConfig.currentDeploymentVersion)===null||I===void 0?void 0:I.deploymentName),M=t(()=>(x=r.routingConfig.currentDeploymentVersion)===null||x===void 0?void 0:x.buildId),Q=t(()=>(u=r.routingConfig.rampingDeploymentVersion)===null||u===void 0?void 0:u.deploymentName),O=t(()=>(w=r.routingConfig.rampingDeploymentVersion)===null||w===void 0?void 0:w.buildId),U=t(()=>$(r.version)?r.version.deploymentVersion.deploymentName:Pe(r.version.version)),F=t(()=>$(r.version)?r.version.deploymentVersion.buildId:Ve(r.version.version)),L=t(()=>e(U)===e(S)&&e(F)===e(M)),V=t(()=>e(U)===e(Q)&&e(F)===e(O)),W=t(()=>$(r.version)?r.version.status:r.version.drainageStatus),X=t(()=>$(r.version)?"WorkerDeploymentVersionStatus":"VersionDrainageStatus"),Y=t(()=>e(L)?o("deployments.current"):e(V)?o("deployments.ramping"):e(W)?ye(e(W),e(X)):o("common.inactive")),re=t(()=>e(L)?o("deployments.current"):e(V)?o("deployments.ramping-percentage",{percentage:r.routingConfig.rampingVersionPercentage}):e(W)?ye(e(W),e(X)):o("common.inactive"));var d=Ue();me(d,21,()=>r.columns,({label:f})=>f,(f,P)=>{let c=()=>e(P).label;var q=_e(),oe=E(q);{var g=l=>{var s=$e(),y=m(s);{let j=t(()=>o("common.copy-icon-title")),G=t(()=>o("common.copy-success-icon-title"));Se(y,{get content(){return e(F)},get copyIconTitle(){return e(j)},get copySuccessIconTitle(){return e(G)},children:(Z,J)=>{{let K=t(()=>ce({namespace:b().params.namespace,query:`TemporalWorkerDeploymentVersion="${ge(r.version)}"`}));de(Z,{get href(){return e(K)},children:(ne,i)=>{ee();var k=te();N(()=>T(k,e(F))),a(ne,k)},$$slots:{default:!0}})}},$$slots:{default:!0}})}n(s),a(l,s)},z=t(()=>c()===o("deployments.build-id")),v=l=>{var s=He(),y=m(s),j=m(y);Be(j,{get status(){return e(Y)},get label(){return e(re)}});var G=_(j,2);{var Z=i=>{var k=Ee(),se=_(E(k));le(se,{get dateTime(){return r.version.currentSinceTime}}),a(i,k)},J=t(()=>{var i;return e(L)&&$(r.version)&&((i=r.version)==null?void 0:i.currentSinceTime)}),K=i=>{var k=Re(),se=_(E(k));le(se,{get dateTime(){return r.version.rampingSinceTime}}),a(i,k)},ne=t(()=>{var i;return e(V)&&$(r.version)&&((i=r.version)==null?void 0:i.rampingSinceTime)});fe(G,i=>{e(J)?i(Z):e(ne)&&i(K,1)})}n(y),n(s),a(l,s)},D=t(()=>c()===o("deployments.status")),C=l=>{{let s=t(()=>{var y;return(y=r.version)==null?void 0:y.createTime});le(l,{as:"td",class:"whitespace-pre-line break-words text-left",get dateTime(){return e(s)}})}},A=t(()=>c()===o("deployments.deployed")),B=l=>{var s=Qe(),y=m(s);{let j=t(()=>ce({namespace:b().params.namespace,query:`TemporalWorkerDeploymentVersion="${ge(r.version)}"`}));de(y,{icon:"external-link",get href(){return e(j)},children:(G,Z)=>{ee();var J=te();N(K=>T(J,K),[()=>o("deployments.go-to-workflows")]),a(G,J)},$$slots:{default:!0}})}n(s),a(l,s)},ae=t(()=>c()===o("deployments.actions"));fe(oe,l=>{e(z)?l(g):e(D)?l(v,1):e(A)?l(C,2):e(ae)&&l(B,3)})}a(f,q)}),n(d),a(R,d),pe(),H()}var Ae=p('<caption class="sr-only" slot="caption"> </caption>'),Ge=p("<th> </th>"),Je=p('<tr slot="headers"></tr>'),Ke=p('<header class="flex flex-row flex-wrap justify-between gap-8"><div class="relative flex w-full flex-col gap-4"><div class="flex items-center gap-2"><!> <!> </div> <div class="flex w-full items-center justify-between"><h1> </h1> <!></div></div></header> <div><!></div>',1);function Me(R,r){ve(r,!0);const b=t(()=>ie.params.namespace),h=t(()=>ie.params.deployment),H=t(()=>({namespace:e(b),deploymentName:je(e(h))})),I=t(()=>ce({namespace:ie.params.namespace,query:`TemporalWorkerDeployment="${e(h)}"`})),x=t(()=>qe(e(H))),u=[{label:o("deployments.build-id")},{label:o("deployments.status")},{label:o("deployments.deployed")},{label:o("deployments.actions")}];var w=Ke(),S=E(w),M=m(S),Q=m(M),O=m(Q);{let d=t(()=>Ce({namespace:e(b)}));de(O,{get href(){return e(d)},icon:"chevron-left",children:(f,P)=>{ee();var c=te();N(q=>T(c,q),[()=>o("deployments.back-to-deployments")]),a(f,c)},$$slots:{default:!0}})}var U=_(O,2);Fe(U,{name:"chevron-left"});var F=_(U);n(Q);var L=_(Q,2),V=m(L),W=m(V,!0);n(V);var X=_(V,2);Ne(X,{get href(){return e(I)},children:(d,f)=>{ee();var P=te();N(c=>T(P,c),[()=>o("deployments.go-to-workflows")]),a(d,P)},$$slots:{default:!0}}),n(L),n(M),n(S);var Y=_(S,2),re=m(Y);Ie(re,()=>e(x),d=>{Le(d,{rows:15})},(d,f)=>{{let P=t(()=>o("deployments.deployments")),c=t(()=>o("common.per-page")),q=t(()=>o("common.next-page")),oe=t(()=>o("common.previous-page"));We(d,{get"aria-label"(){return e(P)},get perPageLabel(){return e(c)},get nextPageButtonLabel(){return e(q)},get previousPageButtonLabel(){return e(oe)},pageButtonLabel:g=>o("common.go-to-page",{page:g}),get items(){return e(f).workerDeploymentInfo.versionSummaries},children:we,$$slots:{default:(g,z)=>{const v=t(()=>z.visibleItems);var D=_e(),C=E(D);me(C,17,()=>e(v),ue,(A,B)=>{ze(A,{get routingConfig(){return e(f).workerDeploymentInfo.routingConfig},get version(){return e(B)},get columns(){return u}})}),a(g,D)},caption:(g,z)=>{var v=Ae(),D=m(v,!0);n(v),N(C=>T(D,C),[()=>o("deployments.deployments")]),a(g,v)},headers:(g,z)=>{var v=Je();me(v,21,()=>u,ue,(D,C)=>{let A=()=>e(C).label;var B=Ge(),ae=m(B,!0);n(B),N(()=>T(ae,A())),a(D,B)}),n(v),a(g,v)}}})}}),n(Y),N(()=>{T(F,` ${e(h)??""}`),T(W,e(h))}),a(R,w),pe()}var Oe=p("<!> <!>",1);function Dt(R,r){ve(r,!1);const b=()=>he(xe,"$page",h),[h,H]=be(),I=b().params.deployment;ke();var x=Oe(),u=E(x);{let S=De(()=>`Deployment | ${I}`);Te(u,{get title(){return e(S)},get url(){return b().url.href}})}var w=_(u,2);Me(w,{}),a(R,x),pe(),H()}export{Dt as component};
