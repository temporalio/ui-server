import{s as P,x as g,k as d,g as h,c as b,v as q,a as C,h as N}from"../chunks/scheduler.nTMv1MXo.js";import{S as I,i as R,g as S,b as c,e as B,t as m,c as k,a as _,m as $,d as w}from"../chunks/index.7zaskILM.js";import{p as T}from"../chunks/stores.75lZddK6.js";import{P as E}from"../chunks/page-title.pyR57ixz.js";import{t as F}from"../chunks/translate.gmg0mSLF.js";import{W as H}from"../chunks/workflow-padded-layout.66WYdowK.js";import{h as y,u as U}from"../chunks/await_block.s440_hbS.js";import{W as Q}from"../chunks/workers-list.Zs5YgCGv.js";import{T as V}from"../chunks/table.6TDVSm5q.js";import{b as W}from"../chunks/pollers-service.ralBbaUV.js";import{w as j}from"../chunks/workflow-run.1wGviyN1.js";import{p as z,g as A}from"../chunks/task-queue-compatibility.52mtxoi2.js";function D(s){const r=s.slice(),t=A(r[0].pollers);return r[8]=t,r}function G(s){let r,t;return r=new Q({props:{taskQueue:s[2],workers:s[0]}}),{c(){k(r.$$.fragment)},l(e){_(r.$$.fragment,e)},m(e,o){$(r,e,o),t=!0},p(e,o){const n={};o&4&&(n.taskQueue=e[2]),o&1&&(n.workers=e[0]),r.$set(n)},i(e){t||(m(r.$$.fragment,e),t=!0)},o(e){c(r.$$.fragment,e),t=!1},d(e){w(r,e)}}}function J(s){let r,t,e,o={ctx:s,current:null,token:null,hasCatch:!0,pending:M,then:L,catch:K,value:9,blocks:[,,,]};return y(t=W({namespace:s[4],buildIds:s[8],taskQueue:s[2]}),o),{c(){r=g(),o.block.c()},l(n){r=g(),o.block.l(n)},m(n,l){d(n,r,l),o.block.m(n,o.anchor=l),o.mount=()=>r.parentNode,o.anchor=r,e=!0},p(n,l){s=n,o.ctx=s,l&5&&t!==(t=W({namespace:s[4],buildIds:s[8],taskQueue:s[2]}))&&y(t,o)||U(o,s,l)},i(n){e||(m(o.block),e=!0)},o(n){for(let l=0;l<3;l+=1){const f=o.blocks[l];c(f)}e=!1},d(n){n&&h(r),o.block.d(n),o.token=null,o=null}}}function K(s){let r,t;return r=new Q({props:{taskQueue:s[2],workers:s[0]}}),{c(){k(r.$$.fragment)},l(e){_(r.$$.fragment,e)},m(e,o){$(r,e,o),t=!0},p(e,o){const n={};o&4&&(n.taskQueue=e[2]),o&1&&(n.workers=e[0]),r.$set(n)},i(e){t||(m(r.$$.fragment,e),t=!0)},o(e){c(r.$$.fragment,e),t=!1},d(e){w(r,e)}}}function L(s){let r,t;return r=new Q({props:{taskQueue:s[2],workers:s[0],compatibility:s[3],reachability:s[9]}}),{c(){k(r.$$.fragment)},l(e){_(r.$$.fragment,e)},m(e,o){$(r,e,o),t=!0},p(e,o){const n={};o&4&&(n.taskQueue=e[2]),o&1&&(n.workers=e[0]),o&8&&(n.compatibility=e[3]),o&5&&(n.reachability=e[9]),r.$set(n)},i(e){t||(m(r.$$.fragment,e),t=!0)},o(e){c(r.$$.fragment,e),t=!1},d(e){w(r,e)}}}function M(s){let r,t;return r=new V({props:{rows:3}}),{c(){k(r.$$.fragment)},l(e){_(r.$$.fragment,e)},m(e,o){$(r,e,o),t=!0},p:q,i(e){t||(m(r.$$.fragment,e),t=!0)},o(e){c(r.$$.fragment,e),t=!1},d(e){w(r,e)}}}function O(s){let r,t,e,o;const n=[J,G],l=[];function f(a,i){return a[1]?0:1}function u(a,i){return i===0?D(a):a}return r=f(s),t=l[r]=n[r](u(s,r)),{c(){t.c(),e=g()},l(a){t.l(a),e=g()},m(a,i){l[r].m(a,i),d(a,e,i),o=!0},p(a,[i]){let p=r;r=f(a),r===p?l[r].p(u(a,r),i):(S(),c(l[p],1,1,()=>{l[p]=null}),B(),t=l[r],t?t.p(u(a,r),i):(t=l[r]=n[r](u(a,r)),t.c()),m(t,1),t.m(e.parentNode,e))},i(a){o||(m(t),o=!0)},o(a){c(t),o=!1},d(a){a&&h(e),l[r].d(a)}}}function X(s,r,t){let e,o,n,l,f,u,a;b(s,j,p=>t(6,u=p)),b(s,T,p=>t(7,a=p));let{namespace:i}=a.params;return s.$$.update=()=>{s.$$.dirty&64&&t(0,{workers:e,workflow:o,compatibility:n}=u,e,(t(5,o),t(6,u)),(t(3,n),t(6,u))),s.$$.dirty&32&&t(2,l=o==null?void 0:o.taskQueue),s.$$.dirty&1&&t(1,f=z(e.pollers))},[e,f,l,n,i,o,u]}class Y extends I{constructor(r){super(),R(this,r,X,O,P,{})}}function Z(s){let r,t;return r=new Y({}),{c(){k(r.$$.fragment)},l(e){_(r.$$.fragment,e)},m(e,o){$(r,e,o),t=!0},i(e){t||(m(r.$$.fragment,e),t=!0)},o(e){c(r.$$.fragment,e),t=!1},d(e){w(r,e)}}}function v(s){let r,t,e,o;return r=new E({props:{title:`${F("workflows.workers-tab")} | ${s[1]}`,url:s[0].url.href}}),e=new H({props:{$$slots:{default:[Z]},$$scope:{ctx:s}}}),{c(){k(r.$$.fragment),t=C(),k(e.$$.fragment)},l(n){_(r.$$.fragment,n),t=N(n),_(e.$$.fragment,n)},m(n,l){$(r,n,l),d(n,t,l),$(e,n,l),o=!0},p(n,[l]){const f={};l&1&&(f.url=n[0].url.href),r.$set(f);const u={};l&4&&(u.$$scope={dirty:l,ctx:n}),e.$set(u)},i(n){o||(m(r.$$.fragment,n),m(e.$$.fragment,n),o=!0)},o(n){c(r.$$.fragment,n),c(e.$$.fragment,n),o=!1},d(n){n&&h(t),w(r,n),w(e,n)}}}function x(s,r,t){let e;b(s,T,n=>t(0,e=n));const o=e.params.workflow;return[e,o]}class me extends I{constructor(r){super(),R(this,r,x,v,P,{})}}export{me as component};
