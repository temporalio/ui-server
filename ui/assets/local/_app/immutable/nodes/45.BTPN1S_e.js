import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as ye,b as be,g as e,o as I,l as re,a as Ne,f as Q,c as ne,e as i,m as N,av as ge,M as m,h as d,s as H,j as x,n as we,k as pe,r as h,t as S,I as w,i as je,bK as ze,ac as hr,v as o,d as Kt,u as Zt,at as wt,aQ as xr,q as Rt,aO as Mt}from"../chunks/B6CF0p-B.js";import{i as Ce,t as yr}from"../chunks/BC0HqUZ9.js";import{a as ae,s as Re,b as he,m as br,p as M,l as kt}from"../chunks/BrOjBIf0.js";import{p as rt}from"../chunks/BB-B0BNC.js";import{P as Tr}from"../chunks/D-4C8DtU.js";import{t as r}from"../chunks/DEjs8ZrU.js";import{s as L,d as Er,e as it}from"../chunks/BSSJzwu8.js";import{i as Z}from"../chunks/DVfqY6Lp.js";import{s as De,c as er}from"../chunks/CVNTlwXL.js";import{d as Pr}from"../chunks/DnBsIdq8.js";import{p as Wt}from"../chunks/54G4BJrX.js";import{E as Ir,L as qe,D as ht,g as Ar}from"../chunks/ByxZbLSJ.js";import{T as Wr,a as Pt}from"../chunks/DtAHtpbf.js";import{W as Hr}from"../chunks/D7ot3g7p.js";import{T as Sr}from"../chunks/DgoFPPn0.js";import{b as tr,d as Dt,e as lt,f as xt,i as Ke,a as Cr,j as Ve,c as Be,p as ct,k as Rr,l as Gt,m as Nt,h as jr}from"../chunks/BTYDKgXU.js";import{w as yt}from"../chunks/Dpt4VnOq.js";import{e as nt,i as bt}from"../chunks/DNXtLIpi.js";import{w as vt,g as Ht,a as Lr,o as zr}from"../chunks/CfXw_P7u.js";import{C as ft}from"../chunks/yqppPbVq.js";import{I as Qe}from"../chunks/CsmBsHFA.js";import{M as Or}from"../chunks/Bxfjlwn1.js";import{c as Fr,d as Mr,b as gt}from"../chunks/C8yzQBLH.js";import{M as Dr}from"../chunks/8iXXs4OF.js";import{l as It,Y as Ut,I as Vt,o as Gr,F as Nr,Z as Ur,_ as Vr,$ as Br,a0 as rr,a1 as qr,a2 as Qr}from"../chunks/zzupif8P.js";import{t as Yr}from"../chunks/BG-qLzHO.js";import{i as Jr}from"../chunks/HVeMsM_a.js";import{C as dt,b as Xr,T as et,c as Kr,d as Zr,M as en,t as tn,f as mt}from"../chunks/ByPoo5f5.js";import{k as jt}from"../chunks/CmR3ARMz.js";import{s as fe,b as rn}from"../chunks/Rrz4rnkO.js";import{b as nr}from"../chunks/xT9Qazfc.js";import{t as Lt,T as nn}from"../chunks/DRi4x2LZ.js";import{i as St}from"../chunks/Dzb719w0.js";import{s as Ze}from"../chunks/Cp8cxTKk.js";import{u as _t,o as ar}from"../chunks/CtQjrHKC.js";import{W as an}from"../chunks/CA5yP-F8.js";import{B as on}from"../chunks/CI3kyh0Y.js";import{a as sn}from"../chunks/COSDPnZv.js";import{g as or}from"../chunks/C2uj3Pk_.js";import{f as ln,b as cn}from"../chunks/LKaTjVhH.js";import{y as dn}from"../chunks/qGBPmX0J.js";import{c as vn,B as Fe}from"../chunks/D3maMAGB.js";import{a as sr}from"../chunks/DHGlOZyE.js";import{b as un}from"../chunks/DsKFGCQq.js";import{A as zt}from"../chunks/DFhL1XQn.js";import{L as ir}from"../chunks/BheOCNI_.js";import{s as fn}from"../chunks/ByTIZu23.js";import{A as lr}from"../chunks/oaDoiglO.js";import{C as $t}from"../chunks/Bv9Mn5q8.js";import{M as gn}from"../chunks/BUssNiBy.js";import{R as mn,a as At}from"../chunks/DbPZEy9l.js";import{c as pn,d as _n}from"../chunks/CpkAVYt_.js";import{g as $n,b as wn,a as kn}from"../chunks/8vjqDwAx.js";import{s as Ct}from"../chunks/ikbOq2O5.js";import{i as hn}from"../chunks/C9J85efB.js";import{d as Bt,a as qt}from"../chunks/DRvaxOdj.js";import{I as Qt}from"../chunks/DJ1GSsPs.js";import{t as xn,a as yn}from"../chunks/DRO9Fqoc.js";import{T as bn,a as pt}from"../chunks/DParKTEG.js";import{T as Tn}from"../chunks/rtIOzB6o.js";function En(y,t){ye(t,!1);const l=()=>ae(tr,"$filteredEventHistory",s),P=()=>ae(Dt,"$decodeEventHistory",s),[s,n]=Re();Ce(),Hr(y,{get events(){return l()},decode:a=>{{let v=I(()=>r("events.decode-event-history"));Sr(a,{get label(){return e(v)},id:"decode-event-history","data-testid":"decode-event-history-toggle",get checked(){return br(),P()},set checked(p){he(Dt,p)},$$legacy:!0})}},$$slots:{decode:!0}}),be(),n()}var Pn=Q("<!> <!> <!>",1),In=Q('<div class="border-t border-subtle px-4"><!></div>'),An=Q('<div data-testid="event-summary-table"><!></div>'),Wn=Q('<div class="flex items-center justify-end gap-4 pt-4 lg:pt-8"><div class="flex items-center gap-2 px-4"><!></div></div> <!>',1);function Hn(y,t){ye(t,!1);const l=()=>ae(yt,"$workflowRun",a),P=()=>ae(lt,"$eventFilterSort",a),s=()=>ae(xt,"$fullEventHistory",a),n=()=>ae(Ke,"$eventViewType",a),f=()=>ae(rt,"$page",a),[a,v]=Re(),p=N(),g=N(),A=N(),b=N(),u=N(),c=N(),$=N();var k=N(),_=N(),C=N(),z=N();let T=M(t,"history",8),R=M(t,"groups",8),F=M(t,"minimized",8,!0);const O=()=>{he(Ke,"feed")},D=()=>{he(Ke,"compact")},W=()=>{he(Ke,"json")};re(()=>(e(p),l()),()=>{(j=>{H(p,j.workflow)})(l())}),re(()=>P(),()=>{H(g,P()==="descending")}),re(()=>s(),()=>{H(A,!s().length)}),re(()=>n(),()=>{H(b,n()==="compact")}),re(()=>(ge(_),ge(k),f(),ge(z),ge(C)),()=>{he(Cr,!(H(_,H(k,f().url)===null||ge(k)===void 0?void 0:ge(k).searchParams)===null||ge(_)===void 0)&&ge(_).get("category")?H(z,H(C,f().url)===null||ge(C)===void 0?void 0:ge(C).searchParams)===null||ge(z)===void 0?void 0:ge(z).get("category").split(","):void 0)}),re(()=>e(p),()=>{H(u,e(p).pendingActivities)}),re(()=>e(p),()=>{H(c,e(p).pendingNexusOperations)}),re(()=>(e(b),m(R()),e(g),e(c),e(u),m(T())),()=>{H($,e(b)?R():e(g)?[...e(c),...e(u),...T()]:[...T(),...e(u),...e(c)])}),Ne(),Ce();var ee=Wn(),U=ne(ee),J=x(U),Y=x(J);Wr(Y,{children:(j,B)=>{var X=Pn(),te=ne(X);{let oe=I(()=>n()==="feed");Pt(te,{get active(){return e(oe)},"data-testid":"feed",icon:"feed",class:"h-10",$$events:{click:O},children:(le,Le)=>{we();var He=pe("All");i(le,He)},$$slots:{default:!0}})}var q=d(te,2);{let oe=I(()=>n()==="compact");Pt(q,{get active(){return e(oe)},"data-testid":"compact",icon:"compact",class:"h-10",$$events:{click:D},children:(le,Le)=>{we();var He=pe("Compact");i(le,He)},$$slots:{default:!0}})}var $e=d(q,2);{let oe=I(()=>n()==="json");Pt($e,{get active(){return e(oe)},"data-testid":"json",icon:"json",class:"h-10",$$events:{click:W},children:(le,Le)=>{we();var He=pe("JSON");i(le,He)},$$slots:{default:!0}})}i(j,X)},$$slots:{default:!0}}),h(J),h(U);var _e=d(U,2);{var Ee=j=>{var B=In(),X=x(B);En(X,{}),h(B),i(j,B)},V=j=>{var B=An(),X=x(B);Ir(X,{get updating(){return e(A)},get items(){return e($)},get groups(){return R()},get compact(){return e(b)},get minimized(){return F()}}),h(B),i(j,B)};Z(_e,j=>{n()==="json"?j(Ee):j(V,!1)})}i(y,ee),be(),v()}const cr=200,Sn=vt(0),Cn=vt(cr),tt=vt([]),ut=vt(0),Yt=()=>{tt.set([]),ut.set(0),Sn.set(0),Cn.set(cr)},Rn=()=>{tt.set([]),ut.set(0)},dr=y=>{Ht(tt).includes(y.id)?(ut.set(0),tt.set([])):tt.set([y.id])},jn=y=>y==null?void 0:y.nexus;var Ln=Q("<div><!></div>"),zn=Q('<span class="hidden text-sm md:block"> </span>'),On=Q("<!> <!> <!> <!> <!>",1),Fn=Q("<!> <!>",1);function Mn(y,t){ye(t,!1);const l=()=>ae(Yr,"$temporalVersion",a),P=()=>ae(rt,"$page",a),s=()=>ae(Ve,"$eventTypeFilter",a),n=()=>ae(Be,"$eventStatusFilter",a),f=()=>ae(Ke,"$eventViewType",a),[a,v]=Re(),p=N(),g=N(),A=N();var b=N();let u=M(t,"compact",8,!1),c=M(t,"minimized",8,!0),$=vt(!1);const k=({value:_})=>{Rn(),he(Ve,s().some(C=>C===_)?s().filter(C=>C!==_):[...s(),_])};re(()=>(m(u()),It),()=>{H(p,u()?Ut.map(_=>_.value):It.map(_=>_.value))}),re(()=>(m(u()),dt),()=>{H(g,[...(u()?Ut:It).map(_=>({..._,label:r(_.label),icon:dt[_.value],description:r(_.description)}))])}),re(()=>(l(),e(g)),()=>{Jr("1.21.0",l())&&H(g,e(g).filter(({value:_})=>_!=="update"))}),re(()=>(ge(b),P(),e(g)),()=>{jn(H(b,P().data.systemInfo)===null||ge(b)===void 0?void 0:ge(b).capabilities)||H(g,e(g).filter(({value:_})=>_!=="nexus"))}),re(()=>(s(),e(p)),()=>{H(A,s().length<e(p).length)}),Ne(),Ce(),Fr(y,{get open(){return $},children:(_,C)=>{var z=Fn(),T=ne(z);Or(T,{controls:"status-menu",size:"sm",leading:O=>{var D=Ln();let W;var ee=x(D);{let U=I(()=>e(A)&&"pt-0.5 text-white");Qe(ee,{name:"filter",get class(){return e(U)}})}h(D),S(()=>W=De(D,1,"flex h-6 w-6 flex-col items-center justify-center rounded-full transition-colors duration-200",null,W,{"bg-interactive":e(A)})),i(O,D)},children:(O,D)=>{var W=zn(),ee=x(W,!0);h(W),S(U=>L(ee,U),[()=>(m(r),w(()=>r("common.filter")))]),i(O,W)},$$slots:{leading:!0,default:!0}});var R=d(T,2);{let F=I(()=>c()?"top-right":"right");Mr(R,{id:"event-type-menu",keepOpen:!0,get position(){return e(F)},class:"w-[220px] md:w-[360px]",children:(O,D)=>{var W=On(),ee=ne(W);{const V=B=>{{let X=I(()=>(n(),s(),e(p),w(()=>!n()&&s().length===e(p).length))),te=I(()=>(m(r),w(()=>r("common.all"))));ft(B,{get checked(){return e(X)},get label(){return e(te)},labelHidden:!0,class:"mt-px",$$events:{change:()=>{he(Ve,e(p)),he(Be,!1)}}})}};let j=I(()=>(m(r),w(()=>r("common.all"))));gt(ee,{get"data-testid"(){return e(j)},onclick:()=>{he(Ve,e(p)),he(Be,!1)},leading:V,children:(B,X)=>{we();var te=pe();S(q=>L(te,q),[()=>(m(r),w(()=>r("common.all")))]),i(B,te)},$$slots:{leading:!0,default:!0}})}var U=d(ee,2);{var J=V=>{{const j=te=>{{let q=I(()=>(m(r),w(()=>r("common.all"))));ft(te,{get checked(){return n()},get label(){return e(q)},labelHidden:!0,class:"mt-px",$$events:{change:()=>{he(Ve,e(p)),he(Be,!n())}}})}};let B=I(()=>(m(r),w(()=>r("common.pending-and-failed")))),X=I(()=>(m(r),w(()=>r("common.pending-and-failed-description"))));gt(V,{get"data-testid"(){return e(B)},get description(){return e(X)},onclick:()=>{he(Ve,e(p)),he(Be,!n())},class:"items-start",leading:j,children:(te,q)=>{we();var $e=pe();S(oe=>L($e,oe),[()=>(m(r),w(()=>r("common.pending-and-failed")))]),i(te,$e)},$$slots:{leading:!0,default:!0}})}};Z(U,V=>{f()!=="json"&&V(J)})}var Y=d(U,2);{const V=B=>{{let X=I(()=>(n(),s(),w(()=>!n()&&!s().length))),te=I(()=>(m(r),w(()=>r("common.none"))));ft(B,{get checked(){return e(X)},get label(){return e(te)},labelHidden:!0,class:"mt-px",$$events:{change:()=>{he(Ve,[]),he(Be,!1)}}})}};let j=I(()=>(m(r),w(()=>r("common.none"))));gt(Y,{get"data-testid"(){return e(j)},onclick:()=>{he(Ve,[]),he(Be,!1)},leading:V,children:(B,X)=>{we();var te=pe();S(q=>L(te,q),[()=>(m(r),w(()=>r("common.none")))]),i(B,te)},$$slots:{leading:!0,default:!0}})}var _e=d(Y,2);Dr(_e);var Ee=d(_e,2);nt(Ee,1,()=>e(g),bt,(V,j)=>{gt(V,{get"data-testid"(){return e(j),w(()=>e(j).label)},get description(){return e(j),w(()=>e(j).description)},onclick:()=>{k(e(j))},class:"items-start",leading:X=>{{let te=I(()=>(s(),e(j),w(()=>s().some(q=>q===e(j).value))));ft(X,{get checked(){return e(te)},get label(){return e(j),w(()=>e(j).label)},labelHidden:!0,class:"mt-px",$$events:{click:()=>k(e(j))}})}},children:(X,te)=>{we();var q=pe();S(()=>L(q,(e(j),w(()=>e(j).label)))),i(X,q)},$$slots:{leading:!0,default:!0}})}),i(O,W)},$$slots:{default:!0}})}i(_,z)},$$slots:{default:!0}}),be(),v()}function Dn(y,t){ye(t,!1);const l=()=>ae(ct,"$pauseLiveUpdates",P),[P,s]=Re(),n=N(),f=N();let a=M(t,"workflow",8),v=M(t,"startTime",8);const p=()=>{const $=new Date;return $.setSeconds($.getSeconds()+1),$};let g;const A=$=>{$&&(clearInterval(g),g=null)},b=$=>{$?(clearInterval(g),g=null):!g&&a().isRunning&&(g=setInterval(()=>{H(n,p())},1e3))};Lr(()=>{clearInterval(g),g=null,he(ct,!1)}),re(()=>m(a()),()=>{H(n,(a()===null||a()===void 0?void 0:a().endTime)||p())}),re(()=>(m(v()),e(n)),()=>{H(f,_t({start:v(),end:e(n),onlyUnderSecond:!1}))}),re(()=>m(a()),()=>{A(a().endTime)}),re(()=>l(),()=>{b(l())}),Ne(),Ce();var u=je(),c=ne(u);Ze(c,t,"default",{get endTime(){return e(n)},get duration(){return e(f)}},null),i(y,u),be(),s()}var Gn=Q("<div><!></div>");function Nn(y,t){const l=kt(t,["children","$$slots","$$events","$$legacy"]),P=kt(l,["namespace","workflowId","runId","viewportHeight","onLoad"]);ye(t,!1);let s=M(t,"namespace",8),n=M(t,"workflowId",8),f=M(t,"runId",8,""),a=M(t,"viewportHeight",8,360),v=M(t,"onLoad",8,()=>{});const p=async()=>{const[u,c]=await Promise.all([dn({namespace:s(),workflowId:n(),runId:f()}),ln({namespace:s(),workflowId:n(),runId:f()})]);return{workflow:u.workflow,history:c}},g=(u,c)=>{var $;v()();const k=($=u==null?void 0:u.pendingActivities)!==null&&$!==void 0?$:[];return or(c,"ascending",k)};Ce();var A=je(),b=ne(A);sn(b,()=>w(p),null,(u,c)=>{var $=I(()=>{var{workflow:T,history:R}=e(c);return{workflow:T,history:R}}),k=I(()=>e($).workflow),_=I(()=>e($).history),C=Gn(),z=x(C);{let T=I(()=>(m(e(k)),m(e(_)),w(()=>g(e(k),e(_)))));vr(z,{get viewportHeight(){return a()},get workflow(){return e(k)},get groups(){return e(T)},readOnly:!0})}h(C),S(()=>De(C,1,`cursor-pointer overflow-auto ${m(P),w(()=>P.class)??""}`)),i(u,C)}),i(y,A),be()}var Un=Q('<div class="flex items-center gap-1"><!> </div>'),Vn=Q(" <!>",1),Bn=Q('<div class="surface-primary p-4"><div class="font-medium leading-4 text-secondary">Child Workflow</div> <!></div>'),qn=ze('<g role="button" tabindex="0" class="relative z-50 svelte-1qsv8v3"><foreignObject><div class="flex flex-col"><div class="relative flex h-full items-center justify-between bg-slate-50 text-sm dark:bg-slate-800"><div class="flex h-full items-center gap-4 px-2"><!> <!></div> <div class="flex items-center gap-4"><!></div></div> <div class="surface-primary"><!></div> <!></div></foreignObject></g>');function Qn(y,t){ye(t,!1);const l=()=>ae(rt,"$page",P),[P,s]=Re(),n=N(),f=N(),a=N(),v=N(),p=N(),g=N(),A=N();var b=N(),u=N();let c=M(t,"group",8),$=M(t,"canvasWidth",8),k=M(t,"x",8,0),_=M(t,"y",8),C=N();const z=q=>{he(ut,q)},T=async()=>{await hr(),H(n,e(C))};re(()=>e(C),()=>{H(n,e(C)||0)}),re(()=>e(n),()=>{z(e(n)||0)}),re(()=>m(c()),()=>{H(f,(c()===null||c()===void 0?void 0:c().finalClassification)||(c()===null||c()===void 0?void 0:c().classification))}),re(()=>(e(a),l()),()=>{(q=>{H(a,q.namespace)})(l().params)}),re(()=>m($()),()=>{H(v,$())}),re(()=>m(c()),()=>{H(p,c().displayName)}),re(()=>(m(c()),Vt),()=>{H(g,c()&&c().eventList.find(Vt))}),re(()=>(ge(b),m(c()),ge(u)),()=>{H(A,ar({start:H(b,c()===null||c()===void 0?void 0:c().initialEvent)===null||ge(b)===void 0?void 0:ge(b).eventTime,end:H(u,c()===null||c()===void 0?void 0:c().lastEvent)===null||ge(u)===void 0?void 0:ge(u).eventTime,includeMilliseconds:!0}))}),re(()=>(m(c()),r),()=>{!(c()===null||c()===void 0)&&c().pendingActivity&&(c().pendingActivity.paused?H(f,r("workflows.paused")):c().pendingActivity.attempt>1?H(f,r("events.event-classification.retrying")):H(f,r("events.event-classification.pending")))}),Ne(),Ce();var R=qn(),F=x(R),O=x(F),D=x(O),W=x(D),ee=x(W);{var U=q=>{an(q,{get status(){return e(f)}})};Z(ee,q=>{e(f)&&q(U)})}var J=d(ee),Y=d(J);{var _e=q=>{var $e=Un(),oe=x($e);Qe(oe,{name:"clock"});var le=d(oe);h($e),S(()=>L(le,` ${e(A)??""}`)),i(q,$e)};Z(Y,q=>{e(A)&&q(_e)})}h(W);var Ee=d(W,2),V=x(Ee);on(V,{variant:"ghost",size:"xs",$$events:{click:()=>dr(c())},children:(q,$e)=>{we();var oe=Vn(),le=ne(oe),Le=d(le);Qe(Le,{name:"close"}),S(He=>L(le,`${He??""} `),[()=>(m(r),w(()=>r("common.close")))]),i(q,oe)},$$slots:{default:!0}}),h(Ee),h(D);var j=d(D,2),B=x(j);Xr(B,{get group(){return c()},get event(){return m(c()),w(()=>c().initialEvent)}}),h(j);var X=d(j,2);{var te=q=>{var $e=Bn(),oe=d(x($e),2);jt(oe,()=>(m(c()),w(()=>c().eventList.length)),le=>{Nn(le,{get namespace(){return e(a)},get workflowId(){return e(g),w(()=>e(g).attributes.workflowExecution.workflowId)},get runId(){return e(g),w(()=>e(g).attributes.workflowExecution.runId)},viewportHeight:320,class:"surface-primary overflow-x-hidden border-t border-subtle",onLoad:T})}),h($e),i(q,$e)};Z(X,q=>{e(g)&&q(te)})}h(O),h(F),h(R),S(()=>{fe(F,"x",k()),fe(F,"y",_()),fe(F,"width",e(v)),fe(F,"height",e(n)),L(J,` ${e(p)??""} `)}),nr(O,"offsetHeight",q=>H(C,q)),i(y,R),be(),s()}var Yn=ze('<text fill="#fff" font-size="12" class="svelte-7nuc95"> </text>'),Jn=ze("<!><!>",1),Xn=ze("<!><!>",1);function Kn(y,t){ye(t,!0);let l=M(t,"x1",3,0),P=M(t,"x2",3,1e3),s=M(t,"timelineHeight",3,1e3);const{radius:n}=et,f=20,a=o(()=>P()-l()),v=o(()=>e(a)/f);var p=Xn(),g=ne(p);{let b=o(()=>n/2),u=o(()=>[l(),s()]),c=o(()=>[l()+e(a),s()]);qe(g,{get strokeWidth(){return e(b)},get startPoint(){return e(u)},get endPoint(){return e(c)}})}var A=d(g);nt(A,17,()=>Array(f),bt,(b,u,c)=>{const $=o(()=>l()+c*e(v)),k=o(()=>s()+n*2);var _=Jn(),C=ne(_);{var z=F=>{{let O=o(()=>[e($),0]),D=o(()=>[e($),s()]);qe(F,{strokeWidth:.5,get startPoint(){return e(O)},get endPoint(){return e(D)},strokeDasharray:"2"})}};Z(C,F=>{c!==0&&F(z)})}var T=d(C);{var R=F=>{var O=Yn(),D=x(O,!0);h(O),S(W=>{fe(O,"transform",`rotate(90, ${e($)??""}, ${e(k)??""})`),fe(O,"x",e($)-n),fe(O,"y",e(k)+3),L(D,W)},[()=>ar({start:t.startTime,end:new Date(new Date(t.startTime.toString()).getTime()+t.duration/f*c),includeMilliseconds:t.duration/f<1e3})]),i(F,O)};Z(T,F=>{c!==0&&F(R)})}i(b,_)}),i(y,p),be()}var Zn=ze("<text><!></text>"),ea=ze("<!><!><!>",1);function ta(y,t){ye(t,!0);var l;let P=M(t,"point",19,()=>[0,0]),s=M(t,"category",3,void 0),n=M(t,"status",3,"none"),f=M(t,"fontSize",3,"13px"),a=M(t,"fontWeight",3,"400"),v=M(t,"textAnchor",3,"start"),p=M(t,"backdrop",3,!1),g=M(t,"backdropHeight",3,0),A=M(t,"icon",3,void 0),b=M(t,"config",3,void 0),u=M(t,"label",3,!1);const c=o(()=>xr(P(),2)),$=o(()=>e(c)[0]),k=o(()=>e(c)[1]);let _=wt(void 0);const C=o(()=>A()&&b()),z=o(()=>((l=e(_)===null||e(_)===void 0?void 0:e(_).getBBox())===null||l===void 0?void 0:l.width)||0),T=o(()=>e(C)?e(z)+36:e(z)+12),R=o(()=>e(C)&&v()==="start"?e($)+b().radius*2:e($));var F=ea(),O=ne(F);{var D=J=>{{let Y=o(()=>[e($)-g(),e(k)]),_e=o(()=>[e($)+e(T),e(k)]);qe(J,{get startPoint(){return e(Y)},get endPoint(){return e(_e)},get status(){return n()},get strokeWidth(){return g()}})}};Z(O,J=>{p()&&J(D)})}var W=d(O);{var ee=J=>{{let Y=o(()=>v()==="end"?e($)-e(z)-g():e($)),_e=o(()=>e(k)-8),Ee=o(()=>p()?"text-white":"text-primary");Qe(J,{get name(){return A()},get x(){return e(Y)},get y(){return e(_e)},get class(){return e(Ee)}})}};Z(W,J=>{e(C)&&J(ee)})}var U=d(W);jt(U,()=>e(R),J=>{var Y=Zn();let _e;var Ee=x(Y);Kt(Ee,()=>t.children??Zt),h(Y),un(Y,V=>H(_,V),()=>e(_)),S(()=>{_e=De(Y,0,`cursor-pointer select-none outline-none ${s()??""} text-primary`,"svelte-gowbbf",_e,{label:u(),backdrop:p()}),fe(Y,"x",e(R)),fe(Y,"y",e(k)+1),fe(Y,"font-size",f()),fe(Y,"font-weight",a()),fe(Y,"text-anchor",v())}),i(J,Y)}),i(y,F),be()}var ra=ze("<foreignObject><div></div></foreignObject>"),na=ze('<rect fill="transparent" pointer-events="all"></rect>'),aa=ze("<!><!>",1),oa=ze("<!><!><!><!>",1),sa=ze('<!><g role="button" tabindex="0" class="relative cursor-pointer svelte-1vsmkab"><!><!></g>',1);function ia(y,t){ye(t,!0);const l=()=>ae(sr,"$authUser",P),[P,s]=Re();var n,f;let a=M(t,"y",3,0),v=M(t,"group",7),p=M(t,"readOnly",3,!1);const{height:g,gutter:A,radius:b}=et;let u=wt(!1);const c=o(()=>t.canvasWidth-2*A),$=o(()=>v()===null||v()===void 0?void 0:v().pendingActivity),k=o(()=>e($)&&((n=e($).pauseInfo)===null||n===void 0?void 0:n.pauseTime));let _=wt(void 0);zr(async()=>{const ce=Kr(v());if(ce)try{H(_,await Zr(ce,{namespace:Wt.params.namespace,settings:Wt.data.settings,accessToken:l().accessToken}),!0),e(_)&&(v().decodedLocalActivity=e(_))}catch(se){console.warn("Failed to decode local activity:",se)}});const C=(ce,se,E)=>{const G=_t({start:t.startTime,end:ce,onlyUnderSecond:!1}),ie=v().eventList.map(Te=>{const ve=_t({start:t.startTime,end:Te.eventTime,onlyUnderSecond:!1})/G;return Math.round(ve*se)+A});if(e(k)){const ue=_t({start:t.startTime,end:e(k),onlyUnderSecond:!1})/G,ve=Math.round(ue*se)+A;ie.push(ve)}const{textAnchor:me,textIndex:K,textPosition:ke,backdrop:de}=tn(ie,E,se,v().isPending,et);return{points:ie,textAnchor:me,textIndex:K,textPosition:ke,backdrop:de}},z=o(()=>C(t.endTime,e(c),a())),T=o(()=>e(z).points),R=o(()=>e(z).textAnchor),F=o(()=>e(z).textIndex),O=o(()=>e(z).textPosition),D=o(()=>e(z).backdrop),W=()=>{p()||dr(v())},ee=()=>{p()||H(u,!0)},U=()=>{p()||H(u,!1)},J=o(()=>v().eventList.find(Nr)),Y=o(()=>e(J)&&((f=e(J).attributes)===null||f===void 0?void 0:f.attempt)>1),_e=o(()=>v().isPending||!!e(k)),Ee=o(()=>e(T).length>=2&&e(T)[e(T).length-1]-e(T)[0]+b*3),V=o(()=>v().isPending&&t.canvasWidth-e(T)[0]-b*1.5),j=o(()=>b*3),B=o(()=>e(V)||e(Ee)||e(j)),X=vn(["h-full w-full rounded-full border-2"],{variants:{category:{workflow:"border-blue-700 bg-blue-800/80 ",activity:"border-purple-700 bg-purple-800/80 ","child-workflow":"border-cyan-600  bg-cyan-600/80 ",timer:"border-yellow-700 bg-yellow-800/80",signal:"border-pink-700 bg-pink-800/80",update:"border-blue-700 bg-blue-800/80",other:"border-slate-700 bg-slate-800/80",nexus:"border-indigo-700 bg-indigo-800/80","local-activity":"border-slate-700 bg-slate-800/80",default:"border-purple-700 bg-purple-900/80"}}});var te=sa(),q=ne(te);{var $e=ce=>{var se=ra(),E=x(se);h(se),S(G=>{fe(se,"x",e(T)[0]-b*1.5),fe(se,"y",a()-b*1.5),fe(se,"width",e(B)),fe(se,"height",b*3),De(E,1,G)},[()=>er(X({category:v()?v().category:"default"}))]),i(ce,se)};Z(q,ce=>{e(u)&&ce($e)})}var oe=d(q);oe.__click=W;var le=x(oe);{var Le=ce=>{const se=o(()=>e(k)?e(T)[1]-e(T)[0]:t.canvasWidth-2*A);var E=na();S(()=>{fe(E,"y",a()-g/2),fe(E,"x",e(T)[0]),fe(E,"width",e(se)),fe(E,"height",g)}),i(ce,E)};Z(le,ce=>{e(_e)&&ce(Le)})}var He=d(le);nt(He,17,()=>e(T),bt,(ce,se,E)=>{const G=o(()=>e(T)[E+1]),ie=o(()=>e(F)===E);var me=oa(),K=ne(me);{var ke=xe=>{{let Ae=o(()=>[e(se),a()]),Pe=o(()=>[e(G),a()]),Se=o(()=>!!e(k)),We=o(()=>!!e(k)),Me=o(()=>b*2),Ge=o(()=>E===0&&v().lastEvent.classification==="Completed");qe(xe,{get startPoint(){return e(Ae)},get endPoint(){return e(Pe)},get category(){return v().category},get classification(){return v().lastEvent.classification},get pending(){return e(Se)},get paused(){return e(We)},get strokeWidth(){return e(Me)},get retried(){return e(Y)},get scheduling(){return e(Ge)}})}};Z(K,xe=>{e(G)&&xe(ke)})}var de=d(K);{var Te=xe=>{var Ae=aa(),Pe=ne(Ae);{let We=o(()=>[e(se),a()]),Me=o(()=>[t.canvasWidth-A,a()]),Ge=o(()=>e($)?e($).attempt>1?"retry":"pending":v().category),Oe=o(()=>!!e(k)),Ue=o(()=>b*2);qe(Pe,{get startPoint(){return e(We)},get endPoint(){return e(Me)},get category(){return e(Ge)},get classification(){return v().lastEvent.classification},pending:!0,get paused(){return e(Oe)},get strokeWidth(){return e(Ue)}})}var Se=d(Pe);{let We=o(()=>[e(se),a()]);ht(Se,{get point(){return e(We)},get classification(){return v().lastEvent.classification},icon:"retry",get r(){return b}})}i(xe,Ae)};Z(de,xe=>{!e(G)&&v().isPending&&!e(k)&&xe(Te)})}var ue=d(de);{var ve=xe=>{{let Ae=o(()=>{var We,Me;return(Me=(We=v())==null?void 0:We.userMetadata)==null?void 0:Me.summary}),Pe=o(()=>{var We;return Gr(v().initialEvent)?(We=v())==null?void 0:We.displayName:""}),Se=o(()=>{var We;return e(_)?r("events.category.local-activity"):(We=v())==null?void 0:We.displayName});en(xe,{get value(){return e(Ae)},get prefix(){return e(Pe)},get fallback(){return e(Se)},children:Rt,$$slots:{default:(We,Me)=>{const Ge=o(()=>Me.decodedValue);{let Oe=o(()=>b*2),Ue=o(()=>e($)&&!e($).paused||e(Y)?"retry":void 0);ta(We,{get point(){return e(O)},get textAnchor(){return e(R)},get backdrop(){return e(D)},get backdropHeight(){return e(Oe)},get config(){return et},get icon(){return e(Ue)},children:(Tt,Ot)=>{var Ft=je(),fr=ne(Ft);{var gr=Ye=>{var at=pe();S(Et=>L(at,`${Et??""}
            ${e($).attempt??""} / ${(e($).maximumAttempts||"∞")??""}
            • 
            ${e(Ge)??""}`),[()=>r("workflows.attempt")]),i(Ye,at)},mr=Ye=>{var at=je(),Et=ne(at);{var pr=Je=>{var ot=pe();S(()=>L(ot,`${e(J).attributes.attempt??""} • ${e(Ge)??""}`)),i(Je,ot)},_r=Je=>{var ot=je(),$r=ne(ot);{var wr=Xe=>{var st=pe();S(()=>L(st,e(_).value)),i(Xe,st)},kr=Xe=>{var st=pe();S(()=>L(st,e(Ge))),i(Xe,st)};Z($r,Xe=>{e(_)?Xe(wr):Xe(kr,!1)},!0)}i(Je,ot)};Z(Et,Je=>{e(Y)?Je(pr):Je(_r,!1)},!0)}i(Ye,at)};Z(fr,Ye=>{e($)?Ye(gr):Ye(mr,!1)})}i(Tt,Ft)},$$slots:{default:!0}})}}}})}};Z(ue,xe=>{e(ie)&&xe(ve)})}var Ie=d(ue);{let xe=o(()=>[e(se),a()]),Ae=o(()=>{var Se;return(Se=v().eventList[E])==null?void 0:Se.classification}),Pe=o(()=>e(k)&&E!==0?"pause":e(_)?dt["local-activity"]:dt[v().category]);ht(Ie,{get point(){return e(xe)},get classification(){return e(Ae)},get icon(){return e(Pe)},get r(){return b}})}i(ce,me)}),h(oe),S(()=>fe(oe,"height",g)),it("keypress",oe,W),it("mouseenter",oe,ee),it("mouseleave",oe,U),i(y,te),be(),s()}Er(["click"]);var la=ze('<g role="button" tabindex="0" class="relative cursor-pointer svelte-1hb0j3w"><!><!><!><!><!></g>');function ca(y,t){ye(t,!1);const l=N(),P=N();let s=M(t,"workflow",8),n=M(t,"length",8),f=M(t,"y",8);const{radius:a,height:v,gutter:p}=et;re(()=>{},()=>{H(l,p)}),re(()=>(e(l),m(n())),()=>{H(P,e(l)+n()-2*p)}),Ne(),Ce();var g=la(),A=x(g);{let k=I(()=>[e(l),f()]),_=I(()=>[e(P),f()]),C=I(()=>a*2),z=I(()=>(m(St),m(s()),w(()=>St(s()))));qe(A,{get startPoint(){return e(k)},get endPoint(){return e(_)},get classification(){return m(s()),w(()=>s().status)},get strokeWidth(){return e(C)},get pending(){return m(s()),w(()=>s().isRunning)},get delayed(){return e(z)}})}var b=d(A);{let k=I(()=>[e(l),f()]);ht(b,{get point(){return e(k)},get classification(){return m(s()),w(()=>s().status)},get r(){return a}})}var u=d(b);{let k=I(()=>e(l)-a/2),_=I(()=>f()-a/2);Qe(u,{name:"workflow",get x(){return e(k)},get y(){return e(_)},get width(){return a},get height(){return a},strokeWidth:"4",class:"text-black"})}var c=d(u);{let k=I(()=>[e(P),f()]);ht(c,{get point(){return e(k)},get classification(){return m(s()),w(()=>s().status)},get r(){return a}})}var $=d(c);{let k=I(()=>e(P)-a/2),_=I(()=>f()-a/2);Qe($,{name:"workflow",get x(){return e(k)},get y(){return e(_)},get width(){return a},get height(){return a},strokeWidth:"4",class:"text-black"})}h(g),S(()=>fe(g,"height",v)),i(y,g),be()}var da=ze("<!><!>",1),va=Q('<div><div class="flex w-full justify-between text-xs"><p class="w-60 -translate-x-24 rotate-90"> </p> <p class="w-60 translate-x-24 rotate-90"> </p></div></div> <svg><!><!><!><!><!></svg>',1),ua=Q('<div id="event-history-timeline-graph" class="relative h-auto overflow-auto border border-t-0 border-subtle bg-primary"><!></div>');function vr(y,t){ye(t,!1);const l=()=>ae(ut,"$activeGroupHeight",v),P=()=>ae(Be,"$eventStatusFilter",v),s=()=>ae(xt,"$fullEventHistory",v),n=()=>ae(tt,"$activeGroups",v),f=()=>ae(lt,"$eventFilterSort",v),a=()=>ae(Lt,"$timestamp",v),[v,p]=Re(),g=N(),A=N(),b=N(),u=N(),c=N(),$=N(),k=N();var _=N(),C=N();let z=M(t,"x",8,0),T=M(t,"y",8,0),R=M(t,"workflow",8),F=M(t,"groups",8),O=M(t,"viewportHeight",8),D=M(t,"readOnly",8,!1),W=M(t,"error",8,!1);const{height:ee,gutter:U,radius:J}=et;let Y=N(0),_e=N(0);const Ee=B=>{var X;H(_e,(X=B==null?void 0:B.target)===null||X===void 0?void 0:X.scrollTop)};re(()=>(m(D()),l()),()=>{H(g,D()?0:l())}),re(()=>(m(F()),P()),()=>{H(A,Ar(F(),P()))}),re(()=>(ge(_),s(),m(R()),ge(C)),()=>{H(b,(H(_,s()[0])===null||ge(_)===void 0?void 0:ge(_).eventTime)<R().executionTime?H(C,s()[0])===null||ge(C)===void 0?void 0:ge(C).eventTime:R().executionTime)}),re(()=>(m(R()),e(b)),()=>{H(u,!St(R())&&e(b)||R().startTime)}),re(()=>(e(A),e(g)),()=>{H(c,Math.max(ee*(e(A).length+2),120)+e(g))}),re(()=>e(c),()=>{H($,e(c)+120)}),re(()=>(n(),f(),e(g)),()=>{H(k,B=>{const X=n()===null||n()===void 0?void 0:n().filter(te=>f()==="ascending"?parseInt(te)<parseInt(B.id):parseInt(te)>parseInt(B.id));return X!=null&&X.length?e(g):0})}),Ne(),Ce();var V=ua(),j=x(V);Dn(j,{get workflow(){return R()},get startTime(){return e(u)},children:Rt,$$slots:{default:(B,X)=>{const te=I(()=>X.endTime),q=I(()=>X.duration);var $e=va(),oe=ne($e);let le;var Le=x(oe),He=x(Le),ce=x(He,!0);h(He);var se=d(He,2),E=x(se,!0);h(se),h(Le),h(oe);var G=d(oe,2);let ie;var me=x(G);{let ue=I(()=>[U,0]),ve=I(()=>[U,e(c)]),Ie=I(()=>J/2);qe(me,{get startPoint(){return e(ue)},get endPoint(){return e(ve)},get strokeWidth(){return e(Ie)}})}var K=d(me);{let ue=I(()=>[e(Y)-U,0]),ve=I(()=>[e(Y)-U,e(c)]),Ie=I(()=>J/2);qe(K,{get startPoint(){return e(ue)},get endPoint(){return e(ve)},get strokeWidth(){return e(Ie)}})}var ke=d(K);{let ue=I(()=>U-J/4),ve=I(()=>e(Y)-U+J/4);Kn(ke,{get x1(){return e(ue)},get x2(){return e(ve)},get timelineHeight(){return e(c)},get startTime(){return e(u)},get duration(){return e(q)}})}var de=d(ke);ca(de,{get workflow(){return R()},get y(){return ee},get length(){return e(Y)}});var Te=d(de);nt(Te,3,()=>e(A),ue=>ue.id,(ue,ve,Ie,xe)=>{const Ae=I(()=>(m(e(Ie)),e(k),e(ve),w(()=>(e(Ie)+2)*ee+e(k)(e(ve)))));var Pe=da(),Se=ne(Pe);{var We=Oe=>{var Ue=je(),Tt=ne(Ue);jt(Tt,()=>(e(ve),w(()=>e(ve).eventList.length)),Ot=>{ia(Ot,{get y(){return e(Ae)},get group(){return e(ve)},get canvasWidth(){return e(Y)},get startTime(){return e(u)},get endTime(){return e(te)},get readOnly(){return D()}})}),i(Oe,Ue)};Z(Se,Oe=>{(!O()||e(Ae)>e(_e)-2*ee&&e(Ae)<e(_e)+O()*ee)&&Oe(We)})}var Me=d(Se);{var Ge=Oe=>{{let Ue=I(()=>e(Ae)+1.33*J);Qn(Oe,{get y(){return e(Ue)},get group(){return e(ve)},get canvasWidth(){return e(Y)}})}};Z(Me,Oe=>{m(D()),n(),e(ve),w(()=>!D()&&n().includes(e(ve).id))&&Oe(Ge)})}i(ue,Pe)}),h(G),S((ue,ve)=>{le=De(oe,1,"pointer-events-none sticky top-[120px]",null,le,{invisible:!!n().length}),L(ce,ue),L(E,ve),fe(G,"x",z()),fe(G,"y",T()),fe(G,"viewBox",`0 0 ${e(Y)??""} ${e($)??""}`),fe(G,"height",e($)),fe(G,"width",e(Y)),ie=De(G,0,"-mt-4 svelte-1fw3am",null,ie,{error:W()})},[()=>(a(),e(u),w(()=>a()(e(u),{format:"short"}))),()=>(a(),m(e(te)),w(()=>a()(e(te),{format:"short"})))]),i(B,$e)}}}),h(V),S(()=>rn(V,O()?`max-height: ${O()}px;`:"")),nr(V,"clientWidth",B=>H(Y,B)),it("scroll",V,Ee),i(y,V),be(),p()}var fa=Q('<div class="*:border-t-0 [&amp;>*:first-child]:border-t"><!></div>');function ga(y,t){var l=fa(),P=x(l);Ze(P,t,"default",{},null),h(l),i(y,l)}var ma=Q("<p> </p> <!>",1),pa=Q("<p> </p> <!>",1),_a=Q('<div class="flex flex-col gap-2"><p> </p> <!> <!> <!></div>'),$a=Q('<div class="w-full text-right text-xs" slot="summary"> </div>'),wa=Q("<!> <!>",1);function ur(y,t){ye(t,!1);let l=M(t,"failure",8,void 0);Ce();var P=wa(),s=ne(P);{var n=v=>{{let p=I(()=>(m(r),w(()=>r("common.failure"))));lr(v,{get title(){return e(p)},class:"text-sm",children:(g,A)=>{var b=_a(),u=x(b),c=x(u,!0);h(u);var $=d(u,2);{let T=I(()=>(m(l()),w(()=>{var O;return((O=l())==null?void 0:O.message)||""}))),R=I(()=>(m(r),w(()=>r("common.copy-icon-title")))),F=I(()=>(m(r),w(()=>r("common.copy-success-icon-title"))));$t($,{get content(){return e(T)},language:"text",get copyIconTitle(){return e(R)},get copySuccessIconTitle(){return e(F)}})}var k=d($,2);{var _=T=>{var R=ma(),F=ne(R),O=x(F,!0);h(F);var D=d(F,2);{let W=I(()=>(m(r),w(()=>r("common.copy-icon-title")))),ee=I(()=>(m(r),w(()=>r("common.copy-success-icon-title"))));$t(D,{get content(){return m(l()),w(()=>l().source)},language:"text",get copyIconTitle(){return e(W)},get copySuccessIconTitle(){return e(ee)}})}S(W=>L(O,W),[()=>(m(r),w(()=>r("common.source")))]),i(T,R)};Z(k,T=>{m(l()),w(()=>{var R;return(R=l())==null?void 0:R.source})&&T(_)})}var C=d(k,2);{var z=T=>{var R=pa(),F=ne(R),O=x(F,!0);h(F);var D=d(F,2);{let W=I(()=>(m(r),w(()=>r("common.copy-icon-title")))),ee=I(()=>(m(r),w(()=>r("common.copy-success-icon-title"))));$t(D,{get content(){return m(l()),w(()=>l().stackTrace)},language:"text",get copyIconTitle(){return e(W)},get copySuccessIconTitle(){return e(ee)}})}S(W=>L(O,W),[()=>(m(r),w(()=>r("common.stack-trace")))]),i(T,R)};Z(C,T=>{m(l()),w(()=>{var R;return(R=l())==null?void 0:R.stackTrace})&&T(z)})}h(b),S(T=>L(c,T),[()=>(m(r),w(()=>r("common.message")))]),i(g,b)},$$slots:{default:!0,summary:(g,A)=>{var b=$a(),u=x(b,!0);h(b),S(()=>L(u,(m(l()),w(()=>{var c;return(c=l())==null?void 0:c.message})))),i(g,b)}}})}};Z(s,v=>{l()&&v(n)})}var f=d(s,2);{var a=v=>{var p=je(),g=ne(p);ur(g,{get failure(){return m(l()),w(()=>l().cause)}}),i(v,p)};Z(f,v=>{m(l()),w(()=>{var p;return(p=l())==null?void 0:p.cause})&&v(a)})}i(y,P),be()}var ka=Q('<div class="flex flex-col gap-2"><p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p></div>');function ha(y,t){ye(t,!1);const l=()=>ae(Lt,"$timestamp",P),[P,s]=Re();let n=M(t,"pendingTask",8,void 0);Ce();{let f=I(()=>(m(r),w(()=>r("workflows.pending-workflow-task"))));lr(y,{get title(){return e(f)},children:(a,v)=>{var p=ka(),g=x(p),A=x(g),b=d(A);Fe(b,{children:(W,ee)=>{we();var U=pe();S(()=>L(U,(m(n()),w(()=>n().state)))),i(W,U)},$$slots:{default:!0}}),h(g);var u=d(g,2),c=x(u),$=d(c);Fe($,{children:(W,ee)=>{we();var U=pe();S(()=>L(U,(m(n()),w(()=>n().attempt)))),i(W,U)},$$slots:{default:!0}}),h(u);var k=d(u,2),_=x(k),C=d(_);Fe(C,{children:(W,ee)=>{we();var U=pe();S(J=>L(U,J),[()=>(l(),m(n()),w(()=>l()(n().originalScheduledTime)))]),i(W,U)},$$slots:{default:!0}}),h(k);var z=d(k,2),T=x(z),R=d(T);Fe(R,{children:(W,ee)=>{we();var U=pe();S(J=>L(U,J),[()=>(l(),m(n()),w(()=>l()(n().scheduledTime)))]),i(W,U)},$$slots:{default:!0}}),h(z);var F=d(z,2),O=x(F),D=d(O);Fe(D,{children:(W,ee)=>{we();var U=pe();S(J=>L(U,J),[()=>(l(),m(n()),w(()=>l()(n().startedTime)))]),i(W,U)},$$slots:{default:!0}}),h(F),h(p),S((W,ee,U,J,Y)=>{L(A,`${W??""} `),L(c,`${ee??""} `),L(_,`${U??""} `),L(T,`${J??""} `),L(O,`${Y??""} `)},[()=>(m(r),w(()=>r("common.state"))),()=>(m(r),w(()=>r("common.attempt"))),()=>(m(r),w(()=>r("workflows.original-scheduled-time"))),()=>(m(r),w(()=>r("workflows.scheduled-time"))),()=>(m(r),w(()=>r("workflows.started-time")))]),i(a,p)},$$slots:{default:!0}})}be(),s()}var xa=Q("<p> <!>.</p>"),ya=Q('<p><span class="mr-2 text-secondary">Timeout Type</span> </p>'),ba=Q("<!> <!>",1),Ta=Q('<p> </p> <!> <div class="mt-2 flex w-full flex-col gap-0 overflow-hidden border border-danger"><div class="flex items-center justify-between gap-2 bg-danger px-2 py-2"><div class="flex items-center gap-2"> <!> <span class="font-semibold text-danger"> </span></div> <!></div> <div class="flex flex-col gap-2 bg-primary p-4"><!> <!></div></div>',1);function Ea(y,t){ye(t,!0);var l,P;let s=o(()=>Ur(t.error)),n=o(()=>Br(t.error)&&((l=t.error.attributes)===null||l===void 0?void 0:l.failure)),f=o(()=>Vr(t.error)&&((P=t.error.attributes)===null||P===void 0?void 0:P.timeoutType));var a=je(),v=ne(a);{var p=g=>{{let A=o(()=>r(`typed-errors.${e(s)}.title`));zt(g,{icon:"warning",intent:"warning",get title(){return e(A)},children:(b,u)=>{var c=Ta(),$=ne(c),k=x($,!0);h($);var _=d($,2);{var C=V=>{var j=xa(),B=x(j,!0),X=d(B);{let te=o(()=>r(`typed-errors.${e(s)}.link`));ir(X,{newTab:!0,get href(){return e(te)},children:(q,$e)=>{we();var oe=pe();S(le=>L(oe,le),[()=>r(`typed-errors.${e(s)}.action`)]),i(q,oe)},$$slots:{default:!0}})}we(),h(j),S(te=>L(B,te),[()=>r("typed-errors.link-preface")]),i(V,j)};Z(_,V=>{(e(s)==="NonDeterministicError"||e(s)==="BadSearchAttributes")&&V(C)})}var z=d(_,2),T=x(z),R=x(T),F=x(R),O=d(F);Qe(O,{get name(){return dt[t.error.category]}});var D=d(O,2),W=x(D,!0);h(D),h(R);var ee=d(R,2);{let V=o(()=>{var j;return(j=t.error)==null?void 0:j.eventTime});nn(ee,{get dateTime(){return e(V)}})}h(T);var U=d(T,2),J=x(U);{var Y=V=>{var j=ya(),B=d(x(j));h(j),S(()=>L(B,` ${e(f)??""}`)),i(V,j)};Z(J,V=>{e(f)&&V(Y)})}var _e=d(J,2);{var Ee=V=>{ga(V,{children:(j,B)=>{var X=ba(),te=ne(X);{var q=le=>{ur(le,{get failure(){return e(n)}})};Z(te,le=>{e(n)&&le(q)})}var $e=d(te,2);{var oe=le=>{ha(le,{get pendingTask(){return t.pendingTask}})};Z($e,le=>{t.pendingTask&&le(oe)})}i(j,X)},$$slots:{default:!0}})};Z(_e,V=>{(e(n)||t.pendingTask)&&V(Ee)})}h(U),h(z),S((V,j)=>{L(k,V),L(F,`${t.error.id??""} `),L(W,j)},[()=>r(`typed-errors.${e(s)}.description`),()=>{var V;return fn((V=t.error)==null?void 0:V.name)}]),i(b,c)},$$slots:{default:!0}})}};Z(v,g=>{e(s)&&e(s)!=="ResetWorkflow"&&g(p)})}i(y,a),be()}const Pa=async(y,t,l)=>{const P=$n(t),s=wn(t),n=kn(t),f={...t,codec:{...t==null?void 0:t.codec,endpoint:P,passAccessToken:s,includeCredentials:n}},a=!1;try{const v=await pn(y,Ht(rt).params.namespace,f,Ht(sr).accessToken,l,a);return _n(v,a)}catch{return y}};function Jt(y,t,l){const P=Ct({events:y},null,2),s=document.createElement("a"),n=new Blob([P],{type:l});s.href=URL.createObjectURL(n),s.download=t,s.click()}const Ia=async({namespace:y,workflowId:t,runId:l,settings:P,decodeSetting:s})=>{try{const n=await cn({namespace:y,workflowId:t,runId:l,sort:"ascending"});if(s==="encoded")Jt(n,`${l}/events.json`,"text/plain");else{const f=[];for(const a of n){const v=await Pa(a,P,s);f.push(v)}Jt(f,`${l}/events.json`,"text/plain")}}catch{console.error("Could not download event history")}};var Aa=Q('<div class="flex items-center space-x-4"><!></div>');function Wa(y,t){ye(t,!1);const l=()=>ae(Rr,"$parameters",s),P=()=>ae(hn,"$isCloud",s),[s,n]=Re(),f=N(),a=N(),{namespace:v,workflowId:p,runId:g}=l();re(()=>Bt,()=>{H(f,Bt({namespace:v,workflow:p,run:g}))}),re(()=>e(f),()=>{H(a,e(f)+".json")}),Ne(),Ce();var A=je(),b=ne(A);{var u=c=>{var $=Aa(),k=x($);ir(k,{icon:"external-link",class:"whitespace-nowrap",get href(){return e(a)},newTab:!0,"data-testid":"view-raw-event-history",children:(_,C)=>{we();var z=pe();S(T=>L(z,T),[()=>(m(r),w(()=>r("events.view-raw-history")))]),i(_,z)},$$slots:{default:!0}}),h($),i(c,$)};Z(b,c=>{P()||c(u)})}i(y,A),be(),n()}var Ha=Q('<h3 slot="title"> </h3>'),Sa=Q("<!> <!> <!>",1),Ca=Q('<div slot="content" class="flex flex-col gap-4"><!> <!></div>');function Ra(y,t){ye(t,!1);const l=()=>ae(rt,"$page",s),P=()=>ae(Gt,"$downloadEventHistorySetting",s),[s,n]=Re();let f=M(t,"open",12,!1),a=M(t,"namespace",8),v=M(t,"workflowId",8),p=M(t,"runId",8);const g=()=>{f(!1),Ia({namespace:a(),workflowId:v(),runId:p(),settings:l().data.settings,decodeSetting:P()})};Ce();{let A=I(()=>(m(r),w(()=>r("common.download")))),b=I(()=>(m(r),w(()=>r("common.cancel"))));gn(y,{id:"download-history",large:!0,confirmType:"primary",get confirmText(){return e(A)},get cancelText(){return e(b)},get open(){return f()},set open(u){f(u)},$$events:{confirmModal:()=>g(),cancelModal:()=>f(!1)},$$slots:{title:(u,c)=>{var $=Ha(),k=x($,!0);h($),S(_=>L(k,_),[()=>(m(r),w(()=>r("common.download-event-history-json")))]),i(u,$)},content:(u,c)=>{var $=Ca(),k=x($);mn(k,{get group(){return Gt},name:"decode-setting",class:"h-auto overflow-auto",children:(C,z)=>{var T=Sa(),R=ne(T);{let D=I(()=>(m(r),w(()=>r("events.encoded")))),W=I(()=>(m(r),w(()=>r("events.encoded-description"))));At(R,{id:"use-encoded-setting","data-testid":"use-encoded-setting-input",value:"encoded",get label(){return e(D)},get description(){return e(W)}})}var F=d(R,2);{let D=I(()=>(m(r),w(()=>r("events.decoded")))),W=I(()=>(m(r),w(()=>r("events.decoded-description"))));At(F,{id:"use-decoded-setting","data-testid":"use-decoded-setting-input",value:"decoded",get label(){return e(D)},get description(){return e(W)}})}var O=d(F,2);{let D=I(()=>(m(r),w(()=>r("events.readable")))),W=I(()=>(m(r),w(()=>r("events.readable-description"))));At(O,{id:"use-readable-setting","data-testid":"use-readable-setting-input",value:"readable",get label(){return e(D)},get description(){return e(W)}})}i(C,T)},$$slots:{default:!0}});var _=d(k,2);Wa(_,{}),h($),i(u,$)}},$$legacy:!0})}be(),n()}const ja=["WorkflowExecutionFailed","WorkflowExecutionCompleted","WorkflowExecutionContinuedAsNew","WorkflowExecutionTimedOut","WorkflowExecutionCanceled","WorkflowExecutionTerminated"],La=y=>!!y.workflowExecutionStartedEventAttributes,za=y=>{for(const t of ja)if(y.eventType===t)return!0;return!1},Oa=y=>rr(y)?y.attributes.input:qr(y)?y.attributes.result===null?null:y.attributes.result:y.attributes,Fa=y=>{var f;let t,l,P=!1,s,n;for(const a of y)if(La(a)){s=a;continue}else if(za(a)){n=a;continue}return s&&(t=Ct(((f=s==null?void 0:s.workflowExecutionStartedEventAttributes)==null?void 0:f.input)??null)),n&&(P=rr(n),l=Ct(Oa(n))),{input:t,results:l,contAsNew:P}};var Ma=Q('<div class="flex flex-col gap-4 lg:flex-row" data-testid="input-and-result"><!> <!></div>');function Da(y,t){ye(t,!1);const l=()=>ae(xt,"$fullEventHistory",s),P=()=>ae(yt,"$workflowRun",s),[s,n]=Re(),f=N(),a=N();re(()=>l(),()=>{H(f,Fa(l()))}),re(()=>P(),()=>{H(a,P().workflow.isRunning)}),Ne(),Ce();var v=Ma(),p=x(v);{let A=I(()=>(m(r),w(()=>r("workflows.input"))));Qt(p,{get title(){return e(A)},get content(){return e(f),w(()=>e(f).input)},get isRunning(){return e(a)}})}var g=d(p,2);{let A=I(()=>(m(r),w(()=>r("workflows.result"))));Qt(g,{get title(){return e(A)},get content(){return e(f),w(()=>e(f).results)},get isRunning(){return e(a)}})}h(v),i(y,v),be(),n()}var Ga=Q('<div class="mb-4"><!></div>');function Na(y,t){ye(t,!1);const l=()=>ae(yt,"$workflowRun",P),[P,s]=Re(),n=N(),f=N(),a=N(),v=N();var p=N();re(()=>(e(n),e(f),e(a),l()),()=>{(u=>{H(n,u.workflow),H(f,u.workers),H(a,u.workersLoaded)})(l())}),re(()=>(e(a),e(n),ge(p),e(f)),()=>{H(v,e(a)&&(e(n)===null||e(n)===void 0?void 0:e(n).isRunning)&&!(!(H(p,e(f)===null||e(f)===void 0?void 0:e(f).pollers)===null||ge(p)===void 0)&&ge(p).length))}),Ne(),Ce();var g=je(),A=ne(g);{var b=u=>{var c=Ga(),$=x(c);{let k=I(()=>(m(r),w(()=>r("workflows.workflow-error-no-workers-title"))));zt($,{icon:"warning",intent:"warning",get title(){return e(k)},children:(_,C)=>{we();var z=pe();S(T=>L(z,T),[()=>(m(r),e(n),w(()=>{var T;return r("workflows.workflow-error-no-workers-description",{taskQueue:((T=e(n))==null?void 0:T.taskQueue)??""})}))]),i(_,z)},$$slots:{default:!0}})}h(c),xn(1,c,()=>yn,()=>({duration:200,delay:100})),i(u,c)};Z(A,u=>{e(v)&&u(b)})}i(y,g),be(),s()}var Ua=Q('<div><button class="focus-visible:outline-interactive w-full cursor-pointer hover:bg-interactive-secondary-hover" type="button"><div class="flex w-full flex-row items-center justify-between gap-2 pr-4"><!> <!> <div class="flex items-center gap-4"><!> <!></div></div></button> <div><!></div></div>');function Va(y,t){const l=kt(t,["children","$$slots","$$events","$$legacy"]),P=kt(l,["id","open","onToggle","icon"]);ye(t,!1);let s=M(t,"id",24,()=>crypto.randomUUID()),n=M(t,"open",12,!1),f=M(t,"onToggle",8,void 0),a=M(t,"icon",8,void 0);const v=async()=>{f()&&await f()(),n(!n())};Ce();var p=Ua(),g=x(p),A=x(g),b=x(A);Ze(b,t,"title",{},null);var u=d(b,2);Ze(u,t,"description",{},null);var c=d(u,2),$=x(c);Ze($,t,"action",{},null);var k=d($,2);{let T=I(()=>a()?a():n()?"arrow-down":"arrow-right");Qe(k,{get name(){return e(T)}})}h(c),h(A),h(g);var _=d(g,2);let C;var z=x(_);Ze(z,t,"default",{get open(){return n()}},null),h(_),h(p),S(()=>{De(p,1,`w-full ${m(P),w(()=>P.class)??""}`),fe(g,"id",`${s()??""}-trigger`),fe(g,"aria-expanded",n()),fe(g,"aria-controls",`${s()??""}-content`),fe(_,"id",`${s()??""}-content`),fe(_,"aria-labelledby",`${s()??""}-trigger`),C=De(_,1,"block w-full bg-primary p-2",null,C,{hidden:!n()})}),it("click",g,v),i(y,p),be()}var Ba=Q("<!> <!>",1),qa=Q("<!> <!>",1),Qa=Q('<p class="flex items-center gap-2"> <!></p>'),Ya=Q('<p class="flex items-center gap-2"> <!></p>'),Ja=Q('<p class="flex items-center gap-2"> <!></p>'),Xa=Q('<p class="flex items-center gap-2"> <!></p>'),Ka=Q('<p class="flex items-center gap-2"> <!></p>'),Za=Q('<div class="flex flex-col gap-2"><p> </p> <!></div>'),eo=Q('<div class="flex flex-col gap-2 pt-2"><!> <div class="flex flex-col items-start gap-2 md:flex-row md:items-center"><p class="flex items-center gap-2"> <!></p> <!> <!> <!></div> <!> <!> <!></div> <!>',1);function Xt(y,t){ye(t,!0);const l=()=>ae(Lt,"$timestamp",P),[P,s]=Re();var n,f,a,v;const p=o(()=>l()(t.callback.lastAttemptCompleteTime)),g=o(()=>l()(t.callback.nextAttemptScheduleTime)),A=o(()=>(n=t.callback===null||t.callback===void 0?void 0:t.callback.lastAttemptFailure)===null||n===void 0?void 0:n.message),b=o(()=>t.callback===null||t.callback===void 0?void 0:t.callback.blockedReason),u=o(()=>(a=(f=t.callback===null||t.callback===void 0?void 0:t.callback.callback)===null||f===void 0?void 0:f.nexus)===null||a===void 0?void 0:a.url),c={Standby:r("nexus.callback.standby"),Scheduled:r("nexus.callback.scheduled"),"Backing Off":r("nexus.callback.backing-off"),Failed:r("nexus.callback.failed"),Succeeded:r("nexus.callback.succeeded")},$="Failed",k=o(()=>t.callback.state===$),_=o(()=>c[t.callback.state]||r("nexus.nexus-callback")),C=o(()=>((v=t.callback===null||t.callback===void 0?void 0:t.callback.callback)===null||v===void 0?void 0:v.links)||[]),z=o(()=>!e(C).length&&!t.link&&e(u));{let T=o(()=>e(k)?"error":"info");zt(y,{icon:"nexus",get intent(){return e(T)},get title(){return e(_)},children:(R,F)=>{var O=eo(),D=ne(O),W=x(D);{var ee=E=>{var G=je(),ie=ne(G);nt(ie,17,()=>e(C),me=>{var K,ke,de;return((ke=(K=me.workflowEvent)==null?void 0:K.eventRef)==null?void 0:ke.eventId)||((de=me.workflowEvent)==null?void 0:de.requestIdRef.requestId)},(me,K,ke,de)=>{var Te=Ba(),ue=ne(Te);mt(ue,{get link(){return e(K)}});var ve=d(ue,2);{let Ie=o(()=>r("nexus.link-namespace")),xe=o(()=>qt({namespace:e(K).workflowEvent.namespace}));mt(ve,{get link(){return e(K)},get label(){return e(Ie)},get value(){return e(K).workflowEvent.namespace},get href(){return e(xe)}})}i(me,Te)}),i(E,G)},U=E=>{var G=je(),ie=ne(G);{var me=K=>{var ke=qa(),de=ne(ke);mt(de,{get link(){return t.link}});var Te=d(de,2);{let ue=o(()=>r("nexus.link-namespace")),ve=o(()=>qt({namespace:t.link.workflowEvent.namespace}));mt(Te,{get link(){return t.link},get label(){return e(ue)},get value(){return t.link.workflowEvent.namespace},get href(){return e(ve)}})}i(K,ke)};Z(ie,K=>{t.link&&K(me)},!0)}i(E,G)};Z(W,E=>{e(C).length?E(ee):E(U,!1)})}var J=d(W,2),Y=x(J),_e=x(Y,!0),Ee=d(_e);Fe(Ee,{type:"subtle",children:(E,G)=>{we();var ie=pe();S(()=>L(ie,t.callback.state)),i(E,ie)},$$slots:{default:!0}}),h(Y);var V=d(Y,2);{var j=E=>{var G=Qa(),ie=x(G),me=d(ie);Fe(me,{type:"subtle",children:(K,ke)=>{we();var de=pe();S(()=>L(de,t.callback.attempt)),i(K,de)},$$slots:{default:!0}}),h(G),S(K=>L(ie,`${K??""} `),[()=>r("common.attempt")]),i(E,G)};Z(V,E=>{t.callback.attempt&&E(j)})}var B=d(V,2);{var X=E=>{var G=Ya(),ie=x(G),me=d(ie);Fe(me,{type:"subtle",children:(K,ke)=>{we();var de=pe();S(()=>L(de,e(p))),i(K,de)},$$slots:{default:!0}}),h(G),S(K=>L(ie,`${K??""} `),[()=>r("nexus.last-attempt-completed-time")]),i(E,G)};Z(B,E=>{t.callback.lastAttemptCompleteTime&&E(X)})}var te=d(B,2);{var q=E=>{var G=Ja(),ie=x(G),me=d(ie);Fe(me,{type:"subtle",children:(K,ke)=>{we();var de=pe();S(()=>L(de,e(g))),i(K,de)},$$slots:{default:!0}}),h(G),S(K=>L(ie,`${K??""} `),[()=>r("nexus.next-attempt-scheduled-time")]),i(E,G)};Z(te,E=>{t.callback.nextAttemptScheduleTime&&E(q)})}h(J);var $e=d(J,2);{var oe=E=>{var G=Xa(),ie=x(G),me=d(ie);Fe(me,{type:"subtle",children:(K,ke)=>{we();var de=pe();S(()=>L(de,e(u))),i(K,de)},$$slots:{default:!0}}),h(G),S(K=>L(ie,`${K??""} `),[()=>r("nexus.callback-url")]),i(E,G)};Z($e,E=>{e(z)&&E(oe)})}var le=d($e,2);{var Le=E=>{var G=Ka(),ie=x(G),me=d(ie);Fe(me,{type:"subtle",children:(K,ke)=>{we();var de=pe();S(()=>L(de,e(b))),i(K,de)},$$slots:{default:!0}}),h(G),S(K=>L(ie,`${K??""} `),[()=>r("nexus.blocked-reason")]),i(E,G)};Z(le,E=>{e(b)&&E(Le)})}var He=d(le,2);{var ce=E=>{var G=Za(),ie=x(G),me=x(ie,!0);h(ie);var K=d(ie,2);{let ke=o(()=>r("common.copy-icon-title")),de=o(()=>r("common.copy-success-icon-title"));$t(K,{get content(){return e(A)},language:"text",get copyIconTitle(){return e(ke)},get copySuccessIconTitle(){return e(de)}})}h(G),S(ke=>L(me,ke),[()=>r("nexus.last-attempt-failure")]),i(E,G)};Z(He,E=>{e(A)&&E(ce)})}h(D);var se=d(D,2);Kt(se,()=>t.children??Zt),S(E=>L(_e,E),[()=>r("common.state")]),i(R,O)},$$slots:{default:!0}})}be(),s()}var to=Q('<div class="flex flex-col gap-2"></div>'),ro=Q('<p class="p-1" slot="title"> </p>'),no=Q('<div class="py-2"><!></div>');function ao(y,t){ye(t,!0);const l=()=>ae(xt,"$fullEventHistory",P),[P,s]=Re();var n;const f=o(()=>l()[0]),a=o(()=>(n=e(f)===null||e(f)===void 0?void 0:e(f).links)===null||n===void 0?void 0:n[0]),v=o(()=>t.callbacks[0]);Xt(y,{get callback(){return e(v)},get link(){return e(a)},children:(p,g)=>{var A=je(),b=ne(A);{var u=c=>{var $=no(),k=x($);Va(k,{children:Rt,$$slots:{default:(_,C)=>{const z=o(()=>C.open);var T=je(),R=ne(T);{var F=O=>{var D=to();nt(D,21,()=>t.callbacks.slice(1),bt,(W,ee)=>{Xt(W,{get callback(){return e(ee)}})}),h(D),i(O,D)};Z(R,O=>{e(z)&&O(F)})}i(_,T)},title:(_,C)=>{var z=ro(),T=x(z);h(z),S(()=>L(T,`View ${t.callbacks.length-1} other Callbacks`)),i(_,z)}}}),h($),i(c,$)};Z(b,c=>{t.callbacks.length>1&&c(u)})}i(p,A)},$$slots:{default:!0}}),be(),s()}var oo=Q("<span></span> ",1),so=Q("<!> <!> <!> <!> <!>",1),io=Q('<div class="flex flex-col gap-0 pt-4"><!> <div class="flex flex-col gap-2"><!> <!> <!></div></div> <div class="relative pb-24"><div><h2> </h2> <div class="flex items-center gap-2"><!></div></div> <div class="flex w-full flex-col"><!> <!></div></div> <!>',1);function lo(y,t){ye(t,!0);const l=()=>ae(yt,"$workflowRun",p),P=()=>ae(lt,"$eventFilterSort",p),s=()=>ae(Ke,"$eventViewType",p),n=()=>ae(tr,"$filteredEventHistory",p),f=()=>ae(jr,"$currentEventHistory",p),a=()=>ae(ct,"$pauseLiveUpdates",p),v=()=>ae(Nt,"$minimizeEventView",p),[p,g]=Re(),A=o(()=>Wt.params),b=o(()=>e(A).namespace),u=o(()=>l().workflow),c=o(()=>e(u)===null||e(u)===void 0?void 0:e(u).pendingActivities),$=o(()=>e(u)===null||e(u)===void 0?void 0:e(u).pendingNexusOperations);let k=o(()=>P()==="descending"),_=o(()=>s()==="compact"),C=o(()=>or(n(),"ascending",e(c),e($))),z=o(()=>e(k)?[...e(C)].reverse():e(C)),T=o(()=>e(k)?[...n()].reverse():n());const R=o(()=>Qr(f()));Mt(()=>{s(),Yt()}),Pr(()=>{Yt()}),Mt(()=>{!(!(e(u)===null||e(u)===void 0)&&e(u).isRunning)&&a()&&he(ct,!1)});let F=wt(!1);const O=()=>{e(k)?he(lt,"ascending"):he(lt,"descending")};var D=io(),W=ne(D),ee=x(W);Na(ee,{});var U=d(ee,2),J=x(U);Da(J,{});var Y=d(J,2);{var _e=ce=>{{let se=o(()=>{var E;return(E=e(u))==null?void 0:E.pendingWorkflowTask});Ea(ce,{get error(){return e(R)},get pendingTask(){return e(se)}})}};Z(Y,ce=>{e(R)&&ce(_e)})}var Ee=d(Y,2);{var V=ce=>{ao(ce,{get callbacks(){return e(u).callbacks}})};Z(Ee,ce=>{var se,E;(E=(se=e(u))==null?void 0:se.callbacks)!=null&&E.length&&ce(V)})}h(U),h(W);var j=d(W,2),B=x(j),X=x(B),te=x(X,!0);h(X);var q=d(X,2),$e=x(q);bn($e,{children:(ce,se)=>{var E=so(),G=ne(E);{var ie=Te=>{{let ue=o(()=>e(k)?"descending":"ascending");pt(Te,{get leadingIcon(){return e(ue)},"data-testid":"zoom-in",size:"sm",$$events:{click:O},children:(ve,Ie)=>{we();var xe=pe();S(Ae=>L(xe,Ae),[()=>e(k)?r("common.descending"):r("common.ascending")]),i(ve,xe)},$$slots:{default:!0}})}};Z(G,Te=>{s()!=="json"&&Te(ie)})}var me=d(G,2);{let Te=o(()=>v()?r("workflows.timeline-minimized"):r("workflows.timeline-expanded"));Tn(me,{get text(){return e(Te)},top:!0,children:(ue,ve)=>{{let Ie=o(()=>v()?"minimize":"expand");pt(ue,{get leadingIcon(){return e(Ie)},"data-testid":"expandAll",size:"sm",$$events:{click:()=>he(Nt,!v())},children:(xe,Ae)=>{we();var Pe=pe();S(Se=>L(Pe,Se),[()=>v()?r("workflows.minimized"):r("workflows.expanded")]),i(xe,Pe)},$$slots:{default:!0}})}},$$slots:{default:!0}})}var K=d(me,2);Mn(K,{get compact(){return e(_)},get minimized(){return v()}});var ke=d(K,2);{let Te=o(()=>{var ue;return!((ue=e(u))!=null&&ue.isRunning)});pt(ke,{get disabled(){return e(Te)},"data-testid":"pause",class:"border-l-0",size:"sm",$$events:{click:()=>he(ct,!a())},children:(ue,ve)=>{var Ie=oo(),xe=ne(Ie),Ae=d(xe);S(Pe=>{var Se;De(xe,1,`h-1.5 w-1.5 rounded-full ${a()||!((Se=e(u))!=null&&Se.isRunning)?"bg-slate-300":"bg-green-600"}`),L(Ae,` ${Pe??""}`)},[()=>{var Pe;return a()||!((Pe=e(u))!=null&&Pe.isRunning)?r("workflows.auto-refresh-off"):r("workflows.auto-refresh-on")}]),i(ue,Ie)},$$slots:{default:!0}})}var de=d(ke,2);pt(de,{"data-testid":"download",leadingIcon:"download",size:"sm",$$events:{click:()=>H(F,!0)},children:(Te,ue)=>{we();var ve=pe();S(Ie=>L(ve,Ie),[()=>r("common.download")]),i(Te,ve)},$$slots:{default:!0}}),i(ce,E)},$$slots:{default:!0}}),h(q),h(B);var oe=d(B,2),le=x(oe);{let ce=o(()=>!!e(R)),se=o(()=>v()?360:void 0);vr(le,{get workflow(){return e(u)},get groups(){return e(z)},get error(){return e(ce)},get viewportHeight(){return e(se)}})}var Le=d(le,2);Hn(Le,{get groups(){return e(z)},get history(){return e(T)},get minimized(){return v()}}),h(oe),h(j);var He=d(j,2);{let ce=o(()=>{var E;return(E=e(u))==null?void 0:E.id}),se=o(()=>{var E;return(E=e(u))==null?void 0:E.runId});Ra(He,{get namespace(){return e(b)},get workflowId(){return e(ce)},get runId(){return e(se)},get open(){return e(F)},set open(E){H(F,E,!0)}})}S((ce,se)=>{De(B,1,ce),L(te,se)},[()=>er(yr("surface-background flex flex-wrap items-center justify-between gap-2 border-b border-subtle py-2 xl:gap-8",!v()&&"sticky top-0 z-30 md:top-12")),()=>r("workflows.event-history")]),i(y,D),be(),g()}var co=Q("<!> <!>",1);function ws(y,t){ye(t,!1);const l=()=>ae(rt,"$page",P),[P,s]=Re(),n=l().params.workflow;Ce();var f=co(),a=ne(f);{let p=I(()=>`${r("workflows.workflow-history")} | ${n}`);Tr(a,{get title(){return e(p)},get url(){return l().url.href}})}var v=d(a,2);lo(v,{}),i(y,f),be(),s()}export{ws as component};
