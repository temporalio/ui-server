import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as be,b as ye,g as e,o as A,l as re,a as Ne,f as Y,c as ne,e as l,m as N,av as ge,M as p,h as v,s as W,j as x,n as we,k as pe,r as h,t as S,I as w,i as je,bK as ze,ac as hr,v as o,d as Kt,u as Zt,at as wt,aP as xr,q as Rt,aN as Mt}from"../chunks/BBjqMsu1.js";import{i as Ce,t as br}from"../chunks/DIZ-FoJG.js";import{a as ae,s as Re,b as he,m as yr,p as M,l as kt}from"../chunks/D42yUzBQ.js";import{p as rt}from"../chunks/CDFcmD4G.js";import{P as Tr}from"../chunks/BcjIxfWp.js";import{t as r}from"../chunks/DEjs8ZrU.js";import{s as L,d as Er,e as lt}from"../chunks/DHOm-mSm.js";import{i as Z}from"../chunks/DrCjka1e.js";import{s as De,c as er}from"../chunks/Cd9fk9Xa.js";import{b as Pr}from"../chunks/Dq0YKWkr.js";import{p as Wt}from"../chunks/D4sIkZgU.js";import{E as Ir,L as qe,D as ht,g as Ar}from"../chunks/GTOVEboM.js";import{T as Wr,a as Pt}from"../chunks/DX7feQrF.js";import{W as Hr}from"../chunks/BDZGZvGY.js";import{T as Sr}from"../chunks/x_H5-16D.js";import{b as tr,d as Dt,e as it,f as xt,i as Ke,a as Cr,j as Ve,c as Be,p as ct,k as Rr,l as Gt,m as Nt,h as jr}from"../chunks/MNw6AOJQ.js";import{w as bt}from"../chunks/7NVsSLBl.js";import{e as nt,i as yt}from"../chunks/B8KdL4-8.js";import{w as vt,g as Ht,a as Lr,o as zr}from"../chunks/r33Ll6et.js";import{C as ft}from"../chunks/B49X7x1H.js";import{I as Ye}from"../chunks/cYmRoqvp.js";import{M as Fr}from"../chunks/D2fUj7LM.js";import{c as Or,d as Mr,b as gt}from"../chunks/DeT14wH-.js";import{M as Dr}from"../chunks/C4514KOU.js";import{l as It,Y as Ut,I as Vt,o as Gr,F as Nr,Z as Ur,_ as Vr,$ as Br,a0 as rr,a1 as qr,a2 as Yr}from"../chunks/Di5JcG1q.js";import{t as Jr}from"../chunks/B-aevUVj.js";import{i as Qr}from"../chunks/DEJ6vT8y.js";import{C as dt,b as Xr,T as et,c as Kr,d as Zr,M as en,t as tn,f as mt}from"../chunks/Cg5WgNi-.js";import{k as jt}from"../chunks/C9OGzM-W.js";import{s as fe,b as rn}from"../chunks/CDFkFKEl.js";import{b as nr}from"../chunks/Dh4IAWlJ.js";import{t as Lt,T as nn}from"../chunks/5sHaeCkN.js";import{i as St}from"../chunks/Dzb719w0.js";import{s as Ze}from"../chunks/TZ42VP9a.js";import{u as _t,o as ar}from"../chunks/CtQjrHKC.js";import{W as an}from"../chunks/UTi6nPVY.js";import{B as on}from"../chunks/Cgrg1Hd0.js";import{a as sn}from"../chunks/D7OjqCRS.js";import{g as or}from"../chunks/N8MstXIu.js";import{f as ln,b as cn}from"../chunks/BN7F0u-E.js";import{x as dn}from"../chunks/DEDZg9di.js";import{c as vn,B as Oe}from"../chunks/CylVXXRZ.js";import{a as sr}from"../chunks/DEsUSA2c.js";import{b as un}from"../chunks/CnjsOa-4.js";import{A as zt}from"../chunks/BcDQnu-T.js";import{L as lr}from"../chunks/BmSOO84c.js";import{s as fn}from"../chunks/ByTIZu23.js";import{A as ir}from"../chunks/C_qop36Z.js";import{C as $t}from"../chunks/CuY3ug9w.js";import{M as gn}from"../chunks/CilSXHzY.js";import{R as mn,a as At}from"../chunks/DM8RNP08.js";import{c as pn,d as _n}from"../chunks/BJs4u-NJ.js";import{g as $n,b as wn,a as kn}from"../chunks/DGbZnyl5.js";import{s as Ct}from"../chunks/DMvnBdKo.js";import{i as hn}from"../chunks/3hm5Cis8.js";import{c as Bt,a as qt}from"../chunks/Bk83zZpg.js";import{I as Yt}from"../chunks/BfS2QX7u.js";import{t as xn,a as bn}from"../chunks/BNYpVztK.js";import{T as yn,a as pt}from"../chunks/C8nU-PWr.js";import{T as Tn}from"../chunks/B-EYHHC0.js";function En(b,t){be(t,!1);const i=()=>ae(tr,"$filteredEventHistory",s),P=()=>ae(Dt,"$decodeEventHistory",s),[s,n]=Re();Ce(),Hr(b,{get events(){return i()},decode:a=>{{let c=A(()=>r("events.decode-event-history"));Sr(a,{get label(){return e(c)},id:"decode-event-history","data-testid":"decode-event-history-toggle",get checked(){return yr(),P()},set checked(m){he(Dt,m)},$$legacy:!0})}},$$slots:{decode:!0}}),ye(),n()}var Pn=Y("<!> <!> <!>",1),In=Y('<div class="border-t border-subtle px-4"><!></div>'),An=Y('<div data-testid="event-summary-table"><!></div>'),Wn=Y('<div class="flex items-center justify-end gap-4 pt-4 lg:pt-8"><div class="flex items-center gap-2 px-4"><!></div></div> <!>',1);function Hn(b,t){be(t,!1);const i=()=>ae(bt,"$workflowRun",a),P=()=>ae(it,"$eventFilterSort",a),s=()=>ae(xt,"$fullEventHistory",a),n=()=>ae(Ke,"$eventViewType",a),f=()=>ae(rt,"$page",a),[a,c]=Re(),m=N(),g=N(),I=N(),y=N(),u=N(),d=N(),$=N();var k=N(),_=N(),C=N(),z=N();let T=M(t,"history",8),R=M(t,"groups",8),O=M(t,"minimized",8,!0);const F=()=>{he(Ke,"feed")},D=()=>{he(Ke,"compact")},H=()=>{he(Ke,"json")};re(()=>(e(m),i()),()=>{(j=>{W(m,j.workflow)})(i())}),re(()=>P(),()=>{W(g,P()==="descending")}),re(()=>s(),()=>{W(I,!s().length)}),re(()=>n(),()=>{W(y,n()==="compact")}),re(()=>(ge(_),ge(k),f(),ge(z),ge(C)),()=>{he(Cr,!(W(_,W(k,f().url)===null||ge(k)===void 0?void 0:ge(k).searchParams)===null||ge(_)===void 0)&&ge(_).get("category")?W(z,W(C,f().url)===null||ge(C)===void 0?void 0:ge(C).searchParams)===null||ge(z)===void 0?void 0:ge(z).get("category").split(","):void 0)}),re(()=>e(m),()=>{W(u,e(m).pendingActivities)}),re(()=>e(m),()=>{W(d,e(m).pendingNexusOperations)}),re(()=>(e(y),p(R()),e(g),e(d),e(u),p(T())),()=>{W($,e(y)?R():e(g)?[...e(d),...e(u),...T()]:[...T(),...e(u),...e(d)])}),Ne(),Ce();var ee=Wn(),U=ne(ee),Q=x(U),J=x(Q);Wr(J,{children:(j,B)=>{var X=Pn(),te=ne(X);{let oe=A(()=>n()==="feed");Pt(te,{get active(){return e(oe)},"data-testid":"feed",icon:"feed",class:"h-10",$$events:{click:F},children:(ie,Le)=>{we();var He=pe("All");l(ie,He)},$$slots:{default:!0}})}var q=v(te,2);{let oe=A(()=>n()==="compact");Pt(q,{get active(){return e(oe)},"data-testid":"compact",icon:"compact",class:"h-10",$$events:{click:D},children:(ie,Le)=>{we();var He=pe("Compact");l(ie,He)},$$slots:{default:!0}})}var $e=v(q,2);{let oe=A(()=>n()==="json");Pt($e,{get active(){return e(oe)},"data-testid":"json",icon:"json",class:"h-10",$$events:{click:H},children:(ie,Le)=>{we();var He=pe("JSON");l(ie,He)},$$slots:{default:!0}})}l(j,X)},$$slots:{default:!0}}),h(Q),h(U);var _e=v(U,2);{var Ee=j=>{var B=In(),X=x(B);En(X,{}),h(B),l(j,B)},V=j=>{var B=An(),X=x(B);Ir(X,{get updating(){return e(I)},get items(){return e($)},get groups(){return R()},get compact(){return e(y)},get minimized(){return O()}}),h(B),l(j,B)};Z(_e,j=>{n()==="json"?j(Ee):j(V,!1)})}l(b,ee),ye(),c()}const cr=200,Sn=vt(0),Cn=vt(cr),tt=vt([]),ut=vt(0),Jt=()=>{tt.set([]),ut.set(0),Sn.set(0),Cn.set(cr)},Rn=()=>{tt.set([]),ut.set(0)},dr=b=>{Ht(tt).includes(b.id)?(ut.set(0),tt.set([])):tt.set([b.id])},jn=b=>b==null?void 0:b.nexus;var Ln=Y("<div><!></div>"),zn=Y('<span class="hidden text-sm md:block"> </span>'),Fn=Y("<!> <!> <!> <!> <!>",1),On=Y("<!> <!>",1);function Mn(b,t){be(t,!1);const i=()=>ae(Jr,"$temporalVersion",a),P=()=>ae(rt,"$page",a),s=()=>ae(Ve,"$eventTypeFilter",a),n=()=>ae(Be,"$eventStatusFilter",a),f=()=>ae(Ke,"$eventViewType",a),[a,c]=Re(),m=N(),g=N(),I=N();var y=N();let u=M(t,"compact",8,!1),d=M(t,"minimized",8,!0),$=vt(!1);const k=({value:_})=>{Rn(),he(Ve,s().some(C=>C===_)?s().filter(C=>C!==_):[...s(),_])};re(()=>(p(u()),It),()=>{W(m,u()?Ut.map(_=>_.value):It.map(_=>_.value))}),re(()=>(p(u()),dt),()=>{W(g,[...(u()?Ut:It).map(_=>({..._,label:r(_.label),icon:dt[_.value],description:r(_.description)}))])}),re(()=>(i(),e(g)),()=>{Qr("1.21.0",i())&&W(g,e(g).filter(({value:_})=>_!=="update"))}),re(()=>(ge(y),P(),e(g)),()=>{jn(W(y,P().data.systemInfo)===null||ge(y)===void 0?void 0:ge(y).capabilities)||W(g,e(g).filter(({value:_})=>_!=="nexus"))}),re(()=>(s(),e(m)),()=>{W(I,s().length<e(m).length)}),Ne(),Ce(),Or(b,{get open(){return $},children:(_,C)=>{var z=On(),T=ne(z);Fr(T,{controls:"status-menu",size:"sm",leading:F=>{var D=Ln();let H;var ee=x(D);{let U=A(()=>e(I)&&"pt-0.5 text-white");Ye(ee,{name:"filter",get class(){return e(U)}})}h(D),S(()=>H=De(D,1,"flex h-6 w-6 flex-col items-center justify-center rounded-full transition-colors duration-200",null,H,{"bg-interactive":e(I)})),l(F,D)},children:(F,D)=>{var H=zn(),ee=x(H,!0);h(H),S(U=>L(ee,U),[()=>(p(r),w(()=>r("common.filter")))]),l(F,H)},$$slots:{leading:!0,default:!0}});var R=v(T,2);{let O=A(()=>d()?"top-right":"right");Mr(R,{id:"event-type-menu",keepOpen:!0,get position(){return e(O)},class:"w-[220px] md:w-[360px]",children:(F,D)=>{var H=Fn(),ee=ne(H);{const V=B=>{{let X=A(()=>(n(),s(),e(m),w(()=>!n()&&s().length===e(m).length))),te=A(()=>(p(r),w(()=>r("common.all"))));ft(B,{get checked(){return e(X)},get label(){return e(te)},labelHidden:!0,class:"mt-px",$$events:{change:()=>{he(Ve,e(m)),he(Be,!1)}}})}};let j=A(()=>(p(r),w(()=>r("common.all"))));gt(ee,{get"data-testid"(){return e(j)},onclick:()=>{he(Ve,e(m)),he(Be,!1)},leading:V,children:(B,X)=>{we();var te=pe();S(q=>L(te,q),[()=>(p(r),w(()=>r("common.all")))]),l(B,te)},$$slots:{leading:!0,default:!0}})}var U=v(ee,2);{var Q=V=>{{const j=te=>{{let q=A(()=>(p(r),w(()=>r("common.all"))));ft(te,{get checked(){return n()},get label(){return e(q)},labelHidden:!0,class:"mt-px",$$events:{change:()=>{he(Ve,e(m)),he(Be,!n())}}})}};let B=A(()=>(p(r),w(()=>r("common.pending-and-failed")))),X=A(()=>(p(r),w(()=>r("common.pending-and-failed-description"))));gt(V,{get"data-testid"(){return e(B)},get description(){return e(X)},onclick:()=>{he(Ve,e(m)),he(Be,!n())},class:"items-start",leading:j,children:(te,q)=>{we();var $e=pe();S(oe=>L($e,oe),[()=>(p(r),w(()=>r("common.pending-and-failed")))]),l(te,$e)},$$slots:{leading:!0,default:!0}})}};Z(U,V=>{f()!=="json"&&V(Q)})}var J=v(U,2);{const V=B=>{{let X=A(()=>(n(),s(),w(()=>!n()&&!s().length))),te=A(()=>(p(r),w(()=>r("common.none"))));ft(B,{get checked(){return e(X)},get label(){return e(te)},labelHidden:!0,class:"mt-px",$$events:{change:()=>{he(Ve,[]),he(Be,!1)}}})}};let j=A(()=>(p(r),w(()=>r("common.none"))));gt(J,{get"data-testid"(){return e(j)},onclick:()=>{he(Ve,[]),he(Be,!1)},leading:V,children:(B,X)=>{we();var te=pe();S(q=>L(te,q),[()=>(p(r),w(()=>r("common.none")))]),l(B,te)},$$slots:{leading:!0,default:!0}})}var _e=v(J,2);Dr(_e);var Ee=v(_e,2);nt(Ee,1,()=>e(g),yt,(V,j)=>{gt(V,{get"data-testid"(){return e(j),w(()=>e(j).label)},get description(){return e(j),w(()=>e(j).description)},onclick:()=>{k(e(j))},class:"items-start",leading:X=>{{let te=A(()=>(s(),e(j),w(()=>s().some(q=>q===e(j).value))));ft(X,{get checked(){return e(te)},get label(){return e(j),w(()=>e(j).label)},labelHidden:!0,class:"mt-px",$$events:{click:()=>k(e(j))}})}},children:(X,te)=>{we();var q=pe();S(()=>L(q,(e(j),w(()=>e(j).label)))),l(X,q)},$$slots:{leading:!0,default:!0}})}),l(F,H)},$$slots:{default:!0}})}l(_,z)},$$slots:{default:!0}}),ye(),c()}function Dn(b,t){be(t,!1);const i=()=>ae(ct,"$pauseLiveUpdates",P),[P,s]=Re(),n=N(),f=N();let a=M(t,"workflow",8),c=M(t,"startTime",8);const m=()=>{const $=new Date;return $.setSeconds($.getSeconds()+1),$};let g;const I=$=>{$&&(clearInterval(g),g=null)},y=$=>{$?(clearInterval(g),g=null):!g&&a().isRunning&&(g=setInterval(()=>{W(n,m())},1e3))};Lr(()=>{clearInterval(g),g=null,he(ct,!1)}),re(()=>p(a()),()=>{W(n,(a()===null||a()===void 0?void 0:a().endTime)||m())}),re(()=>(p(c()),e(n)),()=>{W(f,_t({start:c(),end:e(n),onlyUnderSecond:!1}))}),re(()=>p(a()),()=>{I(a().endTime)}),re(()=>i(),()=>{y(i())}),Ne(),Ce();var u=je(),d=ne(u);Ze(d,t,"default",{get endTime(){return e(n)},get duration(){return e(f)}},null),l(b,u),ye(),s()}var Gn=Y("<div><!></div>");function Nn(b,t){const i=kt(t,["children","$$slots","$$events","$$legacy"]),P=kt(i,["namespace","workflowId","runId","viewportHeight","onLoad"]);be(t,!1);let s=M(t,"namespace",8),n=M(t,"workflowId",8),f=M(t,"runId",8,""),a=M(t,"viewportHeight",8,360),c=M(t,"onLoad",8,()=>{});const m=async()=>{const[u,d]=await Promise.all([dn({namespace:s(),workflowId:n(),runId:f()}),ln({namespace:s(),workflowId:n(),runId:f()})]);return{workflow:u.workflow,history:d}},g=(u,d)=>{var $;c()();const k=($=u==null?void 0:u.pendingActivities)!==null&&$!==void 0?$:[];return or(d,"ascending",k)};Ce();var I=je(),y=ne(I);sn(y,()=>w(m),null,(u,d)=>{var $=A(()=>{var{workflow:T,history:R}=e(d);return{workflow:T,history:R}}),k=A(()=>e($).workflow),_=A(()=>e($).history),C=Gn(),z=x(C);{let T=A(()=>(p(e(k)),p(e(_)),w(()=>g(e(k),e(_)))));vr(z,{get viewportHeight(){return a()},get workflow(){return e(k)},get groups(){return e(T)},readOnly:!0})}h(C),S(()=>De(C,1,`cursor-pointer overflow-auto ${p(P),w(()=>P.class)??""}`)),l(u,C)}),l(b,I),ye()}var Un=Y('<div class="flex items-center gap-1"><!> </div>'),Vn=Y(" <!>",1),Bn=Y('<div class="surface-primary p-4"><div class="font-medium leading-4 text-secondary">Child Workflow</div> <!></div>'),qn=ze('<g role="button" tabindex="0" class="relative z-50 svelte-1qsv8v3"><foreignObject><div class="flex flex-col"><div class="relative flex h-full items-center justify-between bg-slate-50 text-sm dark:bg-slate-800"><div class="flex h-full items-center gap-4 px-2"><!> <!></div> <div class="flex items-center gap-4"><!></div></div> <div class="surface-primary"><!></div> <!></div></foreignObject></g>');function Yn(b,t){be(t,!1);const i=()=>ae(rt,"$page",P),[P,s]=Re(),n=N(),f=N(),a=N(),c=N(),m=N(),g=N(),I=N();var y=N(),u=N();let d=M(t,"group",8),$=M(t,"canvasWidth",8),k=M(t,"x",8,0),_=M(t,"y",8),C=N();const z=q=>{he(ut,q)},T=async()=>{await hr(),W(n,e(C))};re(()=>e(C),()=>{W(n,e(C)||0)}),re(()=>e(n),()=>{z(e(n)||0)}),re(()=>p(d()),()=>{W(f,(d()===null||d()===void 0?void 0:d().finalClassification)||(d()===null||d()===void 0?void 0:d().classification))}),re(()=>(e(a),i()),()=>{(q=>{W(a,q.namespace)})(i().params)}),re(()=>p($()),()=>{W(c,$())}),re(()=>p(d()),()=>{W(m,d().displayName)}),re(()=>(p(d()),Vt),()=>{W(g,d()&&d().eventList.find(Vt))}),re(()=>(ge(y),p(d()),ge(u)),()=>{W(I,ar({start:W(y,d()===null||d()===void 0?void 0:d().initialEvent)===null||ge(y)===void 0?void 0:ge(y).eventTime,end:W(u,d()===null||d()===void 0?void 0:d().lastEvent)===null||ge(u)===void 0?void 0:ge(u).eventTime,includeMilliseconds:!0}))}),re(()=>(p(d()),r),()=>{!(d()===null||d()===void 0)&&d().pendingActivity&&(d().pendingActivity.paused?W(f,r("workflows.paused")):d().pendingActivity.attempt>1?W(f,r("events.event-classification.retrying")):W(f,r("events.event-classification.pending")))}),Ne(),Ce();var R=qn(),O=x(R),F=x(O),D=x(F),H=x(D),ee=x(H);{var U=q=>{an(q,{get status(){return e(f)}})};Z(ee,q=>{e(f)&&q(U)})}var Q=v(ee),J=v(Q);{var _e=q=>{var $e=Un(),oe=x($e);Ye(oe,{name:"clock"});var ie=v(oe);h($e),S(()=>L(ie,` ${e(I)??""}`)),l(q,$e)};Z(J,q=>{e(I)&&q(_e)})}h(H);var Ee=v(H,2),V=x(Ee);on(V,{variant:"ghost",size:"xs",$$events:{click:()=>dr(d())},children:(q,$e)=>{we();var oe=Vn(),ie=ne(oe),Le=v(ie);Ye(Le,{name:"close"}),S(He=>L(ie,`${He??""} `),[()=>(p(r),w(()=>r("common.close")))]),l(q,oe)},$$slots:{default:!0}}),h(Ee),h(D);var j=v(D,2),B=x(j);Xr(B,{get group(){return d()},get event(){return p(d()),w(()=>d().initialEvent)}}),h(j);var X=v(j,2);{var te=q=>{var $e=Bn(),oe=v(x($e),2);jt(oe,()=>(p(d()),w(()=>d().eventList.length)),ie=>{Nn(ie,{get namespace(){return e(a)},get workflowId(){return e(g),w(()=>e(g).attributes.workflowExecution.workflowId)},get runId(){return e(g),w(()=>e(g).attributes.workflowExecution.runId)},viewportHeight:320,class:"surface-primary overflow-x-hidden border-t border-subtle",onLoad:T})}),h($e),l(q,$e)};Z(X,q=>{e(g)&&q(te)})}h(F),h(O),h(R),S(()=>{fe(O,"x",k()),fe(O,"y",_()),fe(O,"width",e(c)),fe(O,"height",e(n)),L(Q,` ${e(m)??""} `)}),nr(F,"offsetHeight",q=>W(C,q)),l(b,R),ye(),s()}var Jn=ze('<text fill="#fff" font-size="12" class="svelte-7nuc95"> </text>'),Qn=ze("<!><!>",1),Xn=ze("<!><!>",1);function Kn(b,t){be(t,!0);let i=M(t,"x1",3,0),P=M(t,"x2",3,1e3),s=M(t,"timelineHeight",3,1e3);const{radius:n}=et,f=20,a=o(()=>P()-i()),c=o(()=>e(a)/f);var m=Xn(),g=ne(m);{let y=o(()=>n/2),u=o(()=>[i(),s()]),d=o(()=>[i()+e(a),s()]);qe(g,{get strokeWidth(){return e(y)},get startPoint(){return e(u)},get endPoint(){return e(d)}})}var I=v(g);nt(I,17,()=>Array(f),yt,(y,u,d)=>{const $=o(()=>i()+d*e(c)),k=o(()=>s()+n*2);var _=Qn(),C=ne(_);{var z=O=>{{let F=o(()=>[e($),0]),D=o(()=>[e($),s()]);qe(O,{strokeWidth:.5,get startPoint(){return e(F)},get endPoint(){return e(D)},strokeDasharray:"2"})}};Z(C,O=>{d!==0&&O(z)})}var T=v(C);{var R=O=>{var F=Jn(),D=x(F,!0);h(F),S(H=>{fe(F,"transform",`rotate(90, ${e($)??""}, ${e(k)??""})`),fe(F,"x",e($)-n),fe(F,"y",e(k)+3),L(D,H)},[()=>ar({start:t.startTime,end:new Date(new Date(t.startTime.toString()).getTime()+t.duration/f*d),includeMilliseconds:t.duration/f<1e3})]),l(O,F)};Z(T,O=>{d!==0&&O(R)})}l(y,_)}),l(b,m),ye()}var Zn=ze("<text><!></text>"),ea=ze("<!><!><!>",1);function ta(b,t){be(t,!0);var i;let P=M(t,"point",19,()=>[0,0]),s=M(t,"category",3,void 0),n=M(t,"status",3,"none"),f=M(t,"fontSize",3,"13px"),a=M(t,"fontWeight",3,"400"),c=M(t,"textAnchor",3,"start"),m=M(t,"backdrop",3,!1),g=M(t,"backdropHeight",3,0),I=M(t,"icon",3,void 0),y=M(t,"config",3,void 0),u=M(t,"label",3,!1);const d=o(()=>xr(P(),2)),$=o(()=>e(d)[0]),k=o(()=>e(d)[1]);let _=wt(void 0);const C=o(()=>I()&&y()),z=o(()=>((i=e(_)===null||e(_)===void 0?void 0:e(_).getBBox())===null||i===void 0?void 0:i.width)||0),T=o(()=>e(C)?e(z)+36:e(z)+12),R=o(()=>e(C)&&c()==="start"?e($)+y().radius*2:e($));var O=ea(),F=ne(O);{var D=Q=>{{let J=o(()=>[e($)-g(),e(k)]),_e=o(()=>[e($)+e(T),e(k)]);qe(Q,{get startPoint(){return e(J)},get endPoint(){return e(_e)},get status(){return n()},get strokeWidth(){return g()}})}};Z(F,Q=>{m()&&Q(D)})}var H=v(F);{var ee=Q=>{{let J=o(()=>c()==="end"?e($)-e(z)-g():e($)),_e=o(()=>e(k)-8),Ee=o(()=>m()?"text-white":"text-primary");Ye(Q,{get name(){return I()},get x(){return e(J)},get y(){return e(_e)},get class(){return e(Ee)}})}};Z(H,Q=>{e(C)&&Q(ee)})}var U=v(H);jt(U,()=>e(R),Q=>{var J=Zn();let _e;var Ee=x(J);Kt(Ee,()=>t.children??Zt),h(J),un(J,V=>W(_,V),()=>e(_)),S(()=>{_e=De(J,0,`cursor-pointer select-none outline-none ${s()??""} text-primary`,"svelte-gowbbf",_e,{label:u(),backdrop:m()}),fe(J,"x",e(R)),fe(J,"y",e(k)+1),fe(J,"font-size",f()),fe(J,"font-weight",a()),fe(J,"text-anchor",c())}),l(Q,J)}),l(b,O),ye()}var ra=ze("<foreignObject><div></div></foreignObject>"),na=ze('<rect fill="transparent" pointer-events="all"></rect>'),aa=ze("<!><!>",1),oa=ze("<!><!><!><!>",1),sa=ze('<!><g role="button" tabindex="0" class="relative cursor-pointer svelte-1vsmkab"><!><!></g>',1);function la(b,t){be(t,!0);const i=()=>ae(sr,"$authUser",P),[P,s]=Re();var n,f;let a=M(t,"y",3,0),c=M(t,"group",7),m=M(t,"readOnly",3,!1);const{height:g,gutter:I,radius:y}=et;let u=wt(!1);const d=o(()=>t.canvasWidth-2*I),$=o(()=>c()===null||c()===void 0?void 0:c().pendingActivity),k=o(()=>e($)&&((n=e($).pauseInfo)===null||n===void 0?void 0:n.pauseTime));let _=wt(void 0);zr(async()=>{const ce=Kr(c());if(ce)try{W(_,await Zr(ce,{namespace:Wt.params.namespace,settings:Wt.data.settings,accessToken:i().accessToken}),!0),e(_)&&(c().decodedLocalActivity=e(_))}catch(se){console.warn("Failed to decode local activity:",se)}});const C=(ce,se,E)=>{const G=_t({start:t.startTime,end:ce,onlyUnderSecond:!1}),le=c().eventList.map(Te=>{const ve=_t({start:t.startTime,end:Te.eventTime,onlyUnderSecond:!1})/G;return Math.round(ve*se)+I});if(e(k)){const ue=_t({start:t.startTime,end:e(k),onlyUnderSecond:!1})/G,ve=Math.round(ue*se)+I;le.push(ve)}const{textAnchor:me,textIndex:K,textPosition:ke,backdrop:de}=tn(le,E,se,c().isPending,et);return{points:le,textAnchor:me,textIndex:K,textPosition:ke,backdrop:de}},z=o(()=>C(t.endTime,e(d),a())),T=o(()=>e(z).points),R=o(()=>e(z).textAnchor),O=o(()=>e(z).textIndex),F=o(()=>e(z).textPosition),D=o(()=>e(z).backdrop),H=()=>{m()||dr(c())},ee=()=>{m()||W(u,!0)},U=()=>{m()||W(u,!1)},Q=o(()=>c().eventList.find(Nr)),J=o(()=>e(Q)&&((f=e(Q).attributes)===null||f===void 0?void 0:f.attempt)>1),_e=o(()=>c().isPending||!!e(k)),Ee=o(()=>e(T).length>=2&&e(T)[e(T).length-1]-e(T)[0]+y*3),V=o(()=>c().isPending&&t.canvasWidth-e(T)[0]-y*1.5),j=o(()=>y*3),B=o(()=>e(V)||e(Ee)||e(j)),X=vn(["h-full w-full rounded-full border-2"],{variants:{category:{workflow:"border-blue-700 bg-blue-800/80 ",activity:"border-purple-700 bg-purple-800/80 ","child-workflow":"border-cyan-600  bg-cyan-600/80 ",timer:"border-yellow-700 bg-yellow-800/80",signal:"border-pink-700 bg-pink-800/80",update:"border-blue-700 bg-blue-800/80",other:"border-slate-700 bg-slate-800/80",nexus:"border-indigo-700 bg-indigo-800/80","local-activity":"border-slate-700 bg-slate-800/80",default:"border-purple-700 bg-purple-900/80"}}});var te=sa(),q=ne(te);{var $e=ce=>{var se=ra(),E=x(se);h(se),S(G=>{fe(se,"x",e(T)[0]-y*1.5),fe(se,"y",a()-y*1.5),fe(se,"width",e(B)),fe(se,"height",y*3),De(E,1,G)},[()=>er(X({category:c()?c().category:"default"}))]),l(ce,se)};Z(q,ce=>{e(u)&&ce($e)})}var oe=v(q);oe.__click=H;var ie=x(oe);{var Le=ce=>{const se=o(()=>e(k)?e(T)[1]-e(T)[0]:t.canvasWidth-2*I);var E=na();S(()=>{fe(E,"y",a()-g/2),fe(E,"x",e(T)[0]),fe(E,"width",e(se)),fe(E,"height",g)}),l(ce,E)};Z(ie,ce=>{e(_e)&&ce(Le)})}var He=v(ie);nt(He,17,()=>e(T),yt,(ce,se,E)=>{const G=o(()=>e(T)[E+1]),le=o(()=>e(O)===E);var me=oa(),K=ne(me);{var ke=xe=>{{let Ae=o(()=>[e(se),a()]),Pe=o(()=>[e(G),a()]),Se=o(()=>!!e(k)),We=o(()=>!!e(k)),Me=o(()=>y*2),Ge=o(()=>E===0&&c().lastEvent.classification==="Completed");qe(xe,{get startPoint(){return e(Ae)},get endPoint(){return e(Pe)},get category(){return c().category},get classification(){return c().lastEvent.classification},get pending(){return e(Se)},get paused(){return e(We)},get strokeWidth(){return e(Me)},get retried(){return e(J)},get scheduling(){return e(Ge)}})}};Z(K,xe=>{e(G)&&xe(ke)})}var de=v(K);{var Te=xe=>{var Ae=aa(),Pe=ne(Ae);{let We=o(()=>[e(se),a()]),Me=o(()=>[t.canvasWidth-I,a()]),Ge=o(()=>e($)?e($).attempt>1?"retry":"pending":c().category),Fe=o(()=>!!e(k)),Ue=o(()=>y*2);qe(Pe,{get startPoint(){return e(We)},get endPoint(){return e(Me)},get category(){return e(Ge)},get classification(){return c().lastEvent.classification},pending:!0,get paused(){return e(Fe)},get strokeWidth(){return e(Ue)}})}var Se=v(Pe);{let We=o(()=>[e(se),a()]);ht(Se,{get point(){return e(We)},get classification(){return c().lastEvent.classification},icon:"retry",get r(){return y}})}l(xe,Ae)};Z(de,xe=>{!e(G)&&c().isPending&&!e(k)&&xe(Te)})}var ue=v(de);{var ve=xe=>{{let Ae=o(()=>{var We,Me;return(Me=(We=c())==null?void 0:We.userMetadata)==null?void 0:Me.summary}),Pe=o(()=>{var We;return Gr(c().initialEvent)?(We=c())==null?void 0:We.displayName:""}),Se=o(()=>{var We;return e(_)?r("events.category.local-activity"):(We=c())==null?void 0:We.displayName});en(xe,{get value(){return e(Ae)},get prefix(){return e(Pe)},get fallback(){return e(Se)},children:Rt,$$slots:{default:(We,Me)=>{const Ge=o(()=>Me.decodedValue);{let Fe=o(()=>y*2),Ue=o(()=>e($)&&!e($).paused||e(J)?"retry":void 0);ta(We,{get point(){return e(F)},get textAnchor(){return e(R)},get backdrop(){return e(D)},get backdropHeight(){return e(Fe)},get config(){return et},get icon(){return e(Ue)},children:(Tt,Ft)=>{var Ot=je(),fr=ne(Ot);{var gr=Je=>{var at=pe();S(Et=>L(at,`${Et??""}
            ${e($).attempt??""} / ${(e($).maximumAttempts||"∞")??""}
            • 
            ${e(Ge)??""}`),[()=>r("workflows.attempt")]),l(Je,at)},mr=Je=>{var at=je(),Et=ne(at);{var pr=Qe=>{var ot=pe();S(()=>L(ot,`${e(Q).attributes.attempt??""} • ${e(Ge)??""}`)),l(Qe,ot)},_r=Qe=>{var ot=je(),$r=ne(ot);{var wr=Xe=>{var st=pe();S(()=>L(st,e(_).value)),l(Xe,st)},kr=Xe=>{var st=pe();S(()=>L(st,e(Ge))),l(Xe,st)};Z($r,Xe=>{e(_)?Xe(wr):Xe(kr,!1)},!0)}l(Qe,ot)};Z(Et,Qe=>{e(J)?Qe(pr):Qe(_r,!1)},!0)}l(Je,at)};Z(fr,Je=>{e($)?Je(gr):Je(mr,!1)})}l(Tt,Ot)},$$slots:{default:!0}})}}}})}};Z(ue,xe=>{e(le)&&xe(ve)})}var Ie=v(ue);{let xe=o(()=>[e(se),a()]),Ae=o(()=>{var Se;return(Se=c().eventList[E])==null?void 0:Se.classification}),Pe=o(()=>e(k)&&E!==0?"pause":e(_)?dt["local-activity"]:dt[c().category]);ht(Ie,{get point(){return e(xe)},get classification(){return e(Ae)},get icon(){return e(Pe)},get r(){return y}})}l(ce,me)}),h(oe),S(()=>fe(oe,"height",g)),lt("keypress",oe,H),lt("mouseenter",oe,ee),lt("mouseleave",oe,U),l(b,te),ye(),s()}Er(["click"]);var ia=ze('<g role="button" tabindex="0" class="relative cursor-pointer svelte-1hb0j3w"><!><!><!><!><!></g>');function ca(b,t){be(t,!1);const i=N(),P=N();let s=M(t,"workflow",8),n=M(t,"length",8),f=M(t,"y",8);const{radius:a,height:c,gutter:m}=et;re(()=>{},()=>{W(i,m)}),re(()=>(e(i),p(n())),()=>{W(P,e(i)+n()-2*m)}),Ne(),Ce();var g=ia(),I=x(g);{let k=A(()=>[e(i),f()]),_=A(()=>[e(P),f()]),C=A(()=>a*2),z=A(()=>(p(St),p(s()),w(()=>St(s()))));qe(I,{get startPoint(){return e(k)},get endPoint(){return e(_)},get classification(){return p(s()),w(()=>s().status)},get strokeWidth(){return e(C)},get pending(){return p(s()),w(()=>s().isRunning)},get delayed(){return e(z)}})}var y=v(I);{let k=A(()=>[e(i),f()]);ht(y,{get point(){return e(k)},get classification(){return p(s()),w(()=>s().status)},get r(){return a}})}var u=v(y);{let k=A(()=>e(i)-a/2),_=A(()=>f()-a/2);Ye(u,{name:"workflow",get x(){return e(k)},get y(){return e(_)},get width(){return a},get height(){return a},strokeWidth:"4",class:"text-black"})}var d=v(u);{let k=A(()=>[e(P),f()]);ht(d,{get point(){return e(k)},get classification(){return p(s()),w(()=>s().status)},get r(){return a}})}var $=v(d);{let k=A(()=>e(P)-a/2),_=A(()=>f()-a/2);Ye($,{name:"workflow",get x(){return e(k)},get y(){return e(_)},get width(){return a},get height(){return a},strokeWidth:"4",class:"text-black"})}h(g),S(()=>fe(g,"height",c)),l(b,g),ye()}var da=ze("<!><!>",1),va=Y('<div><div class="flex w-full justify-between text-xs"><p class="w-60 -translate-x-24 rotate-90"> </p> <p class="w-60 translate-x-24 rotate-90"> </p></div></div> <svg><!><!><!><!><!></svg>',1),ua=Y('<div id="event-history-timeline-graph" class="relative h-auto overflow-auto border border-t-0 border-subtle bg-primary"><!></div>');function vr(b,t){be(t,!1);const i=()=>ae(ut,"$activeGroupHeight",c),P=()=>ae(Be,"$eventStatusFilter",c),s=()=>ae(xt,"$fullEventHistory",c),n=()=>ae(tt,"$activeGroups",c),f=()=>ae(it,"$eventFilterSort",c),a=()=>ae(Lt,"$timestamp",c),[c,m]=Re(),g=N(),I=N(),y=N(),u=N(),d=N(),$=N(),k=N();var _=N(),C=N();let z=M(t,"x",8,0),T=M(t,"y",8,0),R=M(t,"workflow",8),O=M(t,"groups",8),F=M(t,"viewportHeight",8),D=M(t,"readOnly",8,!1),H=M(t,"error",8,!1);const{height:ee,gutter:U,radius:Q}=et;let J=N(0),_e=N(0);const Ee=B=>{var X;W(_e,(X=B==null?void 0:B.target)===null||X===void 0?void 0:X.scrollTop)};re(()=>(p(D()),i()),()=>{W(g,D()?0:i())}),re(()=>(p(O()),P()),()=>{W(I,Ar(O(),P()))}),re(()=>(ge(_),s(),p(R()),ge(C)),()=>{W(y,(W(_,s()[0])===null||ge(_)===void 0?void 0:ge(_).eventTime)<R().executionTime?W(C,s()[0])===null||ge(C)===void 0?void 0:ge(C).eventTime:R().executionTime)}),re(()=>(p(R()),e(y)),()=>{W(u,!St(R())&&e(y)||R().startTime)}),re(()=>(e(I),e(g)),()=>{W(d,Math.max(ee*(e(I).length+2),120)+e(g))}),re(()=>e(d),()=>{W($,e(d)+120)}),re(()=>(n(),f(),e(g)),()=>{W(k,B=>{const X=n()===null||n()===void 0?void 0:n().filter(te=>f()==="ascending"?parseInt(te)<parseInt(B.id):parseInt(te)>parseInt(B.id));return X!=null&&X.length?e(g):0})}),Ne(),Ce();var V=ua(),j=x(V);Dn(j,{get workflow(){return R()},get startTime(){return e(u)},children:Rt,$$slots:{default:(B,X)=>{const te=A(()=>X.endTime),q=A(()=>X.duration);var $e=va(),oe=ne($e);let ie;var Le=x(oe),He=x(Le),ce=x(He,!0);h(He);var se=v(He,2),E=x(se,!0);h(se),h(Le),h(oe);var G=v(oe,2);let le;var me=x(G);{let ue=A(()=>[U,0]),ve=A(()=>[U,e(d)]),Ie=A(()=>Q/2);qe(me,{get startPoint(){return e(ue)},get endPoint(){return e(ve)},get strokeWidth(){return e(Ie)}})}var K=v(me);{let ue=A(()=>[e(J)-U,0]),ve=A(()=>[e(J)-U,e(d)]),Ie=A(()=>Q/2);qe(K,{get startPoint(){return e(ue)},get endPoint(){return e(ve)},get strokeWidth(){return e(Ie)}})}var ke=v(K);{let ue=A(()=>U-Q/4),ve=A(()=>e(J)-U+Q/4);Kn(ke,{get x1(){return e(ue)},get x2(){return e(ve)},get timelineHeight(){return e(d)},get startTime(){return e(u)},get duration(){return e(q)}})}var de=v(ke);ca(de,{get workflow(){return R()},get y(){return ee},get length(){return e(J)}});var Te=v(de);nt(Te,3,()=>e(I),ue=>ue.id,(ue,ve,Ie,xe)=>{const Ae=A(()=>(p(e(Ie)),e(k),e(ve),w(()=>(e(Ie)+2)*ee+e(k)(e(ve)))));var Pe=da(),Se=ne(Pe);{var We=Fe=>{var Ue=je(),Tt=ne(Ue);jt(Tt,()=>(e(ve),w(()=>e(ve).eventList.length)),Ft=>{la(Ft,{get y(){return e(Ae)},get group(){return e(ve)},get canvasWidth(){return e(J)},get startTime(){return e(u)},get endTime(){return e(te)},get readOnly(){return D()}})}),l(Fe,Ue)};Z(Se,Fe=>{(!F()||e(Ae)>e(_e)-2*ee&&e(Ae)<e(_e)+F()*ee)&&Fe(We)})}var Me=v(Se);{var Ge=Fe=>{{let Ue=A(()=>e(Ae)+1.33*Q);Yn(Fe,{get y(){return e(Ue)},get group(){return e(ve)},get canvasWidth(){return e(J)}})}};Z(Me,Fe=>{p(D()),n(),e(ve),w(()=>!D()&&n().includes(e(ve).id))&&Fe(Ge)})}l(ue,Pe)}),h(G),S((ue,ve)=>{ie=De(oe,1,"pointer-events-none sticky top-[120px]",null,ie,{invisible:!!n().length}),L(ce,ue),L(E,ve),fe(G,"x",z()),fe(G,"y",T()),fe(G,"viewBox",`0 0 ${e(J)??""} ${e($)??""}`),fe(G,"height",e($)),fe(G,"width",e(J)),le=De(G,0,"-mt-4 svelte-1fw3am",null,le,{error:H()})},[()=>(a(),e(u),w(()=>a()(e(u),{format:"short"}))),()=>(a(),p(e(te)),w(()=>a()(e(te),{format:"short"})))]),l(B,$e)}}}),h(V),S(()=>rn(V,F()?`max-height: ${F()}px;`:"")),nr(V,"clientWidth",B=>W(J,B)),lt("scroll",V,Ee),l(b,V),ye(),m()}var fa=Y('<div class="*:border-t-0 [&amp;>*:first-child]:border-t"><!></div>');function ga(b,t){var i=fa(),P=x(i);Ze(P,t,"default",{},null),h(i),l(b,i)}var ma=Y("<p> </p> <!>",1),pa=Y("<p> </p> <!>",1),_a=Y('<div class="flex flex-col gap-2"><p> </p> <!> <!> <!></div>'),$a=Y('<div class="w-full text-right text-xs" slot="summary"> </div>'),wa=Y("<!> <!>",1);function ur(b,t){be(t,!1);let i=M(t,"failure",8,void 0);Ce();var P=wa(),s=ne(P);{var n=c=>{{let m=A(()=>(p(r),w(()=>r("common.failure"))));ir(c,{get title(){return e(m)},class:"text-sm",children:(g,I)=>{var y=_a(),u=x(y),d=x(u,!0);h(u);var $=v(u,2);{let T=A(()=>(p(i()),w(()=>{var F;return((F=i())==null?void 0:F.message)||""}))),R=A(()=>(p(r),w(()=>r("common.copy-icon-title")))),O=A(()=>(p(r),w(()=>r("common.copy-success-icon-title"))));$t($,{get content(){return e(T)},language:"text",get copyIconTitle(){return e(R)},get copySuccessIconTitle(){return e(O)}})}var k=v($,2);{var _=T=>{var R=ma(),O=ne(R),F=x(O,!0);h(O);var D=v(O,2);{let H=A(()=>(p(r),w(()=>r("common.copy-icon-title")))),ee=A(()=>(p(r),w(()=>r("common.copy-success-icon-title"))));$t(D,{get content(){return p(i()),w(()=>i().source)},language:"text",get copyIconTitle(){return e(H)},get copySuccessIconTitle(){return e(ee)}})}S(H=>L(F,H),[()=>(p(r),w(()=>r("common.source")))]),l(T,R)};Z(k,T=>{p(i()),w(()=>{var R;return(R=i())==null?void 0:R.source})&&T(_)})}var C=v(k,2);{var z=T=>{var R=pa(),O=ne(R),F=x(O,!0);h(O);var D=v(O,2);{let H=A(()=>(p(r),w(()=>r("common.copy-icon-title")))),ee=A(()=>(p(r),w(()=>r("common.copy-success-icon-title"))));$t(D,{get content(){return p(i()),w(()=>i().stackTrace)},language:"text",get copyIconTitle(){return e(H)},get copySuccessIconTitle(){return e(ee)}})}S(H=>L(F,H),[()=>(p(r),w(()=>r("common.stack-trace")))]),l(T,R)};Z(C,T=>{p(i()),w(()=>{var R;return(R=i())==null?void 0:R.stackTrace})&&T(z)})}h(y),S(T=>L(d,T),[()=>(p(r),w(()=>r("common.message")))]),l(g,y)},$$slots:{default:!0,summary:(g,I)=>{var y=$a(),u=x(y,!0);h(y),S(()=>L(u,(p(i()),w(()=>{var d;return(d=i())==null?void 0:d.message})))),l(g,y)}}})}};Z(s,c=>{i()&&c(n)})}var f=v(s,2);{var a=c=>{var m=je(),g=ne(m);ur(g,{get failure(){return p(i()),w(()=>i().cause)}}),l(c,m)};Z(f,c=>{p(i()),w(()=>{var m;return(m=i())==null?void 0:m.cause})&&c(a)})}l(b,P),ye()}var ka=Y('<div class="flex flex-col gap-2"><p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p> <p class="flex items-center gap-4"> <!></p></div>');function ha(b,t){be(t,!1);const i=()=>ae(Lt,"$timestamp",P),[P,s]=Re();let n=M(t,"pendingTask",8,void 0);Ce();{let f=A(()=>(p(r),w(()=>r("workflows.pending-workflow-task"))));ir(b,{get title(){return e(f)},children:(a,c)=>{var m=ka(),g=x(m),I=x(g),y=v(I);Oe(y,{children:(H,ee)=>{we();var U=pe();S(()=>L(U,(p(n()),w(()=>n().state)))),l(H,U)},$$slots:{default:!0}}),h(g);var u=v(g,2),d=x(u),$=v(d);Oe($,{children:(H,ee)=>{we();var U=pe();S(()=>L(U,(p(n()),w(()=>n().attempt)))),l(H,U)},$$slots:{default:!0}}),h(u);var k=v(u,2),_=x(k),C=v(_);Oe(C,{children:(H,ee)=>{we();var U=pe();S(Q=>L(U,Q),[()=>(i(),p(n()),w(()=>i()(n().originalScheduledTime)))]),l(H,U)},$$slots:{default:!0}}),h(k);var z=v(k,2),T=x(z),R=v(T);Oe(R,{children:(H,ee)=>{we();var U=pe();S(Q=>L(U,Q),[()=>(i(),p(n()),w(()=>i()(n().scheduledTime)))]),l(H,U)},$$slots:{default:!0}}),h(z);var O=v(z,2),F=x(O),D=v(F);Oe(D,{children:(H,ee)=>{we();var U=pe();S(Q=>L(U,Q),[()=>(i(),p(n()),w(()=>i()(n().startedTime)))]),l(H,U)},$$slots:{default:!0}}),h(O),h(m),S((H,ee,U,Q,J)=>{L(I,`${H??""} `),L(d,`${ee??""} `),L(_,`${U??""} `),L(T,`${Q??""} `),L(F,`${J??""} `)},[()=>(p(r),w(()=>r("common.state"))),()=>(p(r),w(()=>r("common.attempt"))),()=>(p(r),w(()=>r("workflows.original-scheduled-time"))),()=>(p(r),w(()=>r("workflows.scheduled-time"))),()=>(p(r),w(()=>r("workflows.started-time")))]),l(a,m)},$$slots:{default:!0}})}ye(),s()}var xa=Y("<p> <!>.</p>"),ba=Y('<p><span class="mr-2 text-secondary">Timeout Type</span> </p>'),ya=Y("<!> <!>",1),Ta=Y('<p> </p> <!> <div class="mt-2 flex w-full flex-col gap-0 overflow-hidden border border-danger"><div class="flex items-center justify-between gap-2 bg-danger px-2 py-2"><div class="flex items-center gap-2"> <!> <span class="font-semibold text-danger"> </span></div> <!></div> <div class="flex flex-col gap-2 bg-primary p-4"><!> <!></div></div>',1);function Ea(b,t){be(t,!0);var i,P;let s=o(()=>Ur(t.error)),n=o(()=>Br(t.error)&&((i=t.error.attributes)===null||i===void 0?void 0:i.failure)),f=o(()=>Vr(t.error)&&((P=t.error.attributes)===null||P===void 0?void 0:P.timeoutType));var a=je(),c=ne(a);{var m=g=>{{let I=o(()=>r(`typed-errors.${e(s)}.title`));zt(g,{icon:"warning",intent:"warning",get title(){return e(I)},children:(y,u)=>{var d=Ta(),$=ne(d),k=x($,!0);h($);var _=v($,2);{var C=V=>{var j=xa(),B=x(j,!0),X=v(B);{let te=o(()=>r(`typed-errors.${e(s)}.link`));lr(X,{newTab:!0,get href(){return e(te)},children:(q,$e)=>{we();var oe=pe();S(ie=>L(oe,ie),[()=>r(`typed-errors.${e(s)}.action`)]),l(q,oe)},$$slots:{default:!0}})}we(),h(j),S(te=>L(B,te),[()=>r("typed-errors.link-preface")]),l(V,j)};Z(_,V=>{(e(s)==="NonDeterministicError"||e(s)==="BadSearchAttributes")&&V(C)})}var z=v(_,2),T=x(z),R=x(T),O=x(R),F=v(O);Ye(F,{get name(){return dt[t.error.category]}});var D=v(F,2),H=x(D,!0);h(D),h(R);var ee=v(R,2);{let V=o(()=>{var j;return(j=t.error)==null?void 0:j.eventTime});nn(ee,{get dateTime(){return e(V)}})}h(T);var U=v(T,2),Q=x(U);{var J=V=>{var j=ba(),B=v(x(j));h(j),S(()=>L(B,` ${e(f)??""}`)),l(V,j)};Z(Q,V=>{e(f)&&V(J)})}var _e=v(Q,2);{var Ee=V=>{ga(V,{children:(j,B)=>{var X=ya(),te=ne(X);{var q=ie=>{ur(ie,{get failure(){return e(n)}})};Z(te,ie=>{e(n)&&ie(q)})}var $e=v(te,2);{var oe=ie=>{ha(ie,{get pendingTask(){return t.pendingTask}})};Z($e,ie=>{t.pendingTask&&ie(oe)})}l(j,X)},$$slots:{default:!0}})};Z(_e,V=>{(e(n)||t.pendingTask)&&V(Ee)})}h(U),h(z),S((V,j)=>{L(k,V),L(O,`${t.error.id??""} `),L(H,j)},[()=>r(`typed-errors.${e(s)}.description`),()=>{var V;return fn((V=t.error)==null?void 0:V.name)}]),l(y,d)},$$slots:{default:!0}})}};Z(c,g=>{e(s)&&e(s)!=="ResetWorkflow"&&g(m)})}l(b,a),ye()}const Pa=async(b,t,i)=>{const P=$n(t),s=wn(t),n=kn(t),f={...t,codec:{...t==null?void 0:t.codec,endpoint:P,passAccessToken:s,includeCredentials:n}},a=!1;try{const c=await pn(b,Ht(rt).params.namespace,f,Ht(sr).accessToken,i,a);return _n(c,a)}catch{return b}};function Qt(b,t,i){const P=Ct({events:b},null,2),s=document.createElement("a"),n=new Blob([P],{type:i});s.href=URL.createObjectURL(n),s.download=t,s.click()}const Ia=async({namespace:b,workflowId:t,runId:i,settings:P,decodeSetting:s})=>{try{const n=await cn({namespace:b,workflowId:t,runId:i,sort:"ascending"});if(s==="encoded")Qt(n,`${i}/events.json`,"text/plain");else{const f=[];for(const a of n){const c=await Pa(a,P,s);f.push(c)}Qt(f,`${i}/events.json`,"text/plain")}}catch{console.error("Could not download event history")}};var Aa=Y('<div class="flex items-center space-x-4"><!></div>');function Wa(b,t){be(t,!1);const i=()=>ae(Rr,"$parameters",s),P=()=>ae(hn,"$isCloud",s),[s,n]=Re(),f=N(),a=N(),{namespace:c,workflowId:m,runId:g}=i();re(()=>Bt,()=>{W(f,Bt({namespace:c,workflow:m,run:g}))}),re(()=>e(f),()=>{W(a,e(f)+".json")}),Ne(),Ce();var I=je(),y=ne(I);{var u=d=>{var $=Aa(),k=x($);lr(k,{icon:"external-link",class:"whitespace-nowrap",get href(){return e(a)},newTab:!0,"data-testid":"view-raw-event-history",children:(_,C)=>{we();var z=pe();S(T=>L(z,T),[()=>(p(r),w(()=>r("events.view-raw-history")))]),l(_,z)},$$slots:{default:!0}}),h($),l(d,$)};Z(y,d=>{P()||d(u)})}l(b,I),ye(),n()}var Ha=Y('<h3 slot="title"> </h3>'),Sa=Y("<!> <!> <!>",1),Ca=Y('<div slot="content" class="flex flex-col gap-4"><!> <!></div>');function Ra(b,t){be(t,!1);const i=()=>ae(rt,"$page",s),P=()=>ae(Gt,"$downloadEventHistorySetting",s),[s,n]=Re();let f=M(t,"open",12,!1),a=M(t,"namespace",8),c=M(t,"workflowId",8),m=M(t,"runId",8);const g=()=>{f(!1),Ia({namespace:a(),workflowId:c(),runId:m(),settings:i().data.settings,decodeSetting:P()})};Ce();{let I=A(()=>(p(r),w(()=>r("common.download")))),y=A(()=>(p(r),w(()=>r("common.cancel"))));gn(b,{id:"download-history",large:!0,confirmType:"primary",get confirmText(){return e(I)},get cancelText(){return e(y)},get open(){return f()},set open(u){f(u)},$$events:{confirmModal:()=>g(),cancelModal:()=>f(!1)},$$slots:{title:(u,d)=>{var $=Ha(),k=x($,!0);h($),S(_=>L(k,_),[()=>(p(r),w(()=>r("common.download-event-history-json")))]),l(u,$)},content:(u,d)=>{var $=Ca(),k=x($);mn(k,{get group(){return Gt},name:"decode-setting",class:"h-auto overflow-auto",children:(C,z)=>{var T=Sa(),R=ne(T);{let D=A(()=>(p(r),w(()=>r("events.encoded"))));At(R,{id:"use-encoded-setting","data-testid":"use-encoded-setting-input",value:"encoded",get label(){return e(D)}})}var O=v(R,2);{let D=A(()=>(p(r),w(()=>r("events.decoded")))),H=A(()=>(p(r),w(()=>r("events.decoded-description"))));At(O,{id:"use-decoded-setting","data-testid":"use-decoded-setting-input",value:"decoded",get label(){return e(D)},get description(){return e(H)}})}var F=v(O,2);{let D=A(()=>(p(r),w(()=>r("events.readable")))),H=A(()=>(p(r),w(()=>r("events.readable-description"))));At(F,{id:"use-readable-setting","data-testid":"use-readable-setting-input",value:"readable",get label(){return e(D)},get description(){return e(H)}})}l(C,T)},$$slots:{default:!0}});var _=v(k,2);Wa(_,{}),h($),l(u,$)}},$$legacy:!0})}ye(),n()}const ja=["WorkflowExecutionFailed","WorkflowExecutionCompleted","WorkflowExecutionContinuedAsNew","WorkflowExecutionTimedOut","WorkflowExecutionCanceled","WorkflowExecutionTerminated"],La=b=>!!b.workflowExecutionStartedEventAttributes,za=b=>{for(const t of ja)if(b.eventType===t)return!0;return!1},Fa=b=>rr(b)?b.attributes.input:qr(b)?b.attributes.result===null?null:b.attributes.result:b.attributes,Oa=b=>{var f;let t,i,P=!1,s,n;for(const a of b)if(La(a)){s=a;continue}else if(za(a)){n=a;continue}return s&&(t=Ct(((f=s==null?void 0:s.workflowExecutionStartedEventAttributes)==null?void 0:f.input)??null)),n&&(P=rr(n),i=Ct(Fa(n))),{input:t,results:i,contAsNew:P}};var Ma=Y('<div class="flex flex-col gap-4 lg:flex-row" data-testid="input-and-result"><!> <!></div>');function Da(b,t){be(t,!1);const i=()=>ae(xt,"$fullEventHistory",s),P=()=>ae(bt,"$workflowRun",s),[s,n]=Re(),f=N(),a=N();re(()=>i(),()=>{W(f,Oa(i()))}),re(()=>P(),()=>{W(a,P().workflow.isRunning)}),Ne(),Ce();var c=Ma(),m=x(c);{let I=A(()=>(p(r),w(()=>r("workflows.input"))));Yt(m,{get title(){return e(I)},get content(){return e(f),w(()=>e(f).input)},get isRunning(){return e(a)}})}var g=v(m,2);{let I=A(()=>(p(r),w(()=>r("workflows.result"))));Yt(g,{get title(){return e(I)},get content(){return e(f),w(()=>e(f).results)},get isRunning(){return e(a)}})}h(c),l(b,c),ye(),n()}var Ga=Y('<div class="mb-4"><!></div>');function Na(b,t){be(t,!1);const i=()=>ae(bt,"$workflowRun",P),[P,s]=Re(),n=N(),f=N(),a=N(),c=N();var m=N();re(()=>(e(n),e(f),e(a),i()),()=>{(u=>{W(n,u.workflow),W(f,u.workers),W(a,u.workersLoaded)})(i())}),re(()=>(e(a),e(n),ge(m),e(f)),()=>{W(c,e(a)&&(e(n)===null||e(n)===void 0?void 0:e(n).isRunning)&&!(!(W(m,e(f)===null||e(f)===void 0?void 0:e(f).pollers)===null||ge(m)===void 0)&&ge(m).length))}),Ne(),Ce();var g=je(),I=ne(g);{var y=u=>{var d=Ga(),$=x(d);{let k=A(()=>(p(r),w(()=>r("workflows.workflow-error-no-workers-title"))));zt($,{icon:"warning",intent:"warning",get title(){return e(k)},children:(_,C)=>{we();var z=pe();S(T=>L(z,T),[()=>(p(r),e(n),w(()=>{var T;return r("workflows.workflow-error-no-workers-description",{taskQueue:((T=e(n))==null?void 0:T.taskQueue)??""})}))]),l(_,z)},$$slots:{default:!0}})}h(d),xn(1,d,()=>bn,()=>({duration:200,delay:100})),l(u,d)};Z(I,u=>{e(c)&&u(y)})}l(b,g),ye(),s()}var Ua=Y('<div><button class="focus-visible:outline-interactive w-full cursor-pointer hover:bg-interactive-secondary-hover" type="button"><div class="flex w-full flex-row items-center justify-between gap-2 pr-4"><!> <!> <div class="flex items-center gap-4"><!> <!></div></div></button> <div><!></div></div>');function Va(b,t){const i=kt(t,["children","$$slots","$$events","$$legacy"]),P=kt(i,["id","open","onToggle","icon"]);be(t,!1);let s=M(t,"id",24,()=>crypto.randomUUID()),n=M(t,"open",12,!1),f=M(t,"onToggle",8,void 0),a=M(t,"icon",8,void 0);const c=async()=>{f()&&await f()(),n(!n())};Ce();var m=Ua(),g=x(m),I=x(g),y=x(I);Ze(y,t,"title",{},null);var u=v(y,2);Ze(u,t,"description",{},null);var d=v(u,2),$=x(d);Ze($,t,"action",{},null);var k=v($,2);{let T=A(()=>a()?a():n()?"arrow-down":"arrow-right");Ye(k,{get name(){return e(T)}})}h(d),h(I),h(g);var _=v(g,2);let C;var z=x(_);Ze(z,t,"default",{get open(){return n()}},null),h(_),h(m),S(()=>{De(m,1,`w-full ${p(P),w(()=>P.class)??""}`),fe(g,"id",`${s()??""}-trigger`),fe(g,"aria-expanded",n()),fe(g,"aria-controls",`${s()??""}-content`),fe(_,"id",`${s()??""}-content`),fe(_,"aria-labelledby",`${s()??""}-trigger`),C=De(_,1,"block w-full bg-primary p-2",null,C,{hidden:!n()})}),lt("click",g,c),l(b,m),ye()}var Ba=Y("<!> <!>",1),qa=Y("<!> <!>",1),Ya=Y('<p class="flex items-center gap-2"> <!></p>'),Ja=Y('<p class="flex items-center gap-2"> <!></p>'),Qa=Y('<p class="flex items-center gap-2"> <!></p>'),Xa=Y('<p class="flex items-center gap-2"> <!></p>'),Ka=Y('<p class="flex items-center gap-2"> <!></p>'),Za=Y('<div class="flex flex-col gap-2"><p> </p> <!></div>'),eo=Y('<div class="flex flex-col gap-2 pt-2"><!> <div class="flex flex-col items-start gap-2 md:flex-row md:items-center"><p class="flex items-center gap-2"> <!></p> <!> <!> <!></div> <!> <!> <!></div> <!>',1);function Xt(b,t){be(t,!0);const i=()=>ae(Lt,"$timestamp",P),[P,s]=Re();var n,f,a,c;const m=o(()=>i()(t.callback.lastAttemptCompleteTime)),g=o(()=>i()(t.callback.nextAttemptScheduleTime)),I=o(()=>(n=t.callback===null||t.callback===void 0?void 0:t.callback.lastAttemptFailure)===null||n===void 0?void 0:n.message),y=o(()=>t.callback===null||t.callback===void 0?void 0:t.callback.blockedReason),u=o(()=>(a=(f=t.callback===null||t.callback===void 0?void 0:t.callback.callback)===null||f===void 0?void 0:f.nexus)===null||a===void 0?void 0:a.url),d={Standby:r("nexus.callback.standby"),Scheduled:r("nexus.callback.scheduled"),"Backing Off":r("nexus.callback.backing-off"),Failed:r("nexus.callback.failed"),Succeeded:r("nexus.callback.succeeded")},$="Failed",k=o(()=>t.callback.state===$),_=o(()=>d[t.callback.state]||r("nexus.nexus-callback")),C=o(()=>((c=t.callback===null||t.callback===void 0?void 0:t.callback.callback)===null||c===void 0?void 0:c.links)||[]),z=o(()=>!e(C).length&&!t.link&&e(u));{let T=o(()=>e(k)?"error":"info");zt(b,{icon:"nexus",get intent(){return e(T)},get title(){return e(_)},children:(R,O)=>{var F=eo(),D=ne(F),H=x(D);{var ee=E=>{var G=je(),le=ne(G);nt(le,17,()=>e(C),me=>{var K,ke,de;return((ke=(K=me.workflowEvent)==null?void 0:K.eventRef)==null?void 0:ke.eventId)||((de=me.workflowEvent)==null?void 0:de.requestIdRef.requestId)},(me,K,ke,de)=>{var Te=Ba(),ue=ne(Te);mt(ue,{get link(){return e(K)}});var ve=v(ue,2);{let Ie=o(()=>r("nexus.link-namespace")),xe=o(()=>qt({namespace:e(K).workflowEvent.namespace}));mt(ve,{get link(){return e(K)},get label(){return e(Ie)},get value(){return e(K).workflowEvent.namespace},get href(){return e(xe)}})}l(me,Te)}),l(E,G)},U=E=>{var G=je(),le=ne(G);{var me=K=>{var ke=qa(),de=ne(ke);mt(de,{get link(){return t.link}});var Te=v(de,2);{let ue=o(()=>r("nexus.link-namespace")),ve=o(()=>qt({namespace:t.link.workflowEvent.namespace}));mt(Te,{get link(){return t.link},get label(){return e(ue)},get value(){return t.link.workflowEvent.namespace},get href(){return e(ve)}})}l(K,ke)};Z(le,K=>{t.link&&K(me)},!0)}l(E,G)};Z(H,E=>{e(C).length?E(ee):E(U,!1)})}var Q=v(H,2),J=x(Q),_e=x(J,!0),Ee=v(_e);Oe(Ee,{type:"subtle",children:(E,G)=>{we();var le=pe();S(()=>L(le,t.callback.state)),l(E,le)},$$slots:{default:!0}}),h(J);var V=v(J,2);{var j=E=>{var G=Ya(),le=x(G),me=v(le);Oe(me,{type:"subtle",children:(K,ke)=>{we();var de=pe();S(()=>L(de,t.callback.attempt)),l(K,de)},$$slots:{default:!0}}),h(G),S(K=>L(le,`${K??""} `),[()=>r("common.attempt")]),l(E,G)};Z(V,E=>{t.callback.attempt&&E(j)})}var B=v(V,2);{var X=E=>{var G=Ja(),le=x(G),me=v(le);Oe(me,{type:"subtle",children:(K,ke)=>{we();var de=pe();S(()=>L(de,e(m))),l(K,de)},$$slots:{default:!0}}),h(G),S(K=>L(le,`${K??""} `),[()=>r("nexus.last-attempt-completed-time")]),l(E,G)};Z(B,E=>{t.callback.lastAttemptCompleteTime&&E(X)})}var te=v(B,2);{var q=E=>{var G=Qa(),le=x(G),me=v(le);Oe(me,{type:"subtle",children:(K,ke)=>{we();var de=pe();S(()=>L(de,e(g))),l(K,de)},$$slots:{default:!0}}),h(G),S(K=>L(le,`${K??""} `),[()=>r("nexus.next-attempt-scheduled-time")]),l(E,G)};Z(te,E=>{t.callback.nextAttemptScheduleTime&&E(q)})}h(Q);var $e=v(Q,2);{var oe=E=>{var G=Xa(),le=x(G),me=v(le);Oe(me,{type:"subtle",children:(K,ke)=>{we();var de=pe();S(()=>L(de,e(u))),l(K,de)},$$slots:{default:!0}}),h(G),S(K=>L(le,`${K??""} `),[()=>r("nexus.callback-url")]),l(E,G)};Z($e,E=>{e(z)&&E(oe)})}var ie=v($e,2);{var Le=E=>{var G=Ka(),le=x(G),me=v(le);Oe(me,{type:"subtle",children:(K,ke)=>{we();var de=pe();S(()=>L(de,e(y))),l(K,de)},$$slots:{default:!0}}),h(G),S(K=>L(le,`${K??""} `),[()=>r("nexus.blocked-reason")]),l(E,G)};Z(ie,E=>{e(y)&&E(Le)})}var He=v(ie,2);{var ce=E=>{var G=Za(),le=x(G),me=x(le,!0);h(le);var K=v(le,2);{let ke=o(()=>r("common.copy-icon-title")),de=o(()=>r("common.copy-success-icon-title"));$t(K,{get content(){return e(I)},language:"text",get copyIconTitle(){return e(ke)},get copySuccessIconTitle(){return e(de)}})}h(G),S(ke=>L(me,ke),[()=>r("nexus.last-attempt-failure")]),l(E,G)};Z(He,E=>{e(I)&&E(ce)})}h(D);var se=v(D,2);Kt(se,()=>t.children??Zt),S(E=>L(_e,E),[()=>r("common.state")]),l(R,F)},$$slots:{default:!0}})}ye(),s()}var to=Y('<div class="flex flex-col gap-2"></div>'),ro=Y('<p class="p-1" slot="title"> </p>'),no=Y('<div class="py-2"><!></div>');function ao(b,t){be(t,!0);const i=()=>ae(xt,"$fullEventHistory",P),[P,s]=Re();var n;const f=o(()=>i()[0]),a=o(()=>(n=e(f)===null||e(f)===void 0?void 0:e(f).links)===null||n===void 0?void 0:n[0]),c=o(()=>t.callbacks[0]);Xt(b,{get callback(){return e(c)},get link(){return e(a)},children:(m,g)=>{var I=je(),y=ne(I);{var u=d=>{var $=no(),k=x($);Va(k,{children:Rt,$$slots:{default:(_,C)=>{const z=o(()=>C.open);var T=je(),R=ne(T);{var O=F=>{var D=to();nt(D,21,()=>t.callbacks.slice(1),yt,(H,ee)=>{Xt(H,{get callback(){return e(ee)}})}),h(D),l(F,D)};Z(R,F=>{e(z)&&F(O)})}l(_,T)},title:(_,C)=>{var z=ro(),T=x(z);h(z),S(()=>L(T,`View ${t.callbacks.length-1} other Callbacks`)),l(_,z)}}}),h($),l(d,$)};Z(y,d=>{t.callbacks.length>1&&d(u)})}l(m,I)},$$slots:{default:!0}}),ye(),s()}var oo=Y("<span></span> ",1),so=Y("<!> <!> <!> <!> <!>",1),lo=Y('<div class="flex flex-col gap-0 pt-4"><!> <div class="flex flex-col gap-2"><!> <!> <!></div></div> <div class="relative pb-24"><div><h2> </h2> <div class="flex items-center gap-2"><!></div></div> <div class="flex w-full flex-col"><!> <!></div></div> <!>',1);function io(b,t){be(t,!0);const i=()=>ae(bt,"$workflowRun",m),P=()=>ae(it,"$eventFilterSort",m),s=()=>ae(Ke,"$eventViewType",m),n=()=>ae(tr,"$filteredEventHistory",m),f=()=>ae(jr,"$currentEventHistory",m),a=()=>ae(ct,"$pauseLiveUpdates",m),c=()=>ae(Nt,"$minimizeEventView",m),[m,g]=Re(),I=o(()=>Wt.params),y=o(()=>e(I).namespace),u=o(()=>i().workflow),d=o(()=>e(u)===null||e(u)===void 0?void 0:e(u).pendingActivities),$=o(()=>e(u)===null||e(u)===void 0?void 0:e(u).pendingNexusOperations);let k=o(()=>P()==="descending"),_=o(()=>s()==="compact"),C=o(()=>or(n(),"ascending",e(d),e($))),z=o(()=>e(k)?[...e(C)].reverse():e(C)),T=o(()=>e(k)?[...n()].reverse():n());const R=o(()=>Yr(f()));Mt(()=>{s(),Jt()}),Pr(()=>{Jt()}),Mt(()=>{!(!(e(u)===null||e(u)===void 0)&&e(u).isRunning)&&a()&&he(ct,!1)});let O=wt(!1);const F=()=>{e(k)?he(it,"ascending"):he(it,"descending")};var D=lo(),H=ne(D),ee=x(H);Na(ee,{});var U=v(ee,2),Q=x(U);Da(Q,{});var J=v(Q,2);{var _e=ce=>{{let se=o(()=>{var E;return(E=e(u))==null?void 0:E.pendingWorkflowTask});Ea(ce,{get error(){return e(R)},get pendingTask(){return e(se)}})}};Z(J,ce=>{e(R)&&ce(_e)})}var Ee=v(J,2);{var V=ce=>{ao(ce,{get callbacks(){return e(u).callbacks}})};Z(Ee,ce=>{var se,E;(E=(se=e(u))==null?void 0:se.callbacks)!=null&&E.length&&ce(V)})}h(U),h(H);var j=v(H,2),B=x(j),X=x(B),te=x(X,!0);h(X);var q=v(X,2),$e=x(q);yn($e,{children:(ce,se)=>{var E=so(),G=ne(E);{var le=Te=>{{let ue=o(()=>e(k)?"descending":"ascending");pt(Te,{get leadingIcon(){return e(ue)},"data-testid":"zoom-in",size:"sm",$$events:{click:F},children:(ve,Ie)=>{we();var xe=pe();S(Ae=>L(xe,Ae),[()=>e(k)?r("common.descending"):r("common.ascending")]),l(ve,xe)},$$slots:{default:!0}})}};Z(G,Te=>{s()!=="json"&&Te(le)})}var me=v(G,2);{let Te=o(()=>c()?r("workflows.timeline-minimized"):r("workflows.timeline-expanded"));Tn(me,{get text(){return e(Te)},top:!0,children:(ue,ve)=>{{let Ie=o(()=>c()?"minimize":"expand");pt(ue,{get leadingIcon(){return e(Ie)},"data-testid":"expandAll",size:"sm",$$events:{click:()=>he(Nt,!c())},children:(xe,Ae)=>{we();var Pe=pe();S(Se=>L(Pe,Se),[()=>c()?r("workflows.minimized"):r("workflows.expanded")]),l(xe,Pe)},$$slots:{default:!0}})}},$$slots:{default:!0}})}var K=v(me,2);Mn(K,{get compact(){return e(_)},get minimized(){return c()}});var ke=v(K,2);{let Te=o(()=>{var ue;return!((ue=e(u))!=null&&ue.isRunning)});pt(ke,{get disabled(){return e(Te)},"data-testid":"pause",class:"border-l-0",size:"sm",$$events:{click:()=>he(ct,!a())},children:(ue,ve)=>{var Ie=oo(),xe=ne(Ie),Ae=v(xe);S(Pe=>{var Se;De(xe,1,`h-1.5 w-1.5 rounded-full ${a()||!((Se=e(u))!=null&&Se.isRunning)?"bg-slate-300":"bg-green-600"}`),L(Ae,` ${Pe??""}`)},[()=>{var Pe;return a()||!((Pe=e(u))!=null&&Pe.isRunning)?r("workflows.auto-refresh-off"):r("workflows.auto-refresh-on")}]),l(ue,Ie)},$$slots:{default:!0}})}var de=v(ke,2);pt(de,{"data-testid":"download",leadingIcon:"download",size:"sm",$$events:{click:()=>W(O,!0)},children:(Te,ue)=>{we();var ve=pe();S(Ie=>L(ve,Ie),[()=>r("common.download")]),l(Te,ve)},$$slots:{default:!0}}),l(ce,E)},$$slots:{default:!0}}),h(q),h(B);var oe=v(B,2),ie=x(oe);{let ce=o(()=>!!e(R)),se=o(()=>c()?360:void 0);vr(ie,{get workflow(){return e(u)},get groups(){return e(z)},get error(){return e(ce)},get viewportHeight(){return e(se)}})}var Le=v(ie,2);Hn(Le,{get groups(){return e(z)},get history(){return e(T)},get minimized(){return c()}}),h(oe),h(j);var He=v(j,2);{let ce=o(()=>{var E;return(E=e(u))==null?void 0:E.id}),se=o(()=>{var E;return(E=e(u))==null?void 0:E.runId});Ra(He,{get namespace(){return e(y)},get workflowId(){return e(ce)},get runId(){return e(se)},get open(){return e(O)},set open(E){W(O,E,!0)}})}S((ce,se)=>{De(B,1,ce),L(te,se)},[()=>er(br("surface-background flex flex-wrap items-center justify-between gap-2 border-b border-subtle py-2 xl:gap-8",!c()&&"sticky top-0 z-30 md:top-12")),()=>r("workflows.event-history")]),l(b,D),ye(),g()}var co=Y("<!> <!>",1);function ws(b,t){be(t,!1);const i=()=>ae(rt,"$page",P),[P,s]=Re(),n=i().params.workflow;Ce();var f=co(),a=ne(f);{let m=A(()=>`${r("workflows.workflow-history")} | ${n}`);Tr(a,{get title(){return e(m)},get url(){return i().url.href}})}var c=v(a,2);io(c,{}),l(b,f),ye(),s()}export{ws as component};
