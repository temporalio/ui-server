import"../chunks/Bzak7iHL.js";import"../chunks/69_IOA4Y.js";import{p as $e,m as x,l as te,s as h,M as se,a as He,t as Q,i as o,c as u,r as n,g as e,j as S,o as d,e as f,b as Pe,af as ze,n as Qe,k as Ve,h as Ue,f as ce,b8 as pe,q as dt,aj as We}from"../chunks/DtSMpxPp.js";import{i as Ce,s as ht}from"../chunks/DM92YGvC.js";import{l as wt,p as T,a as Ie,s as Me,c as mt}from"../chunks/QkTQNHha.js";import{p as st}from"../chunks/6JRZncW2.js";import{P as Wt}from"../chunks/zuYibhCe.js";import{e as Se,s as F}from"../chunks/ChP_J8fE.js";import{a as xt}from"../chunks/BXR8ESKi.js";import{i as j}from"../chunks/BUX2ey9N.js";import{w as Rt}from"../chunks/C_fvR0pn.js";import{L as At}from"../chunks/RZvZbJNZ.js";import{t as Y}from"../chunks/BXv1jDVW.js";import{n as kt,o as Xt,p as Yt,q as Nt}from"../chunks/uzLhkguH.js";import{w as ut}from"../chunks/C2Ppw083.js";import{T as Lt}from"../chunks/s--8Xb5u.js";import{d as zt,s as r,a as Fe,c as ct}from"../chunks/Dbhi2jYg.js";import{b as _t}from"../chunks/B2zSYlE0.js";import{b as Ft}from"../chunks/CtBRckes.js";import{B as St}from"../chunks/Drauf92r.js";import{T as Et}from"../chunks/B5dU76Br.js";import{s as Zt}from"../chunks/Bfc47y5P.js";import{W as vt}from"../chunks/D2AUmkDq.js";import{I as yt}from"../chunks/Db7F_qcf.js";import{L as Ae}from"../chunks/DZylwy2B.js";import{f as gt,t as Ht,r as Mt}from"../chunks/D8JWfvYP.js";import{l as Bt}from"../chunks/CHqpB290.js";import{c as Ee,p as bt,w as at}from"../chunks/BnnATTfK.js";import{e as lt,i as it}from"../chunks/D_0FA0ti.js";import{c as Ot}from"../chunks/CsMNScE5.js";import{p as Ze}from"../chunks/BsbjIvr1.js";import{f as It}from"../chunks/BmAyjUmD.js";import{g as $t}from"../chunks/BOlSP7RG.js";import{P as Pt}from"../chunks/Br7akwK0.js";import{T as tt,a as rt,b as ot}from"../chunks/2DoZJ7NC.js";import{C as qe}from"../chunks/CdydNkcV.js";var Dt=Q('<div class="relative overflow-hidden"><div class="absolute right-4 top-4 z-20 flex items-center gap-2"><!> <!></div> <svg role="presentation"><!></svg></div>');function jt(ae,a){const E=wt(a,["children","$$slots","$$events","$$legacy"]),re=wt(E,["containerHeight","initialZoom","maxZoomIn","maxZoomOut","width","height","zoomable","pannable"]);$e(a,!1);const i=x();let A=T(a,"containerHeight",8,600),_=T(a,"initialZoom",8,1),p=T(a,"maxZoomIn",8,.25),R=T(a,"maxZoomOut",8,2.5),c=T(a,"width",12,600),k=T(a,"height",12,400),P=T(a,"zoomable",8,!0),v=T(a,"pannable",8,!0),y=x(_()),g=x(),s=!1,l=0,t=0,$=0,w=0;const W=V=>{if(!P())return;V.preventDefault();const oe=e(g).getBoundingClientRect(),ie=V.clientX-oe.left,we=V.clientY-oe.top,Xe=V.deltaY*.001;let Ye=e(y)+Xe;if(Ye<p()||Ye>R())return;const Ne=Ye/e(y),Ge=e(i).width*Ne,De=e(i).height*Ne;ze(i,e(i).x=ie-(ie-e(i).x)*Ne),ze(i,e(i).y=we-(we-e(i).y)*Ne),ze(i,e(i).width=Ge),ze(i,e(i).height=De),h(y,Ye)};function X(V){v()&&(s=!0,l=V.clientX,t=V.clientY,$=e(i).x,w=e(i).y)}function b(V){if(!s)return;const oe=(l-V.clientX)*(e(i).width/e(g).clientWidth),ie=(t-V.clientY)*(e(i).height/e(g).clientHeight);ze(i,e(i).x=$+oe),ze(i,e(i).y=w+ie)}function M(){s=!1}function Z(){s=!1}function B(){ze(i,e(i).x=0),ze(i,e(i).y=0),ze(i,e(i).width=c()),ze(i,e(i).height=k()),h(y,_())}te(()=>(se(c()),se(k())),()=>{h(i,{x:0,y:0,width:c(),height:k()})}),He(),Ce();var O=Dt(),ne=o(O),C=o(ne);ht(C,a,"controls",{},null);var G=u(C,2);Et(G,{text:"Center",bottom:!0,children:(V,oe)=>{St(V,{class:"cursor-pointer",variant:"secondary",size:"sm",leadingIcon:"target",$$events:{click:()=>{B()}}})},$$slots:{default:!0}}),n(ne);var q=u(ne,2);let ve;var fe=o(q);ht(fe,a,"default",{get width(){return c()},get height(){return k()},get zoomLevel(){return e(y)}},null),n(q),Ft(q,V=>h(g,V),()=>e(g)),n(O),S(V=>{zt(O,`height: ${A()??""}px`),r(q,"viewBox",`${e(i).x??""} ${e(i).y??""} ${e(i).width??""} ${e(i).height??""}`),r(q,"width",c()),r(q,"height",k()),ve=Fe(q,0,`relative select-none ${re.class??""}`,null,ve,V)},[()=>({"cursor-grab":v(),"active:cursor-grabbing":v()})],d),Se("wheel",q,W),Se("mousedown",q,X),Se("mousemove",q,b),Se("mouseup",q,M),Se("mouseleave",q,Z),_t(O,"clientWidth",c),_t(O,"clientHeight",k),f(ae,O),Pe()}var qt=Q('<p class="text-xs"> </p>'),Ut=Q('<p class="text-xs"> </p>'),Gt=Q('<p class="text-xs"> </p>'),Jt=Q('<div class="text-left leading-4 lg:basis-[140px] lg:text-right"><!> <div class="flex basis-16 items-center gap-1 leading-4 lg:justify-end"><span class="font-mono"> </span></div></div>'),Kt=Q('<p class="text-xs"> </p>'),Qt=Q('<p class="text-xs"> </p>'),Vt=Q('<p class="text-xs"> </p>'),er=Q('<div class="flex w-full items-center justify-between gap-2 p-1 text-left text-sm lg:gap-4"><div class="flex w-full flex-col gap-2 lg:flex-row lg:items-center lg:gap-4"><div class="flex items-center gap-2 lg:basis-96"><div class="w-32 leading-4"><!></div> <div class="w-full leading-4"><!> <p> </p></div></div> <div class="leading-4 lg:basis-[800px]"><!> <!></div> <!> <div class="hidden items-center gap-4 lg:flex lg:basis-5/12"><div class="leading-4"><!> <p> </p></div> <div class="leading-4"><!> <p> </p></div> <div class="leading-4"><!> <p> </p></div></div></div> <!></div>');function tr(ae,a){$e(a,!1);const[E,re]=Me(),i=()=>Ie(et,"$showFullTree",E),A=()=>Ie(Ht,"$timeFormat",E),_=()=>Ie(Mt,"$relativeTime",E),p=x(),R=x();let c=T(a,"workflow",8),k=T(a,"namespace",8),P=T(a,"isRootWorkflow",8,!1),v=T(a,"isActive",8,!1),y=T(a,"children",8,0),g=T(a,"expanded",8,!1);te(()=>se(c()),()=>{h(p,Bt({start:c()===null||c()===void 0?void 0:c().startTime,end:(c()===null||c()===void 0?void 0:c().endTime)||Date.now(),includeMilliseconds:!0}))}),te(()=>(se(P()),i(),se(y())),()=>{h(R,!P()&&i()&&y())}),He(),Ce();var s=er(),l=o(s),t=o(l),$=o(t),w=o($);vt(w,{get status(){return c().status}}),n($);var W=u($,2),X=o(W);{var b=L=>{var ee=qt(),de=o(ee,!0);n(ee),S(me=>F(de,me),[()=>Y("common.type")],d),f(L,ee)};j(X,L=>{P()&&L(b)})}var M=u(X,2),Z=o(M,!0);n(M),n(W),n(t);var B=u(t,2),O=o(B);{var ne=L=>{var ee=Ut(),de=o(ee,!0);n(ee),S(me=>F(de,me),[()=>Y("common.id")],d),f(L,ee)};j(O,L=>{P()&&L(ne)})}var C=u(O,2);const G=d(()=>Ee({namespace:k(),workflow:c().id,run:c().runId}));Ae(C,{get href(){return e(G)},get interactive(){return v()},children:(L,ee)=>{Qe();var de=Ve();S(()=>F(de,c().id)),f(L,de)},$$slots:{default:!0}}),n(B);var q=u(B,2);{var ve=L=>{var ee=Jt(),de=o(ee);{var me=ye=>{var ge=Gt(),Je=o(ge,!0);n(ge),S(Ke=>F(Je,Ke),[()=>Y("common.child-count")],d),f(ye,ge)};j(de,ye=>{P()&&ye(me)})}var Be=u(de,2),Oe=o(Be),je=o(Oe,!0);n(Oe),n(Be),n(ee),S(()=>F(je,y())),f(L,ee)};j(q,L=>{i()&&L(ve)})}var fe=u(q,2),V=o(fe),oe=o(V);{var ie=L=>{var ee=Kt(),de=o(ee,!0);n(ee),S(me=>F(de,me),[()=>Y("common.start")],d),f(L,ee)};j(oe,L=>{P()&&L(ie)})}var we=u(oe,2),Xe=o(we,!0);n(we),n(V);var Ye=u(V,2),Ne=o(Ye);{var Ge=L=>{var ee=Qt(),de=o(ee,!0);n(ee),S(me=>F(de,me),[()=>Y("common.end")],d),f(L,ee)};j(Ne,L=>{P()&&L(Ge)})}var De=u(Ne,2),H=o(De,!0);n(De),n(Ye);var N=u(Ye,2),_e=o(N);{var xe=L=>{var ee=Vt(),de=o(ee,!0);n(ee),S(me=>F(de,me),[()=>Y("common.duration")],d),f(L,ee)};j(_e,L=>{P()&&L(xe)})}var U=u(_e,2),ke=o(U,!0);n(U),n(N),n(fe),n(l);var Te=u(l,2);{var Le=L=>{const ee=d(()=>g()?"hyphen":"add");yt(L,{class:"shrink-0",get name(){return e(ee)}})};j(Te,L=>{e(R)&&L(Le)})}n(s),S((L,ee)=>{F(Z,c().name),F(Xe,L),F(H,ee),F(ke,e(p))},[()=>{var L;return gt((L=c())==null?void 0:L.startTime,A(),{relative:_()})},()=>{var L;return gt((L=c())==null?void 0:L.endTime,A(),{relative:_()})||"-"}],d),f(ae,s),Pe(),re()}function rr(ae,a){$e(a,!1);let E=T(a,"root",8),re=T(a,"expandAll",8),i=T(a,"onNodeClick",8),A=T(a,"activeWorkflow",8,void 0),_=T(a,"generation",8,1),p=T(a,"openRuns",8);Ce();var R=Ue(),c=ce(R);lt(c,1,()=>{var k;return(k=E())==null?void 0:k.children},it,(k,P)=>{Ct(k,{get root(){return e(P)},get expandAll(){return re()},get onNodeClick(){return i()},get activeWorkflow(){return A()},get generation(){return _()},get openRuns(){return p()}})}),f(ae,R),Pe()}var or=Q('<div class="absolute left-0 top-[25%] h-[1px] w-3 bg-subtle lg:top-[50%] lg:w-6"></div>'),nr=Q('<div class="pl-4"><!></div>'),ar=Q('<div class="w-full"><button><!> <div class="flex w-full items-center gap-3 pr-2 text-sm"><!></div></button> <!></div>');function Ct(ae,a){$e(a,!1);const[E,re]=Me(),i=()=>Ie(st,"$page",E),A=x(),_=x(),p=x(),R=x(),c=x(),k=x(),P=x();let v=T(a,"root",8),y=T(a,"expandAll",8),g=T(a,"generation",8,0),s=T(a,"onNodeClick",8),l=T(a,"activeWorkflow",8,void 0),t=T(a,"openRuns",8);const $=()=>{s()(v(),g())};te(()=>(e(A),e(_),e(p),i()),()=>{(G=>(h(A,G.namespace),h(_,G.workflow),h(p,G.run)))(i().params)}),te(()=>(se(y()),se(t()),se(g()),se(v())),()=>{h(R,y()||t().get(g())===v().workflow.runId||g()===0)}),te(()=>(se(v()),e(_),e(p)),()=>{h(c,v().workflow.id===e(_)&&v().workflow.runId===e(p))}),te(()=>(se(v()),se(l())),()=>{h(k,v().workflow.runId===(l()===null||l()===void 0?void 0:l().runId))}),te(()=>se(g()),()=>{h(P,g()===0)}),He(),Ce();var w=ar(),W=o(w);let X;var b=o(W);{var M=G=>{var q=or();f(G,q)};j(b,G=>{!e(P)&&!e(k)&&G(M)})}var Z=u(b,2),B=o(Z);const O=d(()=>{var G;return(G=v().children)==null?void 0:G.length});tr(B,{get workflow(){return v().workflow},get namespace(){return e(A)},get isRootWorkflow(){return e(P)},get isActive(){return e(k)},get children(){return e(O)},get expanded(){return e(R)}}),n(Z),n(W);var ne=u(W,2);{var C=G=>{var q=nr(),ve=o(q);{var fe=V=>{const oe=d(()=>g()+1);rr(V,{get root(){return v()},get onNodeClick(){return s()},get expandAll(){return y()},get activeWorkflow(){return l()},get generation(){return e(oe)},get openRuns(){return t()}})};j(ve,V=>{var oe,ie;(ie=(oe=v())==null?void 0:oe.children)!=null&&ie.length&&V(fe)})}n(q),f(G,q)};j(ne,G=>{e(R)&&G(C)})}n(w),S(G=>X=Fe(W,1,`relative flex w-full select-none border-subtle ${e(k)&&"surface-interactive"} ${e(c)&&!e(k)&&"surface-subtle"} items-center gap-1 px-2 py-1 lg:py-2 ${!e(k)&&"hover:surface-interactive-secondary"}`,null,X,G),[()=>({"border-l":!e(P)&&!e(k)})],d),Se("click",W,Zt($)),f(ae,w),Pe(),re()}var sr=pe("<line></line>"),lr=pe("<line></line>"),ir=pe('<circle class="fill-indigo-700" fill-opacity=".95"></circle>'),cr=pe('<circle class="fill-indigo-200" fill-opacity=".75"></circle>'),dr=pe('<text class="text-center font-mono" fill="currentColor" text-anchor="middle" font-weight="500"> </text>'),ur=pe('<text fill="currentcolor" font-weight="500"> </text>'),vr=pe('<line class="stroke-slate-50 stroke-2 duration-300 ease-in-out dark:stroke-slate-900"></line><rect class="fill-white stroke-slate-50 dark:fill-space-black dark:stroke-slate-900"></rect><rect class="fill-white stroke-slate-50 dark:fill-space-black dark:stroke-slate-900"></rect><line class="stroke-slate-50 stroke-2 duration-300 ease-in-out dark:stroke-slate-900"></line><rect class="fill-white stroke-slate-50 dark:fill-space-black dark:stroke-slate-900"></rect><rect class="fill-white stroke-slate-50 dark:fill-space-black dark:stroke-slate-900"></rect>',1),fr=pe('<!><line></line><g role="button" tabindex="0" class="outline-none transition-all"><!><!><!><rect cursor="pointer"></rect><!><!></g><!>',1),pr=pe('<line stroke-dasharray="3 2" class="stroke-slate-100 stroke-2 transition-all duration-300 ease-in-out dark:stroke-slate-800"></line><line stroke-dasharray="3 2" class="stroke-slate-100 stroke-2 transition-all duration-300 ease-in-out dark:stroke-slate-800"></line><!><text fill="currentColor" text-anchor="end" font-weight="500">Schedule</text><a><text fill="currentColor" text-decoration="underline" text-anchor="end" font-weight="500"> </text></a>',1),hr=pe('<line class="stroke-slate-100 stroke-2 transition-all duration-300 ease-in-out dark:stroke-slate-800"></line><text fill="currentColor" text-anchor="start" font-weight="500">Next Execution</text><a><text fill="currentColor" text-decoration="underline" text-anchor="start" font-weight="500"> </text></a>',1),wr=pe('<line class="stroke-slate-100 stroke-2 transition-all duration-300 ease-in-out dark:stroke-slate-800"></line><text fill="currentColor" text-anchor="end" font-weight="500"> </text><a><text fill="currentColor" text-decoration="underline" text-anchor="end" font-weight="500"> </text></a>',1),mr=pe('<line stroke-dasharray="3 2" class="stroke-slate-100 stroke-2 transition-all duration-300 ease-in-out dark:stroke-slate-800"></line><text fill="currentColor" text-anchor="start" font-weight="500">First Execution</text><a><text fill="currentColor" text-decoration="underline" text-anchor="start" font-weight="500"> </text></a>',1),_r=pe("<line></line>"),gr=pe('<circle class="fill-indigo-200" fill-opacity=".75"></circle>'),xr=pe('<circle class="fill-indigo-700" fill-opacity=".95"></circle>'),kr=pe('<text fill="currentColor" text-anchor="middle" font-weight="500"> </text>'),yr=pe('<g role="button" class="outline-none" tabindex="0"><!><!><!><!><!><!><!><rect></rect><!></g>'),br=pe("<!><!><!>",1);function Tt(ae,a){$e(a,!1);const[E,re]=Me(),i=()=>Ie(ut,"$workflowRun",E),A=()=>Ie(It,"$fullEventHistory",E),_=()=>Ie(et,"$showFullTree",E),p=x(),R=x(),c=x(),k=x(),P=x(),v=x(),y=x(),g=x(),s=x(),l=x(),t=x(),$=x(),w=x(),W=x(),X=x();let b=T(a,"root",8),M=T(a,"width",8),Z=T(a,"height",8),B=T(a,"zoomLevel",8),O=T(a,"rootX",8,0),ne=T(a,"rootY",8,0),C=T(a,"generation",8,1),G=T(a,"openRuns",8),q=T(a,"expandAll",8),ve=T(a,"onNodeClick",8),fe=T(a,"activeWorkflow",8,void 0);const V=(H,N,_e,xe)=>{const U=_e||H/2,ke=xe||N/3;return{x:U,y:ke,radius:20}},oe=(H,N)=>{H.stopPropagation(),ve()(N,C())},ie=Ot(["stroke-2"],{variants:{status:{Running:"fill-blue-300 stroke-blue-500",TimedOut:"fill-orange-200 stroke-orange-400",Completed:"fill-green-200 stroke-green-400",Failed:"fill-red-200 stroke-red-400",ContinuedAsNew:"fill-purple-200 stroke-purple-400",Canceled:"fill-slate-100 stroke-slate-300",Terminated:"fill-yellow-200 stroke-yellow-400",Paused:"fill-yellow-200 stroke-yellow-400",Unspecified:"fill-slate-100 stroke-slate-300",Scheduled:"fill-blue-300 stroke-blue-500",Started:"fill-blue-300 stroke-blue-500",Open:"fill-green-200 stroke-green-400",New:"fill-blue-300 stroke-blue-500",Initiated:"fill-blue-300 stroke-blue-500",Fired:"fill-pink-200 stroke-pink-400",CancelRequested:"fill-yellow-200 stroke-yellow-400",Signaled:"fill-pink-200 stroke-pink-400"}}});te(()=>(e(p),e(R),e(c),Ze),()=>{(H=>(h(p,H.workflow),h(R,H.run),h(c,H.namespace)))(Ze.params)}),te(()=>(e(k),i()),()=>{(H=>h(k,H.workflow))(i())}),te(()=>(e(k),A(),Ze),()=>{h(P,$t(e(k),A(),Ze.data.namespace))}),te(()=>(e(v),e(y),e(g),e(P)),()=>{(H=>(h(v,H.first),h(y,H.next),h(g,H.previous)))(e(P))}),te(()=>(e(s),e(l),e(t),se(M()),se(Z()),se(O()),se(ne())),()=>{(H=>(h(s,H.x),h(l,H.y),h(t,H.radius)))(V(M(),Z(),O(),ne()))}),te(()=>(e(l),e(t),se(b()),e(s),se(B())),()=>{h($,H=>{const N=e(l)+4*e(t);return{childX:(()=>{var xe;const U=(xe=b().children)===null||xe===void 0?void 0:xe.length;if(U===1)return e(s);const ke=e(t)*6/B();if(U%2===0)return e(s)+(H-U*.5)*ke+ke/2;{const Te=U/2-.5;return H===Te?e(s):e(s)+(H-Te)*ke}})(),childY:N}})}),te(()=>(se(G()),se(C()),se(q())),()=>{h(w,H=>{const N=G().get(C())===H.workflow.runId;return q()||N})}),te(()=>(e(p),e(R)),()=>{h(W,H=>H.workflow.id===e(p)&&H.workflow.runId===e(R))}),te(()=>se(fe()),()=>{h(X,H=>H.workflow.runId===(fe()===null||fe()===void 0?void 0:fe().runId))}),He(),Ce();var we=br(),Xe=ce(we);{var Ye=H=>{var N=sr();S((_e,xe,U,ke,Te)=>{r(N,"x1",_e),r(N,"y1",xe),r(N,"x2",U),r(N,"y2",ke),Fe(N,0,`stroke-2 transition-all duration-300 ease-in-out ${Te??""}`)},[()=>e($)(0).childX,()=>e($)(0).childY-1.5*e(t),()=>{var _e;return e($)(((_e=b())==null?void 0:_e.children.length)-1).childX},()=>e($)(0).childY-1.5*e(t),()=>e(X)(b())?"stroke-indigo-700":"stroke-slate-100 dark:stroke-slate-800"],d),f(H,N)};j(Xe,H=>{var N;(N=b())!=null&&N.children.length&&H(Ye)})}var Ne=u(Xe);lt(Ne,1,()=>{var H;return(H=b())==null?void 0:H.children},it,(H,N,_e)=>{var xe=fr();const U=d(()=>{const{childX:I,childY:m}=e($)(_e);return{childX:I,childY:m}});var ke=ce(xe);{var Te=I=>{var m=Ue(),K=ce(m);const le=d(()=>C()+1);Tt(K,{get root(){return e(N)},get width(){return M()},get height(){return Z()},get zoomLevel(){return B()},get rootX(){return e(U).childX},get rootY(){return e(U).childY},get generation(){return e(le)},get expandAll(){return q()},get openRuns(){return G()},get onNodeClick(){return ve()},get activeWorkflow(){return fe()}}),f(I,m)};j(ke,I=>{e(N).children.length&&e(w)(e(N))&&I(Te)})}var Le=u(ke),L=u(Le),ee=o(L);{var de=I=>{var m=lr();S(K=>{r(m,"x1",e(U).childX),r(m,"y1",e(U).childY),r(m,"x2",e(U).childX),r(m,"y2",e(U).childY+2.5*e(t)),Fe(m,0,`stroke-2 duration-300 ease-in-out ${K??""}`)},[()=>e(X)(e(N))?"stroke-indigo-700":"stroke-slate-100 dark:stroke-slate-800"],d),f(I,m)};j(ee,I=>{var m,K;(K=(m=e(N))==null?void 0:m.children)!=null&&K.length&&e(w)(e(N))&&I(de)})}var me=u(ee);{var Be=I=>{var m=ir();S(()=>{r(m,"cx",e(U).childX),r(m,"cy",e(U).childY),r(m,"r",e(t))}),f(I,m)};j(me,I=>{e(X)(e(N))&&I(Be)})}var Oe=u(me);{var je=I=>{var m=cr();S(()=>{r(m,"cx",e(U).childX),r(m,"cy",e(U).childY),r(m,"r",e(t))}),f(I,m)};j(Oe,I=>{e(W)(e(N))&&I(je)})}var ye=u(Oe),ge=u(ye);{var Je=I=>{var m=dr(),K=o(m,!0);n(m),S(()=>{r(m,"x",e(U).childX),r(m,"y",e(U).childY+2*e(t)),F(K,e(N).children.length)}),f(I,m)};j(ge,I=>{var m,K;(K=(m=e(N))==null?void 0:m.children)!=null&&K.length&&!e(w)(e(N))&&I(Je)})}var Ke=u(ge);{var D=I=>{var m=ur(),K=o(m,!0);n(m),S(()=>{var le,ue,be,he,Re,nt,ft,pt;r(m,"x",(ue=(le=e(N))==null?void 0:le.children)!=null&&ue.length?e(U).childX+8:e(U).childX),r(m,"y",(he=(be=e(N))==null?void 0:be.children)!=null&&he.length?e(U).childY-1.15*e(t):e(U).childY+1.15*e(t)),Fe(m,0,ct(!((nt=(Re=e(N))==null?void 0:Re.children)!=null&&nt.length)&&"[writing-mode:vertical-lr]")),r(m,"text-anchor",((pt=(ft=e(N))==null?void 0:ft.children)!=null&&pt.length,"start")),F(K,e(N).workflow.id)}),f(I,m)};j(Ke,I=>{_()||I(D)})}n(L);var z=u(L);{var J=I=>{var m=vr(),K=ce(m),le=u(K),ue=u(le),be=u(ue),he=u(be),Re=u(he);S(()=>{r(K,"x1",e(s)),r(K,"y1",e(l)),r(K,"x2",e(s)-4*e(t)),r(K,"y2",e(l)),r(le,"x",e(s)-3*e(t)-e(t)/2),r(le,"y",e(l)-e(t)/4),r(le,"cx",e(t)/2),r(le,"cy",e(t)/2),r(le,"width",e(t)/2),r(le,"height",e(t)/2),r(ue,"x",e(s)-1.5*e(t)-e(t)/2),r(ue,"y",e(l)-e(t)/4),r(ue,"cx",e(t)/2),r(ue,"cy",e(t)/2),r(ue,"width",e(t)/2),r(ue,"height",e(t)/2),r(be,"x1",e(s)),r(be,"y1",e(l)),r(be,"x2",e(s)+4*e(t)),r(be,"y2",e(l)),r(he,"x",e(s)+1.5*e(t)),r(he,"y",e(l)-e(t)/4),r(he,"cx",e(t)/2),r(he,"cy",e(t)/2),r(he,"width",e(t)/2),r(he,"height",e(t)/2),r(Re,"x",e(s)+3*e(t)),r(Re,"y",e(l)-e(t)/4),r(Re,"cx",e(t)/2),r(Re,"cy",e(t)/2),r(Re,"width",e(t)/2),r(Re,"height",e(t)/2)}),f(I,m)};j(z,I=>{!_()&&e(N).siblingCount>0&&I(J)})}S((I,m)=>{r(Le,"x1",e(U).childX),r(Le,"y1",e(U).childY-1.5*e(t)),r(Le,"x2",e(U).childX),r(Le,"y2",e(U).childY),Fe(Le,0,`stroke-2 transition-all duration-300 ease-in-out ${I??""}`),Fe(ye,0,m),r(ye,"x",e(U).childX-e(t)/2),r(ye,"y",e(U).childY-e(t)/2),r(ye,"cx",e(t)/2),r(ye,"cy",e(t)/2),r(ye,"width",e(t)),r(ye,"height",e(t))},[()=>e(X)(b())?"stroke-indigo-700":"stroke-slate-100 dark:stroke-slate-800",()=>ct(ie({status:e(N).workflow.status}))],d),Se("click",L,I=>oe(I,e(N))),Se("keypress",L,I=>oe(I,e(N))),f(H,xe)});var Ge=u(Ne);{var De=H=>{var N=yr(),_e=o(N);{var xe=D=>{var z=pr(),J=ce(z),I=u(J),m=u(I);const K=d(()=>e(s)-9.25*e(t)),le=d(()=>e(l)-4.15*e(t));yt(m,{get x(){return e(K)},get y(){return e(le)},name:"schedules"});var ue=u(m),be=u(ue),he=o(be),Re=o(he,!0);n(he),n(be),S(nt=>{r(J,"x1",e(s)),r(J,"y1",e(l)),r(J,"x2",e(s)),r(J,"y2",e(l)-2.5*e(t)),r(I,"x1",e(s)-5*e(t)),r(I,"y1",e(l)-2.5*e(t)),r(I,"x2",e(s)),r(I,"y2",e(l)-2.5*e(t)),r(ue,"x",e(s)-5.25*e(t)),r(ue,"y",e(l)-3.5*e(t)),r(be,"href",nt),r(he,"x",e(s)-5.25*e(t)),r(he,"y",e(l)-2.5*e(t)),F(Re,b().scheduleId)},[()=>bt({namespace:e(c),scheduleId:b().scheduleId})],d),f(D,z)};j(_e,D=>{var z;(z=b())!=null&&z.scheduleId&&D(xe)})}var U=u(_e);{var ke=D=>{var z=hr(),J=ce(z),I=u(J),m=u(I),K=o(m),le=o(K,!0);n(K),n(m),S(ue=>{r(J,"x1",e(s)),r(J,"y1",e(l)),r(J,"x2",e(s)+4*e(t)),r(J,"y2",e(l)),r(I,"x",e(s)+4.25*e(t)),r(I,"y",e(l)-4),r(m,"href",ue),r(K,"x",e(s)+4.25*e(t)),r(K,"y",e(l)+e(t)-4),F(le,e(y))},[()=>at({namespace:e(c),workflow:e(p),run:e(y)})],d),f(D,z)};j(U,D=>{e(y)&&D(ke)})}var Te=u(U);{var Le=D=>{var z=wr(),J=ce(z),I=u(J),m=o(I);n(I);var K=u(I),le=o(K),ue=o(le,!0);n(le),n(K),S((be,he)=>{r(J,"x1",e(s)),r(J,"y1",e(l)),r(J,"x2",e(s)-4*e(t)),r(J,"y2",e(l)),r(I,"x",e(s)-4.25*e(t)),r(I,"y",e(l)-4),F(m,`${(e(g)===e(v)?"First":"Previous")??""} Execution`),r(K,"href",be),r(le,"href",he),r(le,"x",e(s)-4.25*e(t)),r(le,"y",e(l)+e(t)-4),F(ue,e(g))},[()=>at({namespace:e(c),workflow:e(p),run:e(g)}),()=>at({namespace:e(c),workflow:e(p),run:e(g)})],d),f(D,z)};j(Te,D=>{e(g)&&D(Le)})}var L=u(Te);{var ee=D=>{var z=mr(),J=ce(z),I=u(J),m=u(I),K=o(m),le=o(K,!0);n(K),n(m),S(ue=>{r(J,"x1",e(g)?e(s)-4*e(t):e(s)),r(J,"y1",e(l)),r(J,"x2",e(t)),r(J,"y2",e(l)),r(I,"x",e(t)),r(I,"y",e(l)-4),r(m,"href",ue),r(K,"x",e(t)),r(K,"y",e(l)+e(t)-4),F(le,e(v))},[()=>at({namespace:e(c),workflow:e(p),run:e(v)})],d),f(D,z)};j(L,D=>{e(v)&&e(g)!==e(v)&&D(ee)})}var de=u(L);{var me=D=>{var z=_r();S(J=>{r(z,"x1",e(s)),r(z,"y1",e(l)),r(z,"x2",e(s)),r(z,"y2",e(l)+2.5*e(t)),Fe(z,0,`stroke-2 transition-all duration-300 ease-in-out ${J??""}`)},[()=>e(X)(b())?"stroke-indigo-700":"stroke-slate-100 dark:stroke-slate-800"],d),f(D,z)};j(de,D=>{var z,J;(J=(z=b())==null?void 0:z.children)!=null&&J.length&&D(me)})}var Be=u(de);{var Oe=D=>{var z=gr();S(()=>{r(z,"cx",e(s)),r(z,"cy",e(l)),r(z,"r",e(t))}),f(D,z)};j(Be,D=>{e(W)(b())&&D(Oe)})}var je=u(Be);{var ye=D=>{var z=xr();S(()=>{r(z,"cx",e(s)),r(z,"cy",e(l)),r(z,"r",e(t))}),f(D,z)};j(je,D=>{e(X)(b())&&D(ye)})}var ge=u(je),Je=u(ge);{var Ke=D=>{var z=kr(),J=o(z,!0);n(z),S(()=>{r(z,"x",e(s)),r(z,"y",e(l)-1.25*e(t)),Fe(z,0,`text-center ${_()&&"font-mono"}`),F(J,_()?b().children.length:b().workflow.id)}),f(D,z)};j(Je,D=>{var z,J;(J=(z=b())==null?void 0:z.children)!=null&&J.length&&D(Ke)})}n(N),S(D=>{Fe(ge,0,D),r(ge,"x",e(s)-e(t)/2),r(ge,"y",e(l)-e(t)/2),r(ge,"width",e(t)),r(ge,"height",e(t)),r(ge,"cx",e(t)/2),r(ge,"cy",e(t)/2)},[()=>ct(ie({status:b().workflow.status}))],d),Se("click",N,D=>oe(D,b())),Se("keypress",N,D=>oe(D,b())),f(H,N)};j(Ge,H=>{C()===1&&H(De)})}f(ae,we),Pe(),re()}var Ir=Q('<div class="flex py-4" slot="controls"><!></div>'),$r=Q('<div class="flex flex-col bg-primary"><div class="relative z-10 w-full overflow-hidden border-b border-subtle bg-primary lg:sticky lg:top-12"><!></div> <div class="surface-secondary flex h-auto w-full flex-col overflow-auto text-base"><!></div></div>');function Pr(ae,a){$e(a,!1);const[E,re]=Me(),i=()=>Ie(et,"$showFullTree",E),A=x();let _=T(a,"root",12),p=T(a,"namespace",8),R=x(void 0),c=x(new Map);const k=()=>{h(A,!e(A))},P=async(t,$)=>{var w,W,X,b;if(i()){const M=new Map(e(c)),Z=Math.max(...Array.from(M.keys()));if(e(c).get($)===t.workflow.runId?M.set($,""):M.set($,t.workflow.runId),$<Z)for(let B=$+1;B<=Z;B++)M.delete(B);h(c,M)}else _(await kt({namespace:p(),workflow:t.workflow,parentWorkflowId:(W=(w=t.workflow)===null||w===void 0?void 0:w.parent)===null||W===void 0?void 0:W.workflowId,parentRunId:(b=(X=t.workflow)===null||X===void 0?void 0:X.parent)===null||b===void 0?void 0:b.runId}));h(R,t.workflow)};te(()=>i(),()=>{h(A,!i())}),He(),Ce();var v=$r(),y=o(v),g=o(y);jt(g,{initialZoom:2,maxZoomOut:8,maxZoomIn:.25,containerHeight:280,children:dt,$$slots:{default:(t,$)=>{const w=d(()=>$.width),W=d(()=>$.height),X=d(()=>$.zoomLevel);Tt(t,{get root(){return _()},get width(){return e(w)},get height(){return e(W)},get zoomLevel(){return e(X)},onNodeClick:P,get expandAll(){return e(A)},get openRuns(){return e(c)},get activeWorkflow(){return e(R)}})},controls:(t,$)=>{var w=Ir(),W=o(w);{var X=b=>{const M=d(()=>Y("common.expand-all"));Lt(b,{get label(){return e(M)},labelPosition:"left",id:"autorefresh",get checked(){return e(A)},$$events:{change:k}})};j(W,b=>{i()&&b(X)})}n(w),f(t,w)}}}),n(y);var s=u(y,2),l=o(s);Ct(l,{get root(){return _()},get expandAll(){return e(A)},onNodeClick:P,get activeWorkflow(){return e(R)},get openRuns(){return e(c)}}),n(s),n(v),f(ae,v),Pe(),re()}var Cr=Q('<td class="max-md:hidden"><!></td> <td class="max-lg:hidden"> </td> <td class="hover:text-blue-700 hover:underline"><!></td> <td class="hover:text-blue-700 hover:underline"><!></td>',1),Tr=Q('<caption class="sr-only" slot="caption"> </caption>'),Wr=Q('<th class="max-md:hidden"> </th> <th class="max-lg:hidden"> </th> <th> </th> <th> </th>',1),Rr=Q('<div slot="pagination-top"></div>');function Ar(ae,a){$e(a,!1);const E=x(),re=x(),i=x();let A=T(a,"children",24,()=>[]),_=T(a,"pendingChildren",24,()=>[]),p=T(a,"namespace",8);te(()=>(se(_()),se(p())),()=>{h(E,_().map(v=>({runId:v.runId,workflowId:v.workflowId,status:"Running",type:v.workflowTypeName,namespace:p()})))}),te(()=>(se(A()),se(p())),()=>{h(re,A().map(v=>{var y;return{runId:v.attributes.workflowExecution.runId,workflowId:v.attributes.workflowExecution.workflowId,type:v.attributes.workflowType,status:v.classification,namespace:((y=v.attributes)===null||y===void 0?void 0:y.namespace)||p()}}))}),te(()=>(e(E),e(re)),()=>{h(i,[...e(E),...e(re)])}),He(),Ce();const R=d(()=>Y("workflows.child-workflows")),c=d(()=>Y("common.per-page")),k=d(()=>Y("common.previous")),P=d(()=>Y("common.next"));Pt(ae,{get items(){return e(i)},get"aria-label"(){return e(R)},get pageSizeSelectLabel(){return e(c)},get previousButtonLabel(){return e(k)},get nextButtonLabel(){return e(P)},children:dt,$$slots:{default:(v,y)=>{const g=d(()=>y.visibleItems);tt(v,{class:"w-full",children:(s,l)=>{var t=Ue(),$=ce(t);lt($,1,()=>e(g),it,(w,W)=>{ot(w,{children:(X,b)=>{var M=Cr(),Z=ce(M),B=o(Z);vt(B,{get status(){return e(W).status}}),n(Z);var O=u(Z,2),ne=o(O,!0);n(O);var C=u(O,2),G=o(C);const q=d(()=>Ee({namespace:e(W).namespace,workflow:e(W).workflowId,run:e(W).runId}));Ae(G,{get href(){return e(q)},children:(oe,ie)=>{Qe();var we=Ve();S(()=>F(we,e(W).workflowId)),f(oe,we)},$$slots:{default:!0}}),n(C);var ve=u(C,2),fe=o(ve);const V=d(()=>Ee({namespace:e(W).namespace,workflow:e(W).workflowId,run:e(W).runId}));Ae(fe,{get href(){return e(V)},children:(oe,ie)=>{Qe();var we=Ve();S(()=>F(we,e(W).runId)),f(oe,we)},$$slots:{default:!0}}),n(ve),S(()=>F(ne,e(W).type)),f(X,M)},$$slots:{default:!0}})}),f(s,t)},$$slots:{default:!0,caption:(s,l)=>{var t=Tr(),$=o(t,!0);n(t),S(w=>F($,w),[()=>Y("workflows.child-workflows")],d),f(s,t)},headers:(s,l)=>{rt(s,{slot:"headers",children:(t,$)=>{var w=Wr(),W=ce(w),X=o(W,!0);n(W);var b=u(W,2),M=o(b,!0);n(b);var Z=u(b,2),B=o(Z,!0);n(Z);var O=u(Z,2),ne=o(O,!0);n(O),S((C,G,q,ve)=>{F(X,C),F(M,G),F(B,q),F(ne,ve)},[()=>Y("common.status"),()=>Y("common.type"),()=>Y("workflows.child-id"),()=>Y("workflows.child-run-id")],d),f(t,w)},$$slots:{default:!0}})}}})},"pagination-top":(v,y)=>{var g=Rr();f(v,g)}}}),Pe()}var Xr=Q('<td class="w-1/3"><!></td> <td class="w-1/3"><!></td> <td class="w-1/3"><!></td>',1),Yr=Q('<caption class="sr-only" slot="caption"> </caption>'),Nr=Q("<th> </th> <th> </th> <th> </th>",1);function Lr(ae,a){$e(a,!1);let E=T(a,"workflow",8),re=T(a,"namespace",8),i=T(a,"first",8),A=T(a,"next",8),_=T(a,"previous",8);Ce(),tt(ae,{class:"w-full",children:(p,R)=>{ot(p,{children:(c,k)=>{var P=Xr(),v=ce(P),y=o(v);{var g=X=>{const b=d(()=>Ee({namespace:re(),workflow:E(),run:i()}));Ae(X,{get href(){return e(b)},children:(M,Z)=>{const B=d(()=>Y("common.copy-icon-title")),O=d(()=>Y("common.copy-success-icon-title"));qe(M,{get copyIconTitle(){return e(B)},get copySuccessIconTitle(){return e(O)},get content(){return i()},visible:!0})},$$slots:{default:!0}})};j(y,X=>{i()&&X(g)})}n(v);var s=u(v,2),l=o(s);{var t=X=>{const b=d(()=>Ee({namespace:re(),workflow:E(),run:_()}));Ae(X,{get href(){return e(b)},children:(M,Z)=>{const B=d(()=>Y("common.copy-icon-title")),O=d(()=>Y("common.copy-success-icon-title"));qe(M,{get copyIconTitle(){return e(B)},get copySuccessIconTitle(){return e(O)},get content(){return _()},visible:!0})},$$slots:{default:!0}})};j(l,X=>{_()&&X(t)})}n(s);var $=u(s,2),w=o($);{var W=X=>{const b=d(()=>Ee({namespace:re(),workflow:E(),run:A()}));Ae(X,{get href(){return e(b)},children:(M,Z)=>{const B=d(()=>Y("common.copy-icon-title")),O=d(()=>Y("common.copy-success-icon-title"));qe(M,{get copyIconTitle(){return e(B)},get copySuccessIconTitle(){return e(O)},get content(){return A()},visible:!0})},$$slots:{default:!0}})};j(w,X=>{A()&&X(W)})}n($),f(c,P)},$$slots:{default:!0}})},$$slots:{default:!0,caption:(p,R)=>{var c=Yr(),k=o(c,!0);n(c),S(P=>F(k,P),[()=>Y("workflows.relationships")],d),f(p,c)},headers:(p,R)=>{rt(p,{slot:"headers",children:(c,k)=>{var P=Nr(),v=ce(P),y=o(v,!0);n(v);var g=u(v,2),s=o(g,!0);n(g);var l=u(g,2),t=o(l,!0);n(l),S(($,w,W)=>{F(y,$),F(s,w),F(t,W)},[()=>Y("workflows.first-execution"),()=>Y("workflows.previous-execution"),()=>Y("workflows.next-execution")],d),f(c,P)},$$slots:{default:!0}})}}}),Pe()}var zr=Q('<td class="max-md:hidden"><!></td> <td class="max-lg:hidden"> </td> <td class="hover:text-blue-700 hover:underline"><!></td> <td class="hover:text-blue-700 hover:underline"><!></td>',1),Fr=Q('<caption class="sr-only" slot="caption"> </caption>'),Sr=Q('<th class="max-md:hidden"> </th> <th class="max-lg:hidden"> </th> <th> </th> <th> </th>',1),Er=Q('<div slot="pagination-top"></div>');function Zr(ae,a){$e(a,!1);const[E,re]=Me(),i=()=>Ie(st,"$page",E),A=x();let _=T(a,"children",24,()=>[]);te(()=>(e(A),i()),()=>{(P=>h(A,P.namespace))(i().params)}),He(),Ce();const p=d(()=>Y("workflows.child-workflows")),R=d(()=>Y("common.per-page")),c=d(()=>Y("common.previous")),k=d(()=>Y("common.next"));Pt(ae,{get items(){return _()},get"aria-label"(){return e(p)},get pageSizeSelectLabel(){return e(R)},get previousButtonLabel(){return e(c)},get nextButtonLabel(){return e(k)},children:dt,$$slots:{default:(P,v)=>{const y=d(()=>v.visibleItems);tt(P,{class:"w-full",children:(g,s)=>{var l=Ue(),t=ce(l);lt(t,1,()=>e(y),it,($,w)=>{ot($,{children:(W,X)=>{var b=zr(),M=ce(b),Z=o(M);vt(Z,{get status(){return e(w).status}}),n(M);var B=u(M,2),O=o(B,!0);n(B);var ne=u(B,2),C=o(ne);const G=d(()=>Ee({namespace:e(A),workflow:e(w).id,run:e(w).runId}));Ae(C,{get href(){return e(G)},children:(V,oe)=>{Qe();var ie=Ve();S(()=>F(ie,e(w).id)),f(V,ie)},$$slots:{default:!0}}),n(ne);var q=u(ne,2),ve=o(q);const fe=d(()=>Ee({namespace:e(A),workflow:e(w).id,run:e(w).runId}));Ae(ve,{get href(){return e(fe)},children:(V,oe)=>{Qe();var ie=Ve();S(()=>F(ie,e(w).runId)),f(V,ie)},$$slots:{default:!0}}),n(q),S(()=>F(O,e(w).name)),f(W,b)},$$slots:{default:!0}})}),f(g,l)},$$slots:{default:!0,caption:(g,s)=>{var l=Fr(),t=o(l,!0);n(l),S($=>F(t,$),[()=>Y("workflows.child-workflows")],d),f(g,l)},headers:(g,s)=>{rt(g,{slot:"headers",children:(l,t)=>{var $=Sr(),w=ce($),W=o(w,!0);n(w);var X=u(w,2),b=o(X,!0);n(X);var M=u(X,2),Z=o(M,!0);n(M);var B=u(M,2),O=o(B,!0);n(B),S((ne,C,G,q)=>{F(W,ne),F(b,C),F(Z,G),F(O,q)},[()=>Y("common.status"),()=>Y("common.type"),()=>Y("workflows.child-id"),()=>Y("workflows.child-run-id")],d),f(l,$)},$$slots:{default:!0}})}}})},"pagination-top":(P,v)=>{var y=Er();f(P,y)}}}),Pe(),re()}var Hr=Q("<td><!></td> <td><!></td>",1),Mr=Q('<caption class="sr-only" slot="caption"> </caption>'),Br=Q("<th> </th> <th> </th>",1);function Or(ae,a){$e(a,!1);let E=T(a,"parent",8),re=T(a,"parentNamespaceName",8),i=T(a,"namespace",8);Ce(),tt(ae,{class:"w-full",children:(A,_)=>{ot(A,{class:"hover:text-blue-700 hover:underline",children:(p,R)=>{var c=Hr(),k=ce(c),P=o(k);const v=d(()=>Ee({namespace:re()??i(),workflow:E().workflowId,run:E().runId}));Ae(P,{get href(){return e(v)},children:(l,t)=>{const $=d(()=>Y("common.copy-icon-title")),w=d(()=>Y("common.copy-success-icon-title"));qe(l,{get copyIconTitle(){return e($)},get copySuccessIconTitle(){return e(w)},get content(){return E().workflowId},visible:!0})},$$slots:{default:!0}}),n(k);var y=u(k,2),g=o(y);const s=d(()=>Ee({namespace:re()??i(),workflow:E().workflowId,run:E().runId}));Ae(g,{get href(){return e(s)},children:(l,t)=>{const $=d(()=>Y("common.copy-icon-title")),w=d(()=>Y("common.copy-success-icon-title"));qe(l,{get copyIconTitle(){return e($)},get copySuccessIconTitle(){return e(w)},get content(){return E().runId},visible:!0})},$$slots:{default:!0}}),n(y),f(p,c)},$$slots:{default:!0}})},$$slots:{default:!0,caption:(A,_)=>{var p=Mr(),R=o(p,!0);n(p),S(c=>F(R,c),[()=>Y("workflows.parent-workflow")],d),f(A,p)},headers:(A,_)=>{rt(A,{slot:"headers",children:(p,R)=>{var c=Br(),k=ce(c),P=o(k,!0);n(k);var v=u(k,2),y=o(v,!0);n(v),S((g,s)=>{F(P,g),F(y,s)},[()=>Y("workflows.parent-id"),()=>Y("workflows.parent-run-id")],d),f(p,c)},$$slots:{default:!0}})}}}),Pe()}var Dr=Q("<td><!></td>"),jr=Q('<caption class="sr-only" slot="caption"> </caption>'),qr=Q("<th> </th>");function Ur(ae,a){$e(a,!1);let E=T(a,"scheduleId",8),re=T(a,"namespace",8);Ce(),tt(ae,{class:"w-full",children:(i,A)=>{ot(i,{class:"hover:text-blue-700 hover:underline",children:(_,p)=>{var R=Dr(),c=o(R);const k=d(()=>bt({namespace:re(),scheduleId:E()}));Ae(c,{get href(){return e(k)},children:(P,v)=>{const y=d(()=>Y("common.copy-icon-title")),g=d(()=>Y("common.copy-success-icon-title"));qe(P,{get copyIconTitle(){return e(y)},get copySuccessIconTitle(){return e(g)},get content(){return E()},visible:!0})},$$slots:{default:!0}}),n(R),f(_,R)},$$slots:{default:!0}})},$$slots:{default:!0,caption:(i,A)=>{var _=jr(),p=o(_,!0);n(_),S(R=>F(p,R),[()=>Y("schedules.schedule")],d),f(i,_)},headers:(i,A)=>{rt(i,{slot:"headers",children:(_,p)=>{var R=qr(),c=o(R,!0);n(R),S(k=>F(c,k),[()=>Y("schedules.schedule")],d),f(_,R)},$$slots:{default:!0}})}}}),Pe()}var Gr=Q('<div class="flex flex-col gap-4 px-4 py-4 xl:px-8"><div class="flex w-full flex-wrap gap-4"><!> <!> <!></div> <!></div>');function Jr(ae,a){$e(a,!1);const[E,re]=Me(),i=()=>Ie(ut,"$workflowRun",E),A=()=>Ie(It,"$fullEventHistory",E),_=x(),p=x(),R=x(),c=x(),k=x(),P=x(),v=x(),y=x(),g=x(),s=x(),l=x(),t=x(),$=x();te(()=>(e(_),e(p),e(R),Ze),()=>{(C=>(h(_,C.namespace),h(p,C.workflow),h(R,C.run)))(Ze.params)}),te(()=>(e(c),i()),()=>{(C=>h(c,C.workflow))(i())}),te(()=>(e(c),A(),Ze),()=>{h(k,$t(e(c),A(),Ze.data.namespace))}),te(()=>(e(P),e(v),e(y),e(g),e(s),e(l),e(t),e($),e(k)),()=>{(C=>(h(P,C.hasChildren),h(v,C.first),h(y,C.parent),h(g,C.parentNamespaceName),h(s,C.children),h(l,C.next),h(t,C.previous),h($,C.scheduleId)))(e(k))}),He(),Ce();var w=Gr(),W=o(w),X=o(W);{var b=C=>{Ur(C,{get scheduleId(){return e($)},get namespace(){return e(_)}})};j(X,C=>{e($)&&C(b)})}var M=u(X,2);{var Z=C=>{Or(C,{get parent(){return e(y)},get parentNamespaceName(){return e(g)},get namespace(){return e(_)}})};j(M,C=>{e(y)&&C(Z)})}var B=u(M,2);{var O=C=>{Lr(C,{get first(){return e(v)},get previous(){return e(t)},get next(){return e(l)},get workflow(){return e(p)},get namespace(){return e(_)}})};j(B,C=>{(e(v)||e(t)||e(l))&&C(O)})}n(W);var ne=u(W,2);xt(ne,()=>Xt(e(_),e(p),e(R)),null,(C,G)=>{var q=Ue(),ve=ce(q);{var fe=oe=>{Zr(oe,{get children(){return e(G)}})},V=(oe,ie)=>{{var we=Xe=>{Ar(Xe,{get children(){return e(s)},get pendingChildren(){return i().workflow.pendingChildren},get namespace(){return Ze.params.namespace}})};j(oe,Xe=>{e(P)&&Xe(we)},ie)}};j(ve,oe=>{e(G).length?oe(fe):oe(V,!1)})}f(C,q)}),n(w),f(ae,w),Pe(),re()}const et=Rt(!0);var Kr=Q('<h4 class="px-8 py-4"> </h4>'),Qr=Q('<div class="pb-12"><div class="flex w-full flex-col justify-center gap-4"><!></div></div>');function Vr(ae,a){$e(a,!1);const[E,re]=Me(),i=()=>Ie(st,"$page",E),A=()=>Ie(ut,"$workflowRun",E),_=x(),p=x(),R=x(),c=x(),k=x(),P=x();var v=x(),y=x(),g=x(),s=x();const l=5e3;let t=x(void 0);const $=async()=>{const Z=await Yt(e(_),e(R),e(c)),O=parseInt(Z.count)>l;return O?mt(et,!1):mt(et,!0),O?kt({namespace:e(_),parentWorkflowId:e(k),parentRunId:e(P),workflow:e(t)}):Nt(e(_),e(R),e(c))};te(()=>(e(_),i()),()=>{(Z=>h(_,Z.namespace))(i().params)}),te(()=>(e(p),A()),()=>{(Z=>h(p,Z.workflow))(A())}),te(()=>(e(t),e(p)),()=>{!e(t)&&e(p)&&h(t,e(p))}),te(()=>(We(v),e(t)),()=>{h(R,h(v,e(t)===null||e(t)===void 0?void 0:e(t).rootExecution)===null||We(v)===void 0?void 0:We(v).workflowId)}),te(()=>(We(y),e(t)),()=>{h(c,h(y,e(t)===null||e(t)===void 0?void 0:e(t).rootExecution)===null||We(y)===void 0?void 0:We(y).runId)}),te(()=>(We(g),e(t)),()=>{h(k,h(g,e(t)===null||e(t)===void 0?void 0:e(t).parent)===null||We(g)===void 0?void 0:We(g).workflowId)}),te(()=>(We(s),e(t)),()=>{h(P,h(s,e(t)===null||e(t)===void 0?void 0:e(t).parent)===null||We(s)===void 0?void 0:We(s).runId)}),He(),Ce();var w=Qr(),W=o(w),X=o(W);{var b=Z=>{var B=Ue(),O=ce(B);xt(O,$,ne=>{At(ne,{})},(ne,C)=>{Pr(ne,{get root(){return e(C)},get namespace(){return e(_)}})},ne=>{Jr(ne,{})}),f(Z,B)},M=Z=>{var B=Kr(),O=o(B,!0);n(B),S(ne=>F(O,ne),[()=>Y("workflows.no-relationships")],d),f(Z,B)};j(X,Z=>{e(t)?Z(b):Z(M,!1)})}n(W),n(w),f(ae,w),Pe(),re()}var eo=Q("<!> <!>",1);function So(ae,a){$e(a,!1);const[E,re]=Me(),i=()=>Ie(st,"$page",E),A=i().params.workflow;Ce();var _=eo(),p=ce(_);const R=d(()=>`${Y("workflows.relationships")} | ${A}`);Wt(p,{get title(){return e(R)},get url(){return i().url.href}});var c=u(p,2);Vr(c,{}),f(ae,_),Pe(),re()}export{So as component};
