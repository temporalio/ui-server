import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as ye,m as g,l as ee,s as m,ac as ne,a as Fe,t as K,h as n,c as u,r as a,g as e,i as Z,j as d,d as p,b as be,aB as Ye,n as Je,k as Ke,e as qe,f as ve,af as we,o as ut,aE as Te}from"../chunks/DSxqszTl.js";import{i as Ie}from"../chunks/BcaHj5WR.js";import{a as me,s as Ze,b as mt}from"../chunks/CZBNCVvj.js";import{p as Ge}from"../chunks/DjD1pzbG.js";import{P as At}from"../chunks/DTWo_ajL.js";import{e as Le,s as E}from"../chunks/CXaSvchK.js";import{a as kt}from"../chunks/VoR_jEzk.js";import{i as U}from"../chunks/BAt4aHTa.js";import{w as Xt}from"../chunks/Cb3VdkNs.js";import{L as Yt}from"../chunks/Bw1BszeG.js";import{t as Y}from"../chunks/D2OY9xdY.js";import{n as yt,o as Nt,p as Lt,u as zt}from"../chunks/C1ublD0G.js";import{w as vt}from"../chunks/B0rcaDAb.js";import{l as wt,p as P}from"../chunks/Bp73-jql.js";import{T as Ft}from"../chunks/AlSAaE1i.js";import{s as _t}from"../chunks/Qdkaj6Y8.js";import{d as Et,a as r,s as Ne,c as dt}from"../chunks/DyEeuWnl.js";import{b as gt}from"../chunks/BUdEKvIy.js";import{b as St}from"../chunks/K6Afqa47.js";import{B as Zt}from"../chunks/DzSGmXjD.js";import{T as Ht}from"../chunks/CFAn1g9i.js";import{s as Mt}from"../chunks/Bfc47y5P.js";import{W as ft}from"../chunks/L-HzL4_-.js";import{I as bt}from"../chunks/Dc8cZy7F.js";import{L as Ae}from"../chunks/CN3eTER7.js";import{f as xt,t as Bt,r as Ot}from"../chunks/BSP6lJQ9.js";import{j as Dt}from"../chunks/CLGfdnHC.js";import{c as ze,p as It,x as at}from"../chunks/BfH0n9ks.js";import{e as st,i as lt}from"../chunks/B5GJuRxG.js";import{c as jt}from"../chunks/-jFGsH1F.js";import{f as $t}from"../chunks/CHtRYNRv.js";import{n as Pt}from"../chunks/BeYH7yPO.js";import{g as Ct}from"../chunks/D2yjkYzv.js";import{P as Tt}from"../chunks/Cirdi2oT.js";import{T as Ve,a as et,b as tt}from"../chunks/tzMco784.js";import{C as Ue}from"../chunks/BtDXSW2e.js";var Ut=K('<div class="relative overflow-hidden"><div class="absolute right-4 top-4 z-20 flex items-center gap-2"><!> <!></div> <svg role="presentation"><!></svg></div>');function qt(oe,s){const N=wt(s,["children","$$slots","$$events","$$legacy"]),te=wt(N,["containerHeight","initialZoom","maxZoomIn","maxZoomOut","width","height","zoomable","pannable"]);ye(s,!1);const i=g();let R=P(s,"containerHeight",8,600),C=P(s,"initialZoom",8,1),$=P(s,"maxZoomIn",8,.25),I=P(s,"maxZoomOut",8,2.5),c=P(s,"width",12,600),y=P(s,"height",12,400),_=P(s,"zoomable",8,!0),v=P(s,"pannable",8,!0),T=g(C()),x=g(),X=!1,W=0,o=0,l=0,t=0;const k=V=>{if(!_())return;V.preventDefault();const ae=e(x).getBoundingClientRect(),de=V.clientX-ae.left,ue=V.clientY-ae.top,Xe=V.deltaY*.001;let Pe=e(T)+Xe;if(Pe<$()||Pe>I())return;const $e=Pe/e(T),Be=e(i).width*$e,Oe=e(i).height*$e;Ye(i,e(i).x=de-(de-e(i).x)*$e),Ye(i,e(i).y=ue-(ue-e(i).y)*$e),Ye(i,e(i).width=Be),Ye(i,e(i).height=Oe),m(T,Pe)};function z(V){v()&&(X=!0,W=V.clientX,o=V.clientY,l=e(i).x,t=e(i).y)}function B(V){if(!X)return;const ae=(W-V.clientX)*(e(i).width/e(x).clientWidth),de=(o-V.clientY)*(e(i).height/e(x).clientHeight);Ye(i,e(i).x=l+ae),Ye(i,e(i).y=t+de)}function S(){X=!1}function h(){X=!1}function M(){Ye(i,e(i).x=0),Ye(i,e(i).y=0),Ye(i,e(i).width=c()),Ye(i,e(i).height=y()),m(T,C())}ee(()=>(ne(c()),ne(y())),()=>{m(i,{x:0,y:0,width:c(),height:y()})}),Fe(),Ie();var O=Ut(),re=n(O),ie=n(re);_t(ie,s,"controls",{},null);var Q=u(ie,2);Ht(Q,{text:"Center",bottom:!0,children:(V,ae)=>{Zt(V,{class:"cursor-pointer",variant:"secondary",size:"sm",leadingIcon:"target",$$events:{click:()=>{M()}}})},$$slots:{default:!0}}),a(re);var f=u(re,2);let ce;var he=n(f);_t(he,s,"default",{get width(){return c()},get height(){return y()},get zoomLevel(){return e(T)}},null),a(f),St(f,V=>m(x,V),()=>e(x)),a(O),Z(V=>{Et(O,`height: ${R()??""}px`),r(f,"viewBox",`${e(i).x??""} ${e(i).y??""} ${e(i).width??""} ${e(i).height??""}`),r(f,"width",c()),r(f,"height",y()),ce=Ne(f,0,`relative select-none ${te.class??""}`,null,ce,V)},[()=>({"cursor-grab":v(),"active:cursor-grabbing":v()})],d),Le("wheel",f,k),Le("mousedown",f,z),Le("mousemove",f,B),Le("mouseup",f,S),Le("mouseleave",f,h),gt(O,"clientWidth",c),gt(O,"clientHeight",y),p(oe,O),be()}var Gt=K('<p class="text-xs"> </p>'),Jt=K('<p class="text-xs"> </p>'),Kt=K('<p class="text-xs"> </p>'),Qt=K('<div class="text-left leading-4 lg:basis-[140px] lg:text-right"><!> <div class="flex basis-16 items-center gap-1 leading-4 lg:justify-end"><span class="font-mono"> </span></div></div>'),Vt=K('<p class="text-xs"> </p>'),er=K('<p class="text-xs"> </p>'),tr=K('<p class="text-xs"> </p>'),rr=K('<div class="flex w-full flex-col gap-1 p-1 text-left text-sm lg:flex-row lg:items-center lg:gap-4"><div class="flex items-center gap-2 lg:basis-96"><div class="w-32 leading-4"><!></div> <div class="w-full leading-4"><!> <p> </p></div></div> <div class="leading-4 lg:basis-[800px]"><!> <!></div> <!> <div class="hidden items-center gap-4 lg:flex lg:basis-5/12"><div class="leading-4"><!> <p> </p></div> <div class="leading-4"><!> <p> </p></div> <div class="leading-4"><!> <p> </p></div></div> <!></div>');function or(oe,s){ye(s,!1);const[N,te]=Ze(),i=()=>me(Qe,"$showFullTree",N),R=()=>me(Bt,"$timeFormat",N),C=()=>me(Ot,"$relativeTime",N),$=g(),I=g();let c=P(s,"workflow",8),y=P(s,"namespace",8),_=P(s,"isRootWorkflow",8,!1),v=P(s,"isActive",8,!1),T=P(s,"children",8,0),x=P(s,"expanded",8,!1);ee(()=>ne(c()),()=>{m($,Dt({start:c()===null||c()===void 0?void 0:c().startTime,end:(c()===null||c()===void 0?void 0:c().endTime)||Date.now(),includeMilliseconds:!0}))}),ee(()=>(ne(_()),i(),ne(T())),()=>{m(I,!_()&&i()&&T())}),Fe(),Ie();var X=rr(),W=n(X),o=n(W),l=n(o);ft(l,{get status(){return c().status}}),a(o);var t=u(o,2),k=n(t);{var z=A=>{var D=Gt(),se=n(D,!0);a(D),Z(fe=>E(se,fe),[()=>Y("common.type")],d),p(A,D)};U(k,A=>{_()&&A(z)})}var B=u(k,2),S=n(B,!0);a(B),a(t),a(W);var h=u(W,2),M=n(h);{var O=A=>{var D=Jt(),se=n(D,!0);a(D),Z(fe=>E(se,fe),[()=>Y("common.id")],d),p(A,D)};U(M,A=>{_()&&A(O)})}var re=u(M,2);const ie=d(()=>ze({namespace:y(),workflow:c().id,run:c().runId}));Ae(re,{get href(){return e(ie)},get interactive(){return v()},children:(A,D)=>{Je();var se=Ke();Z(()=>E(se,c().id)),p(A,se)},$$slots:{default:!0}}),a(h);var Q=u(h,2);{var f=A=>{var D=Qt(),se=n(D);{var fe=Ee=>{var Se=Kt(),je=n(Se,!0);a(Se),Z(Ce=>E(je,Ce),[()=>Y("common.child-count")],d),p(Ee,Se)};U(se,Ee=>{_()&&Ee(fe)})}var He=u(se,2),Me=n(He),De=n(Me,!0);a(Me),a(He),a(D),Z(()=>E(De,T())),p(A,D)};U(Q,A=>{i()&&A(f)})}var ce=u(Q,2),he=n(ce),V=n(he);{var ae=A=>{var D=Vt(),se=n(D,!0);a(D),Z(fe=>E(se,fe),[()=>Y("common.start")],d),p(A,D)};U(V,A=>{_()&&A(ae)})}var de=u(V,2),ue=n(de,!0);a(de),a(he);var Xe=u(he,2),Pe=n(Xe);{var $e=A=>{var D=er(),se=n(D,!0);a(D),Z(fe=>E(se,fe),[()=>Y("common.end")],d),p(A,D)};U(Pe,A=>{_()&&A($e)})}var Be=u(Pe,2),Oe=n(Be,!0);a(Be),a(Xe);var rt=u(Xe,2),ot=n(rt);{var H=A=>{var D=tr(),se=n(D,!0);a(D),Z(fe=>E(se,fe),[()=>Y("common.duration")],d),p(A,D)};U(ot,A=>{_()&&A(H)})}var L=u(ot,2),ge=n(L,!0);a(L),a(rt),a(ce);var xe=u(ce,2);{var q=A=>{const D=d(()=>x()?"hyphen":"add");bt(A,{class:"hidden lg:block",get name(){return e(D)}})};U(xe,A=>{e(I)&&A(q)})}a(X),Z((A,D)=>{E(S,c().name),E(ue,A),E(Oe,D),E(ge,e($))},[()=>{var A;return xt((A=c())==null?void 0:A.startTime,R(),{relative:C()})},()=>{var A;return xt((A=c())==null?void 0:A.endTime,R(),{relative:C()})||"-"}],d),p(oe,X),be(),te()}function nr(oe,s){ye(s,!1);let N=P(s,"root",8),te=P(s,"expandAll",8),i=P(s,"onNodeClick",8),R=P(s,"activeWorkflow",8,void 0),C=P(s,"generation",8,1),$=P(s,"openRuns",8);Ie();var I=qe(),c=ve(I);st(c,1,()=>{var y;return(y=N())==null?void 0:y.children},lt,(y,_)=>{Wt(y,{get root(){return e(_)},get expandAll(){return te()},get onNodeClick(){return i()},get activeWorkflow(){return R()},get generation(){return C()},get openRuns(){return $()}})}),p(oe,I),be()}var ar=K('<div class="absolute left-0 top-[25%] h-[1px] w-3 bg-subtle lg:top-[50%] lg:w-6"></div>'),sr=K('<div class="pl-4"><!></div>'),lr=K('<div class="w-full"><button><!> <div class="flex w-full items-center gap-3 pr-2 text-sm"><!></div></button> <!></div>');function Wt(oe,s){ye(s,!1);const[N,te]=Ze(),i=()=>me(Ge,"$page",N),R=g(),C=g(),$=g(),I=g(),c=g(),y=g(),_=g();let v=P(s,"root",8),T=P(s,"expandAll",8),x=P(s,"generation",8,0),X=P(s,"onNodeClick",8),W=P(s,"activeWorkflow",8,void 0),o=P(s,"openRuns",8);const l=()=>{X()(v(),x())};ee(()=>(e(R),e(C),e($),i()),()=>{(Q=>(m(R,Q.namespace),m(C,Q.workflow),m($,Q.run)))(i().params)}),ee(()=>(ne(T()),ne(o()),ne(x()),ne(v())),()=>{m(I,T()||o().get(x())===v().workflow.runId||x()===0)}),ee(()=>(ne(v()),e(C),e($)),()=>{m(c,v().workflow.id===e(C)&&v().workflow.runId===e($))}),ee(()=>(ne(v()),ne(W())),()=>{m(y,v().workflow.runId===(W()===null||W()===void 0?void 0:W().runId))}),ee(()=>ne(x()),()=>{m(_,x()===0)}),Fe(),Ie();var t=lr(),k=n(t);let z;var B=n(k);{var S=Q=>{var f=ar();p(Q,f)};U(B,Q=>{!e(_)&&!e(y)&&Q(S)})}var h=u(B,2),M=n(h);const O=d(()=>{var Q;return(Q=v().children)==null?void 0:Q.length});or(M,{get workflow(){return v().workflow},get namespace(){return e(R)},get isRootWorkflow(){return e(_)},get isActive(){return e(y)},get children(){return e(O)},get expanded(){return e(I)}}),a(h),a(k);var re=u(k,2);{var ie=Q=>{var f=sr(),ce=n(f);{var he=V=>{const ae=d(()=>x()+1);nr(V,{get root(){return v()},get onNodeClick(){return X()},get expandAll(){return T()},get activeWorkflow(){return W()},get generation(){return e(ae)},get openRuns(){return o()}})};U(ce,V=>{var ae,de;(de=(ae=v())==null?void 0:ae.children)!=null&&de.length&&V(he)})}a(f),p(Q,f)};U(re,Q=>{e(I)&&Q(ie)})}a(t),Z(Q=>z=Ne(k,1,`relative flex w-full select-none border-subtle ${e(y)&&"surface-interactive"} ${e(c)&&!e(y)&&"surface-subtle"} items-center gap-1 px-2 py-1 lg:py-2 ${!e(y)&&"hover:surface-interactive-secondary"}`,null,z,Q),[()=>({"border-l":!e(_)&&!e(y)})],d),Le("click",k,Mt(l)),p(oe,t),be(),te()}var ir=we("<line></line>"),cr=we("<line></line>"),dr=we('<circle class="fill-indigo-700" fill-opacity=".95"></circle>'),ur=we('<circle class="fill-indigo-200" fill-opacity=".75"></circle>'),vr=we('<text class="text-center font-mono" fill="currentColor" text-anchor="middle" font-weight="500"> </text>'),fr=we('<text fill="currentcolor" font-weight="500"> </text>'),pr=we('<line class="stroke-slate-50 stroke-2 duration-300 ease-in-out dark:stroke-slate-900"></line><rect class="fill-white stroke-slate-50 dark:fill-space-black dark:stroke-slate-900"></rect><rect class="fill-white stroke-slate-50 dark:fill-space-black dark:stroke-slate-900"></rect><line class="stroke-slate-50 stroke-2 duration-300 ease-in-out dark:stroke-slate-900"></line><rect class="fill-white stroke-slate-50 dark:fill-space-black dark:stroke-slate-900"></rect><rect class="fill-white stroke-slate-50 dark:fill-space-black dark:stroke-slate-900"></rect>',1),hr=we('<!><line></line><g role="button" tabindex="0" class="outline-none transition-all"><!><!><!><rect cursor="pointer"></rect><!><!></g><!>',1),mr=we('<line stroke-dasharray="3 2" class="stroke-slate-100 stroke-2 transition-all duration-300 ease-in-out dark:stroke-slate-800"></line><line stroke-dasharray="3 2" class="stroke-slate-100 stroke-2 transition-all duration-300 ease-in-out dark:stroke-slate-800"></line><!><text fill="currentColor" text-anchor="end" font-weight="500">Schedule</text><a><text fill="currentColor" text-decoration="underline" text-anchor="end" font-weight="500"> </text></a>',1),wr=we('<line class="stroke-slate-100 stroke-2 transition-all duration-300 ease-in-out dark:stroke-slate-800"></line><text fill="currentColor" text-anchor="start" font-weight="500">Next Execution</text><a><text fill="currentColor" text-decoration="underline" text-anchor="start" font-weight="500"> </text></a>',1),_r=we('<line class="stroke-slate-100 stroke-2 transition-all duration-300 ease-in-out dark:stroke-slate-800"></line><text fill="currentColor" text-anchor="end" font-weight="500"> </text><a><text fill="currentColor" text-decoration="underline" text-anchor="end" font-weight="500"> </text></a>',1),gr=we('<line stroke-dasharray="3 2" class="stroke-slate-100 stroke-2 transition-all duration-300 ease-in-out dark:stroke-slate-800"></line><text fill="currentColor" text-anchor="start" font-weight="500">First Execution</text><a><text fill="currentColor" text-decoration="underline" text-anchor="start" font-weight="500"> </text></a>',1),xr=we("<line></line>"),kr=we('<circle class="fill-indigo-200" fill-opacity=".75"></circle>'),yr=we('<circle class="fill-indigo-700" fill-opacity=".95"></circle>'),br=we('<text fill="currentColor" text-anchor="middle" font-weight="500"> </text>'),Ir=we('<g role="button" class="outline-none" tabindex="0"><!><!><!><!><!><!><!><rect></rect><!></g>'),$r=we("<!><!><!>",1);function Rt(oe,s){ye(s,!1);const[N,te]=Ze(),i=()=>me(Ge,"$page",N),R=()=>me(vt,"$workflowRun",N),C=()=>me($t,"$fullEventHistory",N),$=()=>me(Pt,"$namespaces",N),I=()=>me(Qe,"$showFullTree",N),c=g(),y=g(),_=g(),v=g(),T=g(),x=g(),X=g(),W=g(),o=g(),l=g(),t=g(),k=g(),z=g(),B=g(),S=g();let h=P(s,"root",8),M=P(s,"width",8),O=P(s,"height",8),re=P(s,"zoomLevel",8),ie=P(s,"rootX",8,0),Q=P(s,"rootY",8,0),f=P(s,"generation",8,1),ce=P(s,"openRuns",8),he=P(s,"expandAll",8),V=P(s,"onNodeClick",8),ae=P(s,"activeWorkflow",8,void 0);const de=(H,L,ge,xe)=>{const q=ge||H/2,A=xe||L/3;return{x:q,y:A,radius:20}},ue=(H,L)=>{H.stopPropagation(),V()(L,f())},Xe=jt(["stroke-2"],{variants:{status:{Running:"fill-blue-300 stroke-blue-500",TimedOut:"fill-orange-200 stroke-orange-400",Completed:"fill-green-200 stroke-green-400",Failed:"fill-red-200 stroke-red-400",ContinuedAsNew:"fill-purple-200 stroke-purple-400",Canceled:"fill-slate-100 stroke-slate-300",Terminated:"fill-yellow-200 stroke-yellow-400",Paused:"fill-yellow-200 stroke-yellow-400",Unspecified:"fill-slate-100 stroke-slate-300",Scheduled:"fill-blue-300 stroke-blue-500",Started:"fill-blue-300 stroke-blue-500",Open:"fill-green-200 stroke-green-400",New:"fill-blue-300 stroke-blue-500",Initiated:"fill-blue-300 stroke-blue-500",Fired:"fill-pink-200 stroke-pink-400",CancelRequested:"fill-yellow-200 stroke-yellow-400",Signaled:"fill-pink-200 stroke-pink-400"}}});ee(()=>(e(c),e(y),e(_),i()),()=>{(H=>(m(c,H.workflow),m(y,H.run),m(_,H.namespace)))(i().params)}),ee(()=>(e(v),R()),()=>{(H=>m(v,H.workflow))(R())}),ee(()=>(e(v),C(),$()),()=>{m(T,Ct(e(v),C(),$()))}),ee(()=>(e(x),e(X),e(W),e(T)),()=>{(H=>(m(x,H.first),m(X,H.next),m(W,H.previous)))(e(T))}),ee(()=>(e(o),e(l),e(t),ne(M()),ne(O()),ne(ie()),ne(Q())),()=>{(H=>(m(o,H.x),m(l,H.y),m(t,H.radius)))(de(M(),O(),ie(),Q()))}),ee(()=>(e(l),e(t),ne(h()),e(o),ne(re())),()=>{m(k,H=>{const L=e(l)+4*e(t);return{childX:(()=>{var xe;const q=(xe=h().children)===null||xe===void 0?void 0:xe.length;if(q===1)return e(o);const A=e(t)*6/re();if(q%2===0)return e(o)+(H-q*.5)*A+A/2;{const D=q/2-.5;return H===D?e(o):e(o)+(H-D)*A}})(),childY:L}})}),ee(()=>(ne(ce()),ne(f()),ne(he())),()=>{m(z,H=>{const L=ce().get(f())===H.workflow.runId;return he()||L})}),ee(()=>(e(c),e(y)),()=>{m(B,H=>H.workflow.id===e(c)&&H.workflow.runId===e(y))}),ee(()=>ne(ae()),()=>{m(S,H=>H.workflow.runId===(ae()===null||ae()===void 0?void 0:ae().runId))}),Fe(),Ie();var Pe=$r(),$e=ve(Pe);{var Be=H=>{var L=ir();Z((ge,xe,q,A,D)=>{r(L,"x1",ge),r(L,"y1",xe),r(L,"x2",q),r(L,"y2",A),Ne(L,0,`stroke-2 transition-all duration-300 ease-in-out ${D??""}`)},[()=>e(k)(0).childX,()=>e(k)(0).childY-1.5*e(t),()=>{var ge;return e(k)(((ge=h())==null?void 0:ge.children.length)-1).childX},()=>e(k)(0).childY-1.5*e(t),()=>e(S)(h())?"stroke-indigo-700":"stroke-slate-100 dark:stroke-slate-800"],d),p(H,L)};U($e,H=>{var L;(L=h())!=null&&L.children.length&&H(Be)})}var Oe=u($e);st(Oe,1,()=>{var H;return(H=h())==null?void 0:H.children},lt,(H,L,ge)=>{var xe=hr();const q=d(()=>{const{childX:b,childY:w}=e(k)(ge);return{childX:b,childY:w}});var A=ve(xe);{var D=b=>{var w=qe(),J=ve(w);const le=d(()=>f()+1);Rt(J,{get root(){return e(L)},get width(){return M()},get height(){return O()},get zoomLevel(){return re()},get rootX(){return e(q).childX},get rootY(){return e(q).childY},get generation(){return e(le)},get expandAll(){return he()},get openRuns(){return ce()},get onNodeClick(){return V()},get activeWorkflow(){return ae()}}),p(b,w)};U(A,b=>{e(L).children.length&&e(z)(e(L))&&b(D)})}var se=u(A),fe=u(se),He=n(fe);{var Me=b=>{var w=cr();Z(J=>{r(w,"x1",e(q).childX),r(w,"y1",e(q).childY),r(w,"x2",e(q).childX),r(w,"y2",e(q).childY+2.5*e(t)),Ne(w,0,`stroke-2 duration-300 ease-in-out ${J??""}`)},[()=>e(S)(e(L))?"stroke-indigo-700":"stroke-slate-100 dark:stroke-slate-800"],d),p(b,w)};U(He,b=>{var w,J;(J=(w=e(L))==null?void 0:w.children)!=null&&J.length&&e(z)(e(L))&&b(Me)})}var De=u(He);{var Ee=b=>{var w=dr();Z(()=>{r(w,"cx",e(q).childX),r(w,"cy",e(q).childY),r(w,"r",e(t))}),p(b,w)};U(De,b=>{e(S)(e(L))&&b(Ee)})}var Se=u(De);{var je=b=>{var w=ur();Z(()=>{r(w,"cx",e(q).childX),r(w,"cy",e(q).childY),r(w,"r",e(t))}),p(b,w)};U(Se,b=>{e(B)(e(L))&&b(je)})}var Ce=u(Se),We=u(Ce);{var it=b=>{var w=vr(),J=n(w,!0);a(w),Z(()=>{r(w,"x",e(q).childX),r(w,"y",e(q).childY+2*e(t)),E(J,e(L).children.length)}),p(b,w)};U(We,b=>{var w,J;(J=(w=e(L))==null?void 0:w.children)!=null&&J.length&&!e(z)(e(L))&&b(it)})}var ct=u(We);{var j=b=>{var w=fr(),J=n(w,!0);a(w),Z(()=>{var le,pe,ke,_e,Re,nt,pt,ht;r(w,"x",(pe=(le=e(L))==null?void 0:le.children)!=null&&pe.length?e(q).childX+8:e(q).childX),r(w,"y",(_e=(ke=e(L))==null?void 0:ke.children)!=null&&_e.length?e(q).childY-1.15*e(t):e(q).childY+1.15*e(t)),Ne(w,0,dt(!((nt=(Re=e(L))==null?void 0:Re.children)!=null&&nt.length)&&"[writing-mode:vertical-lr]")),r(w,"text-anchor",((ht=(pt=e(L))==null?void 0:pt.children)!=null&&ht.length,"start")),E(J,e(L).workflow.id)}),p(b,w)};U(ct,b=>{I()||b(j)})}a(fe);var F=u(fe);{var G=b=>{var w=pr(),J=ve(w),le=u(J),pe=u(le),ke=u(pe),_e=u(ke),Re=u(_e);Z(()=>{r(J,"x1",e(o)),r(J,"y1",e(l)),r(J,"x2",e(o)-4*e(t)),r(J,"y2",e(l)),r(le,"x",e(o)-3*e(t)-e(t)/2),r(le,"y",e(l)-e(t)/4),r(le,"cx",e(t)/2),r(le,"cy",e(t)/2),r(le,"width",e(t)/2),r(le,"height",e(t)/2),r(pe,"x",e(o)-1.5*e(t)-e(t)/2),r(pe,"y",e(l)-e(t)/4),r(pe,"cx",e(t)/2),r(pe,"cy",e(t)/2),r(pe,"width",e(t)/2),r(pe,"height",e(t)/2),r(ke,"x1",e(o)),r(ke,"y1",e(l)),r(ke,"x2",e(o)+4*e(t)),r(ke,"y2",e(l)),r(_e,"x",e(o)+1.5*e(t)),r(_e,"y",e(l)-e(t)/4),r(_e,"cx",e(t)/2),r(_e,"cy",e(t)/2),r(_e,"width",e(t)/2),r(_e,"height",e(t)/2),r(Re,"x",e(o)+3*e(t)),r(Re,"y",e(l)-e(t)/4),r(Re,"cx",e(t)/2),r(Re,"cy",e(t)/2),r(Re,"width",e(t)/2),r(Re,"height",e(t)/2)}),p(b,w)};U(F,b=>{!I()&&e(L).siblingCount>0&&b(G)})}Z((b,w)=>{r(se,"x1",e(q).childX),r(se,"y1",e(q).childY-1.5*e(t)),r(se,"x2",e(q).childX),r(se,"y2",e(q).childY),Ne(se,0,`stroke-2 transition-all duration-300 ease-in-out ${b??""}`),Ne(Ce,0,w,"svelte-1wls4vg"),r(Ce,"x",e(q).childX-e(t)/2),r(Ce,"y",e(q).childY-e(t)/2),r(Ce,"cx",e(t)/2),r(Ce,"cy",e(t)/2),r(Ce,"width",e(t)),r(Ce,"height",e(t))},[()=>e(S)(h())?"stroke-indigo-700":"stroke-slate-100 dark:stroke-slate-800",()=>dt(Xe({status:e(L).workflow.status}))],d),Le("click",fe,b=>ue(b,e(L))),Le("keypress",fe,b=>ue(b,e(L))),p(H,xe)});var rt=u(Oe);{var ot=H=>{var L=Ir(),ge=n(L);{var xe=j=>{var F=mr(),G=ve(F),b=u(G),w=u(b);const J=d(()=>e(o)-9.25*e(t)),le=d(()=>e(l)-4.15*e(t));bt(w,{get x(){return e(J)},get y(){return e(le)},name:"schedules"});var pe=u(w),ke=u(pe),_e=n(ke),Re=n(_e,!0);a(_e),a(ke),Z(nt=>{r(G,"x1",e(o)),r(G,"y1",e(l)),r(G,"x2",e(o)),r(G,"y2",e(l)-2.5*e(t)),r(b,"x1",e(o)-5*e(t)),r(b,"y1",e(l)-2.5*e(t)),r(b,"x2",e(o)),r(b,"y2",e(l)-2.5*e(t)),r(pe,"x",e(o)-5.25*e(t)),r(pe,"y",e(l)-3.5*e(t)),r(ke,"href",nt),r(_e,"x",e(o)-5.25*e(t)),r(_e,"y",e(l)-2.5*e(t)),E(Re,h().scheduleId)},[()=>It({namespace:e(_),scheduleId:h().scheduleId})],d),p(j,F)};U(ge,j=>{var F;(F=h())!=null&&F.scheduleId&&j(xe)})}var q=u(ge);{var A=j=>{var F=wr(),G=ve(F),b=u(G),w=u(b),J=n(w),le=n(J,!0);a(J),a(w),Z(pe=>{r(G,"x1",e(o)),r(G,"y1",e(l)),r(G,"x2",e(o)+4*e(t)),r(G,"y2",e(l)),r(b,"x",e(o)+4.25*e(t)),r(b,"y",e(l)-4),r(w,"href",pe),r(J,"x",e(o)+4.25*e(t)),r(J,"y",e(l)+e(t)-4),E(le,e(X))},[()=>at({namespace:e(_),workflow:e(c),run:e(X)})],d),p(j,F)};U(q,j=>{e(X)&&j(A)})}var D=u(q);{var se=j=>{var F=_r(),G=ve(F),b=u(G),w=n(b);a(b);var J=u(b),le=n(J),pe=n(le,!0);a(le),a(J),Z((ke,_e)=>{r(G,"x1",e(o)),r(G,"y1",e(l)),r(G,"x2",e(o)-4*e(t)),r(G,"y2",e(l)),r(b,"x",e(o)-4.25*e(t)),r(b,"y",e(l)-4),E(w,`${(e(W)===e(x)?"First":"Previous")??""} Execution`),r(J,"href",ke),r(le,"href",_e),r(le,"x",e(o)-4.25*e(t)),r(le,"y",e(l)+e(t)-4),E(pe,e(W))},[()=>at({namespace:e(_),workflow:e(c),run:e(W)}),()=>at({namespace:e(_),workflow:e(c),run:e(W)})],d),p(j,F)};U(D,j=>{e(W)&&j(se)})}var fe=u(D);{var He=j=>{var F=gr(),G=ve(F),b=u(G),w=u(b),J=n(w),le=n(J,!0);a(J),a(w),Z(pe=>{r(G,"x1",e(W)?e(o)-4*e(t):e(o)),r(G,"y1",e(l)),r(G,"x2",e(t)),r(G,"y2",e(l)),r(b,"x",e(t)),r(b,"y",e(l)-4),r(w,"href",pe),r(J,"x",e(t)),r(J,"y",e(l)+e(t)-4),E(le,e(x))},[()=>at({namespace:e(_),workflow:e(c),run:e(x)})],d),p(j,F)};U(fe,j=>{e(x)&&e(W)!==e(x)&&j(He)})}var Me=u(fe);{var De=j=>{var F=xr();Z(G=>{r(F,"x1",e(o)),r(F,"y1",e(l)),r(F,"x2",e(o)),r(F,"y2",e(l)+2.5*e(t)),Ne(F,0,`stroke-2 transition-all duration-300 ease-in-out ${G??""}`)},[()=>e(S)(h())?"stroke-indigo-700":"stroke-slate-100 dark:stroke-slate-800"],d),p(j,F)};U(Me,j=>{var F,G;(G=(F=h())==null?void 0:F.children)!=null&&G.length&&j(De)})}var Ee=u(Me);{var Se=j=>{var F=kr();Z(()=>{r(F,"cx",e(o)),r(F,"cy",e(l)),r(F,"r",e(t))}),p(j,F)};U(Ee,j=>{e(B)(h())&&j(Se)})}var je=u(Ee);{var Ce=j=>{var F=yr();Z(()=>{r(F,"cx",e(o)),r(F,"cy",e(l)),r(F,"r",e(t))}),p(j,F)};U(je,j=>{e(S)(h())&&j(Ce)})}var We=u(je),it=u(We);{var ct=j=>{var F=br(),G=n(F,!0);a(F),Z(()=>{r(F,"x",e(o)),r(F,"y",e(l)-1.25*e(t)),Ne(F,0,`text-center ${I()&&"font-mono"}`),E(G,I()?h().children.length:h().workflow.id)}),p(j,F)};U(it,j=>{var F,G;(G=(F=h())==null?void 0:F.children)!=null&&G.length&&j(ct)})}a(L),Z(j=>{Ne(We,0,j,"svelte-1wls4vg"),r(We,"x",e(o)-e(t)/2),r(We,"y",e(l)-e(t)/2),r(We,"width",e(t)),r(We,"height",e(t)),r(We,"cx",e(t)/2),r(We,"cy",e(t)/2)},[()=>dt(Xe({status:h().workflow.status}))],d),Le("click",L,j=>ue(j,h())),Le("keypress",L,j=>ue(j,h())),p(H,L)};U(rt,H=>{f()===1&&H(ot)})}p(oe,Pe),be(),te()}var Pr=K('<div class="flex py-4" slot="controls"><!></div>'),Cr=K('<div class="flex flex-col bg-primary"><div class="relative z-10 w-full overflow-hidden border-b border-subtle bg-primary lg:sticky lg:top-12"><!></div> <div class="surface-secondary flex h-auto w-full flex-col overflow-auto text-base"><!></div></div>');function Tr(oe,s){ye(s,!1);const[N,te]=Ze(),i=()=>me(Qe,"$showFullTree",N),R=g();let C=P(s,"root",12),$=P(s,"namespace",8),I=g(void 0),c=g(new Map);const y=()=>{m(R,!e(R))},_=async(o,l)=>{var t,k,z,B;if(i()){const S=new Map(e(c)),h=Math.max(...Array.from(S.keys()));if(e(c).get(l)===o.workflow.runId?S.set(l,""):S.set(l,o.workflow.runId),l<h)for(let M=l+1;M<=h;M++)S.delete(M);m(c,S)}else C(await yt({namespace:$(),workflow:o.workflow,parentWorkflowId:(k=(t=o.workflow)===null||t===void 0?void 0:t.parent)===null||k===void 0?void 0:k.workflowId,parentRunId:(B=(z=o.workflow)===null||z===void 0?void 0:z.parent)===null||B===void 0?void 0:B.runId}));m(I,o.workflow)};ee(()=>i(),()=>{m(R,!i())}),Fe(),Ie();var v=Cr(),T=n(v),x=n(T);qt(x,{initialZoom:2,maxZoomOut:8,maxZoomIn:.25,containerHeight:280,children:ut,$$slots:{default:(o,l)=>{const t=d(()=>l.width),k=d(()=>l.height),z=d(()=>l.zoomLevel);Rt(o,{get root(){return C()},get width(){return e(t)},get height(){return e(k)},get zoomLevel(){return e(z)},onNodeClick:_,get expandAll(){return e(R)},get openRuns(){return e(c)},get activeWorkflow(){return e(I)}})},controls:(o,l)=>{var t=Pr(),k=n(t);{var z=B=>{const S=d(()=>Y("common.expand-all"));Ft(B,{get label(){return e(S)},labelPosition:"left",id:"autorefresh",get checked(){return e(R)},$$events:{change:y}})};U(k,B=>{i()&&B(z)})}a(t),p(o,t)}}}),a(T);var X=u(T,2),W=n(X);Wt(W,{get root(){return C()},get expandAll(){return e(R)},onNodeClick:_,get activeWorkflow(){return e(I)},get openRuns(){return e(c)}}),a(X),a(v),p(oe,v),be(),te()}var Wr=K('<td class="max-md:hidden"><!></td> <td class="max-lg:hidden"> </td> <td class="hover:text-blue-700 hover:underline"><!></td> <td class="hover:text-blue-700 hover:underline"><!></td>',1),Rr=K('<caption class="sr-only" slot="caption"> </caption>'),Ar=K('<th class="max-md:hidden"> </th> <th class="max-lg:hidden"> </th> <th> </th> <th> </th>',1),Xr=K('<div slot="pagination-top"></div>');function Yr(oe,s){ye(s,!1);const N=g(),te=g(),i=g();let R=P(s,"children",24,()=>[]),C=P(s,"pendingChildren",24,()=>[]),$=P(s,"namespace",8);ee(()=>(ne(C()),ne($())),()=>{m(N,C().map(v=>({runId:v.runId,workflowId:v.workflowId,status:"Running",type:v.workflowTypeName,namespace:$()})))}),ee(()=>(ne(R()),ne($())),()=>{m(te,R().map(v=>{var T;return{runId:v.attributes.workflowExecution.runId,workflowId:v.attributes.workflowExecution.workflowId,type:v.attributes.workflowType,status:v.classification,namespace:((T=v.attributes)===null||T===void 0?void 0:T.namespace)||$()}}))}),ee(()=>(e(N),e(te)),()=>{m(i,[...e(N),...e(te)])}),Fe(),Ie();const I=d(()=>Y("workflows.child-workflows")),c=d(()=>Y("common.per-page")),y=d(()=>Y("common.previous")),_=d(()=>Y("common.next"));Tt(oe,{get items(){return e(i)},get"aria-label"(){return e(I)},get pageSizeSelectLabel(){return e(c)},get previousButtonLabel(){return e(y)},get nextButtonLabel(){return e(_)},children:ut,$$slots:{default:(v,T)=>{const x=d(()=>T.visibleItems);Ve(v,{class:"w-full",children:(X,W)=>{var o=qe(),l=ve(o);st(l,1,()=>e(x),lt,(t,k)=>{tt(t,{children:(z,B)=>{var S=Wr(),h=ve(S),M=n(h);ft(M,{get status(){return e(k).status}}),a(h);var O=u(h,2),re=n(O,!0);a(O);var ie=u(O,2),Q=n(ie);const f=d(()=>ze({namespace:e(k).namespace,workflow:e(k).workflowId,run:e(k).runId}));Ae(Q,{get href(){return e(f)},children:(ae,de)=>{Je();var ue=Ke();Z(()=>E(ue,e(k).workflowId)),p(ae,ue)},$$slots:{default:!0}}),a(ie);var ce=u(ie,2),he=n(ce);const V=d(()=>ze({namespace:e(k).namespace,workflow:e(k).workflowId,run:e(k).runId}));Ae(he,{get href(){return e(V)},children:(ae,de)=>{Je();var ue=Ke();Z(()=>E(ue,e(k).runId)),p(ae,ue)},$$slots:{default:!0}}),a(ce),Z(()=>E(re,e(k).type)),p(z,S)},$$slots:{default:!0}})}),p(X,o)},$$slots:{default:!0,caption:(X,W)=>{var o=Rr(),l=n(o,!0);a(o),Z(t=>E(l,t),[()=>Y("workflows.child-workflows")],d),p(X,o)},headers:(X,W)=>{et(X,{slot:"headers",children:(o,l)=>{var t=Ar(),k=ve(t),z=n(k,!0);a(k);var B=u(k,2),S=n(B,!0);a(B);var h=u(B,2),M=n(h,!0);a(h);var O=u(h,2),re=n(O,!0);a(O),Z((ie,Q,f,ce)=>{E(z,ie),E(S,Q),E(M,f),E(re,ce)},[()=>Y("common.status"),()=>Y("common.type"),()=>Y("workflows.child-id"),()=>Y("workflows.child-run-id")],d),p(o,t)},$$slots:{default:!0}})}}})},"pagination-top":(v,T)=>{var x=Xr();p(v,x)}}}),be()}var Nr=K('<td class="w-1/3"><!></td> <td class="w-1/3"><!></td> <td class="w-1/3"><!></td>',1),Lr=K('<caption class="sr-only" slot="caption"> </caption>'),zr=K("<th> </th> <th> </th> <th> </th>",1);function Fr(oe,s){ye(s,!1);let N=P(s,"workflow",8),te=P(s,"namespace",8),i=P(s,"first",8),R=P(s,"next",8),C=P(s,"previous",8);Ie(),Ve(oe,{class:"w-full",children:($,I)=>{tt($,{children:(c,y)=>{var _=Nr(),v=ve(_),T=n(v);{var x=z=>{const B=d(()=>ze({namespace:te(),workflow:N(),run:i()}));Ae(z,{get href(){return e(B)},children:(S,h)=>{const M=d(()=>Y("common.copy-icon-title")),O=d(()=>Y("common.copy-success-icon-title"));Ue(S,{get copyIconTitle(){return e(M)},get copySuccessIconTitle(){return e(O)},get content(){return i()},visible:!0})},$$slots:{default:!0}})};U(T,z=>{i()&&z(x)})}a(v);var X=u(v,2),W=n(X);{var o=z=>{const B=d(()=>ze({namespace:te(),workflow:N(),run:C()}));Ae(z,{get href(){return e(B)},children:(S,h)=>{const M=d(()=>Y("common.copy-icon-title")),O=d(()=>Y("common.copy-success-icon-title"));Ue(S,{get copyIconTitle(){return e(M)},get copySuccessIconTitle(){return e(O)},get content(){return C()},visible:!0})},$$slots:{default:!0}})};U(W,z=>{C()&&z(o)})}a(X);var l=u(X,2),t=n(l);{var k=z=>{const B=d(()=>ze({namespace:te(),workflow:N(),run:R()}));Ae(z,{get href(){return e(B)},children:(S,h)=>{const M=d(()=>Y("common.copy-icon-title")),O=d(()=>Y("common.copy-success-icon-title"));Ue(S,{get copyIconTitle(){return e(M)},get copySuccessIconTitle(){return e(O)},get content(){return R()},visible:!0})},$$slots:{default:!0}})};U(t,z=>{R()&&z(k)})}a(l),p(c,_)},$$slots:{default:!0}})},$$slots:{default:!0,caption:($,I)=>{var c=Lr(),y=n(c,!0);a(c),Z(_=>E(y,_),[()=>Y("workflows.relationships")],d),p($,c)},headers:($,I)=>{et($,{slot:"headers",children:(c,y)=>{var _=zr(),v=ve(_),T=n(v,!0);a(v);var x=u(v,2),X=n(x,!0);a(x);var W=u(x,2),o=n(W,!0);a(W),Z((l,t,k)=>{E(T,l),E(X,t),E(o,k)},[()=>Y("workflows.first-execution"),()=>Y("workflows.previous-execution"),()=>Y("workflows.next-execution")],d),p(c,_)},$$slots:{default:!0}})}}}),be()}var Er=K('<td class="max-md:hidden"><!></td> <td class="max-lg:hidden"> </td> <td class="hover:text-blue-700 hover:underline"><!></td> <td class="hover:text-blue-700 hover:underline"><!></td>',1),Sr=K('<caption class="sr-only" slot="caption"> </caption>'),Zr=K('<th class="max-md:hidden"> </th> <th class="max-lg:hidden"> </th> <th> </th> <th> </th>',1),Hr=K('<div slot="pagination-top"></div>');function Mr(oe,s){ye(s,!1);const[N,te]=Ze(),i=()=>me(Ge,"$page",N),R=g();let C=P(s,"children",24,()=>[]);ee(()=>(e(R),i()),()=>{(_=>m(R,_.namespace))(i().params)}),Fe(),Ie();const $=d(()=>Y("workflows.child-workflows")),I=d(()=>Y("common.per-page")),c=d(()=>Y("common.previous")),y=d(()=>Y("common.next"));Tt(oe,{get items(){return C()},get"aria-label"(){return e($)},get pageSizeSelectLabel(){return e(I)},get previousButtonLabel(){return e(c)},get nextButtonLabel(){return e(y)},children:ut,$$slots:{default:(_,v)=>{const T=d(()=>v.visibleItems);Ve(_,{class:"w-full",children:(x,X)=>{var W=qe(),o=ve(W);st(o,1,()=>e(T),lt,(l,t)=>{tt(l,{children:(k,z)=>{var B=Er(),S=ve(B),h=n(S);ft(h,{get status(){return e(t).status}}),a(S);var M=u(S,2),O=n(M,!0);a(M);var re=u(M,2),ie=n(re);const Q=d(()=>ze({namespace:e(R),workflow:e(t).id,run:e(t).runId}));Ae(ie,{get href(){return e(Q)},children:(V,ae)=>{Je();var de=Ke();Z(()=>E(de,e(t).id)),p(V,de)},$$slots:{default:!0}}),a(re);var f=u(re,2),ce=n(f);const he=d(()=>ze({namespace:e(R),workflow:e(t).id,run:e(t).runId}));Ae(ce,{get href(){return e(he)},children:(V,ae)=>{Je();var de=Ke();Z(()=>E(de,e(t).runId)),p(V,de)},$$slots:{default:!0}}),a(f),Z(()=>E(O,e(t).name)),p(k,B)},$$slots:{default:!0}})}),p(x,W)},$$slots:{default:!0,caption:(x,X)=>{var W=Sr(),o=n(W,!0);a(W),Z(l=>E(o,l),[()=>Y("workflows.child-workflows")],d),p(x,W)},headers:(x,X)=>{et(x,{slot:"headers",children:(W,o)=>{var l=Zr(),t=ve(l),k=n(t,!0);a(t);var z=u(t,2),B=n(z,!0);a(z);var S=u(z,2),h=n(S,!0);a(S);var M=u(S,2),O=n(M,!0);a(M),Z((re,ie,Q,f)=>{E(k,re),E(B,ie),E(h,Q),E(O,f)},[()=>Y("common.status"),()=>Y("common.type"),()=>Y("workflows.child-id"),()=>Y("workflows.child-run-id")],d),p(W,l)},$$slots:{default:!0}})}}})},"pagination-top":(_,v)=>{var T=Hr();p(_,T)}}}),be(),te()}var Br=K("<td><!></td> <td><!></td>",1),Or=K('<caption class="sr-only" slot="caption"> </caption>'),Dr=K("<th> </th> <th> </th>",1);function jr(oe,s){ye(s,!1);let N=P(s,"parent",8),te=P(s,"parentNamespaceName",8),i=P(s,"namespace",8);Ie(),Ve(oe,{class:"w-full",children:(R,C)=>{tt(R,{class:"hover:text-blue-700 hover:underline",children:($,I)=>{var c=Br(),y=ve(c),_=n(y);const v=d(()=>ze({namespace:te()??i(),workflow:N().workflowId,run:N().runId}));Ae(_,{get href(){return e(v)},children:(W,o)=>{const l=d(()=>Y("common.copy-icon-title")),t=d(()=>Y("common.copy-success-icon-title"));Ue(W,{get copyIconTitle(){return e(l)},get copySuccessIconTitle(){return e(t)},get content(){return N().workflowId},visible:!0})},$$slots:{default:!0}}),a(y);var T=u(y,2),x=n(T);const X=d(()=>ze({namespace:te()??i(),workflow:N().workflowId,run:N().runId}));Ae(x,{get href(){return e(X)},children:(W,o)=>{const l=d(()=>Y("common.copy-icon-title")),t=d(()=>Y("common.copy-success-icon-title"));Ue(W,{get copyIconTitle(){return e(l)},get copySuccessIconTitle(){return e(t)},get content(){return N().runId},visible:!0})},$$slots:{default:!0}}),a(T),p($,c)},$$slots:{default:!0}})},$$slots:{default:!0,caption:(R,C)=>{var $=Or(),I=n($,!0);a($),Z(c=>E(I,c),[()=>Y("workflows.parent-workflow")],d),p(R,$)},headers:(R,C)=>{et(R,{slot:"headers",children:($,I)=>{var c=Dr(),y=ve(c),_=n(y,!0);a(y);var v=u(y,2),T=n(v,!0);a(v),Z((x,X)=>{E(_,x),E(T,X)},[()=>Y("workflows.parent-id"),()=>Y("workflows.parent-run-id")],d),p($,c)},$$slots:{default:!0}})}}}),be()}var Ur=K("<td><!></td>"),qr=K('<caption class="sr-only" slot="caption"> </caption>'),Gr=K("<th> </th>");function Jr(oe,s){ye(s,!1);let N=P(s,"scheduleId",8),te=P(s,"namespace",8);Ie(),Ve(oe,{class:"w-full",children:(i,R)=>{tt(i,{class:"hover:text-blue-700 hover:underline",children:(C,$)=>{var I=Ur(),c=n(I);const y=d(()=>It({namespace:te(),scheduleId:N()}));Ae(c,{get href(){return e(y)},children:(_,v)=>{const T=d(()=>Y("common.copy-icon-title")),x=d(()=>Y("common.copy-success-icon-title"));Ue(_,{get copyIconTitle(){return e(T)},get copySuccessIconTitle(){return e(x)},get content(){return N()},visible:!0})},$$slots:{default:!0}}),a(I),p(C,I)},$$slots:{default:!0}})},$$slots:{default:!0,caption:(i,R)=>{var C=qr(),$=n(C,!0);a(C),Z(I=>E($,I),[()=>Y("schedules.schedule")],d),p(i,C)},headers:(i,R)=>{et(i,{slot:"headers",children:(C,$)=>{var I=Gr(),c=n(I,!0);a(I),Z(y=>E(c,y),[()=>Y("schedules.schedule")],d),p(C,I)},$$slots:{default:!0}})}}}),be()}var Kr=K('<div class="flex flex-col gap-4 px-2 py-4 md:px-4 lg:px-8"><div class="flex w-full flex-wrap gap-4"><!> <!> <!></div> <!></div>');function Qr(oe,s){ye(s,!1);const[N,te]=Ze(),i=()=>me(Ge,"$page",N),R=()=>me(vt,"$workflowRun",N),C=()=>me($t,"$fullEventHistory",N),$=()=>me(Pt,"$namespaces",N),I=g(),c=g(),y=g(),_=g(),v=g(),T=g(),x=g(),X=g(),W=g(),o=g(),l=g(),t=g(),k=g();ee(()=>(e(I),e(c),e(y),i()),()=>{(f=>(m(I,f.namespace),m(c,f.workflow),m(y,f.run)))(i().params)}),ee(()=>(e(_),R()),()=>{(f=>m(_,f.workflow))(R())}),ee(()=>(e(_),C(),$()),()=>{m(v,Ct(e(_),C(),$()))}),ee(()=>(e(T),e(x),e(X),e(W),e(o),e(l),e(t),e(k),e(v)),()=>{(f=>(m(T,f.hasChildren),m(x,f.first),m(X,f.parent),m(W,f.parentNamespaceName),m(o,f.children),m(l,f.next),m(t,f.previous),m(k,f.scheduleId)))(e(v))}),Fe(),Ie();var z=Kr(),B=n(z),S=n(B);{var h=f=>{Jr(f,{get scheduleId(){return e(k)},get namespace(){return e(I)}})};U(S,f=>{e(k)&&f(h)})}var M=u(S,2);{var O=f=>{jr(f,{get parent(){return e(X)},get parentNamespaceName(){return e(W)},get namespace(){return e(I)}})};U(M,f=>{e(X)&&f(O)})}var re=u(M,2);{var ie=f=>{Fr(f,{get first(){return e(x)},get previous(){return e(t)},get next(){return e(l)},get workflow(){return e(c)},get namespace(){return e(I)}})};U(re,f=>{(e(x)||e(t)||e(l))&&f(ie)})}a(B);var Q=u(B,2);kt(Q,()=>Nt(e(I),e(c),e(y)),null,(f,ce)=>{var he=qe(),V=ve(he);{var ae=ue=>{Mr(ue,{get children(){return e(ce)}})},de=(ue,Xe)=>{{var Pe=$e=>{Yr($e,{get children(){return e(o)},get pendingChildren(){return R().workflow.pendingChildren},get namespace(){return i().params.namespace}})};U(ue,$e=>{e(T)&&$e(Pe)},Xe)}};U(V,ue=>{e(ce).length?ue(ae):ue(de,!1)})}p(f,he)}),a(z),p(oe,z),be(),te()}const Qe=Xt(!0);var Vr=K('<h4 class="px-8 py-4"> </h4>'),eo=K('<div class="pb-12"><div class="flex w-full flex-col justify-center gap-4"><!></div></div>');function to(oe,s){ye(s,!1);const[N,te]=Ze(),i=()=>me(Ge,"$page",N),R=()=>me(vt,"$workflowRun",N),C=g(),$=g(),I=g(),c=g(),y=g(),_=g();var v=g(),T=g(),x=g(),X=g();const W=5e3;let o=g(void 0);const l=async()=>{const h=await Lt(e(C),e(I),e(c)),O=parseInt(h.count)>W;return O?mt(Qe,!1):mt(Qe,!0),O?yt({namespace:e(C),parentWorkflowId:e(y),parentRunId:e(_),workflow:e(o)}):zt(e(C),e(I),e(c))};ee(()=>(e(C),i()),()=>{(h=>m(C,h.namespace))(i().params)}),ee(()=>(e($),R()),()=>{(h=>m($,h.workflow))(R())}),ee(()=>(e(o),e($)),()=>{!e(o)&&e($)&&m(o,e($))}),ee(()=>(Te(v),e(o)),()=>{m(I,m(v,e(o)===null||e(o)===void 0?void 0:e(o).rootExecution)===null||Te(v)===void 0?void 0:Te(v).workflowId)}),ee(()=>(Te(T),e(o)),()=>{m(c,m(T,e(o)===null||e(o)===void 0?void 0:e(o).rootExecution)===null||Te(T)===void 0?void 0:Te(T).runId)}),ee(()=>(Te(x),e(o)),()=>{m(y,m(x,e(o)===null||e(o)===void 0?void 0:e(o).parent)===null||Te(x)===void 0?void 0:Te(x).workflowId)}),ee(()=>(Te(X),e(o)),()=>{m(_,m(X,e(o)===null||e(o)===void 0?void 0:e(o).parent)===null||Te(X)===void 0?void 0:Te(X).runId)}),Fe(),Ie();var t=eo(),k=n(t),z=n(k);{var B=h=>{var M=qe(),O=ve(M);kt(O,l,re=>{Yt(re,{})},(re,ie)=>{Tr(re,{get root(){return e(ie)},get namespace(){return e(C)}})},re=>{Qr(re,{})}),p(h,M)},S=h=>{var M=Vr(),O=n(M,!0);a(M),Z(re=>E(O,re),[()=>Y("workflows.no-relationships")],d),p(h,M)};U(z,h=>{e(o)?h(B):h(S,!1)})}a(k),a(t),p(oe,t),be(),te()}var ro=K("<!> <!>",1);function Mo(oe,s){ye(s,!1);const[N,te]=Ze(),i=()=>me(Ge,"$page",N),R=i().params.workflow;Ie();var C=ro(),$=ve(C);const I=d(()=>`${Y("workflows.relationships")} | ${R}`);At($,{get title(){return e(I)},get url(){return i().url.href}});var c=u($,2);to(c,{}),p(oe,C),be(),te()}export{Mo as component};
