import{f as u}from"../chunks/Duw9jFRZ.js";import{r as m,a as b}from"../chunks/paxNIibH.js";import{b as i}from"../chunks/DNNVWk-J.js";import{a as p}from"../chunks/B5ksBF2i.js";import{L as w}from"../chunks/DwtbBAIc.js";const f=async(t,a=fetch)=>{try{const e=m("search-attributes",{namespace:t}),r=await b(e,{request:a}),s={...r.customAttributes},o={...r.systemAttributes};return Object.entries(s).forEach(([c,n])=>{s[c]=i(n)}),Object.entries(o).forEach(([c,n])=>{o[c]=i(n)}),{customAttributes:s,systemAttributes:o}}catch(e){return console.error("Error fetching search attributes for namespace",t,e),{customAttributes:{},systemAttributes:{}}}},h=async({params:t,parent:a,fetch:e})=>{await a();const r=await f(t.namespace,e);return p.set(r),{namespace:await u(t.namespace)}},_=Object.freeze(Object.defineProperty({__proto__:null,load:h},Symbol.toStringTag,{value:"Module"}));export{w as component,_ as universal};
