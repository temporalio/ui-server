import"../chunks/CWj6FrbW.js";import{p as H,aN as ee,i as te,c as J,g as e,al as ae,e as g,b as K,s as R,f as A,j as i,r as s,t as q,u as c,h as l,n as W,k as G,d as re,a9 as se}from"../chunks/yn9lut7I.js";import{s as T}from"../chunks/B95CcGmx.js";import{i as M}from"../chunks/Bw1cG9kR.js";import{p as oe,s as ie,a as ne}from"../chunks/C6jR5PNA.js";import{p as le}from"../chunks/DW0IBFoc.js";import{P as de}from"../chunks/DUSMGXax.js";import{A as ue}from"../chunks/CEIbjQ5i.js";import{g as ce}from"../chunks/C2gcJI1g.js";import{p as ve}from"../chunks/756y7qLl.js";import{L as z}from"../chunks/BD_wA4_4.js";import{t as E}from"../chunks/DEjs8ZrU.js";import{e as pe,i as fe}from"../chunks/B0gjW5Lu.js";import{B as me}from"../chunks/B-XX65Ry.js";import{C as ge}from"../chunks/5CVJZZ5q.js";import{P as _e}from"../chunks/BxQqgmUt.js";import{k as xe,q as he,a as V,m as ke}from"../chunks/BwgDh81C.js";var $e=A('<div class="flex w-full items-center justify-between"><p> </p></div>');function we(D,t){H(t,!0);let v=ae(void 0);const C=async o=>{var k,_,d,p,u,f;const $=(d=(_=(k=o==null?void 0:o.spec)===null||k===void 0?void 0:k.target)===null||_===void 0?void 0:_.worker)===null||d===void 0?void 0:d.namespace,m=(f=(u=(p=o==null?void 0:o.spec)===null||p===void 0?void 0:p.target)===null||u===void 0?void 0:u.worker)===null||f===void 0?void 0:f.taskQueue;if($&&m)try{const{pollers:F}=await ce({namespace:$,queue:m});R(v,F.length,!0)}catch{R(v,void 0)}};ee(()=>{C(t.endpoint)});var y=te(),h=J(y);{var N=o=>{{let k=c(()=>e(v)>0?"success":"warning"),_=c(()=>e(v)?"Task Queue is Active":"Task Queue is Inactive");ue(o,{get intent(){return e(k)},get title(){return e(_)},children:(d,p)=>{var u=$e(),f=i(u),$=i(f);s(f),s(u),q(m=>T($,`${e(v)??""}
        ${m??""}`),[()=>ve("Worker",e(v))]),g(d,u)},$$slots:{default:!0}})}};M(h,o=>{e(v)!==void 0&&o(N)})}g(D,y),K()}var Qe=A("<i> </i>"),be=A("<i> </i>"),Pe=A('<h2>Allowed Caller Namespaces</h2> <div class="flex flex-wrap items-center gap-4"></div>',1),ye=A('<div class="flex flex-col gap-8"><div class="flex flex-col gap-1"><div class="flex items-center justify-between"><h1 data-testid="namespace-selector-title"> </h1> <!></div> <p> </p></div> <div class="surface-primary max-w-fit border border-secondary p-4"><p class="text-lg">Target</p> <div class="flex flex-col gap-4 lg:flex-row"><div class="flex items-center gap-2"><span class="font-medium">Namespace</span> <!></div> <div class="flex items-center gap-2"><span class="font-medium">Task Queue</span> <!></div> <!></div></div> <div class="w-full xl:w-1/2"><h2>Description</h2> <!></div> <!></div>');function Ne(D,t){H(t,!0);let v=oe(t,"editDisabled",3,!1);var C=ye(),y=i(C),h=i(y),N=i(h),o=i(N,!0);s(N);var k=l(N,2);{let n=c(()=>he(t.endpoint.id));me(k,{get href(){return e(n)},get disabled(){return v()},children:(r,w)=>{W();var a=G();q(x=>T(a,x),[()=>E("common.edit")]),g(r,a)},$$slots:{default:!0}})}s(h);var _=l(h,2),d=i(_);s(_),s(y);var p=l(y,2),u=l(i(p),2),f=i(u),$=l(i(f),2);{let n=c(()=>{var r,w,a;return V({namespace:((a=(w=(r=t.endpoint.spec)==null?void 0:r.target)==null?void 0:w.worker)==null?void 0:a.namespace)||""})});z($,{get href(){return e(n)},children:(r,w)=>{var a=Qe(),x=i(a,!0);s(a),q(()=>{var Q,b,S;return T(x,((S=(b=(Q=t.endpoint.spec)==null?void 0:Q.target)==null?void 0:b.worker)==null?void 0:S.namespace)||"")}),g(r,a)},$$slots:{default:!0}})}s(f);var m=l(f,2),F=l(i(m),2);{let n=c(()=>E("common.copy-icon-title")),r=c(()=>E("common.copy-success-icon-title")),w=c(()=>{var a,x,Q;return((Q=(x=(a=t.endpoint.spec)==null?void 0:a.target)==null?void 0:x.worker)==null?void 0:Q.taskQueue)||""});ge(F,{get copyIconTitle(){return e(n)},get copySuccessIconTitle(){return e(r)},get content(){return e(w)},children:(a,x)=>{{let Q=c(()=>{var b,S,P,U,j,B;return xe({namespace:((P=(S=(b=t.endpoint.spec)==null?void 0:b.target)==null?void 0:S.worker)==null?void 0:P.namespace)||"",queue:((B=(j=(U=t.endpoint.spec)==null?void 0:U.target)==null?void 0:j.worker)==null?void 0:B.taskQueue)||""})});z(a,{get href(){return e(Q)},children:(b,S)=>{var P=be(),U=i(P,!0);s(P),q(()=>{var j,B,O;return T(U,((O=(B=(j=t.endpoint.spec)==null?void 0:j.target)==null?void 0:B.worker)==null?void 0:O.taskQueue)||"")}),g(b,P)},$$slots:{default:!0}})}},$$slots:{default:!0}})}s(m);var L=l(m,2);re(L,()=>t.taskQueueStatus??se),s(u),s(p);var I=l(p,2),X=l(i(I),2);{let n=c(()=>{var r;return((r=t.endpoint.spec)==null?void 0:r.descriptionString)||"No description provided"});_e(X,{get content(){return e(n)}})}s(I);var Y=l(I,2);{var Z=n=>{var r=Pe(),w=l(J(r),2);pe(w,21,()=>{var a;return(a=t.endpoint.spec)==null?void 0:a.allowedCallerNamespaces},fe,(a,x)=>{{let Q=c(()=>V({namespace:e(x)}));z(a,{get href(){return e(Q)},children:(b,S)=>{W();var P=G();q(()=>T(P,e(x))),g(b,P)},$$slots:{default:!0}})}}),s(w),g(n,r)};M(Y,n=>{var r;(r=t.endpoint.spec)!=null&&r.allowedCallerNamespaces&&n(Z)})}s(C),q(()=>{var n;T(o,((n=t.endpoint.spec)==null?void 0:n.name)||""),T(d,`UUID: ${t.endpoint.id??""}`)}),g(D,C),K()}var Te=A('<div class="flex flex-col gap-4"><!> <!></div>'),Ce=A("<!> <!>",1);function Me(D,t){H(t,!0);const v=()=>ne(le,"$page",C),[C,y]=ie(),h=c(()=>t.data.endpoint);var N=Ce(),o=J(N);{let d=c(()=>E("nexus.nexus-endpoint",{id:v().params.id}));de(o,{get title(){return e(d)},get url(){return v().url.href}})}var k=l(o,2);{var _=d=>{var p=Te(),u=i(p);{let $=c(ke);z(u,{get href(){return e($)},icon:"chevron-left",children:(m,F)=>{W();var L=G();q(I=>T(L,I),[()=>E("nexus.back-to-endpoints")]),g(m,L)},$$slots:{default:!0}})}var f=l(u,2);Ne(f,{get endpoint(){return e(h)},taskQueueStatus:m=>{we(m,{get endpoint(){return e(h)}})},$$slots:{taskQueueStatus:!0}}),s(p),g(d,p)};M(k,d=>{e(h)&&d(_)})}g(D,N),K(),y()}export{Me as component};
