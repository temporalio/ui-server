import"../chunks/CWj6FrbW.js";import{p as L,aN as ee,i as te,c as U,g as t,al as ae,e as f,b as z,s as G,f as T,j as o,r,t as Q,u as v,d as re,k as E,h as n,n as H,a9 as se}from"../chunks/yn9lut7I.js";import{p as J,s as oe,a as ie}from"../chunks/C6jR5PNA.js";import{p as ne}from"../chunks/BrtlPyR9.js";import{P as le}from"../chunks/DUSMGXax.js";import{s as $}from"../chunks/B95CcGmx.js";import{i as M}from"../chunks/Bw1cG9kR.js";import{A as de}from"../chunks/CEIbjQ5i.js";import{g as ue}from"../chunks/Dr1YN59l.js";import{p as ce}from"../chunks/756y7qLl.js";import{t as q}from"../chunks/DEjs8ZrU.js";import{e as ve,i as pe}from"../chunks/B0gjW5Lu.js";import{B as fe}from"../chunks/CBuGS0h0.js";import{C as me}from"../chunks/5CVJZZ5q.js";import{L as F}from"../chunks/DNCniLTu.js";import{P as ge}from"../chunks/w4grkEMe.js";import{m as _e,q as xe,a as K,k as ke}from"../chunks/BvjGwjVd.js";var he=T('<div class="flex w-full items-center justify-between"><p> </p></div>');function we(C,e){L(e,!0);let d=ae(void 0);const S=async a=>{var c,u,m,y,p,k;const h=(m=(u=(c=a==null?void 0:a.spec)===null||c===void 0?void 0:c.target)===null||u===void 0?void 0:u.worker)===null||m===void 0?void 0:m.namespace,b=(k=(p=(y=a==null?void 0:a.spec)===null||y===void 0?void 0:y.target)===null||p===void 0?void 0:p.worker)===null||k===void 0?void 0:k.taskQueue;if(h&&b)try{const{pollers:N}=await ue({namespace:h,queue:b});G(d,N.length,!0)}catch{G(d,void 0)}};ee(()=>{S(e.endpoint)});var _=te(),x=U(_);{var P=a=>{{let c=v(()=>t(d)>0?"success":"warning"),u=v(()=>t(d)?"Task Queue is Active":"Task Queue is Inactive");de(a,{get intent(){return t(c)},get title(){return t(u)},children:(m,y)=>{var p=he(),k=o(p),h=o(k);r(k),r(p),Q(b=>$(h,`${t(d)??""}
        ${b??""}`),[()=>ce("Worker",t(d))]),f(m,p)},$$slots:{default:!0}})}};M(x,a=>{t(d)!==void 0&&a(P)})}f(C,_),z()}var $e=T("<i> </i>"),be=T("<i> </i>"),Qe=T('<h2>Allowed Caller Namespaces</h2> <div class="flex flex-wrap items-center gap-4"></div>',1),Pe=T('<div class="flex flex-col gap-8"><div class="relative flex flex-col gap-4 text-sm"><!></div> <div class="flex flex-col gap-1"><div class="flex items-center justify-between"><h1 data-testid="namespace-selector-title"> </h1> <!></div> <p> </p></div> <div class="surface-primary max-w-fit border border-secondary p-4"><p class="text-lg">Target</p> <div class="flex flex-col gap-4 lg:flex-row"><div class="flex items-center gap-2"><span class="font-medium">Namespace</span> <!></div> <div class="flex items-center gap-2"><span class="font-medium">Task Queue</span> <!></div> <!></div></div> <div class="w-full xl:w-1/2"><h2>Description</h2> <!></div> <!></div>');function ye(C,e){L(e,!0);let d=J(e,"editDisabled",3,!1),S=J(e,"backHref",19,_e);var _=Pe(),x=o(_),P=o(x);F(P,{get href(){return S()},icon:"chevron-left",children:(l,s)=>{H();var g=E();Q(i=>$(g,i),[()=>q("nexus.back-to-endpoints")]),f(l,g)},$$slots:{default:!0}}),r(x);var a=n(x,2),c=o(a),u=o(c),m=o(u,!0);r(u);var y=n(u,2);{let l=v(()=>xe(e.endpoint.id));fe(y,{get href(){return t(l)},get disabled(){return d()},children:(s,g)=>{H();var i=E();Q(w=>$(i,w),[()=>q("common.edit")]),f(s,i)},$$slots:{default:!0}})}r(c);var p=n(c,2),k=o(p);r(p),r(a);var h=n(a,2),b=n(o(h),2),N=o(b),O=n(o(N),2);{let l=v(()=>K({namespace:e.endpoint.spec.target.worker.namespace}));F(O,{get href(){return t(l)},children:(s,g)=>{var i=$e(),w=o(i,!0);r(i),Q(()=>$(w,e.endpoint.spec.target.worker.namespace)),f(s,i)},$$slots:{default:!0}})}r(N);var I=n(N,2),R=n(o(I),2);{let l=v(()=>q("common.copy-icon-title")),s=v(()=>q("common.copy-success-icon-title"));me(R,{get copyIconTitle(){return t(l)},get copySuccessIconTitle(){return t(s)},get content(){return e.endpoint.spec.target.worker.taskQueue},children:(g,i)=>{{let w=v(()=>ke({namespace:e.endpoint.spec.target.worker.namespace,queue:e.endpoint.spec.target.worker.taskQueue}));F(g,{get href(){return t(w)},children:(B,W)=>{var A=be(),D=o(A,!0);r(A),Q(()=>$(D,e.endpoint.spec.target.worker.taskQueue)),f(B,A)},$$slots:{default:!0}})}},$$slots:{default:!0}})}r(I);var V=n(I,2);re(V,()=>e.taskQueueStatus??se),r(b),r(h);var j=n(h,2),X=n(o(j),2);{let l=v(()=>{var s;return((s=e.endpoint.spec)==null?void 0:s.descriptionString)||"No description provided"});ge(X,{get content(){return t(l)}})}r(j);var Y=n(j,2);{var Z=l=>{var s=Qe(),g=n(U(s),2);ve(g,21,()=>{var i;return(i=e.endpoint.spec)==null?void 0:i.allowedCallerNamespaces},pe,(i,w)=>{{let B=v(()=>K({namespace:t(w)}));F(i,{get href(){return t(B)},children:(W,A)=>{H();var D=E();Q(()=>$(D,t(w))),f(W,D)},$$slots:{default:!0}})}}),r(g),f(l,s)};M(Y,l=>{var s;(s=e.endpoint.spec)!=null&&s.allowedCallerNamespaces&&l(Z)})}r(_),Q(()=>{$(m,e.endpoint.spec.name),$(k,`UUID: ${e.endpoint.id??""}`)}),f(C,_),z()}var Ne=T("<!> <!>",1);function Je(C,e){L(e,!0);const d=()=>ie(ne,"$page",S),[S,_]=oe(),x=v(()=>e.data.endpoint);var P=Ne(),a=U(P);{let u=v(()=>q("nexus.nexus-endpoint",{id:d().params.id}));le(a,{get title(){return t(u)},get url(){return d().url.href}})}var c=n(a,2);ye(c,{get endpoint(){return t(x)},taskQueueStatus:m=>{we(m,{get endpoint(){return t(x)}})},$$slots:{taskQueueStatus:!0}}),f(C,P),z(),_()}export{Je as component};
