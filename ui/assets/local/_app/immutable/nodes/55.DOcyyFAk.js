import"../chunks/CWj6FrbW.js";import{p as H,aC as ae,a9 as oe,e as ie,f as L,g as t,d as v,b as U,s as G,az as p,t as N,h as a,r as s,i as Q,c as n,n as B,k as E,A as ne}from"../chunks/CtXwlho8.js";import{s as le,a as de}from"../chunks/CI9zuxJp.js";import{p as ce}from"../chunks/LxuAoyo9.js";import{P as ue}from"../chunks/BYpUB0sF.js";import{s as b}from"../chunks/BXc8M6y4.js";import{i as M}from"../chunks/yjFgoZ2z.js";import{A as pe}from"../chunks/Cb-Z4thM.js";import{g as ve}from"../chunks/CjSapIui.js";import{p as me}from"../chunks/756y7qLl.js";import{t as A}from"../chunks/D2OY9xdY.js";import{e as fe,i as _e}from"../chunks/DN_bdWMP.js";import{s as ge}from"../chunks/CHkfRj1l.js";import{p as J}from"../chunks/DdhuX4yd.js";import{B as xe}from"../chunks/CfdXaQn9.js";import{C as ke}from"../chunks/CWxlC1s-.js";import{L as D}from"../chunks/NPt8neCM.js";import{P as he}from"../chunks/BOBTEDRE.js";import{k as we,o as be,a as K,i as Qe}from"../chunks/Bfh74AWF.js";var Pe=N('<div class="flex w-full items-center justify-between"><p> </p></div>');function ye(T,e){H(e,!0);let d=ae(void 0);const C=async r=>{var c,u,k,h,f,_;const y=(k=(u=(c=r==null?void 0:r.spec)===null||c===void 0?void 0:c.target)===null||u===void 0?void 0:u.worker)===null||k===void 0?void 0:k.namespace,w=(_=(f=(h=r==null?void 0:r.spec)===null||h===void 0?void 0:h.target)===null||f===void 0?void 0:f.worker)===null||_===void 0?void 0:_.taskQueue;if(y&&w)try{const{pollers:$}=await ve({namespace:y,queue:w});G(d,$.length,!0)}catch{G(d,void 0)}};oe(()=>{C(e.endpoint)});var m=ie(),x=L(m);{var P=r=>{const c=p(()=>t(d)>0?"success":"warning"),u=p(()=>t(d)?"Task Queue is Active":"Task Queue is Inactive");pe(r,{get intent(){return t(c)},get title(){return t(u)},children:(k,h)=>{var f=Pe(),_=a(f),y=a(_);s(_),s(f),Q(w=>b(y,`${t(d)??""}
        ${w??""}`),[()=>me("Worker",t(d))]),v(k,f)},$$slots:{default:!0}})};M(x,r=>{t(d)!==void 0&&r(P)})}v(T,m),U()}var Ne=N("<i> </i>"),Te=N("<i> </i>"),Ce=N('<h2>Allowed Caller Namespaces</h2> <div class="flex flex-wrap items-center gap-4"></div>',1),$e=N('<div class="flex flex-col gap-8"><div class="relative flex flex-col gap-4 text-sm"><!></div> <div class="flex flex-col gap-1"><div class="flex items-center justify-between"><h1 data-testid="namespace-selector-title"> </h1> <!></div> <p> </p></div> <div class="surface-primary max-w-fit border border-secondary p-4"><p class="text-lg">Target</p> <div class="flex flex-col gap-4 lg:flex-row"><div class="flex items-center gap-2"><span class="font-medium">Namespace</span> <!></div> <div class="flex items-center gap-2"><span class="font-medium">Task Queue</span> <!></div> <!></div></div> <div class="w-full xl:w-1/2"><h2>Description</h2> <!></div> <!></div>');function Se(T,e){H(e,!0);let d=J(e,"editDisabled",3,!1),C=J(e,"backHref",19,we);var m=$e(),x=a(m),P=a(x);D(P,{get href(){return C()},icon:"chevron-left",children:(o,g)=>{B();var i=E();Q(l=>b(i,l),[()=>A("nexus.back-to-endpoints")]),v(o,i)},$$slots:{default:!0}}),s(x);var r=n(x,2),c=a(r),u=a(c),k=a(u,!0);s(u);var h=n(u,2);const f=p(()=>be(e.endpoint.id));xe(h,{get href(){return t(f)},get disabled(){return d()},children:(o,g)=>{B();var i=E();Q(l=>b(i,l),[()=>A("common.edit")]),v(o,i)},$$slots:{default:!0}}),s(c);var _=n(c,2),y=a(_);s(_),s(r);var w=n(r,2),$=n(a(w),2),F=a($),O=n(a(F),2);const R=p(()=>K({namespace:e.endpoint.spec.target.worker.namespace}));D(O,{get href(){return t(R)},children:(o,g)=>{var i=Ne(),l=a(i,!0);s(i),Q(()=>b(l,e.endpoint.spec.target.worker.namespace)),v(o,i)},$$slots:{default:!0}}),s(F);var I=n(F,2),V=n(a(I),2);const X=p(()=>A("common.copy-icon-title")),Y=p(()=>A("common.copy-success-icon-title"));ke(V,{get copyIconTitle(){return t(X)},get copySuccessIconTitle(){return t(Y)},get content(){return e.endpoint.spec.target.worker.taskQueue},children:(o,g)=>{const i=p(()=>Qe({namespace:e.endpoint.spec.target.worker.namespace,queue:e.endpoint.spec.target.worker.taskQueue}));D(o,{get href(){return t(i)},children:(l,j)=>{var S=Te(),z=a(S,!0);s(S),Q(()=>b(z,e.endpoint.spec.target.worker.taskQueue)),v(l,S)},$$slots:{default:!0}})},$$slots:{default:!0}}),s(I);var Z=n(I,2);ge(Z,()=>e.taskQueueStatus??ne),s($),s(w);var q=n(w,2),ee=n(a(q),2);const te=p(()=>{var o;return((o=e.endpoint.spec)==null?void 0:o.descriptionString)||"No description provided"});he(ee,{get content(){return t(te)}}),s(q);var re=n(q,2);{var se=o=>{var g=Ce(),i=n(L(g),2);fe(i,21,()=>{var l;return(l=e.endpoint.spec)==null?void 0:l.allowedCallerNamespaces},_e,(l,j)=>{const S=p(()=>K({namespace:t(j)}));D(l,{get href(){return t(S)},children:(z,De)=>{B();var W=E();Q(()=>b(W,t(j))),v(z,W)},$$slots:{default:!0}})}),s(i),v(o,g)};M(re,o=>{var g;(g=e.endpoint.spec)!=null&&g.allowedCallerNamespaces&&o(se)})}s(m),Q(()=>{b(k,e.endpoint.spec.name),b(y,`UUID: ${e.endpoint.id??""}`)}),v(T,m),U()}var Ae=N("<!> <!>",1);function Ye(T,e){H(e,!0);const[d,C]=le(),m=()=>de(ce,"$page",d),x=p(()=>e.data.endpoint);var P=Ae(),r=L(P);const c=p(()=>A("nexus.nexus-endpoint",{id:m().params.id}));ue(r,{get title(){return t(c)},get url(){return m().url.href}});var u=n(r,2);Se(u,{get endpoint(){return t(x)},taskQueueStatus:h=>{ye(h,{get endpoint(){return t(x)}})},$$slots:{taskQueueStatus:!0}}),v(T,P),U(),C()}export{Ye as component};
