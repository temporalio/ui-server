import"../chunks/CWj6FrbW.js";import{p as G,aN as ee,i as te,c as J,g as t,at as re,e as g,b as K,s as R,f as A,j as i,r as s,t as q,v as c,h as l,n as H,k as W,d as ae,u as se}from"../chunks/BBjqMsu1.js";import{s as T}from"../chunks/DHOm-mSm.js";import{i as M}from"../chunks/DrCjka1e.js";import{p as oe,s as ie,a as ne}from"../chunks/D42yUzBQ.js";import{p as le}from"../chunks/TevsZZmn.js";import{P as de}from"../chunks/BcjIxfWp.js";import{A as ue}from"../chunks/BcDQnu-T.js";import{g as ce}from"../chunks/DuhewTiM.js";import{p as ve}from"../chunks/756y7qLl.js";import{L as z}from"../chunks/CX_-61Jy.js";import{t as E}from"../chunks/DEjs8ZrU.js";import{e as pe,i as fe}from"../chunks/B8KdL4-8.js";import{B as me}from"../chunks/0eJdhTTE.js";import{C as ge}from"../chunks/CCD28ISS.js";import{P as _e}from"../chunks/Bvt0F08e.js";import{k as xe,q as he,a as V,m as ke}from"../chunks/Cj4MFBk_.js";var we=A('<div class="flex w-full items-center justify-between"><p> </p></div>');function $e(D,e){G(e,!0);let v=re(void 0);const C=async o=>{var k,_,d,p,u,f;const w=(d=(_=(k=o==null?void 0:o.spec)===null||k===void 0?void 0:k.target)===null||_===void 0?void 0:_.worker)===null||d===void 0?void 0:d.namespace,m=(f=(u=(p=o==null?void 0:o.spec)===null||p===void 0?void 0:p.target)===null||u===void 0?void 0:u.worker)===null||f===void 0?void 0:f.taskQueue;if(w&&m)try{const{pollers:F}=await ce({namespace:w,queue:m});R(v,F.length,!0)}catch{R(v,void 0)}};ee(()=>{C(e.endpoint)});var y=te(),h=J(y);{var N=o=>{{let k=c(()=>t(v)>0?"success":"warning"),_=c(()=>t(v)?"Task Queue is Active":"Task Queue is Inactive");ue(o,{get intent(){return t(k)},get title(){return t(_)},children:(d,p)=>{var u=we(),f=i(u),w=i(f);s(f),s(u),q(m=>T(w,`${t(v)??""}
        ${m??""}`),[()=>ve("Worker",t(v))]),g(d,u)},$$slots:{default:!0}})}};M(h,o=>{t(v)!==void 0&&o(N)})}g(D,y),K()}var Qe=A("<i> </i>"),be=A("<i> </i>"),Pe=A('<h2>Allowed Caller Namespaces</h2> <div class="flex flex-wrap items-center gap-4"></div>',1),ye=A('<div class="flex flex-col gap-8"><div class="flex flex-col gap-1"><div class="flex items-center justify-between"><h1 data-testid="namespace-selector-title"> </h1> <!></div> <p> </p></div> <div class="surface-primary max-w-fit border border-secondary p-4"><p class="text-lg">Target</p> <div class="flex flex-col gap-4 lg:flex-row"><div class="flex items-center gap-2"><span class="font-medium">Namespace</span> <!></div> <div class="flex items-center gap-2"><span class="font-medium">Task Queue</span> <!></div> <!></div></div> <div class="w-full xl:w-1/2"><h2>Description</h2> <!></div> <!></div>');function Ne(D,e){G(e,!0);let v=oe(e,"editDisabled",3,!1);var C=ye(),y=i(C),h=i(y),N=i(h),o=i(N,!0);s(N);var k=l(N,2);{let n=c(()=>e.editHref??he(e.endpoint.id));me(k,{get href(){return t(n)},get disabled(){return v()},children:(a,$)=>{H();var r=W();q(x=>T(r,x),[()=>E("common.edit")]),g(a,r)},$$slots:{default:!0}})}s(h);var _=l(h,2),d=i(_);s(_),s(y);var p=l(y,2),u=l(i(p),2),f=i(u),w=l(i(f),2);{let n=c(()=>{var a,$,r;return V({namespace:((r=($=(a=e.endpoint.spec)==null?void 0:a.target)==null?void 0:$.worker)==null?void 0:r.namespace)||""})});z(w,{get href(){return t(n)},children:(a,$)=>{var r=Qe(),x=i(r,!0);s(r),q(()=>{var Q,b,S;return T(x,((S=(b=(Q=e.endpoint.spec)==null?void 0:Q.target)==null?void 0:b.worker)==null?void 0:S.namespace)||"")}),g(a,r)},$$slots:{default:!0}})}s(f);var m=l(f,2),F=l(i(m),2);{let n=c(()=>E("common.copy-icon-title")),a=c(()=>E("common.copy-success-icon-title")),$=c(()=>{var r,x,Q;return((Q=(x=(r=e.endpoint.spec)==null?void 0:r.target)==null?void 0:x.worker)==null?void 0:Q.taskQueue)||""});ge(F,{get copyIconTitle(){return t(n)},get copySuccessIconTitle(){return t(a)},get content(){return t($)},children:(r,x)=>{{let Q=c(()=>{var b,S,P,U,j,B;return xe({namespace:((P=(S=(b=e.endpoint.spec)==null?void 0:b.target)==null?void 0:S.worker)==null?void 0:P.namespace)||"",queue:((B=(j=(U=e.endpoint.spec)==null?void 0:U.target)==null?void 0:j.worker)==null?void 0:B.taskQueue)||""})});z(r,{get href(){return t(Q)},children:(b,S)=>{var P=be(),U=i(P,!0);s(P),q(()=>{var j,B,O;return T(U,((O=(B=(j=e.endpoint.spec)==null?void 0:j.target)==null?void 0:B.worker)==null?void 0:O.taskQueue)||"")}),g(b,P)},$$slots:{default:!0}})}},$$slots:{default:!0}})}s(m);var L=l(m,2);ae(L,()=>e.taskQueueStatus??se),s(u),s(p);var I=l(p,2),X=l(i(I),2);{let n=c(()=>{var a;return((a=e.endpoint.spec)==null?void 0:a.descriptionString)||"No description provided"});_e(X,{get content(){return t(n)}})}s(I);var Y=l(I,2);{var Z=n=>{var a=Pe(),$=l(J(a),2);pe($,21,()=>{var r;return(r=e.endpoint.spec)==null?void 0:r.allowedCallerNamespaces},fe,(r,x)=>{{let Q=c(()=>V({namespace:t(x)}));z(r,{get href(){return t(Q)},children:(b,S)=>{H();var P=W();q(()=>T(P,t(x))),g(b,P)},$$slots:{default:!0}})}}),s($),g(n,a)};M(Y,n=>{var a;(a=e.endpoint.spec)!=null&&a.allowedCallerNamespaces&&n(Z)})}s(C),q(()=>{var n;T(o,((n=e.endpoint.spec)==null?void 0:n.name)||""),T(d,`UUID: ${e.endpoint.id??""}`)}),g(D,C),K()}var Te=A('<div class="flex flex-col gap-4"><!> <!></div>'),Ce=A("<!> <!>",1);function Me(D,e){G(e,!0);const v=()=>ne(le,"$page",C),[C,y]=ie(),h=c(()=>e.data.endpoint);var N=Ce(),o=J(N);{let d=c(()=>E("nexus.nexus-endpoint",{id:v().params.id}));de(o,{get title(){return t(d)},get url(){return v().url.href}})}var k=l(o,2);{var _=d=>{var p=Te(),u=i(p);{let w=c(ke);z(u,{get href(){return t(w)},icon:"chevron-left",children:(m,F)=>{H();var L=W();q(I=>T(L,I),[()=>E("nexus.back-to-endpoints")]),g(m,L)},$$slots:{default:!0}})}var f=l(u,2);Ne(f,{get endpoint(){return t(h)},taskQueueStatus:m=>{$e(m,{get endpoint(){return t(h)}})},$$slots:{taskQueueStatus:!0}}),s(p),g(d,p)};M(k,d=>{t(h)&&d(_)})}g(D,N),K(),y()}export{Me as component};
