import"../chunks/CWj6FrbW.js";import{p as W,aO as ee,i as te,c as G,g as r,at as re,e as g,b as J,s as R,f as A,j as i,r as s,t as q,v as c,h as l,n as H,k as O,d as ae,u as se}from"../chunks/B6CF0p-B.js";import{s as T}from"../chunks/BSSJzwu8.js";import{i as K}from"../chunks/DVfqY6Lp.js";import{p as oe,s as ie,a as ne}from"../chunks/BrOjBIf0.js";import{p as le}from"../chunks/nPCShRt9.js";import{P as de}from"../chunks/D-4C8DtU.js";import{A as ue}from"../chunks/DFhL1XQn.js";import{g as ce}from"../chunks/BDvvIEsn.js";import{p as ve}from"../chunks/756y7qLl.js";import{L as z}from"../chunks/7iEb8ltR.js";import{t as B}from"../chunks/DEjs8ZrU.js";import{e as pe}from"../chunks/DNXtLIpi.js";import{B as fe}from"../chunks/BNDQTmB4.js";import{C as me}from"../chunks/DtNOqOv-.js";import{P as ge}from"../chunks/DNjzCkjN.js";import{k as _e,q as xe,a as V,m as he}from"../chunks/B9-pQdcg.js";var ke=A('<div class="flex w-full items-center justify-between"><p> </p></div>');function we(D,e){W(e,!0);let v=re(void 0);const C=async o=>{var k,_,d,p,u,f;const w=(d=(_=(k=o==null?void 0:o.spec)===null||k===void 0?void 0:k.target)===null||_===void 0?void 0:_.worker)===null||d===void 0?void 0:d.namespace,m=(f=(u=(p=o==null?void 0:o.spec)===null||p===void 0?void 0:p.target)===null||u===void 0?void 0:u.worker)===null||f===void 0?void 0:f.taskQueue;if(w&&m)try{const{pollers:E}=await ce({namespace:w,queue:m});R(v,E.length,!0)}catch{R(v,void 0)}};ee(()=>{C(e.endpoint)});var y=te(),h=G(y);{var N=o=>{{let k=c(()=>r(v)>0?"success":"warning"),_=c(()=>r(v)?"Task Queue is Active":"Task Queue is Inactive");ue(o,{get intent(){return r(k)},get title(){return r(_)},children:(d,p)=>{var u=ke(),f=i(u),w=i(f);s(f),s(u),q(m=>T(w,`${r(v)??""}
        ${m??""}`),[()=>ve("Worker",r(v))]),g(d,u)},$$slots:{default:!0}})}};K(h,o=>{r(v)!==void 0&&o(N)})}g(D,y),J()}var $e=A("<i> </i>"),Qe=A("<i> </i>"),be=A('<h2>Allowed Caller Namespaces</h2> <div class="flex flex-wrap items-center gap-4"></div>',1),Pe=A('<div class="flex flex-col gap-8"><div class="flex flex-col gap-1"><div class="flex items-center justify-between"><h1 data-testid="namespace-selector-title"> </h1> <!></div> <p> </p></div> <div class="surface-primary max-w-fit border border-secondary p-4"><p class="text-lg">Target</p> <div class="flex flex-col gap-4 lg:flex-row"><div class="flex items-center gap-2"><span class="font-medium">Namespace</span> <!></div> <div class="flex items-center gap-2"><span class="font-medium">Task Queue</span> <!></div> <!></div></div> <div class="w-full xl:w-1/2"><h2>Description</h2> <!></div> <!></div>');function ye(D,e){W(e,!0);let v=oe(e,"editDisabled",3,!1);var C=Pe(),y=i(C),h=i(y),N=i(h),o=i(N,!0);s(N);var k=l(N,2);{let n=c(()=>e.editHref??xe(e.endpoint.id));fe(k,{get href(){return r(n)},get disabled(){return v()},children:(a,$)=>{H();var t=O();q(x=>T(t,x),[()=>B("common.edit")]),g(a,t)},$$slots:{default:!0}})}s(h);var _=l(h,2),d=i(_);s(_),s(y);var p=l(y,2),u=l(i(p),2),f=i(u),w=l(i(f),2);{let n=c(()=>{var a,$,t;return V({namespace:((t=($=(a=e.endpoint.spec)==null?void 0:a.target)==null?void 0:$.worker)==null?void 0:t.namespace)||""})});z(w,{get href(){return r(n)},children:(a,$)=>{var t=$e(),x=i(t,!0);s(t),q(()=>{var Q,b,S;return T(x,((S=(b=(Q=e.endpoint.spec)==null?void 0:Q.target)==null?void 0:b.worker)==null?void 0:S.namespace)||"")}),g(a,t)},$$slots:{default:!0}})}s(f);var m=l(f,2),E=l(i(m),2);{let n=c(()=>B("common.copy-icon-title")),a=c(()=>B("common.copy-success-icon-title")),$=c(()=>{var t,x,Q;return((Q=(x=(t=e.endpoint.spec)==null?void 0:t.target)==null?void 0:x.worker)==null?void 0:Q.taskQueue)||""});me(E,{get copyIconTitle(){return r(n)},get copySuccessIconTitle(){return r(a)},get content(){return r($)},children:(t,x)=>{{let Q=c(()=>{var b,S,P,U,I,j;return _e({namespace:((P=(S=(b=e.endpoint.spec)==null?void 0:b.target)==null?void 0:S.worker)==null?void 0:P.namespace)||"",queue:((j=(I=(U=e.endpoint.spec)==null?void 0:U.target)==null?void 0:I.worker)==null?void 0:j.taskQueue)||""})});z(t,{get href(){return r(Q)},children:(b,S)=>{var P=Qe(),U=i(P,!0);s(P),q(()=>{var I,j,M;return T(U,((M=(j=(I=e.endpoint.spec)==null?void 0:I.target)==null?void 0:j.worker)==null?void 0:M.taskQueue)||"")}),g(b,P)},$$slots:{default:!0}})}},$$slots:{default:!0}})}s(m);var L=l(m,2);ae(L,()=>e.taskQueueStatus??se),s(u),s(p);var F=l(p,2),X=l(i(F),2);{let n=c(()=>{var a;return((a=e.endpoint.spec)==null?void 0:a.descriptionString)||"No description provided"});ge(X,{get content(){return r(n)}})}s(F);var Y=l(F,2);{var Z=n=>{var a=be(),$=l(G(a),2);pe($,20,()=>{var t;return(t=e.endpoint.spec)==null?void 0:t.allowedCallerNamespaces},t=>t,(t,x)=>{{let Q=c(()=>V({namespace:x}));z(t,{get href(){return r(Q)},children:(b,S)=>{H();var P=O();q(()=>T(P,x)),g(b,P)},$$slots:{default:!0}})}}),s($),g(n,a)};K(Y,n=>{var a;(a=e.endpoint.spec)!=null&&a.allowedCallerNamespaces&&n(Z)})}s(C),q(()=>{var n;T(o,((n=e.endpoint.spec)==null?void 0:n.name)||""),T(d,`UUID: ${e.endpoint.id??""}`)}),g(D,C),J()}var Ne=A('<div class="flex flex-col gap-4"><!> <!></div>'),Te=A("<!> <!>",1);function Je(D,e){W(e,!0);const v=()=>ne(le,"$page",C),[C,y]=ie(),h=c(()=>e.data.endpoint);var N=Te(),o=G(N);{let d=c(()=>B("nexus.nexus-endpoint",{id:v().params.id}));de(o,{get title(){return r(d)},get url(){return v().url.href}})}var k=l(o,2);{var _=d=>{var p=Ne(),u=i(p);{let w=c(he);z(u,{get href(){return r(w)},icon:"chevron-left",children:(m,E)=>{H();var L=O();q(F=>T(L,F),[()=>B("nexus.back-to-endpoints")]),g(m,L)},$$slots:{default:!0}})}var f=l(u,2);ye(f,{get endpoint(){return r(h)},taskQueueStatus:m=>{we(m,{get endpoint(){return r(h)}})},$$slots:{taskQueueStatus:!0}}),s(p),g(d,p)};K(k,d=>{r(h)&&d(_)})}g(D,N),J(),y()}export{Je as component};
