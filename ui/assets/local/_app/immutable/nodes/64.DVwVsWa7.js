import"../chunks/CWj6FrbW.js";import{p as G,aS as ee,i as te,c as J,g as r,ax as re,e as g,b as K,s as R,f as D,j as i,r as s,t as A,v as c,h as l,n as H,k as W,d as ae,u as se}from"../chunks/DZ1-1a5q.js";import{s as T}from"../chunks/DxwvfIkW.js";import{i as M}from"../chunks/DnKg3jxh.js";import{p as oe,s as ie,a as ne}from"../chunks/TaaIktnz.js";import{p as le}from"../chunks/BkQmK-SK.js";import{P as de}from"../chunks/BvHFjIFb.js";import{A as ue}from"../chunks/BxPfauF3.js";import{g as ce}from"../chunks/BZRkHlDg.js";import{p as ve}from"../chunks/756y7qLl.js";import{L as z}from"../chunks/C4PjNGEZ.js";import{t as B}from"../chunks/DEjs8ZrU.js";import{e as pe}from"../chunks/DGhzC9On.js";import{B as fe}from"../chunks/BhE7TzK5.js";import{C as me}from"../chunks/DTh3gV-B.js";import{P as ge}from"../chunks/BwX-GM0w.js";import{l as _e,s as xe,a as V,n as he}from"../chunks/BY8nxImM.js";var ke=D('<div class="flex w-full items-center justify-between"><p> </p></div>');function we(F,e){G(e,!0);let v=re(void 0);const S=async o=>{var k,_,d,p,u,f;const w=(d=(_=(k=o==null?void 0:o.spec)===null||k===void 0?void 0:k.target)===null||_===void 0?void 0:_.worker)===null||d===void 0?void 0:d.namespace,m=(f=(u=(p=o==null?void 0:o.spec)===null||p===void 0?void 0:p.target)===null||u===void 0?void 0:u.worker)===null||f===void 0?void 0:f.taskQueue;if(w&&m)try{const{pollers:E}=await ce({namespace:w,queue:m});R(v,E.length,!0)}catch{R(v,void 0)}};ee(()=>{S(e.endpoint)});var y=te(),h=J(y);{var N=o=>{{let k=c(()=>r(v)>0?"success":"warning"),_=c(()=>r(v)?"Task Queue is Active":"Task Queue is Inactive");ue(o,{get intent(){return r(k)},get title(){return r(_)},children:(d,p)=>{var u=ke(),f=i(u),w=i(f);s(f),s(u),A(m=>T(w,`${r(v)??""}
        ${m??""}`),[()=>ve("Worker",r(v))]),g(d,u)},$$slots:{default:!0}})}};M(h,o=>{r(v)!==void 0&&o(N)})}g(F,y),K()}var $e=D("<i> </i>"),Qe=D("<i> </i>"),be=D('<h2>Allowed Caller Namespaces</h2> <div class="flex flex-wrap items-center gap-4"></div>',1),Pe=D('<div class="flex flex-col gap-8"><div class="flex flex-col gap-1"><div class="flex items-center justify-between"><h1 data-testid="namespace-selector-title"> </h1> <!></div> <p> </p></div> <div class="surface-primary max-w-fit border border-secondary p-4"><p class="text-lg">Target</p> <div class="flex flex-col gap-4 lg:flex-row"><div class="flex items-center gap-2"><span class="font-medium">Namespace</span> <!></div> <div class="flex items-center gap-2"><span class="font-medium">Task Queue</span> <!></div> <!></div></div> <div class="w-full xl:w-1/2"><h2>Description</h2> <!></div> <!></div>');function ye(F,e){G(e,!0);let v=oe(e,"editDisabled",3,!1);var S=Pe(),y=i(S),h=i(y),N=i(h),o=i(N,!0);s(N);var k=l(N,2);{let n=c(()=>e.editHref??xe(e.endpoint.id));fe(k,{get href(){return r(n)},get disabled(){return v()},children:(a,$)=>{H();var t=W();A(x=>T(t,x),[()=>B("common.edit")]),g(a,t)},$$slots:{default:!0}})}s(h);var _=l(h,2),d=i(_);s(_),s(y);var p=l(y,2),u=l(i(p),2),f=i(u),w=l(i(f),2);{let n=c(()=>{var a,$,t;return V({namespace:((t=($=(a=e.endpoint.spec)==null?void 0:a.target)==null?void 0:$.worker)==null?void 0:t.namespace)||""})});z(w,{get href(){return r(n)},children:(a,$)=>{var t=$e(),x=i(t,!0);s(t),A(()=>{var Q,b,C;return T(x,((C=(b=(Q=e.endpoint.spec)==null?void 0:Q.target)==null?void 0:b.worker)==null?void 0:C.namespace)||"")}),g(a,t)},$$slots:{default:!0}})}s(f);var m=l(f,2),E=l(i(m),2);{let n=c(()=>B("common.copy-icon-title")),a=c(()=>B("common.copy-success-icon-title")),$=c(()=>{var t,x,Q;return((Q=(x=(t=e.endpoint.spec)==null?void 0:t.target)==null?void 0:x.worker)==null?void 0:Q.taskQueue)||""});me(E,{get copyIconTitle(){return r(n)},get copySuccessIconTitle(){return r(a)},get content(){return r($)},children:(t,x)=>{{let Q=c(()=>{var b,C,P,U,j,q;return _e({namespace:((P=(C=(b=e.endpoint.spec)==null?void 0:b.target)==null?void 0:C.worker)==null?void 0:P.namespace)||"",queue:((q=(j=(U=e.endpoint.spec)==null?void 0:U.target)==null?void 0:j.worker)==null?void 0:q.taskQueue)||""})});z(t,{get href(){return r(Q)},children:(b,C)=>{var P=Qe(),U=i(P,!0);s(P),A(()=>{var j,q,O;return T(U,((O=(q=(j=e.endpoint.spec)==null?void 0:j.target)==null?void 0:q.worker)==null?void 0:O.taskQueue)||"")}),g(b,P)},$$slots:{default:!0}})}},$$slots:{default:!0}})}s(m);var L=l(m,2);ae(L,()=>e.taskQueueStatus??se),s(u),s(p);var I=l(p,2),X=l(i(I),2);{let n=c(()=>{var a;return((a=e.endpoint.spec)==null?void 0:a.descriptionString)||"No description provided"});ge(X,{get content(){return r(n)}})}s(I);var Y=l(I,2);{var Z=n=>{var a=be(),$=l(J(a),2);pe($,20,()=>{var t;return(t=e.endpoint.spec)==null?void 0:t.allowedCallerNamespaces},t=>t,(t,x)=>{{let Q=c(()=>V({namespace:x}));z(t,{get href(){return r(Q)},children:(b,C)=>{H();var P=W();A(()=>T(P,x)),g(b,P)},$$slots:{default:!0}})}}),s($),g(n,a)};M(Y,n=>{var a;(a=e.endpoint.spec)!=null&&a.allowedCallerNamespaces&&n(Z)})}s(S),A(()=>{var n;T(o,((n=e.endpoint.spec)==null?void 0:n.name)||""),T(d,`UUID: ${e.endpoint.id??""}`)}),g(F,S),K()}var Ne=D('<div class="flex flex-col gap-4"><!> <!></div>'),Te=D("<!> <!>",1);function Ke(F,e){G(e,!0);const v=()=>ne(le,"$page",S),[S,y]=ie(),h=c(()=>e.data.endpoint);var N=Te(),o=J(N);{let d=c(()=>B("nexus.nexus-endpoint",{id:v().params.id}));de(o,{get title(){return r(d)},get url(){return v().url.href}})}var k=l(o,2);{var _=d=>{var p=Ne(),u=i(p);{let w=c(he);z(u,{get href(){return r(w)},icon:"chevron-left",children:(m,E)=>{H();var L=W();A(I=>T(L,I),[()=>B("nexus.back-to-endpoints")]),g(m,L)},$$slots:{default:!0}})}var f=l(u,2);ye(f,{get endpoint(){return r(h)},taskQueueStatus:m=>{we(m,{get endpoint(){return r(h)}})},$$slots:{taskQueueStatus:!0}}),s(p),g(d,p)};M(k,d=>{r(h)&&d(_)})}g(F,N),K(),y()}export{Ke as component};
