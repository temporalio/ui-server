import{S as be,b as ve,a as Ie,C as D,D as S,E as P,j as d,g as h,F as W,K,i as mt,A as se,a0 as fe,m as Q,c as j,p as J,q as Y,d as O,k as w,u as X,f as y,L as F,a1 as ie,e as $e,z as pe,h as de,a7 as pt,w as z,x as G,n as ue,s as to,a5 as le,y as Te,o as dt,a6 as Me,a3 as _t,a4 as gt,G as wt,H as ht,I as $t,J as kt}from"../chunks/index.9b814669.js";import{p as qe}from"../chunks/stores.b3fa2f5d.js";import{L as oo}from"../chunks/loading.12386e1b.js";import{f as bt}from"../chunks/index.50cb712d.js";import{T as no}from"../chunks/toggle-switch.03367243.js";import{T as Fe}from"../chunks/tooltip.b4cc0006.js";import{t as $}from"../chunks/translate.c28e5b4f.js";import{a as Se,e as Qe}from"../chunks/event-view.4708bdb2.js";import{w as vt}from"../chunks/singletons.71168d72.js";import{C as ro,w as lo,a as so,f as Je}from"../chunks/workflow-terminate-enabled.f3c3f7f0.js";import{I as Ne}from"../chunks/input.e551982f.js";import{R as ao,a as fo}from"../chunks/radio-input.1e48fd37.js";import{R as ke,A as Ye}from"../chunks/workflow-actions.6f88149c.js";import{r as It,e as Pe,t as ze,i as io}from"../chunks/events.f9b0e7dc.js";import{B as uo}from"../chunks/button.ae039a8f.js";import{C as co}from"../chunks/code-block.4ad69fe3.js";import{B as Be}from"../chunks/badge.d2eb64e3.js";import{I as mo}from"../chunks/icon.951fea46.js";import{d as po}from"../chunks/menu.fbcbce82.js";import{M as _o}from"../chunks/menu-divider.0df31b1e.js";import{M as Re}from"../chunks/modal.a789fa03.js";import{S as go}from"../chunks/split-button.2468cbe1.js";import{w as wo,t as ho,c as $o,s as ko,r as bo,f as vo}from"../chunks/workflow-service.1a9a84ce.js";import{a as Tt}from"../chunks/auth-user.bc5ada22.js";import{c as Io}from"../chunks/core-user.5a57b059.js";import{p as Et,i as To,c as Rt}from"../chunks/data-encoder-config.9e19c57e.js";import{p as Eo}from"../chunks/persist-store.2d9a4d33.js";import{s as Ro}from"../chunks/versions.9f8540e1.js";import{t as Ve}from"../chunks/toaster.672032f0.js";import{r as ge,w as We,i as Co}from"../chunks/workflow-run.240722a8.js";import{W as Ao}from"../chunks/workflow-status.18060cc5.js";import{A as Ct}from"../chunks/alert.cd8ccee7.js";import{C as Ge,g as yo,a as Do,b as So}from"../chunks/pollers-service.604201dd.js";import{C as Po}from"../chunks/index.329e7436.js";import{L as He}from"../chunks/link.b247ece3.js";import{T as Wo,a as Vo,b as Ee}from"../chunks/tab.4ab2c6a2.js";import{w as Mo}from"../chunks/workflows.2e1662d7.js";import{h as qo}from"../chunks/has.0120f47d.js";import{a as Ke,g as he,h as Ce,i as Ae,j as ye,k as De}from"../chunks/route-for.529eece8.js";import{g as Fo,a as No,b as Bo,p as Ho,c as Uo}from"../chunks/task-queue-compatibility.cf5696f8.js";import{c as Lo,d as jo}from"../chunks/decode-payload.cb5e3f32.js";import{g as Oo,a as Qo}from"../chunks/get-codec.c24980dc.js";import{f as Jo}from"../chunks/events-service.33749cfb.js";function Yo(r){let t,e;return t=new no({props:{label:$("common.auto-refresh"),labelPosition:"left",id:"autorefresh",checked:r[1]}}),t.$on("change",function(){mt(r[0])&&r[0].apply(this,arguments)}),{c(){D(t.$$.fragment)},l(o){S(t.$$.fragment,o)},m(o,n){P(t,o,n),e=!0},p(o,n){r=o;const l={};n&2&&(l.checked=r[1]),t.$set(l)},i(o){e||(d(t.$$.fragment,o),e=!0)},o(o){h(t.$$.fragment,o),e=!1},d(o){W(t,o)}}}function zo(r){let t,e;return t=new Fe({props:{bottomLeft:!0,text:$("common.auto-refresh-tooltip",{interval:"15"}),$$slots:{default:[Yo]},$$scope:{ctx:r}}}),{c(){D(t.$$.fragment)},l(o){S(t.$$.fragment,o)},m(o,n){P(t,o,n),e=!0},p(o,[n]){const l={};n&11&&(l.$$scope={dirty:n,ctx:o}),t.$set(l)},i(o){e||(d(t.$$.fragment,o),e=!0)},o(o){h(t.$$.fragment,o),e=!1},d(o){W(t,o)}}}function Go(r,t,e){let o,n;K(r,Se,s=>e(2,n=s));let{onChange:l}=t;return r.$$set=s=>{"onChange"in s&&e(0,l=s.onChange)},r.$$.update=()=>{r.$$.dirty&4&&e(1,o=n==="on")},[l,o,n]}class Ko extends be{constructor(t){super(),ve(this,t,Go,zo,Ie,{onChange:0})}}function Xe(r,t,e){const o=r.slice();return o[6]=t[e],o}function Ze(r){let t,e;return t=new fo({props:{id:"reset-event-"+r[6].id,value:r[6].id,label:r[6].id+" - "+r[6].eventType}}),{c(){D(t.$$.fragment)},l(o){S(t.$$.fragment,o)},m(o,n){P(t,o,n),e=!0},p(o,n){const l={};n&8&&(l.id="reset-event-"+o[6].id),n&8&&(l.value=o[6].id),n&8&&(l.label=o[6].id+" - "+o[6].eventType),t.$set(l)},i(o){e||(d(t.$$.fragment,o),e=!0)},o(o){h(t.$$.fragment,o),e=!1},d(o){W(t,o)}}}function Xo(r){let t,e,o=r[3],n=[];for(let s=0;s<o.length;s+=1)n[s]=Ze(Xe(r,o,s));const l=s=>h(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();t=$e()},l(s){for(let i=0;i<n.length;i+=1)n[i].l(s);t=$e()},m(s,i){for(let f=0;f<n.length;f+=1)n[f].m(s,i);y(s,t,i),e=!0},p(s,i){if(i&8){o=s[3];let f;for(f=0;f<o.length;f+=1){const u=Xe(s,o,f);n[f]?(n[f].p(u,i),d(n[f],1)):(n[f]=Ze(u),n[f].c(),d(n[f],1),n[f].m(t.parentNode,t))}for(pe(),f=o.length;f<n.length;f+=1)l(f);de()}},i(s){if(!e){for(let i=0;i<o.length;i+=1)d(n[i]);e=!0}},o(s){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)h(n[i]);e=!1},d(s){pt(n,s),s&&w(t)}}}function Zo(r){let t,e,o,n,l,s,i,f;e=new ao({props:{name:"reset-event-id",group:r[2],class:"max-h-40 overflow-auto",description:$("workflows.reset-event-radio-group-description"),$$slots:{default:[Xo]},$$scope:{ctx:r}}}),n=new ro({props:{id:"reset-reapply-type-checkbox",checked:r[0]===ke.Signal,label:$("workflows.reset-reapply-type-label")}}),n.$on("change",r[4]);function u(a){r[5](a)}let p={id:"reset-reason",label:$("common.reason")};return r[1]!==void 0&&(p.value=r[1]),s=new Ne({props:p}),se.push(()=>fe(s,"value",u)),{c(){t=Q("div"),D(e.$$.fragment),o=j(),D(n.$$.fragment),l=j(),D(s.$$.fragment),this.h()},l(a){t=J(a,"DIV",{class:!0});var m=Y(t);S(e.$$.fragment,m),o=O(m),S(n.$$.fragment,m),l=O(m),S(s.$$.fragment,m),m.forEach(w),this.h()},h(){X(t,"class","flex w-full flex-col gap-4")},m(a,m){y(a,t,m),P(e,t,null),F(t,o),P(n,t,null),F(t,l),P(s,t,null),f=!0},p(a,[m]){const _={};m&4&&(_.group=a[2]),m&520&&(_.$$scope={dirty:m,ctx:a}),e.$set(_);const b={};m&1&&(b.checked=a[0]===ke.Signal),n.$set(b);const A={};!i&&m&2&&(i=!0,A.value=a[1],ie(()=>i=!1)),s.$set(A)},i(a){f||(d(e.$$.fragment,a),d(n.$$.fragment,a),d(s.$$.fragment,a),f=!0)},o(a){h(e.$$.fragment,a),h(n.$$.fragment,a),h(s.$$.fragment,a),f=!1},d(a){a&&w(t),W(e),W(n),W(s)}}}function xo(r,t,e){let o;K(r,It,u=>e(3,o=u));let{resetReapplyType:n=ke.Signal}=t,{reason:l=""}=t,{eventId:s}=t;const i=u=>{e(0,n=u.detail.checked?ke.Signal:ke.None)};function f(u){l=u,e(1,l)}return r.$$set=u=>{"resetReapplyType"in u&&e(0,n=u.resetReapplyType),"reason"in u&&e(1,l=u.reason),"eventId"in u&&e(2,s=u.eventId)},[n,l,s,o,i,f]}class en extends be{constructor(t){super(),ve(this,t,xo,Zo,Ie,{resetReapplyType:0,reason:1,eventId:2})}}const At=Eo("resetWorkflows",{}),tn=r=>!r.disableWriteActions&&!r.workflowResetDisabled,on=r=>!r.disableWriteActions&&!r.workflowSignalDisabled;function xe(r,t,e){const o=r.slice();return o[65]=t[e].onClick,o[66]=t[e].destructive,o[67]=t[e].label,o[68]=t[e].allowed,o[69]=t[e].testId,o[70]=t[e].tooltip,o}function nn(r){let t,e;return t=new Fe({props:{bottomRight:!0,width:200,text:r[2],hide:r[3],$$slots:{default:[sn]},$$scope:{ctx:r}}}),{c(){D(t.$$.fragment)},l(o){S(t.$$.fragment,o)},m(o,n){P(t,o,n),e=!0},p(o,n){const l={};n[0]&4&&(l.text=o[2]),n[0]&8&&(l.hide=o[3]),n[0]&520|n[2]&2048&&(l.$$scope={dirty:n,ctx:o}),t.$set(l)},i(o){e||(d(t.$$.fragment,o),e=!0)},o(o){h(t.$$.fragment,o),e=!1},d(o){W(t,o)}}}function rn(r){let t,e;return t=new go({props:{id:"workflow-actions",position:"right",disabled:r[18],primaryActionDisabled:!r[19]||r[0],label:$("workflows.request-cancellation"),menuLabel:$("workflows.workflow-actions"),$$slots:{default:[un]},$$scope:{ctx:r}}}),t.$on("click",r[41]),{c(){D(t.$$.fragment)},l(o){S(t.$$.fragment,o)},m(o,n){P(t,o,n),e=!0},p(o,n){const l={};n[0]&262144&&(l.disabled=o[18]),n[0]&524289&&(l.primaryActionDisabled=!o[19]||o[0]),n[0]&131072|n[2]&2048&&(l.$$scope={dirty:n,ctx:o}),t.$set(l)},i(o){e||(d(t.$$.fragment,o),e=!0)},o(o){h(t.$$.fragment,o),e=!1},d(o){W(t,o)}}}function ln(r){let t=$("workflows.reset")+"",e;return{c(){e=z(t)},l(o){e=G(o,t)},m(o,n){y(o,e,n)},p:ue,d(o){o&&w(e)}}}function sn(r){let t,e;return t=new uo({props:{"aria-label":$("workflows.reset"),disabled:!r[3],variant:"primary",$$slots:{default:[ln]},$$scope:{ctx:r}}}),t.$on("click",r[42]),{c(){D(t.$$.fragment)},l(o){S(t.$$.fragment,o)},m(o,n){P(t,o,n),e=!0},p(o,n){const l={};n[0]&8&&(l.disabled=!o[3]),n[2]&2048&&(l.$$scope={dirty:n,ctx:o}),t.$set(l)},i(o){e||(d(t.$$.fragment,o),e=!0)},o(o){h(t.$$.fragment,o),e=!1},d(o){W(t,o)}}}function et(r){let t,e;return t=new _o({}),{c(){D(t.$$.fragment)},l(o){S(t.$$.fragment,o)},m(o,n){P(t,o,n),e=!0},i(o){e||(d(t.$$.fragment,o),e=!0)},o(o){h(t.$$.fragment,o),e=!1},d(o){W(t,o)}}}function an(r){let t=r[67]+"",e;return{c(){e=z(t)},l(o){e=G(o,t)},m(o,n){y(o,e,n)},p(o,n){n[0]&131072&&t!==(t=o[67]+"")&&Te(e,t)},d(o){o&&w(e)}}}function fn(r){let t,e,o;return t=new po({props:{destructive:r[66],disabled:!r[68],"data-testid":r[69],$$slots:{default:[an]},$$scope:{ctx:r}}}),t.$on("click",function(){mt(r[65])&&r[65].apply(this,arguments)}),{c(){D(t.$$.fragment),e=j()},l(n){S(t.$$.fragment,n),e=O(n)},m(n,l){P(t,n,l),y(n,e,l),o=!0},p(n,l){r=n;const s={};l[0]&131072&&(s.destructive=r[66]),l[0]&131072&&(s.disabled=!r[68]),l[0]&131072&&(s["data-testid"]=r[69]),l[0]&131072|l[2]&2048&&(s.$$scope={dirty:l,ctx:r}),t.$set(s)},i(n){o||(d(t.$$.fragment,n),o=!0)},o(n){h(t.$$.fragment,n),o=!1},d(n){W(t,n),n&&w(e)}}}function tt(r){let t,e,o,n=r[66]&&et();return e=new Fe({props:{text:r[70],hide:!r[70],width:200,left:!0,$$slots:{default:[fn]},$$scope:{ctx:r}}}),{c(){n&&n.c(),t=j(),D(e.$$.fragment)},l(l){n&&n.l(l),t=O(l),S(e.$$.fragment,l)},m(l,s){n&&n.m(l,s),y(l,t,s),P(e,l,s),o=!0},p(l,s){l[66]?n?s[0]&131072&&d(n,1):(n=et(),n.c(),d(n,1),n.m(t.parentNode,t)):n&&(pe(),h(n,1,1,()=>{n=null}),de());const i={};s[0]&131072&&(i.text=l[70]),s[0]&131072&&(i.hide=!l[70]),s[0]&131072|s[2]&2048&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){o||(d(n),d(e.$$.fragment,l),o=!0)},o(l){h(n),h(e.$$.fragment,l),o=!1},d(l){n&&n.d(l),l&&w(t),W(e,l)}}}function un(r){let t,e,o=r[17],n=[];for(let s=0;s<o.length;s+=1)n[s]=tt(xe(r,o,s));const l=s=>h(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();t=$e()},l(s){for(let i=0;i<n.length;i+=1)n[i].l(s);t=$e()},m(s,i){for(let f=0;f<n.length;f+=1)n[f].m(s,i);y(s,t,i),e=!0},p(s,i){if(i[0]&131072){o=s[17];let f;for(f=0;f<o.length;f+=1){const u=xe(s,o,f);n[f]?(n[f].p(u,i),d(n[f],1)):(n[f]=tt(u),n[f].c(),d(n[f],1),n[f].m(t.parentNode,t))}for(pe(),f=o.length;f<n.length;f+=1)l(f);de()}},i(s){if(!e){for(let i=0;i<o.length;i+=1)d(n[i]);e=!0}},o(s){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)h(n[i]);e=!1},d(s){pt(n,s),s&&w(t)}}}function cn(r){let t,e=$("workflows.reset-modal-title")+"",o;return{c(){t=Q("h3"),o=z(e),this.h()},l(n){t=J(n,"H3",{slot:!0});var l=Y(t);o=G(l,e),l.forEach(w),this.h()},h(){X(t,"slot","title")},m(n,l){y(n,t,l),F(t,o)},p:ue,d(n){n&&w(t)}}}function mn(r){let t,e,o,n,l;function s(p){r[43](p)}function i(p){r[44](p)}function f(p){r[45](p)}let u={};return r[13]!==void 0&&(u.eventId=r[13]),r[12]!==void 0&&(u.resetReapplyType=r[12]),r[14]!==void 0&&(u.reason=r[14]),t=new en({props:u}),se.push(()=>fe(t,"eventId",s)),se.push(()=>fe(t,"resetReapplyType",i)),se.push(()=>fe(t,"reason",f)),{c(){D(t.$$.fragment)},l(p){S(t.$$.fragment,p)},m(p,a){P(t,p,a),l=!0},p(p,a){const m={};!e&&a[0]&8192&&(e=!0,m.eventId=p[13],ie(()=>e=!1)),!o&&a[0]&4096&&(o=!0,m.resetReapplyType=p[12],ie(()=>o=!1)),!n&&a[0]&16384&&(n=!0,m.reason=p[14],ie(()=>n=!1)),t.$set(m)},i(p){l||(d(t.$$.fragment,p),l=!0)},o(p){h(t.$$.fragment,p),l=!1},d(p){W(t,p)}}}function pn(r){let t,e=$("workflows.cancel-modal-title")+"",o;return{c(){t=Q("h3"),o=z(e),this.h()},l(n){t=J(n,"H3",{slot:!0});var l=Y(t);o=G(l,e),l.forEach(w),this.h()},h(){X(t,"slot","title")},m(n,l){y(n,t,l),F(t,o)},p:ue,d(n){n&&w(t)}}}function dn(r){let t,e=$("workflows.cancel-modal-confirmation")+"",o;return{c(){t=Q("p"),o=z(e)},l(n){t=J(n,"P",{});var l=Y(t);o=G(l,e),l.forEach(w)},m(n,l){y(n,t,l),F(t,o)},p:ue,d(n){n&&w(t)}}}function _n(r){let t,e=$("workflows.terminate-modal-title")+"",o;return{c(){t=Q("h3"),o=z(e),this.h()},l(n){t=J(n,"H3",{slot:!0});var l=Y(t);o=G(l,e),l.forEach(w),this.h()},h(){X(t,"slot","title")},m(n,l){y(n,t,l),F(t,o)},p:ue,d(n){n&&w(t)}}}function gn(r){let t,e,o=$("workflows.terminate-modal-confirmation")+"",n,l,s,i,f;function u(a){r[50](a)}let p={id:"workflow-termination-reason",class:"mt-4",placeholder:$("common.reason-placeholder"),label:$("common.reason-placeholder"),labelHidden:!0};return r[4]!==void 0&&(p.value=r[4]),s=new Ne({props:p}),se.push(()=>fe(s,"value",u)),{c(){t=Q("div"),e=Q("p"),n=z(o),l=j(),D(s.$$.fragment),this.h()},l(a){t=J(a,"DIV",{slot:!0});var m=Y(t);e=J(m,"P",{});var _=Y(e);n=G(_,o),_.forEach(w),l=O(m),S(s.$$.fragment,m),m.forEach(w),this.h()},h(){X(t,"slot","content")},m(a,m){y(a,t,m),F(t,e),F(e,n),F(t,l),P(s,t,null),f=!0},p(a,m){const _={};!i&&m[0]&16&&(i=!0,_.value=a[4],ie(()=>i=!1)),s.$set(_)},i(a){f||(d(s.$$.fragment,a),f=!0)},o(a){h(s.$$.fragment,a),f=!1},d(a){a&&w(t),W(s)}}}function wn(r){let t,e=$("workflows.signal-modal-title")+"",o;return{c(){t=Q("h3"),o=z(e),this.h()},l(n){t=J(n,"H3",{slot:!0});var l=Y(t);o=G(l,e),l.forEach(w),this.h()},h(){X(t,"slot","title")},m(n,l){y(n,t,l),F(t,o)},p:ue,d(n){n&&w(t)}}}function hn(r){let t,e,o,n,l,s,i=$("workflows.signal-payload-input-label")+"",f,u,p,a=$("workflows.signal-payload-input-label-hint")+"",m,_,b,A;function I(T){r[53](T)}let L={id:"signal-name",label:$("workflows.signal-name-label"),required:!0};r[6]!==void 0&&(L.value=r[6]),e=new Ne({props:L}),se.push(()=>fe(e,"value",I));let R={class:"max-h-80 overflow-y-scroll overscroll-contain",content:r[5],editable:!0,copyable:!1};return b=new co({props:R}),r[54](b),b.$on("change",r[26]),{c(){t=Q("div"),D(e.$$.fragment),n=j(),l=Q("div"),s=Q("span"),f=z(i),u=j(),p=Q("span"),m=z(a),_=j(),D(b.$$.fragment),this.h()},l(T){t=J(T,"DIV",{slot:!0,class:!0});var M=Y(t);S(e.$$.fragment,M),n=O(M),l=J(M,"DIV",{});var V=Y(l);s=J(V,"SPAN",{class:!0});var B=Y(s);f=G(B,i),B.forEach(w),u=O(V),p=J(V,"SPAN",{class:!0});var v=Y(p);m=G(v,a),v.forEach(w),_=O(V),S(b.$$.fragment,V),V.forEach(w),M.forEach(w),this.h()},h(){X(s,"class","font-secondary text-sm font-medium"),X(p,"class","font-secondary text-xs font-light italic"),X(t,"slot","content"),X(t,"class","flex flex-col gap-4")},m(T,M){y(T,t,M),P(e,t,null),F(t,n),F(t,l),F(l,s),F(s,f),F(l,u),F(l,p),F(p,m),F(l,_),P(b,l,null),A=!0},p(T,M){const V={};!o&&M[0]&64&&(o=!0,V.value=T[6],ie(()=>o=!1)),e.$set(V);const B={};M[0]&32&&(B.content=T[5]),b.$set(B)},i(T){A||(d(e.$$.fragment,T),d(b.$$.fragment,T),A=!0)},o(T){h(e.$$.fragment,T),h(b.$$.fragment,T),A=!1},d(T){T&&w(t),W(e),r[54](null),W(b)}}}function $n(r){let t,e,o,n,l,s,i,f,u,p,a,m,_,b,A,I,L,R,T;const M=[rn,nn],V=[];function B(c,C){return c[1]?0:1}t=B(r),e=V[t]=M[t](r);function v(c){r[46](c)}function q(c){r[47](c)}let N={id:"reset-confirmation-modal","data-testid":"reset-confirmation-modal",confirmText:$("common.confirm"),cancelText:$("common.cancel"),confirmDisabled:!r[20],$$slots:{content:[mn],title:[cn]},$$scope:{ctx:r}};r[11]!==void 0&&(N.error=r[11]),r[9]!==void 0&&(N.open=r[9]),n=new Re({props:N}),se.push(()=>fe(n,"error",v)),se.push(()=>fe(n,"open",q)),n.$on("confirmModal",r[28]),n.$on("cancelModal",r[23]);function H(c){r[48](c)}function U(c){r[49](c)}let te={id:"cancel-confirmation-modal","data-testid":"cancel-confirmation-modal",confirmText:$("common.confirm"),cancelText:$("common.cancel"),loading:r[15],confirmType:"destructive",$$slots:{content:[dn],title:[pn]},$$scope:{ctx:r}};r[11]!==void 0&&(te.error=r[11]),r[7]!==void 0&&(te.open=r[7]),f=new Re({props:te}),se.push(()=>fe(f,"error",H)),se.push(()=>fe(f,"open",U)),f.$on("confirmModal",r[25]);function Z(c){r[51](c)}function E(c){r[52](c)}let k={id:"terminate-confirmation-modal","data-testid":"terminate-confirmation-modal",confirmText:$("workflows.terminate"),cancelText:$("common.cancel"),confirmType:"destructive",$$slots:{content:[gn],title:[_n]},$$scope:{ctx:r}};r[11]!==void 0&&(k.error=r[11]),r[8]!==void 0&&(k.open=r[8]),m=new Re({props:k}),se.push(()=>fe(m,"error",Z)),se.push(()=>fe(m,"open",E)),m.$on("cancelModal",r[21]),m.$on("confirmModal",r[24]);function ne(c){r[55](c)}function re(c){r[56](c)}let oe={id:"signal-confirmation-modal","data-testid":"signal-confirmation-modal",confirmText:$("common.submit"),cancelText:$("common.cancel"),confirmDisabled:!r[6],$$slots:{content:[hn],title:[wn]},$$scope:{ctx:r}};return r[11]!==void 0&&(oe.error=r[11]),r[10]!==void 0&&(oe.open=r[10]),I=new Re({props:oe}),se.push(()=>fe(I,"error",ne)),se.push(()=>fe(I,"open",re)),I.$on("cancelModal",r[22]),I.$on("confirmModal",r[27]),{c(){e.c(),o=j(),D(n.$$.fragment),i=j(),D(f.$$.fragment),a=j(),D(m.$$.fragment),A=j(),D(I.$$.fragment)},l(c){e.l(c),o=O(c),S(n.$$.fragment,c),i=O(c),S(f.$$.fragment,c),a=O(c),S(m.$$.fragment,c),A=O(c),S(I.$$.fragment,c)},m(c,C){V[t].m(c,C),y(c,o,C),P(n,c,C),y(c,i,C),P(f,c,C),y(c,a,C),P(m,c,C),y(c,A,C),P(I,c,C),T=!0},p(c,C){let ee=t;t=B(c),t===ee?V[t].p(c,C):(pe(),h(V[ee],1,1,()=>{V[ee]=null}),de(),e=V[t],e?e.p(c,C):(e=V[t]=M[t](c),e.c()),d(e,1),e.m(o.parentNode,o));const ae={};C[0]&1048576&&(ae.confirmDisabled=!c[20]),C[0]&28672|C[2]&2048&&(ae.$$scope={dirty:C,ctx:c}),!l&&C[0]&2048&&(l=!0,ae.error=c[11],ie(()=>l=!1)),!s&&C[0]&512&&(s=!0,ae.open=c[9],ie(()=>s=!1)),n.$set(ae);const we={};C[0]&32768&&(we.loading=c[15]),C[2]&2048&&(we.$$scope={dirty:C,ctx:c}),!u&&C[0]&2048&&(u=!0,we.error=c[11],ie(()=>u=!1)),!p&&C[0]&128&&(p=!0,we.open=c[7],ie(()=>p=!1)),f.$set(we);const ce={};C[0]&16|C[2]&2048&&(ce.$$scope={dirty:C,ctx:c}),!_&&C[0]&2048&&(_=!0,ce.error=c[11],ie(()=>_=!1)),!b&&C[0]&256&&(b=!0,ce.open=c[8],ie(()=>b=!1)),m.$set(ce);const me={};C[0]&64&&(me.confirmDisabled=!c[6]),C[0]&65632|C[2]&2048&&(me.$$scope={dirty:C,ctx:c}),!L&&C[0]&2048&&(L=!0,me.error=c[11],ie(()=>L=!1)),!R&&C[0]&1024&&(R=!0,me.open=c[10],ie(()=>R=!1)),I.$set(me)},i(c){T||(d(e),d(n.$$.fragment,c),d(f.$$.fragment,c),d(m.$$.fragment,c),d(I.$$.fragment,c),T=!0)},o(c){h(e),h(n.$$.fragment,c),h(f.$$.fragment,c),h(m.$$.fragment,c),h(I.$$.fragment,c),T=!1},d(c){V[t].d(c),c&&w(o),W(n,c),c&&w(i),W(f,c),c&&w(a),W(m,c),c&&w(A),W(I,c)}}}function kn(r,t,e){let o,n,l,s,i,f,u,p,a,m,_,b=ue,A=()=>(b(),b=to(ee,g=>e(20,_=g)),ee),I,L,R,T;K(r,It,g=>e(39,p=g)),K(r,ge,g=>e(57,a=g)),K(r,Tt,g=>e(58,m=g)),K(r,Et,g=>e(59,I=g)),K(r,To,g=>e(60,L=g)),K(r,Rt,g=>e(61,R=g)),K(r,qe,g=>e(40,T=g)),r.$$.on_destroy.push(()=>b());var M,V,B;let{workflow:v}=t,{namespace:q}=t,{cancelInProgress:N}=t,{isRunning:H}=t;const U=()=>R?'{"metadata": {"encoding": ""}, "data": ""}':"";let te="",Z=U(),E="",k=!1,ne=!1,re=!1,oe=!1,c="",C=ke.Signal,ee=vt();A();let ae,we=!1,ce,me;const Dt=()=>{e(4,te="")},Ue=()=>{e(5,Z=U()),e(6,E=""),me==null||me.resetView(Z)},Le=()=>{e(12,C=ke.Signal),le(ee,_=void 0,_),e(14,ae=void 0)},St=async()=>{e(8,ne=!1),le(ge,a=Date.now(),a),Ve.push({id:"workflow-termination-success-toast",message:$("workflows.terminate-success")})},Pt=g=>{var x;e(4,te=""),e(11,c=(x=g==null?void 0:g.message)!==null&&x!==void 0?x:$("common.unknown-error"))},Wt=()=>{e(11,c=""),v.canBeTerminated&&ho({workflow:v,namespace:q,reason:Je({action:Ye.Terminate,reason:te,email:m.email}),identity:m.email}).then(St).catch(Pt)},Vt=async()=>{var g;e(15,we=!0),e(11,c="");try{await $o({namespace:q,workflowId:v.id,runId:v.runId}),e(7,k=!1),e(15,we=!1),le(ge,a=Date.now(),a),Ve.push({id:"workflow-cancelation-success-toast",message:$("workflows.cancel-success")})}catch(x){e(11,c=(g=x==null?void 0:x.message)!==null&&g!==void 0?g:$("common.unknown-error"))}},Mt=g=>{e(5,Z=g.detail)},qt=async()=>{var g;e(11,c="");try{await ko({namespace:q,workflowId:v.id,runId:v.runId,signalInput:Z,signalName:E,settings:{...T.data.settings,codec:{endpoint:R,includeCredentials:L,passAccessToken:I}},accessToken:m.accessToken}),e(10,oe=!1),le(ge,a=Date.now(),a),Ve.push({message:$("workflows.signal-success"),id:"workflow-signal-success-toast"}),Ue()}catch(x){e(11,c=(g=x==null?void 0:x.message)!==null&&g!==void 0?g:$("common.unknown-error"))}},Ft=async()=>{var g;e(11,c="");try{const x=await bo({namespace:q,workflowId:v.id,runId:v.runId,eventId:_,reason:Je({action:Ye.Reset,reason:ae,email:m.email}),resetReapplyType:C});x&&x.runId&&At.update(eo=>({...eo,[v.runId]:x.runId})),e(9,re=!1),le(ge,a=Date.now(),a)}catch(x){e(11,c=(g=x==null?void 0:x.message)!==null&&g!==void 0?g:$("common.unknown-error"))}Le()};let je,Oe=Io();K(r,Oe,g=>e(38,u=g));const Nt=()=>e(7,k=!0),Bt=()=>e(9,re=!0);function Ht(g){ee=g,A(e(13,ee))}function Ut(g){C=g,e(12,C)}function Lt(g){ae=g,e(14,ae)}function jt(g){c=g,e(11,c)}function Ot(g){re=g,e(9,re),e(3,i),e(2,ce),e(36,n),e(35,l),e(37,s),e(30,v),e(34,B),e(39,p),e(32,M),e(33,V),e(40,T)}function Qt(g){c=g,e(11,c)}function Jt(g){k=g,e(7,k)}function Yt(g){te=g,e(4,te)}function zt(g){c=g,e(11,c)}function Gt(g){ne=g,e(8,ne),e(3,i),e(2,ce),e(36,n),e(35,l),e(37,s),e(30,v),e(34,B),e(39,p),e(32,M),e(33,V),e(40,T)}function Kt(g){E=g,e(6,E)}function Xt(g){se[g?"unshift":"push"](()=>{me=g,e(16,me)})}function Zt(g){c=g,e(11,c)}function xt(g){oe=g,e(10,oe),e(3,i),e(2,ce),e(36,n),e(35,l),e(37,s),e(30,v),e(34,B),e(39,p),e(32,M),e(33,V),e(40,T)}return r.$$set=g=>{"workflow"in g&&e(30,v=g.workflow),"namespace"in g&&e(31,q=g.namespace),"cancelInProgress"in g&&e(0,N=g.cancelInProgress),"isRunning"in g&&e(1,H=g.isRunning)},r.$$.update=()=>{r.$$.dirty[1]&512&&e(19,o=lo(T.data.settings)),r.$$.dirty[1]&512&&e(36,n=on(T.data.settings)),r.$$.dirty[1]&512&&e(35,l=so(T.data.settings)),r.$$.dirty[1]&512&&e(37,s=tn(T.data.settings)),r.$$.dirty[0]&1073741824|r.$$.dirty[1]&326&&(s?s&&(e(32,M=v==null?void 0:v.pendingChildren)===null||M===void 0?void 0:M.length)>0?e(2,ce=$("workflows.reset-disabled-pending-children")):s&&(e(33,V=v==null?void 0:v.pendingChildren)===null||V===void 0?void 0:V.length)===0&&p.length===0&&e(2,ce=$("workflows.reset-disabled-no-events")):e(2,ce=$("workflows.reset-disabled"))),r.$$.dirty[0]&1073741824|r.$$.dirty[1]&328&&e(3,i=s&&(e(34,B=v==null?void 0:v.pendingChildren)===null||B===void 0?void 0:B.length)===0&&p.length>0),r.$$.dirty[0]&12|r.$$.dirty[1]&48&&e(17,je=[{label:$("workflows.reset"),onClick:()=>e(9,re=!0),testId:"reset-button",allowed:i,tooltip:i?"":ce},{label:$("workflows.signal"),onClick:()=>e(10,oe=!0),testId:"signal-button",allowed:n,tooltip:n?"":$("workflows.signal-disabled")},{label:$("workflows.terminate"),onClick:()=>e(8,ne=!0),testId:"terminate-button",allowed:l,destructive:!0,tooltip:l?"":$("workflows.terminate-disabled")}]),r.$$.dirty[1]&129&&e(18,f=u.namespaceWriteDisabled(q)||!wo(Ro))},[N,H,ce,i,te,Z,E,k,ne,re,oe,c,C,ee,ae,we,me,je,f,o,_,Dt,Ue,Le,Wt,Vt,Mt,qt,Ft,Oe,v,q,M,V,B,l,n,s,u,p,T,Nt,Bt,Ht,Ut,Lt,jt,Ot,Qt,Jt,Yt,zt,Gt,Kt,Xt,Zt,xt]}class bn extends be{constructor(t){super(),ve(this,t,kn,$n,Ie,{workflow:30,namespace:31,cancelInProgress:0,isRunning:1},null,[-1,-1,-1])}}const vn=(r,t)=>{var n;const e=r==="Running",o=(n=t==null?void 0:t.end)==null?void 0:n.some(l=>(l==null?void 0:l.eventType)==="WorkflowExecutionCancelRequested");return e&&o},ot=r=>{const t=r==null?void 0:r.indexOf("?");return t>-1?r.slice(0,t):r},_e=(r,t,e=!1)=>{const o=ot(r).split("/"),n=ot(t).split("/");if(e&&o.length!==n.length)return!1;for(let l=0;l<o.length;l++){const s=o[l],i=n[l];if(s!==i)return!1}return!0};function In(r){let t=(r[14]?$("common.workflows"):$("workflows.back-to-workflows"))+"",e;return{c(){e=z(t)},l(o){e=G(o,t)},m(o,n){y(o,e,n)},p(o,n){n&16384&&t!==(t=(o[14]?$("common.workflows"):$("workflows.back-to-workflows"))+"")&&Te(e,t)},d(o){o&&w(e)}}}function nt(r){let t,e;return t=new He({props:{href:he({...r[13]}),"data-testid":"back-to-workflow-execution",icon:"chevron-left",$$slots:{default:[Tn]},$$scope:{ctx:r}}}),{c(){D(t.$$.fragment)},l(o){S(t.$$.fragment,o)},m(o,n){P(t,o,n),e=!0},p(o,n){const l={};n&8192&&(l.href=he({...o[13]})),n&268435460&&(l.$$scope={dirty:n,ctx:o}),t.$set(l)},i(o){e||(d(t.$$.fragment,o),e=!0)},o(o){h(t.$$.fragment,o),e=!1},d(o){W(t,o)}}}function Tn(r){var o;let t=((o=r[2])==null?void 0:o.runId)+"",e;return{c(){e=z(t)},l(n){e=G(n,t)},m(n,l){y(n,e,l)},p(n,l){var s;l&4&&t!==(t=((s=n[2])==null?void 0:s.runId)+"")&&Te(e,t)},d(n){n&&w(e)}}}function rt(r){let t,e,o=$("workers.last-used-version")+"",n,l,s,i,f,u=$("workers.next-version")+"",p,a,m;return l=new Ge({props:{defaultVersion:r[1]===r[7]||r[1]===r[8],active:r[1]===r[8],buildId:r[1],$$slots:{"default-worker":[Rn],"overall-default-worker":[En]},$$scope:{ctx:r}}}),a=new Ge({props:{defaultVersion:!!r[7],active:r[7]===r[8],buildId:r[7],$$slots:{"default-worker":[An],"overall-default-worker":[Cn]},$$scope:{ctx:r}}}),{c(){t=Q("p"),e=Q("span"),n=z(o),D(l.$$.fragment),s=j(),i=Q("p"),f=Q("span"),p=z(u),D(a.$$.fragment),this.h()},l(_){t=J(_,"P",{class:!0});var b=Y(t);e=J(b,"SPAN",{});var A=Y(e);n=G(A,o),A.forEach(w),S(l.$$.fragment,b),b.forEach(w),s=O(_),i=J(_,"P",{class:!0});var I=Y(i);f=J(I,"SPAN",{});var L=Y(f);p=G(L,u),L.forEach(w),S(a.$$.fragment,I),I.forEach(w),this.h()},h(){X(t,"class","flex items-center gap-1"),X(i,"class","flex items-center gap-1")},m(_,b){y(_,t,b),F(t,e),F(e,n),P(l,t,null),y(_,s,b),y(_,i,b),F(i,f),F(f,p),P(a,i,null),m=!0},p(_,b){const A={};b&386&&(A.defaultVersion=_[1]===_[7]||_[1]===_[8]),b&258&&(A.active=_[1]===_[8]),b&2&&(A.buildId=_[1]),b&268435714&&(A.$$scope={dirty:b,ctx:_}),l.$set(A);const I={};b&128&&(I.defaultVersion=!!_[7]),b&384&&(I.active=_[7]===_[8]),b&128&&(I.buildId=_[7]),b&268435840&&(I.$$scope={dirty:b,ctx:_}),a.$set(I)},i(_){m||(d(l.$$.fragment,_),d(a.$$.fragment,_),m=!0)},o(_){h(l.$$.fragment,_),h(a.$$.fragment,_),m=!1},d(_){_&&w(t),W(l),_&&w(s),_&&w(i),W(a)}}}function lt(r){let t=$("workers.overall")+"",e;return{c(){e=z(t)},l(o){e=G(o,t)},m(o,n){y(o,e,n)},p:ue,d(o){o&&w(e)}}}function En(r){let t,e=r[1]===r[8]&&lt();return{c(){e&&e.c(),t=$e()},l(o){e&&e.l(o),t=$e()},m(o,n){e&&e.m(o,n),y(o,t,n)},p(o,n){o[1]===o[8]?e?e.p(o,n):(e=lt(),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(o){e&&e.d(o),o&&w(t)}}}function Rn(r){let t=$("workers.default")+"",e;return{c(){e=z(t)},l(o){e=G(o,t)},m(o,n){y(o,e,n)},p:ue,d(o){o&&w(e)}}}function st(r){let t=$("workers.overall")+"",e;return{c(){e=z(t)},l(o){e=G(o,t)},m(o,n){y(o,e,n)},p:ue,d(o){o&&w(e)}}}function Cn(r){let t,e=r[7]===r[8]&&st();return{c(){e&&e.c(),t=$e()},l(o){e&&e.l(o),t=$e()},m(o,n){e&&e.m(o,n),y(o,t,n)},p(o,n){o[7]===o[8]?e?e.p(o,n):(e=st(),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(o){e&&e.d(o),o&&w(t)}}}function An(r){let t=$("workers.default")+"",e;return{c(){e=z(t)},l(o){e=G(o,t)},m(o,n){y(o,e,n)},p:ue,d(o){o&&w(e)}}}function at(r){let t,e;return t=new Ko({props:{onChange:r[17]}}),{c(){D(t.$$.fragment)},l(o){S(t.$$.fragment,o)},m(o,n){P(t,o,n),e=!0},p:ue,i(o){e||(d(t.$$.fragment,o),e=!0)},o(o){h(t.$$.fragment,o),e=!1},d(o){W(t,o)}}}function ft(r){let t,e,o,n;return e=new Ct({props:{bold:!0,icon:"info",intent:"info",title:$("workflows.cancel-request-sent"),$$slots:{default:[yn]},$$scope:{ctx:r}}}),{c(){t=Q("div"),D(e.$$.fragment),this.h()},l(l){t=J(l,"DIV",{class:!0});var s=Y(t);S(e.$$.fragment,s),s.forEach(w),this.h()},h(){X(t,"class","mb-4")},m(l,s){y(l,t,s),P(e,t,null),n=!0},p(l,s){const i={};s&268435456&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){n||(d(e.$$.fragment,l),o||_t(()=>{o=gt(t,bt,{duration:200,delay:100}),o.start()}),n=!0)},o(l){h(e.$$.fragment,l),n=!1},d(l){l&&w(t),W(e)}}}function yn(r){let t=$("workflows.cancel-request-sent-description")+"",e;return{c(){e=z(t)},l(o){e=G(o,t)},m(o,n){y(o,e,n)},p:ue,d(o){o&&w(e)}}}function it(r){let t,e,o,n;return e=new Ct({props:{bold:!0,icon:"info",intent:"info","data-testid":"workflow-reset-alert",title:$("workflows.reset-success-alert-title"),$$slots:{default:[Sn]},$$scope:{ctx:r}}}),{c(){t=Q("div"),D(e.$$.fragment),this.h()},l(l){t=J(l,"DIV",{class:!0});var s=Y(t);S(e.$$.fragment,s),s.forEach(w),this.h()},h(){X(t,"class","mb-4")},m(l,s){y(l,t,s),P(e,t,null),n=!0},p(l,s){const i={};s&268435505&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){n||(d(e.$$.fragment,l),o||_t(()=>{o=gt(t,bt,{duration:200,delay:100}),o.start()}),n=!0)},o(l){h(e.$$.fragment,l),n=!1},d(l){l&&w(t),W(e)}}}function Dn(r){let t;return{c(){t=z("here")},l(e){t=G(e,"here")},m(e,o){y(e,t,o)},d(e){e&&w(t)}}}function Sn(r){var l,s,i,f;let t,e,o,n;return e=new He({props:{href:he({namespace:r[0],workflow:(s=(l=r[4])==null?void 0:l.workflow)==null?void 0:s.id,run:r[5][(f=(i=r[4])==null?void 0:i.workflow)==null?void 0:f.runId]}),$$slots:{default:[Dn]},$$scope:{ctx:r}}}),{c(){t=z("You can find the resulting Workflow Execution "),D(e.$$.fragment),o=z(".")},l(u){t=G(u,"You can find the resulting Workflow Execution "),S(e.$$.fragment,u),o=G(u,".")},m(u,p){y(u,t,p),P(e,u,p),y(u,o,p),n=!0},p(u,p){var m,_,b,A;const a={};p&49&&(a.href=he({namespace:u[0],workflow:(_=(m=u[4])==null?void 0:m.workflow)==null?void 0:_.id,run:u[5][(A=(b=u[4])==null?void 0:b.workflow)==null?void 0:A.runId]})),p&268435456&&(a.$$scope={dirty:p,ctx:u}),e.$set(a)},i(u){n||(d(e.$$.fragment,u),n=!0)},o(u){h(e.$$.fragment,u),n=!1},d(u){u&&w(t),W(e,u),u&&w(o)}}}function Pn(r){var o;let t=((o=r[2])==null?void 0:o.historyEvents)+"",e;return{c(){e=z(t)},l(n){e=G(n,t)},m(n,l){y(n,e,l)},p(n,l){var s;l&4&&t!==(t=((s=n[2])==null?void 0:s.historyEvents)+"")&&Te(e,t)},d(n){n&&w(e)}}}function Wn(r){let t,e;return t=new Be({props:{type:"blue",class:"px-2 py-0",$$slots:{default:[Pn]},$$scope:{ctx:r}}}),{c(){D(t.$$.fragment)},l(o){S(t.$$.fragment,o)},m(o,n){P(t,o,n),e=!0},p(o,n){const l={};n&268435460&&(l.$$scope={dirty:n,ctx:o}),t.$set(l)},i(o){e||(d(t.$$.fragment,o),e=!0)},o(o){h(t.$$.fragment,o),e=!1},d(o){W(t,o)}}}function Vn(r){var o,n;let t=((n=(o=r[15])==null?void 0:o.pollers)==null?void 0:n.length)+"",e;return{c(){e=z(t)},l(l){e=G(l,t)},m(l,s){y(l,e,s)},p(l,s){var i,f;s&32768&&t!==(t=((f=(i=l[15])==null?void 0:i.pollers)==null?void 0:f.length)+"")&&Te(e,t)},d(l){l&&w(e)}}}function Mn(r){let t,e;return t=new Be({props:{type:"blue",class:"px-2 py-0",$$slots:{default:[Vn]},$$scope:{ctx:r}}}),{c(){D(t.$$.fragment)},l(o){S(t.$$.fragment,o)},m(o,n){P(t,o,n),e=!0},p(o,n){const l={};n&268468224&&(l.$$scope={dirty:n,ctx:o}),t.$set(l)},i(o){e||(d(t.$$.fragment,o),e=!0)},o(o){h(t.$$.fragment,o),e=!1},d(o){W(t,o)}}}function ut(r){let t,e;return t=new mo({props:{name:"canceled",width:20,height:20}}),{c(){D(t.$$.fragment)},l(o){S(t.$$.fragment,o)},m(o,n){P(t,o,n),e=!0},i(o){e||(d(t.$$.fragment,o),e=!0)},o(o){h(t.$$.fragment,o),e=!1},d(o){W(t,o)}}}function qn(r){var s,i;let t,e=((i=(s=r[2])==null?void 0:s.pendingActivities)==null?void 0:i.length)+"",o,n,l=r[12]&&ut();return{c(){l&&l.c(),t=j(),o=z(e)},l(f){l&&l.l(f),t=O(f),o=G(f,e)},m(f,u){l&&l.m(f,u),y(f,t,u),y(f,o,u),n=!0},p(f,u){var p,a;f[12]?l?u&4096&&d(l,1):(l=ut(),l.c(),d(l,1),l.m(t.parentNode,t)):l&&(pe(),h(l,1,1,()=>{l=null}),de()),(!n||u&4)&&e!==(e=((a=(p=f[2])==null?void 0:p.pendingActivities)==null?void 0:a.length)+"")&&Te(o,e)},i(f){n||(d(l),n=!0)},o(f){h(l),n=!1},d(f){l&&l.d(f),f&&w(t),f&&w(o)}}}function Fn(r){let t,e;return t=new Be({props:{type:r[12]?"warning":"blue",class:"px-2 py-0",$$slots:{default:[qn]},$$scope:{ctx:r}}}),{c(){D(t.$$.fragment)},l(o){S(t.$$.fragment,o)},m(o,n){P(t,o,n),e=!0},p(o,n){const l={};n&4096&&(l.type=o[12]?"warning":"blue"),n&268439556&&(l.$$scope={dirty:n,ctx:o}),t.$set(l)},i(o){e||(d(t.$$.fragment,o),e=!0)},o(o){h(t.$$.fragment,o),e=!1},d(o){W(t,o)}}}function Nn(r){let t,e,o,n,l,s,i,f,u,p;return t=new Ee({props:{label:$("workflows.history-tab"),id:"history-tab",href:he({...r[13]}),active:_e(r[6].url.pathname,he({...r[13]})),$$slots:{default:[Wn]},$$scope:{ctx:r}}}),o=new Ee({props:{label:$("workflows.workers-tab"),id:"workers-tab",href:Ce(r[13]),active:_e(r[6].url.pathname,Ce(r[13])),$$slots:{default:[Mn]},$$scope:{ctx:r}}}),l=new Ee({props:{label:$("workflows.pending-activities-tab"),id:"pending-activities-tab",href:Ae(r[13]),active:_e(r[6].url.pathname,Ae(r[13])),$$slots:{default:[Fn]},$$scope:{ctx:r}}}),i=new Ee({props:{label:$("workflows.call-stack-tab"),id:"call-stack-tab",href:ye(r[13]),active:_e(r[6].url.pathname,ye(r[13]))}}),u=new Ee({props:{label:$("workflows.queries-tab"),id:"queries-tab",href:De(r[13]),active:_e(r[6].url.pathname,De(r[13]))}}),{c(){D(t.$$.fragment),e=j(),D(o.$$.fragment),n=j(),D(l.$$.fragment),s=j(),D(i.$$.fragment),f=j(),D(u.$$.fragment)},l(a){S(t.$$.fragment,a),e=O(a),S(o.$$.fragment,a),n=O(a),S(l.$$.fragment,a),s=O(a),S(i.$$.fragment,a),f=O(a),S(u.$$.fragment,a)},m(a,m){P(t,a,m),y(a,e,m),P(o,a,m),y(a,n,m),P(l,a,m),y(a,s,m),P(i,a,m),y(a,f,m),P(u,a,m),p=!0},p(a,m){const _={};m&8192&&(_.href=he({...a[13]})),m&8256&&(_.active=_e(a[6].url.pathname,he({...a[13]}))),m&268435460&&(_.$$scope={dirty:m,ctx:a}),t.$set(_);const b={};m&8192&&(b.href=Ce(a[13])),m&8256&&(b.active=_e(a[6].url.pathname,Ce(a[13]))),m&268468224&&(b.$$scope={dirty:m,ctx:a}),o.$set(b);const A={};m&8192&&(A.href=Ae(a[13])),m&8256&&(A.active=_e(a[6].url.pathname,Ae(a[13]))),m&268439556&&(A.$$scope={dirty:m,ctx:a}),l.$set(A);const I={};m&8192&&(I.href=ye(a[13])),m&8256&&(I.active=_e(a[6].url.pathname,ye(a[13]))),i.$set(I);const L={};m&8192&&(L.href=De(a[13])),m&8256&&(L.active=_e(a[6].url.pathname,De(a[13]))),u.$set(L)},i(a){p||(d(t.$$.fragment,a),d(o.$$.fragment,a),d(l.$$.fragment,a),d(i.$$.fragment,a),d(u.$$.fragment,a),p=!0)},o(a){h(t.$$.fragment,a),h(o.$$.fragment,a),h(l.$$.fragment,a),h(i.$$.fragment,a),h(u.$$.fragment,a),p=!1},d(a){W(t,a),a&&w(e),W(o,a),a&&w(n),W(l,a),a&&w(s),W(i,a),a&&w(f),W(u,a)}}}function Bn(r){let t,e;return t=new Vo({props:{class:"flex flex-wrap gap-6",label:"workflow detail",$$slots:{default:[Nn]},$$scope:{ctx:r}}}),{c(){D(t.$$.fragment)},l(o){S(t.$$.fragment,o)},m(o,n){P(t,o,n),e=!0},p(o,n){const l={};n&268480580&&(l.$$scope={dirty:n,ctx:o}),t.$set(l)},i(o){e||(d(t.$$.fragment,o),e=!0)},o(o){h(t.$$.fragment,o),e=!1},d(o){W(t,o)}}}function Hn(r){var te,Z;let t,e,o,n,l,s,i,f,u,p,a,m,_,b,A,I,L,R,T,M,V,B;o=new He({props:{href:`${Ke({namespace:r[0]})}?${r[16]}`,"data-testid":"back-to-workflows",icon:"chevron-left",$$slots:{default:[In]},$$scope:{ctx:r}}});let v=r[14]&&nt(r);u=new Po({props:{copyIconTitle:$("common.copy-icon-title"),copySuccessIconTitle:$("common.copy-success-icon-title"),content:(te=r[2])==null?void 0:te.id,clickAllToCopy:!0,"container-class":"w-full",class:"overflow-hidden text-ellipsis"}}),m=new Ao({props:{status:(Z=r[2])==null?void 0:Z.status}});let q=r[9]&&rt(r),N=r[3]&&at(r);L=new bn({props:{isRunning:r[3],cancelInProgress:r[11],workflow:r[2],namespace:r[0]}});let H=r[11]&&ft(r),U=r[10]&&it(r);return V=new Wo({props:{$$slots:{default:[Bn]},$$scope:{ctx:r}}}),{c(){t=Q("header"),e=Q("div"),D(o.$$.fragment),n=j(),v&&v.c(),l=j(),s=Q("div"),i=Q("div"),f=Q("h1"),D(u.$$.fragment),p=j(),a=Q("div"),D(m.$$.fragment),_=j(),q&&q.c(),b=j(),A=Q("div"),N&&N.c(),I=j(),D(L.$$.fragment),R=j(),H&&H.c(),T=j(),U&&U.c(),M=j(),D(V.$$.fragment),this.h()},l(E){t=J(E,"HEADER",{class:!0});var k=Y(t);e=J(k,"DIV",{class:!0});var ne=Y(e);S(o.$$.fragment,ne),n=O(ne),v&&v.l(ne),ne.forEach(w),l=O(k),s=J(k,"DIV",{class:!0});var re=Y(s);i=J(re,"DIV",{class:!0});var oe=Y(i);f=J(oe,"H1",{"data-testid":!0,class:!0});var c=Y(f);S(u.$$.fragment,c),c.forEach(w),p=O(oe),a=J(oe,"DIV",{class:!0});var C=Y(a);S(m.$$.fragment,C),_=O(C),q&&q.l(C),C.forEach(w),oe.forEach(w),b=O(re),A=J(re,"DIV",{class:!0});var ee=Y(A);N&&N.l(ee),I=O(ee),S(L.$$.fragment,ee),ee.forEach(w),re.forEach(w),R=O(k),H&&H.l(k),T=O(k),U&&U.l(k),M=O(k),S(V.$$.fragment,k),k.forEach(w),this.h()},h(){X(e,"class","mb-4 block"),X(f,"data-testid","workflow-id-heading"),X(f,"class","overflow-hidden text-2xl font-medium"),X(a,"class","flex flex-wrap items-center gap-4"),X(i,"class","flex w-full flex-col justify-start gap-4 overflow-hidden whitespace-nowrap lg:w-auto"),X(A,"class","flex flex-col items-center justify-center gap-4 whitespace-nowrap sm:flex-row lg:justify-end"),X(s,"class","mb-8 flex w-full flex-col items-center justify-between gap-4 lg:flex-row"),X(t,"class","mb-4 flex flex-col gap-1")},m(E,k){y(E,t,k),F(t,e),P(o,e,null),F(e,n),v&&v.m(e,null),F(t,l),F(t,s),F(s,i),F(i,f),P(u,f,null),F(i,p),F(i,a),P(m,a,null),F(a,_),q&&q.m(a,null),F(s,b),F(s,A),N&&N.m(A,null),F(A,I),P(L,A,null),F(t,R),H&&H.m(t,null),F(t,T),U&&U.m(t,null),F(t,M),P(V,t,null),B=!0},p(E,[k]){var ee,ae;const ne={};k&65537&&(ne.href=`${Ke({namespace:E[0]})}?${E[16]}`),k&268451840&&(ne.$$scope={dirty:k,ctx:E}),o.$set(ne),E[14]?v?(v.p(E,k),k&16384&&d(v,1)):(v=nt(E),v.c(),d(v,1),v.m(e,null)):v&&(pe(),h(v,1,1,()=>{v=null}),de());const re={};k&4&&(re.content=(ee=E[2])==null?void 0:ee.id),u.$set(re);const oe={};k&4&&(oe.status=(ae=E[2])==null?void 0:ae.status),m.$set(oe),E[9]?q?(q.p(E,k),k&512&&d(q,1)):(q=rt(E),q.c(),d(q,1),q.m(a,null)):q&&(pe(),h(q,1,1,()=>{q=null}),de()),E[3]?N?(N.p(E,k),k&8&&d(N,1)):(N=at(E),N.c(),d(N,1),N.m(A,I)):N&&(pe(),h(N,1,1,()=>{N=null}),de());const c={};k&8&&(c.isRunning=E[3]),k&2048&&(c.cancelInProgress=E[11]),k&4&&(c.workflow=E[2]),k&1&&(c.namespace=E[0]),L.$set(c),E[11]?H?(H.p(E,k),k&2048&&d(H,1)):(H=ft(E),H.c(),d(H,1),H.m(t,T)):H&&(pe(),h(H,1,1,()=>{H=null}),de()),E[10]?U?(U.p(E,k),k&1024&&d(U,1)):(U=it(E),U.c(),d(U,1),U.m(t,M)):U&&(pe(),h(U,1,1,()=>{U=null}),de());const C={};k&268480580&&(C.$$scope={dirty:k,ctx:E}),V.$set(C)},i(E){B||(d(o.$$.fragment,E),d(v),d(u.$$.fragment,E),d(m.$$.fragment,E),d(q),d(N),d(L.$$.fragment,E),d(H),d(U),d(V.$$.fragment,E),B=!0)},o(E){h(o.$$.fragment,E),h(v),h(u.$$.fragment,E),h(m.$$.fragment,E),h(q),h(N),h(L.$$.fragment,E),h(H),h(U),h(V.$$.fragment,E),B=!1},d(E){E&&w(t),W(o),v&&v.d(),W(u),W(m),q&&q.d(),N&&N.d(),W(L),H&&H.d(),U&&U.d(),W(V)}}}const ct=15e3;function Un(r,t,e){let o,n,l,s,i,f,u,p,a,m,_,b,A,I,L,R,T,M,V,B;K(r,We,k=>e(4,I=k)),K(r,At,k=>e(5,L=k)),K(r,Pe,k=>e(25,R=k)),K(r,ge,k=>e(26,T=k)),K(r,Se,k=>e(27,M=k)),K(r,qe,k=>e(6,V=k)),K(r,Mo,k=>e(16,B=k));var v,q,N,H,U;let{namespace:te}=t,Z;dt(()=>{f&&M==="on"&&(clearInterval(Z),e(23,Z=setInterval(()=>le(ge,T=Date.now(),T),ct)))});const E=()=>{M==="on"?(le(Se,M="off",M),clearInterval(Z)):(le(ge,T=Date.now(),T),le(Se,M="on",M),clearInterval(Z),e(23,Z=setInterval(()=>le(ge,T=Date.now(),T),ct)))};return Me(()=>{clearInterval(Z)}),r.$$set=k=>{"namespace"in k&&e(0,te=k.namespace)},r.$$.update=()=>{r.$$.dirty&16&&e(2,{workflow:o,workers:n,compatibility:l}=I,o,(e(15,n),e(4,I)),(e(24,l),e(4,I))),r.$$.dirty&64&&e(14,s=V.params.id),r.$$.dirty&5&&e(13,i={namespace:te,workflow:o==null?void 0:o.id,run:o==null?void 0:o.runId}),r.$$.dirty&262160&&e(3,f=e(18,v=I==null?void 0:I.workflow)===null||v===void 0?void 0:v.isRunning),r.$$.dirty&524304&&e(12,u=["Terminated","TimedOut","Canceled"].includes(e(19,q=I.workflow)===null||q===void 0?void 0:q.status)),r.$$.dirty&8388616&&(f||clearInterval(Z)),r.$$.dirty&34603024&&e(11,p=vn(e(20,N=I==null?void 0:I.workflow)===null||N===void 0?void 0:N.status,R)),r.$$.dirty&2097200&&e(10,a=qo(L,e(21,H=I==null?void 0:I.workflow)===null||H===void 0?void 0:H.runId)),r.$$.dirty&4194308&&e(9,m=e(22,U=o==null?void 0:o.mostRecentWorkerVersionStamp)===null||U===void 0?void 0:U.useVersioning),r.$$.dirty&4&&e(1,_=Fo(o)),r.$$.dirty&16777216&&e(8,b=No(l)),r.$$.dirty&16777218&&e(7,A=Bo(l,_))},[te,_,o,f,I,L,V,A,b,m,a,p,u,i,s,n,B,E,v,q,N,H,U,Z,l,R]}class Ln extends be{constructor(t){super(),ve(this,t,Un,Hn,Ie,{namespace:0})}}async function jn({activity:r,namespace:t,settings:e,accessToken:o},{convertWithCodec:n=Lo,decodeAttributes:l=jo,encoderEndpoint:s=Rt}={}){const i=Oo(e,s),f=Qo(e,Et),u={...e,codec:{...e==null?void 0:e.codec,endpoint:i,passAccessToken:f}},p=await n({attributes:r,namespace:t,settings:u,accessToken:o});return l(p)}const On=async({activity:r,namespace:t,settings:e,accessToken:o})=>await jn({activity:r,namespace:t,settings:e,accessToken:o}),Qn=async(r,t,e,o)=>{const n=(r==null?void 0:r.pendingActivities)??[],l=[];for(const s of n){const i=await On({activity:s,namespace:t,settings:e,accessToken:o});l.push(i)}return l};function Jn(r){let t,e,o;t=new Ln({props:{namespace:r[0].params.namespace}});const n=r[7].default,l=wt(n,r,r[6],null);return{c(){D(t.$$.fragment),e=j(),l&&l.c()},l(s){S(t.$$.fragment,s),e=O(s),l&&l.l(s)},m(s,i){P(t,s,i),y(s,e,i),l&&l.m(s,i),o=!0},p(s,i){const f={};i&1&&(f.namespace=s[0].params.namespace),t.$set(f),l&&l.p&&(!o||i&64)&&ht(l,n,s,s[6],o?kt(n,s[6],i,null):$t(s[6]),null)},i(s){o||(d(t.$$.fragment,s),d(l,s),o=!0)},o(s){h(t.$$.fragment,s),h(l,s),o=!1},d(s){W(t,s),s&&w(e),l&&l.d(s)}}}function Yn(r){let t,e;return t=new oo({}),{c(){D(t.$$.fragment)},l(o){S(t.$$.fragment,o)},m(o,n){P(t,o,n),e=!0},p:ue,i(o){e||(d(t.$$.fragment,o),e=!0)},o(o){h(t.$$.fragment,o),e=!1},d(o){W(t,o)}}}function zn(r){let t,e,o,n;const l=[Yn,Jn],s=[];function i(f,u){return f[1].workflow?1:0}return e=i(r),o=s[e]=l[e](r),{c(){t=Q("div"),o.c(),this.h()},l(f){t=J(f,"DIV",{class:!0});var u=Y(t);o.l(u),u.forEach(w),this.h()},h(){X(t,"class","flex h-full flex-col gap-6")},m(f,u){y(f,t,u),s[e].m(t,null),n=!0},p(f,[u]){let p=e;e=i(f),e===p?s[e].p(f,u):(pe(),h(s[p],1,1,()=>{s[p]=null}),de(),o=s[e],o?o.p(f,u):(o=s[e]=l[e](f),o.c()),d(o,1),o.m(t,null))},i(f){n||(d(o),n=!0)},o(f){h(o),n=!1},d(f){f&&w(t),s[e].d()}}}function Gn(r,t,e){let o,n,l,s,i,f,u,p,a,m;K(r,Pe,R=>e(8,s=R)),K(r,We,R=>e(1,i=R)),K(r,ze,R=>e(9,f=R)),K(r,Qe,R=>e(10,u=R)),K(r,qe,R=>e(0,p=R)),K(r,ge,R=>e(5,a=R)),K(r,Tt,R=>e(11,m=R));let{$$slots:_={},$$scope:b}=t;const A=async(R,T)=>{var M;if(!((M=R==null?void 0:R.mostRecentWorkerVersionStamp)===null||M===void 0)&&M.useVersioning)return await Do({queue:T,namespace:o})},I=async({namespace:R,workers:T,taskQueue:M})=>{if(!Ho(T.pollers))return;const B=Uo(T.pollers);return await So({namespace:R,buildIds:B,taskQueue:M})},L=async(R,T,M)=>{const{settings:V}=p.data,B=await vo({namespace:R,workflowId:T,runId:M}),{taskQueue:v}=B,q=await yo({queue:v,namespace:R}),N=await A(B,v),H=await I({namespace:R,workers:q,taskQueue:v});B.pendingActivities=await Qn(B,R,V,m==null?void 0:m.accessToken),le(We,i={workflow:B,workers:q,compatibility:N,reachability:H},i);const U=await Jo({namespace:R,workflowId:T,runId:M});le(Pe,s=U,s)};return dt(()=>{const R=p.url.searchParams.get("sort");R&&le(Qe,u=R,u)}),Me(()=>{le(ze,f=null,f),le(We,i=Co,i),le(Pe,s=io,s)}),r.$$set=R=>{"$$scope"in R&&e(6,b=R.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&e(4,{namespace:o,workflow:n,run:l}=p.params,o,(e(3,n),e(0,p)),(e(2,l),e(0,p))),r.$$.dirty&60&&L(o,n,l)},[p,i,l,n,o,a,b,_]}class Kn extends be{constructor(t){super(),ve(this,t,Gn,zn,Ie,{})}}const yt={namespace:null,workflowId:null,runId:null,rawPayloads:null,sort:null},Xn=vt(yt),Zn=()=>{Xn.set(yt)};function xn(r){let t;const e=r[0].default,o=wt(e,r,r[1],null);return{c(){o&&o.c()},l(n){o&&o.l(n)},m(n,l){o&&o.m(n,l),t=!0},p(n,l){o&&o.p&&(!t||l&2)&&ht(o,e,n,n[1],t?kt(e,n[1],l,null):$t(n[1]),null)},i(n){t||(d(o,n),t=!0)},o(n){h(o,n),t=!1},d(n){o&&o.d(n)}}}function er(r){let t,e;return t=new Kn({props:{$$slots:{default:[xn]},$$scope:{ctx:r}}}),{c(){D(t.$$.fragment)},l(o){S(t.$$.fragment,o)},m(o,n){P(t,o,n),e=!0},p(o,[n]){const l={};n&2&&(l.$$scope={dirty:n,ctx:o}),t.$set(l)},i(o){e||(d(t.$$.fragment,o),e=!0)},o(o){h(t.$$.fragment,o),e=!1},d(o){W(t,o)}}}function tr(r,t,e){let{$$slots:o={},$$scope:n}=t;return Me(()=>{Zn()}),r.$$set=l=>{"$$scope"in l&&e(1,n=l.$$scope)},[o,n]}class Qr extends be{constructor(t){super(),ve(this,t,tr,er,Ie,{})}}export{Qr as component};
